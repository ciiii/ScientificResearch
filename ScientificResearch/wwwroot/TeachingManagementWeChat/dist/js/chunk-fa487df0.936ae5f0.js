(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa487df0"],{"09b9":function(t,a,e){"use strict";e("2525"),e("ed71")},"4e64":function(t,a,e){},5541:function(t,a,e){},"9a08":function(t,a,e){"use strict";var n=e("40c3"),c=e("9481"),i=Object(n["a"])("step"),r=i[0],s=i[1];a["a"]=r({beforeCreate:function(){var t=this.$parent.steps,a=this.$parent.slots().indexOf(this.$vnode);t.splice(-1===a?t.length:a,0,this)},beforeDestroy:function(){var t=this.$parent.steps.indexOf(this);t>-1&&this.$parent.steps.splice(t,1)},computed:{status:function(){var t=this.$parent.steps.indexOf(this),a=this.$parent.active;return t<a?"finish":t===a?"process":void 0}},render:function(){var t,a=arguments[0],e=this.slots,n=this.status,i=this.$parent,r=i.activeIcon,l=i.activeColor,o=i.inactiveIcon,u=i.direction,d="process"===n&&{color:l};function b(){if("process"===n)return e("active-icon")||a(c["a"],{class:s("icon"),attrs:{name:r,color:l}});var t=e("inactive-icon");return o||t?t||a(c["a"],{class:s("icon"),attrs:{name:o}}):a("i",{class:s("circle")})}return a("div",{class:["van-hairline",s([u,(t={},t[n]=n,t)])]},[a("div",{class:s("title"),style:d},[this.slots()]),a("div",{class:s("circle-container")},[b()]),a("div",{class:s("line")})])}})},a276:function(t,a,e){"use strict";var n=e("b802"),c=e.n(n);c.a},a51b:function(t,a,e){"use strict";var n=e("5541"),c=e.n(n);c.a},b710:function(t,a,e){"use strict";var n=e("40c3"),c=e("febb"),i=Object(n["a"])("steps"),r=i[0],s=i[1];a["a"]=r({props:{inactiveIcon:String,active:{type:Number,default:0},direction:{type:String,default:"horizontal"},activeColor:{type:String,default:c["c"]},activeIcon:{type:String,default:"checked"}},data:function(){return{steps:[]}},render:function(){var t=arguments[0];return t("div",{class:s([this.direction])},[t("div",{class:s("items")},[this.slots()])])}})},b802:function(t,a,e){},c70c9:function(t,a,e){"use strict";e.r(a);var n,c,i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("navbar",{attrs:{path:t.path}}),e("div",{staticClass:"toolbar"},[e("van-steps",{attrs:{active:t.active}},[e("van-step",[e("span",{on:{click:function(a){return t.change(0)}}},[t._v("选择学员")])]),e("van-step",[e("span",{on:{click:function(a){return t.change(1)}}},[t._v("在科信息")])]),e("van-step",[e("span",{on:{click:function(a){return t.change(2)}}},[t._v("更换带教老师")])])],1)],1),e("div",{staticClass:"boxcontent"},[0==t.active?e("select-student",{attrs:{stateName:"在培",callback:t.selectStudentCallback},model:{value:t.student,callback:function(a){t.student=a},expression:"student"}}):t._e(),1==t.active?e("department-info",{attrs:{data:t.rotationData,callback:t.departmentinfoCallback}}):t._e(),2==t.active?e("save-info",{attrs:{data:t.rotationData,callback:t.saveSuccess}}):t._e()],1)],1)},r=[],s=(e("2338"),e("fb37"),e("f763"),e("a506")),l=(e("09b9"),e("b710")),o=(e("c954"),e("9a08")),u=e("9d8d"),d=e("591a"),b=e("fcdf"),f=e("fc90"),v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("van-cell-group",[e("van-field",{attrs:{label:"学员姓名:",readonly:""},model:{value:t.data.学员姓名,callback:function(a){t.$set(t.data,"学员姓名",a)},expression:"data.学员姓名"}}),e("van-field",{attrs:{label:"本院科室:",readonly:""},model:{value:t.data.本院科室名称,callback:function(a){t.$set(t.data,"本院科室名称",a)},expression:"data.本院科室名称"}}),e("van-field",{attrs:{"label-width":"80",label:"计划入科日期:",readonly:""},model:{value:t.data.计划入科日期,callback:function(a){t.$set(t.data,"计划入科日期",a)},expression:"data.计划入科日期"}}),e("van-field",{attrs:{"label-width":"80",label:"计划出科日期:",readonly:""},model:{value:t.data.计划出科日期,callback:function(a){t.$set(t.data,"计划出科日期",a)},expression:"data.计划出科日期"}}),e("van-field",{attrs:{label:"状态:",readonly:""},model:{value:t.data.状态,callback:function(a){t.$set(t.data,"状态",a)},expression:"data.状态"}}),e("van-field",{attrs:{label:"原带教老师:",readonly:""},model:{value:t.data.带教老师姓名,callback:function(a){t.$set(t.data,"带教老师姓名",a)},expression:"data.带教老师姓名"}}),t.loading?t._e():e("select-picker",{attrs:{required:!0,label:"带教老师:",data:t.list},model:{value:t.submitForm.teacherid,callback:function(a){t.$set(t.submitForm,"teacherid",a)},expression:"submitForm.teacherid"}})],1),e("van-submit-bar",{attrs:{"decimal-length":0,currency:"","button-text":"提交"},on:{submit:t.onSubmit}})],1)},m=[],p=(e("a1fd"),e("dfab3")),h=(e("05e8"),e("4117")),O=(e("b09f"),e("9254")),y=(e("061c"),e("e5bc")),j=(e("cc77"),e("4b2a")),g=e("d368"),k=e("2a7b"),$=e("e1d4"),S={components:(n={},Object(s["a"])(n,j["a"].name,j["a"]),Object(s["a"])(n,y["a"].name,y["a"]),Object(s["a"])(n,O["a"].name,O["a"]),Object(s["a"])(n,h["a"].name,h["a"]),Object(s["a"])(n,p["a"].name,p["a"]),Object(s["a"])(n,"SelectPicker",$["a"]),n),props:{data:{},callback:{type:Function,default:function(){}}},data:function(){return{loading:!0,submitForm:{id:0,turnid:"",teacherid:"",oldteacherid:"",creator:"",remark:""},list:[]}},mounted:function(){this.submitForm.turnid=this.data.编号,this.submitForm.oldteacherid=this.data.带教老师编号;var t=this;Object(g["b"])(this.data.本院科室编号).then(function(a){var e=a.data.data;e.forEach(function(a){a.带教老师编号!=t.data.带教老师编号&&t.list.push({value:a.带教老师编号,text:a.姓名})}),t.loading=!1})},methods:{onSubmit:function(){var t=this,a=this;if(""!=a.submitForm.turnid)if(""!=a.submitForm.teacherid){if(!a.submitForm.creator&&localStorage.getItem("personnel")){var e=JSON.parse(localStorage.getItem("personnel"));a.submitForm.creator=e.编号}Object(k["k"])(a.submitForm).then(function(e){e.error||(a.$toast.success("操作成功"),t.callback())})}else a.$toast("请选择带教老师");else a.$toast("轮转计划不存在")}}},x=S,w=e("6691"),_=Object(w["a"])(x,v,m,!1,null,null,null),F=_.exports;function D(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,n)}return e}function C(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?D(e,!0).forEach(function(a){Object(s["a"])(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):D(e).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}var M={components:(c={},Object(s["a"])(c,o["a"].name,o["a"]),Object(s["a"])(c,l["a"].name,l["a"]),Object(s["a"])(c,"SelectStudent",b["a"]),Object(s["a"])(c,"DepartmentInfo",f["a"]),Object(s["a"])(c,"SaveInfo",F),Object(s["a"])(c,"navbar",u["a"]),c),data:function(){return{title:"",path:"",active:0,loading:!1,student:[],rotationData:{}}},watch:{active:{handler:function(t,a){if(t>0&&0==this.student.length)this.$toast("请先选择需更换带教老师的学员!"),this.active=a;else if(t>0){var e="",n=null;this.student[0].轮转信息.forEach(function(t){null==n&&("在科"==t.状态?n=t:e="当前状态为:["+t.状态+"]不能更换带教老师")}),null==n?(this.$toast(e),this.active=a):(n.计划入科日期&&(n.计划入科日期=n.计划入科日期.format("yyyy-MM-dd")),n.计划出科日期&&(n.计划出科日期=n.计划出科日期.format("yyyy-MM-dd")),this.rotationData=Object.assign({},n))}}}},mounted:function(){this.title=this.$route.query.name,this.path="/training",this.setNavTitle({title:this.title})},methods:C({},Object(d["b"])(["setNavTitle"]),{saveSuccess:function(){this.student=[],this.active=0},selectStudentCallback:function(){this.active=1},departmentinfoCallback:function(){this.active=2},change:function(t){this.active=t}})},T=M,E=(e("a51b"),Object(w["a"])(T,i,r,!1,null,null,null));a["default"]=E.exports},c954:function(t,a,e){"use strict";e("2525"),e("f268"),e("4e64")},d368:function(t,a,e){"use strict";e.d(a,"a",function(){return c}),e.d(a,"b",function(){return i});var n=e("66df"),c=function(t){var a=t.index,e=t.size,c=t.studentType,i=t.name,r={Index:a,Size:e,OrderType:!1,"Like学员类型名称":c,"是否启用":"","Like姓名":i};return n["a"].request({url:"/TeachingManagement/Organization/分页获取教学学员",params:r,method:"GET"})},i=function(t){var a={"科室编号":t};return n["a"].request({url:"/TeachingManagement/Organization/获取某科室的教学带教老师",params:a,method:"GET"})}},ed71:function(t,a,e){},fc90:function(t,a,e){"use strict";var n,c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"contentbody"},[e("van-cell-group",[e("van-cell",{attrs:{title:"学员姓名",value:t.data.学员姓名}}),e("van-cell",{attrs:{title:"轮转科室",value:t.data.本院科室名称}}),e("van-cell",{attrs:{title:"计划入科日期",value:t.data.计划入科日期.ToDate().format("yyyy-MM-dd")}}),e("van-cell",{attrs:{title:"计划出科日期",value:t.data.计划出科日期.ToDate().format("yyyy-MM-dd")}}),e("van-cell",{attrs:{title:"技能病例数",value:t.data.技能病例数}}),e("van-cell",{attrs:{title:"最低管床数",value:t.data.最低管床数量}}),e("van-cell",{attrs:{title:"最低全程管理数量",value:t.data.最低全程管理数量}}),e("van-cell",{attrs:{title:"疾病病例数",value:t.data.疾病病例数}}),e("van-cell",{attrs:{title:"门诊病例数",value:t.data.门诊病例数}}),e("van-cell",{attrs:{title:"最大学员人数",value:t.data.最大学员人数}}),t.data.带教老师姓名?e("van-cell",{attrs:{title:"带教老师",value:t.data.带教老师姓名}}):t._e(),e("van-cell",{attrs:{title:"状态",value:t.data.状态}})],1),"function"==typeof t.callback?e("van-submit-bar",{attrs:{"decimal-length":0,currency:"","button-text":t.label},on:{submit:t.onSubmit}}):t._e()],1)])},i=[],r=e("a506"),s=(e("beee"),e("48e5")),l=(e("8ad4"),e("33c7")),o=(e("a1fd"),e("dfab3")),u=(e("4b4b"),e("8941")),d=(e("05e8"),e("4117")),b=(e("061c"),e("e5bc")),f=(e("342b"),e("45c4")),v=(e("cc77"),e("4b2a")),m=(e("dd19"),e("a950")),p={components:(n={},Object(r["a"])(n,m["a"].name,m["a"]),Object(r["a"])(n,v["a"].name,v["a"]),Object(r["a"])(n,f["a"].name,f["a"]),Object(r["a"])(n,b["a"].name,b["a"]),Object(r["a"])(n,d["a"].name,d["a"]),Object(r["a"])(n,u["a"].name,u["a"]),Object(r["a"])(n,o["a"].name,o["a"]),Object(r["a"])(n,l["a"].name,l["a"]),Object(r["a"])(n,s["a"].name,s["a"]),n),data:function(){return{}},props:{label:{type:String,default:"下一步"},data:{},callback:{type:Function,default:null}},methods:{onSubmit:function(){this.callback()}}},h=p,O=(e("a276"),e("6691")),y=Object(O["a"])(h,c,i,!1,null,null,null);a["a"]=y.exports}}]);