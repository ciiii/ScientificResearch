(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6da17c97"],{"09b9":function(t,e,a){"use strict";a("2525"),a("ed71")},"134d":function(t,e,a){},"2fd4":function(t,e,a){"use strict";var n=a("c939"),i=a.n(n);i.a},4004:function(t,e,a){"use strict";var n=a("134d"),i=a.n(n);i.a},"4e64":function(t,e,a){},9090:function(t,e,a){"use strict";function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t){return i="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},i(t)}a.d(e,"a",function(){return i})},"934b":function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contentbody"},t._l(t.list,function(e){return a("div",{key:e.编号,class:e.selected?"selectbox selected":"selectbox",on:{click:function(a){return t.selected(e)}}},[a("department-info",{attrs:{data:e}})],1)}),0),t.isselect?a("van-submit-bar",{attrs:{label:"当前选中:","suffix-label":"个",price:100*t.selecteds.length,"decimal-length":0,currency:"","button-text":t.label},on:{submit:t.onSubmit}},[t.multi?a("div",{staticClass:"selectItem",attrs:{slot:"tip"},slot:"tip"},t._l(t.selecteds,function(e){return a("van-tag",{key:e.编号,staticClass:"tag",attrs:{plain:""}},[t._v("\n        "+t._s(e.本院科室名称)+"\n        "),a("van-icon",{attrs:{name:"clear"},on:{click:function(a){return t.selected(e)}}})],1)}),1):t._e()]):t._e()],1)},s=[],c=(a("f763"),a("a506")),o=(a("beee"),a("48e5")),r=(a("8ad4"),a("33c7")),l=(a("a1fd"),a("dfab3")),u=(a("4b4b"),a("8941")),d=(a("05e8"),a("4117")),b=(a("061c"),a("e5bc")),f=(a("342b"),a("45c4")),v=(a("cc77"),a("4b2a")),m=(a("dd19"),a("a950")),p=a("fc90"),h={components:(n={},Object(c["a"])(n,m["a"].name,m["a"]),Object(c["a"])(n,v["a"].name,v["a"]),Object(c["a"])(n,f["a"].name,f["a"]),Object(c["a"])(n,b["a"].name,b["a"]),Object(c["a"])(n,d["a"].name,d["a"]),Object(c["a"])(n,u["a"].name,u["a"]),Object(c["a"])(n,l["a"].name,l["a"]),Object(c["a"])(n,r["a"].name,r["a"]),Object(c["a"])(n,o["a"].name,o["a"]),Object(c["a"])(n,"DepartmentInfo",p["a"]),n),data:function(){return{title:"",loading:!1,finished:!1,error:!1,list:[],selecteds:[]}},props:{give:{type:Array,default:null},data:{type:Array,default:null},multi:{type:Boolean,default:!1},label:{type:String,default:"下一步"},callback:{type:Function,default:function(){}},isselect:{type:Boolean,default:!0}},model:{prop:"give",event:"returnBack"},mounted:function(){this.give&&(this.selecteds=this.give),this.list=this.data},watch:{data:{handler:function(t){this.list=t},deep:!0}},methods:{onSubmit:function(){this.callback(this.selecteds)},selected:function(t){if(this.isselect){var e=this.selecteds.indexOf(t);e>-1?(t.selected=!1,this.selecteds.splice(e,1)):(this.multi||(this.selecteds=[],this.list.forEach(function(t){t.selected=!1})),t.selected=!0,this.selecteds.push(t)),this.$emit("returnBack",this.selecteds)}}}},y=h,O=(a("2fd4"),a("6691")),j=Object(O["a"])(y,i,s,!1,null,null,null);e["a"]=j.exports},"9a08":function(t,e,a){"use strict";var n=a("40c3"),i=a("9481"),s=Object(n["a"])("step"),c=s[0],o=s[1];e["a"]=c({beforeCreate:function(){var t=this.$parent.steps,e=this.$parent.slots().indexOf(this.$vnode);t.splice(-1===e?t.length:e,0,this)},beforeDestroy:function(){var t=this.$parent.steps.indexOf(this);t>-1&&this.$parent.steps.splice(t,1)},computed:{status:function(){var t=this.$parent.steps.indexOf(this),e=this.$parent.active;return t<e?"finish":t===e?"process":void 0}},render:function(){var t,e=arguments[0],a=this.slots,n=this.status,s=this.$parent,c=s.activeIcon,r=s.activeColor,l=s.inactiveIcon,u=s.direction,d="process"===n&&{color:r};function b(){if("process"===n)return a("active-icon")||e(i["a"],{class:o("icon"),attrs:{name:c,color:r}});var t=a("inactive-icon");return l||t?t||e(i["a"],{class:o("icon"),attrs:{name:l}}):e("i",{class:o("circle")})}return e("div",{class:["van-hairline",o([u,(t={},t[n]=n,t)])]},[e("div",{class:o("title"),style:d},[this.slots()]),e("div",{class:o("circle-container")},[b()]),e("div",{class:o("line")})])}})},a276:function(t,e,a){"use strict";var n=a("b802"),i=a.n(n);i.a},b710:function(t,e,a){"use strict";var n=a("40c3"),i=a("febb"),s=Object(n["a"])("steps"),c=s[0],o=s[1];e["a"]=c({props:{inactiveIcon:String,active:{type:Number,default:0},direction:{type:String,default:"horizontal"},activeColor:{type:String,default:i["c"]},activeIcon:{type:String,default:"checked"}},data:function(){return{steps:[]}},render:function(){var t=arguments[0];return t("div",{class:o([this.direction])},[t("div",{class:o("items")},[this.slots()])])}})},b802:function(t,e,a){},c939:function(t,e,a){},c954:function(t,e,a){"use strict";a("2525"),a("f268"),a("4e64")},d368:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s});var n=a("66df"),i=function(t){var e=t.index,a=t.size,i=t.studentType,s=t.name,c={Index:e,Size:a,OrderType:!1,"Like学员类型名称":i,"是否启用":"","Like姓名":s};return n["a"].request({url:"/TeachingManagement/Organization/分页获取教学学员",params:c,method:"GET"})},s=function(t){var e={"科室编号":t};return n["a"].request({url:"/TeachingManagement/Organization/获取某科室的教学带教老师",params:e,method:"GET"})}},d41e:function(t,e,a){"use strict";a.r(e);var n,i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("navbar",{attrs:{path:t.path}}),a("div",{staticClass:"toolbar"},[a("van-steps",{attrs:{active:t.active}},[a("van-step",[a("span",{on:{click:function(e){return t.change(0)}}},[t._v("选择学员")])]),a("van-step",[a("span",{on:{click:function(e){return t.change(1)}}},[t._v("选择轮转信息")])]),a("van-step",[a("span",{on:{click:function(e){return t.change(2)}}},[t._v("补轮转")])])],1)],1),a("div",{staticClass:"boxcontent"},[0==t.active?a("select-student",{attrs:{callback:t.selectStudentCallback},model:{value:t.student,callback:function(e){t.student=e},expression:"student"}}):t._e(),1==t.active?a("rotation-info",{attrs:{data:t.rotationList,callback:t.departmentinfoCallback},model:{value:t.rotationData,callback:function(e){t.rotationData=e},expression:"rotationData"}}):t._e(),2==t.active?a("save-info",{attrs:{data:t.selectRotatioData,callback:t.saveSuccess}}):t._e()],1)],1)},c=[],o=(a("2338"),a("f763"),a("fb37"),a("a506")),r=(a("09b9"),a("b710")),l=(a("c954"),a("9a08")),u=a("9d8d"),d=a("591a"),b=a("fcdf"),f=a("934b"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-cell-group",[a("van-field",{attrs:{label:"学员姓名:",readonly:""},model:{value:t.data.学员姓名,callback:function(e){t.$set(t.data,"学员姓名",e)},expression:"data.学员姓名"}}),a("van-field",{attrs:{label:"本院科室:",readonly:""},model:{value:t.data.本院科室名称,callback:function(e){t.$set(t.data,"本院科室名称",e)},expression:"data.本院科室名称"}}),a("van-field",{attrs:{"label-width":"90",label:"计划入科日期:",readonly:""},model:{value:t.data.计划入科日期,callback:function(e){t.$set(t.data,"计划入科日期",e)},expression:"data.计划入科日期"}}),a("van-field",{attrs:{"label-width":"90",label:"计划出科日期:",readonly:""},model:{value:t.data.计划出科日期,callback:function(e){t.$set(t.data,"计划出科日期",e)},expression:"data.计划出科日期"}}),a("van-field",{attrs:{label:"状态:",readonly:""},model:{value:t.data.状态,callback:function(e){t.$set(t.data,"状态",e)},expression:"data.状态"}}),a("van-field",{attrs:{label:"补轮转天数:",required:""},model:{value:t.submitForm.days,callback:function(e){t.$set(t.submitForm,"days",e)},expression:"submitForm.days"}}),a("van-field",{attrs:{label:"补轮转原因:",type:"textarea",autosize:""},model:{value:t.submitForm.remark,callback:function(e){t.$set(t.submitForm,"remark",e)},expression:"submitForm.remark"}})],1),a("van-submit-bar",{attrs:{"decimal-length":0,currency:"","button-text":"提交"},on:{submit:t.onSubmit}})],1)},m=[],p=a("9090"),h=(a("a1fd"),a("dfab3")),y=(a("05e8"),a("4117")),O=(a("b09f"),a("9254")),j=(a("061c"),a("e5bc")),g=(a("cc77"),a("4b2a")),k=a("d368"),$=a("2a7b"),S=a("e1d4"),x={components:(n={},Object(o["a"])(n,g["a"].name,g["a"]),Object(o["a"])(n,j["a"].name,j["a"]),Object(o["a"])(n,O["a"].name,O["a"]),Object(o["a"])(n,y["a"].name,y["a"]),Object(o["a"])(n,h["a"].name,h["a"]),Object(o["a"])(n,"SelectPicker",S["a"]),n),props:{data:{},callback:{type:Function,default:function(){}}},data:function(){return{loading:!0,submitForm:{id:"",days:"",remark:""},list:[]}},mounted:function(){this.submitForm.id=this.data.编号;var t=this;Object(k["b"])(this.data.本院科室编号).then(function(e){var a=e.data.data;a.forEach(function(e){t.list.push({value:e.带教老师编号,text:e.姓名})}),t.loading=!1})},vuerify:{"submitForm.id":[{test:/^\+?[1-9][0-9]*$/,message:"轮转计划不存在"}],"submitForm.days":[{test:/^\+?[1-9][0-9]*$/,message:"补轮转天数必须为整数"}]},methods:{onSubmit:function(){var t=this,e=this;if(this.$vuerify.check(["submitForm.id"]))if(this.$vuerify.check(["submitForm.days"]))Object($["m"])(e.submitForm).then(function(a){a.error||(e.$toast.success("操作成功"),t.callback())});else{var a=this.$vuerify.$errors["submitForm.days"],n="object"==Object(p["a"])(a)?a[0]:a;this.$toast({message:n,position:"top"})}else{var i=this.$vuerify.$errors["submitForm.id"],s="object"==Object(p["a"])(i)?i[0]:i;this.$toast({message:s,position:"top"})}}}},D=x,_=a("6691"),F=Object(_["a"])(D,v,m,!1,null,null,null),w=F.exports;function C(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?C(a,!0).forEach(function(e){Object(o["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var M={components:(i={},Object(o["a"])(i,l["a"].name,l["a"]),Object(o["a"])(i,r["a"].name,r["a"]),Object(o["a"])(i,"SelectStudent",b["a"]),Object(o["a"])(i,"RotationInfo",f["a"]),Object(o["a"])(i,"SaveInfo",w),Object(o["a"])(i,"navbar",u["a"]),i),data:function(){return{title:"",path:"",active:0,loading:!1,student:[],rotationData:[],selectRotatioData:{},rotationList:[]}},watch:{active:{handler:function(t,e){if(t>0&&0==this.student.length)this.$toast("请先选择入科学员!"),this.active=e;else if(1==t)this.rotationList=this.student[0].轮转信息;else if(2==t){if(1!=this.rotationData.length)return this.active=e,void this.$toast("请选择轮转信息!");if("已出科"==this.rotationData[0].状态)return this.active=e,void this.$toast("已出科不能补轮转!");this.selectRotatioData=this.rotationData[0],this.selectRotatioData.计划入科日期=this.selectRotatioData.计划入科日期.format("yyyy-MM-dd"),this.selectRotatioData.计划出科日期=this.selectRotatioData.计划出科日期.format("yyyy-MM-dd")}}}},mounted:function(){this.title=this.$route.query.name,this.path="/training/repairRotation"},methods:E({},Object(d["b"])(["setNavTitle"]),{saveSuccess:function(){this.$router.push("/training/repairRotation")},selectStudentCallback:function(){this.active=1},departmentinfoCallback:function(){this.active=2},change:function(t){this.active=t}})},R=M,I=(a("4004"),Object(_["a"])(R,s,c,!1,null,null,null));e["default"]=I.exports},ed71:function(t,e,a){},fc90:function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contentbody"},[a("van-cell-group",[a("van-cell",{attrs:{title:"学员姓名",value:t.data.学员姓名}}),a("van-cell",{attrs:{title:"轮转科室",value:t.data.本院科室名称}}),a("van-cell",{attrs:{title:"计划入科日期",value:t.data.计划入科日期.ToDate().format("yyyy-MM-dd")}}),a("van-cell",{attrs:{title:"计划出科日期",value:t.data.计划出科日期.ToDate().format("yyyy-MM-dd")}}),a("van-cell",{attrs:{title:"技能病例数",value:t.data.技能病例数}}),a("van-cell",{attrs:{title:"最低管床数",value:t.data.最低管床数量}}),a("van-cell",{attrs:{title:"最低全程管理数量",value:t.data.最低全程管理数量}}),a("van-cell",{attrs:{title:"疾病病例数",value:t.data.疾病病例数}}),a("van-cell",{attrs:{title:"门诊病例数",value:t.data.门诊病例数}}),a("van-cell",{attrs:{title:"最大学员人数",value:t.data.最大学员人数}}),t.data.带教老师姓名?a("van-cell",{attrs:{title:"带教老师",value:t.data.带教老师姓名}}):t._e(),a("van-cell",{attrs:{title:"状态",value:t.data.状态}})],1),"function"==typeof t.callback?a("van-submit-bar",{attrs:{"decimal-length":0,currency:"","button-text":t.label},on:{submit:t.onSubmit}}):t._e()],1)])},s=[],c=a("a506"),o=(a("beee"),a("48e5")),r=(a("8ad4"),a("33c7")),l=(a("a1fd"),a("dfab3")),u=(a("4b4b"),a("8941")),d=(a("05e8"),a("4117")),b=(a("061c"),a("e5bc")),f=(a("342b"),a("45c4")),v=(a("cc77"),a("4b2a")),m=(a("dd19"),a("a950")),p={components:(n={},Object(c["a"])(n,m["a"].name,m["a"]),Object(c["a"])(n,v["a"].name,v["a"]),Object(c["a"])(n,f["a"].name,f["a"]),Object(c["a"])(n,b["a"].name,b["a"]),Object(c["a"])(n,d["a"].name,d["a"]),Object(c["a"])(n,u["a"].name,u["a"]),Object(c["a"])(n,l["a"].name,l["a"]),Object(c["a"])(n,r["a"].name,r["a"]),Object(c["a"])(n,o["a"].name,o["a"]),n),data:function(){return{}},props:{label:{type:String,default:"下一步"},data:{},callback:{type:Function,default:null}},methods:{onSubmit:function(){this.callback()}}},h=p,y=(a("a276"),a("6691")),O=Object(y["a"])(h,i,s,!1,null,null,null);e["a"]=O.exports}}]);