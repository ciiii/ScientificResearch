(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29da09f7"],{"0cb1":function(t,e,i){"use strict";var s=i("6bcd"),n=i.n(s);n.a},1627:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLoad?i("div",[i("div",{staticClass:"screen-box"},[i("van-tabs",{on:{click:t.clickTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:"指南"}}),i("van-tab",{attrs:{title:"前沿"}})],1),i("van-dropdown-menu",[i("van-dropdown-item",{attrs:{options:t.tags},on:{change:t.changeTage},model:{value:t.req.Like标签,callback:function(e){t.$set(t.req,"Like标签",e)},expression:"req.Like标签"}})],1)],1),i("van-pull-refresh",{on:{refresh:t.onDownRefresh},model:{value:t.isDownLoading,callback:function(e){t.isDownLoading=e},expression:"isDownLoading"}},[i("van-list",{staticClass:"box list",attrs:{finished:t.finished,"offset:500":"","finished-text":"没有更多了","loading-text":"加载中..."},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("ul",{staticClass:"A_News "},t._l(t.list,function(e,s){return i("li",{key:s,on:{click:function(i){return t.newsDetails(e)}}},[i("p",{staticClass:"title"},[t._v(t._s(e.标题))]),i("p",{staticClass:"type"},[t._v("【新闻类型】"+t._s(e.新闻分类名称))]),i("p",{staticClass:"time"},[t._v("【发表时间】"+t._s(e.建立时间))]),i("p",{staticClass:"tags"},t._l(e.tags,function(e){return i("van-tag",{key:e,attrs:{plain:"",round:"",type:"primary"}},[t._v(t._s(e))])}),1)])}),0)])],1),i("ReturnBtn"),i("ReturnTop")],1):t._e()},n=[],a=(i("7bc1"),i("f763"),{inject:["reload"],data:function(){return{loading:!1,finished:!1,req:{Index:1,Size:10,"新闻分类编号":null,"Like标题":"","Like标签":""},total:0,isDownLoading:!1,isLoad:!1,list:[],type:null,types:[],tags:[],active:null}},created:function(){this.type=this.$route.query.type,this.type&&1!=this.type?(this.active=1,this.req.新闻分类编号=2):(this.active=0,this.req.新闻分类编号=1),this.getNewsTags(this.req.新闻分类编号),this.isLoad=!0},methods:{onSearch:function(){this.req.Index=1,this.finished=!1,this.loading=!0,this.backTop(),this.list=[],this.getList()},onLoad:function(){this.getList()},getNewsTags:function(t){var e=this,i={"新闻分类编号":t};this.$http.getNewsTags(i).then(function(t){t.data.length>0?(e.tags=[],e.tags.push({text:"全部标签",value:""}),t.data.forEach(function(t){var i={text:t.名称,value:t.名称};e.tags.push(i)})):(e.tags=[],e.tags.push({text:"全部标签",value:""}))})},getList:function(){var t=this;this.$http.getNewsList(this.req).then(function(e){t.total=e.data.total;var i=e.data.list;i&&i!=[]&&Array.isArray(i)?(t.req.Index++,i.length<t.req.Index&&(t.finished=!0),i.forEach(function(t){t.标签&&""!=t.标签&&(t.tags=t.标签.split(","))}),t.list=t.list.concat(i)):(t.finished=!0,t.list=[]),t.isDownLoading=!1,t.loading=!1})},clickTab:function(t,e){"指南"==e?this.req.新闻分类编号=1:(this.req.新闻分类编号=2,this.req.Like标签=""),this.getNewsTags(this.req.新闻分类编号),this.onSearch()},changeTage:function(){this.onSearch()},onDownRefresh:function(){this.reload()},newsDetails:function(t){this.$router.push({path:"/ZKNewsDetails",name:"ZKNewsDetails",params:{item:t}})},startTime:function(t){if(null!=t)return t.slice(0,10)},backTop:function(){document.documentElement.scrollTop=0,document.body.scrollTop=0}}}),o=a,c=(i("e6ef0"),i("0cb1"),i("6691")),l=Object(c["a"])(o,s,n,!1,null,"a3c2c034",null);e["default"]=l.exports},"6bcd":function(t,e,i){},9591:function(t,e,i){},e6ef0:function(t,e,i){"use strict";var s=i("9591"),n=i.n(s);n.a}}]);
//# sourceMappingURL=chunk-29da09f7.6725a550.js.map