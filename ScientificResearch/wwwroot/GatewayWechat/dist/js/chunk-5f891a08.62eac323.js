(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f891a08"],{1392:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("van-list",{staticClass:"box",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},[e("div",{staticClass:"title"},[e("i",{staticClass:"icon iconfont icon-shouquanicon"}),t._v("著作管理\n  ")]),t._l(t.lectureList,function(s,a){return e("div",{key:a,staticClass:"backContentBox"},[e("ul",{staticClass:"backContentTop",on:{click:function(e){t.goDetails(s.编号)}}},[e("li",[t._v(t._s(s.著作名称))]),e("li",[e("span",[t._v("出版社名称：")]),e("span",[t._v(t._s(s.出版社名称))])]),e("li",[e("span",[t._v("著作类型：")]),e("span",[t._v(t._s(s.著作类型))])]),e("li",[e("span",[t._v("主编：")]),e("span",[t._v(t._s(s.主编))])]),e("li",[e("span",[t._v("年度：")]),e("span",[t._v(t._s(s.年度))])]),e("li",[e("span",[t._v("当前步骤：")]),e("span",{attrs:{id:"contentSpan"}},[t._v(t._s(s.步骤名称)+" - "+t._s(s.步骤状态说明))])]),e("li",[e("span",[t._v("审核进度：")]),e("span",{style:{color:s.审核进度==t.flag?"#31BD5D":"#FF976A"}},[t._v(t._s(s.审核进度))])]),e("li",[e("span",[t._v("出版日期：")]),e("span",[t._v(t._s(t.startTime(s.著作出版日期)))])])]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"audit",on:{click:function(e){t.audit(s)}}},[t._v("审核")])])}),e("van-popup",{staticClass:"popup",model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[e("Audit",{attrs:{message:t.message},on:{getMessage:t.getMessage}})],1),e("ReturnBtn")],2)},i=[],n=(e("ac6a"),e("cadf"),e("551c"),e("097d"),e("19f8")),o={components:{Audit:n["a"]},data:function(){return{lectureList:[],index:1,size:5,loading:!1,finished:!1,flag:"已完成-审核通过",show:!1,isShow:!1,message:""}},mounted:function(){this.getPaper()},methods:{getMessage:function(){this.show=!1},getPaper:function(){var t=this;this.$http.getWorkAllList(this.index,this.size).then(function(s){console.log(s),t.lectureList=s.data.list,t.lectureList.forEach(function(s,e){"待审核"===s.步骤状态说明&&(t.isShow=!0)})})},goDetails:function(t){this.$router.push({path:"/workDetails",name:"workDetails",params:{item:t}})},audit:function(t){this.message=t,this.show=!0},goMeetingsList:function(){console.log("lt-ie9")},startTime:function(t){return null!=t?t.slice(0,10):void 0},onLoad:function(){var t=this;setTimeout(function(){for(var s=0;s<0;s++)t.lectureList.push(t.lectureList.length+1);t.loading=!1,t.lectureList.length>=0&&(t.finished=!0)},500)}}},c=o,l=(e("748b"),e("2877")),r=Object(l["a"])(c,a,i,!1,null,"bf0278aa",null);r.options.__file="workManagement.vue";s["default"]=r.exports},"19f8":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("van-panel",{staticClass:"box",attrs:{title:"审核"}},[e("i",{staticClass:"icon iconfont icon-guanbi",on:{click:t.back}}),e("van-cell-group",[e("van-field",{attrs:{label:"审核说明：",type:"textarea",placeholder:"请输入审核说明···",rows:"5",autosize:t.maxHeight},model:{value:t.value,callback:function(s){t.value=s},expression:"value"}}),e("div",{staticClass:"btn"},[e("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.pass}},[t._v("通过")]),e("van-button",{attrs:{type:"warning",size:"small"},on:{click:t.fail}},[t._v("不通过")]),e("van-button",{attrs:{type:"danger",size:"small"},on:{click:t.termination}},[t._v("终止")])],1)],1)],1)},i=[],n=(e("cadf"),e("551c"),e("097d"),{props:["message"],data:function(){return{value:"",maxHeight:{maxHeight:90},state:{pass:1,fail:-1,termination:-2}}},mounted:function(){},methods:{back:function(){this.$emit("getMessage"),this.value=""},refresh:function(){console.log("刷新待办列表!"),this.$emit("getBacklog")},pass:function(){var t=this;console.log(this.message,"通过");var s={"步骤编号":this.message.步骤编号,"状态值":this.state.pass,"备注":this.value};this.$http.auditStep(s).then(function(s){console.log(s,"1111111111111122222222"),s.error?t.$toast({duration:1500,message:s.error}):(t.$toast.success({duration:1500,message:"操作成功！"}),t.refresh())}),this.back()},fail:function(){var t=this,s={"步骤编号":this.message.步骤编号,"状态值":this.state.fail,"备注":this.value};this.$http.auditStep(s).then(function(s){s.error?t.$toast({duration:1500,message:s.error}):(t.$toast.success({duration:1500,message:"操作成功！"}),t.refresh())}),this.back()},termination:function(){var t=this,s={"步骤编号":this.message.步骤编号,"状态值":this.state.termination,"备注":this.value};this.$http.auditStep(s).then(function(s){s.error?t.$toast({duration:1500,message:s.error}):(t.$toast.success({duration:1500,message:"操作成功！"}),t.refresh())}),this.back()}}}),o=n,c=(e("6c48"),e("2877")),l=Object(c["a"])(o,a,i,!1,null,"23371ecb",null);l.options.__file="audit.vue";s["a"]=l.exports},"6c48":function(t,s,e){"use strict";var a=e("ce25"),i=e.n(a);i.a},"748b":function(t,s,e){"use strict";var a=e("a87a"),i=e.n(a);i.a},a87a:function(t,s,e){},ce25:function(t,s,e){}}]);