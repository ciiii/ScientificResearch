(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51ec4899"],{"031e":function(t,e,n){t.exports=n.p+"img/banner-3.e79fab7e.jpg"},2055:function(t,e,n){"use strict";var i=n("4330"),s=n.n(i);s.a},4330:function(t,e,n){},"45d5":function(t,e,n){t.exports=n.p+"img/banner-1.41b96715.jpg"},"4d94":function(t,e,n){"use strict";var i=n("a56e"),s=n.n(i);s.a},6721:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer_nav"},[n("van-tabbar",{attrs:{"active-color":"#1296db"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[t._v("首页")]),n("van-tabbar-item",{attrs:{icon:"hot-o"},on:{click:t.clickKYNews}},[t._v("服务")]),n("van-tabbar-item",{attrs:{icon:"service-o"},on:{click:function(e){t.clickZKNews(1)}}},[t._v("指南")]),n("van-tabbar-item",{attrs:{icon:"volume-o"},on:{click:function(e){t.clickZKNews(2)}}},[t._v("前沿")]),n("van-tabbar-item",{attrs:{icon:"user-o",to:"/homePersonal"}},[t._v("我的")])],1),n("div",{staticClass:"empty"})],1)},s=[],o=(n("cadf"),n("551c"),n("097d"),{data:function(){return{footerlist:[],active:0}},methods:{clickKYNews:function(){this.$router.push({name:"KYMoreList"})},clickZKNews:function(t){this.$router.push({path:"/ZKMoreList",query:{type:t}})}}}),a=o,r=(n("2055"),n("2877")),c=Object(r["a"])(a,i,s,!1,null,"89b199e0",null);c.options.__file="homeFooter.vue";e["a"]=c.exports},"830e":function(t,e,n){"use strict";var i=n("bf53"),s=n.n(i);s.a},"90cf":function(t,e,n){"use strict";var i=n("df99"),s=n.n(i);s.a},a21f:function(t,e,n){var i=n("584a"),s=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},a56e:function(t,e,n){},af47:function(t,e,n){t.exports=n.p+"img/banner-2.88a8e198.jpg"},b263:function(t,e,n){t.exports=n.p+"img/logo.af96feb7.png"},bb51:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav"},[null!=this.Logo?n("img",{attrs:{src:t.url+this.Logo}}):n("img",{attrs:{src:this.defaultImg}})]),n("van-pull-refresh",{on:{refresh:t.onDownRefresh},model:{value:t.isDownLoading,callback:function(e){t.isDownLoading=e},expression:"isDownLoading"}},[n("div",{staticClass:"section"},[n("swipe"),n("div",{staticClass:"listBox"},[n("iocnList",{on:{getKYNews:t.getKYNews,getPersonnel:t.getPersonnel}})],1),n("div",{staticClass:"A_News_box News_box"},[n("div",{staticClass:"newsTitle"},[n("h3",[t._v("总库新闻")]),n("span",{on:{click:t.ZKMore}},[t._v("更多"),n("i",{staticClass:"icon iconfont icon-you"})])]),t._l(t.list,function(e,i){return n("ul",{key:i,staticClass:"A_News",on:{click:function(n){t.ZKNewsDetails(e)}}},[n("li",{staticClass:"time"},[t._v(t._s(e.建立时间))]),n("li",{staticClass:"title"},[n("i",{staticClass:"icon iconfont icon-tongzhi"}),n("p",[t._v(t._s(e.标题))])])])})],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"A_News_box News_box"},[n("div",{staticClass:"newsTitle"},[n("h3",[t._v("科研新闻")]),n("span",{on:{click:t.KYmore}},[t._v("更多"),n("i",{staticClass:"icon iconfont icon-you"})])]),t._l(t.KYList,function(e,i){return n("ul",{key:i,staticClass:"A_News",on:{click:function(n){t.KYNewsDetails(e.编号)}}},[n("li",{staticClass:"time"},[t._v("\n                        "+t._s(t.startTime(e.建立时间))+"\n                        "),n("p",[t._v("("+t._s(e.通知类型)+")")])]),n("li",{staticClass:"title"},[n("i",{staticClass:"icon iconfont icon-tongzhi"}),n("p",[t._v(t._s(e.通知名称))])])])})],2)],1)]),n("HomeFooter")],1)},s=[],o=n("f499"),a=n.n(o),r=(n("96cf"),n("3b8d")),c=(n("cadf"),n("551c"),n("097d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swipe"},[i("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},[i("van-swipe-item",[i("img",{attrs:{src:n("45d5"),alt:""}})]),i("van-swipe-item",[i("img",{attrs:{src:n("af47"),alt:""}})]),i("van-swipe-item",[i("img",{attrs:{src:n("031e"),alt:""}})])],1)],1)}),l=[],u={data:function(){return{}}},f=u,p=(n("830e"),n("2877")),h=Object(p["a"])(f,c,l,!1,null,"93ff70c4",null);h.options.__file="swipe.vue";var m=h.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",t._l(t.iocnList,function(e,i){return n("li",{key:i},[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){t.path(e)}}},[n("img",{attrs:{src:t.url+e.Logo}}),n("p",[t._v(t._s(e.名称))])])])}),0)])},v=[],d=(n("3b2b"),n("a481"),{data:function(){return{iocnList:[],url:""}},mounted:function(){this.login()},methods:{getUrlKey:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},login:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,i,s,o,r,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("personnel")),n=this.$route.params.item,void 0!=n){t.next=24;break}if(e){t.next=15;break}return i=this.getUrlKey("code"),t.next=7,this.$http.LoginWithOpenId(i);case 7:return s=t.sent,void 0!=s&&(localStorage.personnel=a()(s.data.人员),localStorage.token="".concat(s.data.token_type," ").concat(s.data.access_token),this.$emit("getPersonnel"),this.$emit("getKYNews")),t.next=11,this.$http.getServiceList({"医院名称":s?s.data.人员.DbKey:""});case 11:o=t.sent,this.iocnList=o.data,t.next=22;break;case 15:return r={"医院名称":e.DbKey},t.next=18,this.$http.getServiceList(r);case 18:c=t.sent,this.iocnList=c.data,this.$emit("getPersonnel"),this.$emit("getKYNews");case 22:t.next=28;break;case 24:return t.next=26,this.$http.getServiceList({"医院名称":""});case 26:l=t.sent,this.iocnList=l.data;case 28:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),path:function(t){t.手机链接地址&&0==t.手机链接地址.indexOf("http")?t.手机链接地址.indexOf("aiyisheng.com/Login")>-1?this.logoinServe(t.手机链接地址):window.location=t.手机链接地址:null===t.手机链接地址?this.$toast({duration:2e3,message:"你还没有权限，请先联系医院管理员!"}):this.$router.push({path:t.手机链接地址,query:{accountId:t.编号}})},logoinServe:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n={loginType:"UPTODATE/"},t.next=3,this.$myHttp.myPostServe(e,n);case 3:i=t.sent,window.location=i.url;case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}}),w=d,b=(n("90cf"),Object(p["a"])(w,g,v,!1,null,"fcb5ab24",null));b.options.__file="iocnList.vue";var _=b.exports,x=n("6721"),L={name:"home",inject:["reload"],components:{swipe:m,iocnList:_,HomeFooter:x["a"]},data:function(){return{isDownLoading:!1,list:[],index:1,size:3,total:0,KYList:[],isShow:!1,personnel:null,url:"",Logo:null,HospitalInformation:JSON.parse(localStorage.getItem("HospitalInformation")),defaultImg:n("b263")}},created:function(){localStorage.HospitalInformation&&(this.Logo=this.HospitalInformation.Logo)},mounted:function(){this.getPrimaryNews()},methods:{getLogo:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.info(5655),n={k:e.DbKey},t.next=4,this.$http.getHospitalInformation(n);case 4:i=t.sent,this.Logo=i.data.Logo,localStorage.HospitalInformation=a()(i.data);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getPersonnel:function(){this.personnel=JSON.parse(localStorage.getItem("personnel")),localStorage.HospitalInformation||this.getLogo(this.personnel)},getPrimaryNews:function(){var t=this,e={index:this.index,size:this.size};this.$http.getNewsList(e).then(function(e){t.list=e.data.list,t.total=e.data.total})},getKYNews:function(){var t=this,e=JSON.parse(localStorage.getItem("personnel")),n={"人员编号":e.编号,index:this.index,size:this.size};this.$http.getToViewNewsList(n).then(function(e){t.KYList=e.data.list,0!=e.data.list.length&&(t.isShow=!0)})},ZKNewsDetails:function(t){this.$router.push({path:"/ZKNewsDetails",name:"ZKNewsDetails",params:{item:t}})},ZKMore:function(){this.$router.push("/ZKMoreList")},KYNewsDetails:function(t){this.$router.push({path:"/KYNewsDetails",name:"KYNewsDetails",params:{item:t}})},KYmore:function(){this.$router.push("/KYMoreList")},onDownRefresh:function(){var t=this;setTimeout(function(){t.reload(),t.isLoading=!1},500)},startTime:function(t){if(null!=t)return t.slice(0,10)}}},N=L,K=(n("4d94"),Object(p["a"])(N,i,s,!1,null,"670b1e0a",null));K.options.__file="Home.vue";e["default"]=K.exports},bf53:function(t,e,n){},df99:function(t,e,n){},f499:function(t,e,n){t.exports=n("a21f")}}]);
//# sourceMappingURL=chunk-51ec4899.8444fa7e.js.map