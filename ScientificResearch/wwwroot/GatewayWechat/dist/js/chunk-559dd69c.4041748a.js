(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-559dd69c"],{"531c":function(t,n,o){"use strict";var e=o("c581"),i=o.n(e);i.a},"6ce6":function(t,n,o){"use strict";function e(t,n){var o;n=n||200;return function(){var e=this,i=arguments;o&&clearTimeout(o),o=setTimeout(function(){o=null,t.apply(e,i)},n)}}o.d(n,"a",function(){return e})},"9d64":function(t,n,o){t.exports=o.p+"img/logo.f2242cca.png"},a21f:function(t,n,o){var e=o("584a"),i=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},c581:function(t,n,o){},dd7b:function(t,n,o){"use strict";o.r(n);var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"box"},[e("img",{staticClass:"img",attrs:{src:o("9d64"),alt:"logo图片"}}),e("form",{attrs:{action:"/",onsubmit:"return false"}},[e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.DbKey,expression:"DbKey"}],attrs:{type:"text",placeholder:"医院"},domProps:{value:t.DbKey},on:{click:t.hospital,input:function(n){n.target.composing||(t.DbKey=n.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.工号,expression:"工号"}],attrs:{type:"text",placeholder:"工号",maxlength:t.max,minlength:t.min,prop:"工号"},domProps:{value:t.工号},on:{input:function(n){n.target.composing||(t.工号=n.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.密码,expression:"密码"}],attrs:{type:"password",placeholder:"密码",maxlength:t.max,minlength:t.min,prop:"密码"},domProps:{value:t.密码},on:{input:function(n){n.target.composing||(t.密码=n.target.value)}}})]),e("div",{staticClass:"btn",on:{click:t.bind}},[e("span",[t._v("登 录")])])]),e("van-popup",{attrs:{position:"bottom",overlay:"","close-on-click-overlay":""},model:{value:t.show,callback:function(n){t.show=n},expression:"show"}},[e("van-picker",{attrs:{"show-toolbar":"",title:"医院列表",columns:t.columns},on:{cancel:t.onCancel,confirm:t.onConfirm}})],1)],1)},i=[],a=o("f499"),c=o.n(a),s=(o("3b2b"),o("a481"),o("cadf"),o("551c"),o("097d"),o("6ce6")),l={name:"login",data:function(){return{max:20,min:3,code:null,"工号":null,"密码":null,DbKey:null,columns:[],show:!1}},created:function(){document.title="登录",this.code=this.getUrlKey("code"),this.code||this.getCodeApi("123")},mounted:function(){},methods:{getUrlKey:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},getCodeApi:function(t){var n=encodeURIComponent(window.location.href),o="snsapi_base",e="wx5e45aca8fcb270f1",i="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(e,"&redirect_uri=").concat(n,"&response_type=code&scope=").concat(o,"&state=").concat(t,"#wechat_redirect");window.location.replace(i)},bind:Object(s["a"])(function(){var t=this;null!=this.工号&&null!=this.密码?this.工号.length<4?this.$notify("工号长度不能少于【4】位"):null!=this.密码?this.密码.length<3?this.$notify("密码长度不能少于【3】位"):this.code?this.$http.BindOpenId(this.code,this.工号,this.密码,this.DbKey).then(function(n){console.log(n,"res000"),n.data?(console.log(n.data,"data...."),localStorage.personnel=c()(n.data.人员),localStorage.token="".concat(n.data.token_type," ").concat(n.data.access_token),console.log(localStorage.token,"localStorage.token``````````"),t.$router.push("/")):t.$notify(n.error)}):this.$notify("登录失败，请绑定！"):this.$notify("密码长度不能少于【3】位"):this.$notify("工号 密码 不能为空！")},500),hospital:function(){var t=this;this.$http.getHospitalList().then(function(n){t.columns=n.data,t.show=!0}).catch(function(t){console.log(t)})},onConfirm:function(t,n){this.DbKey=t,this.show=!1},onCancel:function(){this.show=!1}}},r=l,u=(o("531c"),o("2877")),p=Object(u["a"])(r,e,i,!1,null,"0c810f80",null);p.options.__file="login.vue";n["default"]=p.exports},f499:function(t,n,o){t.exports=o("a21f")}}]);