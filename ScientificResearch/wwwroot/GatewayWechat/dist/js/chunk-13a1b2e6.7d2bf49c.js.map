{"version":3,"sources":["webpack:///./src/views/login.vue?2750","webpack:///./src/assets/js/common/debounce.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./src/assets/images/iocn/logo.png","webpack:///./src/views/login.vue?a515","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2e0e","webpack:///./src/views/login.vue","webpack:///./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_7bcc9e36_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_7bcc9e36_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_debounce","fn","delay","timer","th","this","args","arguments","clearTimeout","setTimeout","apply","d","__webpack_exports__","core","$JSON","JSON","stringify","module","exports","it","p","render","_vm","_h","$createElement","_c","_self","staticClass","Logo","attrs","src","url","defaultImg","action","onsubmit","directives","name","rawName","value","expression","type","placeholder","maxlength","max","minlength","min","prop","domProps","on","input","$event","target","composing","工号","密码","click","bind","_v","staticRenderFns","loginvue_type_script_lang_js_","data","DbKey","HospitalInformationL","created","getUrlKey","getLogo","methods","decodeURIComponent","RegExp","exec","location","href","replace","_getLogo","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","para","res","wrap","_context","prev","next","k","$http","getHospitalInformation","sent","HospitalInformation","stop","debounce","_this","length","$notify","code","BindOpenId","then","error","localStorage","personnel","stringify_default","人员","token","concat","token_type","access_token","$router","push","flag","views_loginvue_type_script_lang_js_","component","componentNormalizer","options","__file"],"mappings":"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","file":"js/chunk-13a1b2e6.7d2bf49c.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7bcc9e36&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7bcc9e36&scoped=true&lang=css&\"","/**\r\n * 函数防抖 (只执行最后一次点击)\r\n * @param fn\r\n * @param delay\r\n * @returns {Function}\r\n * @constructor\r\n */\r\nexport function _debounce(fn, delay) {\r\n    var delay = delay || 200;\r\n    var timer;\r\n    return function() {\r\n        var th = this;\r\n        var args = arguments;\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        timer = setTimeout(function() {\r\n            timer = null;\r\n            fn.apply(th, args);\r\n        }, delay);\r\n    };\r\n}","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","module.exports = __webpack_public_path__ + \"img/logo.af96feb7.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"box\"},[_c('div',{staticClass:\"nav\"},[(this.Logo!=null)?_c('img',{attrs:{\"src\":_vm.url+this.Logo}}):_c('img',{attrs:{\"src\":this.defaultImg}})]),_c('form',{attrs:{\"action\":\"/\",\"onsubmit\":\"return false\"}},[_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.工号),expression:\"工号\"}],attrs:{\"type\":\"text\",\"placeholder\":\"工号\",\"maxlength\":_vm.max,\"minlength\":_vm.min,\"prop\":\"工号\"},domProps:{\"value\":(_vm.工号)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.工号=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.密码),expression:\"密码\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\",\"maxlength\":_vm.max,\"minlength\":_vm.min,\"prop\":\"密码\"},domProps:{\"value\":(_vm.密码)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.密码=$event.target.value}}})]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.bind}},[_c('span',[_vm._v(\"登 录\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"box\">\r\n    <div class=\"nav\">\r\n      <!-- <img src=\"@/assets/images/iocn/logo.png\" alt=\"logo图片\" class=\"img\"> -->\r\n      <!-- <img :src=\"this.Logo || this.defaultImg\" class=\"img\"> -->\r\n      <img v-if=\"this.Logo!=null\" :src=\"url+this.Logo\">\r\n      <img v-else :src=\"this.defaultImg\">\r\n    </div>\r\n    <form action=\"/\" onsubmit=\"return false\">\r\n      <div class=\"input\">\r\n        <!-- <input type=\"text\" placeholder=\"医院\" v-model=\"DbKey\" @click=\"hospital\" readonly> -->\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"工号\"\r\n          v-model=\"工号\"\r\n          :maxlength=\"max\"\r\n          :minlength=\"min\"\r\n          prop=\"工号\"\r\n        >\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"密码\"\r\n          v-model=\"密码\"\r\n          :maxlength=\"max\"\r\n          :minlength=\"min\"\r\n          prop=\"密码\"\r\n        >\r\n      </div>\r\n      <div class=\"btn\" @click=\"bind\">\r\n        <span>登 录</span>\r\n      </div>\r\n    </form>\r\n    <!-- <van-popup v-model=\"show\" position=\"bottom\" overlay close-on-click-overlay>\r\n      <van-picker\r\n        show-toolbar\r\n        title=\"医院列表\"\r\n        :columns=\"columns\"\r\n        @cancel=\"onCancel\"\r\n        @confirm=\"onConfirm\"\r\n      />\r\n    </van-popup>-->\r\n  </section>\r\n</template>\r\n<script>\r\nimport { _debounce } from \"@/assets/js/common/debounce.js\";\r\nexport default {\r\n  name: \"login\",\r\n  data() {\r\n    return {\r\n      max: 20,\r\n      min: 3,\r\n      工号: null,\r\n      密码: null,\r\n      DbKey: null,\r\n      Logo: null,\r\n      url:\r\n        process.env.NODE_ENV === \"development\"\r\n          ? \"http://192.168.0.99:63739\"\r\n          : \"\",\r\n      HospitalInformationL: \"\",\r\n      defaultImg: require(\"@/assets/images/iocn/logo.png\")\r\n      // columns: [],\r\n      // show: false\r\n    };\r\n  },\r\n  created() {\r\n    this.DbKey = this.getUrlKey(\"name\");\r\n    this.getLogo();\r\n  },\r\n  methods: {\r\n    getUrlKey(name) {\r\n      //获取url 参数\r\n      return (\r\n        decodeURIComponent(\r\n          (new RegExp(\"[?|&]\" + name + \"=\" + \"([^&;]+?)(&|#|;|$)\").exec(\r\n            location.href\r\n          ) || [, \"\"])[1].replace(/\\+/g, \"%20\")\r\n        ) || null\r\n      );\r\n    },\r\n      getLogo:async function() {\r\n          let para = {\r\n            k: this.DbKey\r\n          };\r\n          let res = await this.$http.getHospitalInformation(para);\r\n          this.Logo = res.data.Logo;\r\n          this.HospitalInformation = res.data;\r\n    },\r\n    // 登录 防抖\r\n    bind: _debounce(function() {\r\n      if (this.工号 === null || this.密码 === null || this.DbKey === null) {\r\n        this.$notify(\"医院 工号 密码 不能为空！\");\r\n        return;\r\n      } else if (this.工号.length < 4) {\r\n        this.$notify(\"工号长度不能少于【4】位\");\r\n        return;\r\n      } else if (this.密码 == null) {\r\n        this.$notify(\"密码长度不能少于【3】位\");\r\n        return;\r\n      } else if (this.密码.length < 3) {\r\n        this.$notify(\"密码长度不能少于【3】位\");\r\n        return;\r\n      } else {\r\n        var code = this.getUrlKey(\"code\");\r\n        if (code) {\r\n          this.$http\r\n            .BindOpenId(code, this.工号, this.密码, this.DbKey)\r\n            .then(res => {\r\n              if (!res.error) {\r\n                // 登录成功 储存 token\r\n                localStorage.personnel = JSON.stringify(res.data.人员);\r\n                localStorage.token = `${res.data.token_type} ${\r\n                  res.data.access_token\r\n                }`;\r\n                this.$router.push(\"/\");\r\n                localStorage.HospitalInformation = JSON.stringify(\r\n                  this.HospitalInformation\r\n                );\r\n                localStorage.flag = false;\r\n              } else {\r\n                this.$notify(\"登录信息有误！\");\r\n              }\r\n            });\r\n        } else {\r\n          this.$notify(\"请授权后再登录！\");\r\n        }\r\n      }\r\n    }, 500)\r\n\r\n    // 显示医院列表\r\n    // hospital() {\r\n    //   this.show = true;\r\n    // },\r\n    // onConfirm(value, index) {\r\n    //   this.DbKey = value;\r\n    //   this.show = false;\r\n    // },\r\n    // onCancel() {\r\n    //   this.show = false;\r\n    // }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.box {\r\n  height: 100vh;\r\n  /* padding-bottom: 50px; */\r\n  background-color: #fff;\r\n}\r\n.nav img {\r\n  width: 250px;\r\n  height: 60px;\r\n  margin: 50px 0 20px 0;\r\n}\r\n\r\n.input > input {\r\n  display: block;\r\n  margin: 0 auto;\r\n  /* padding: 10px 5px; */\r\n  line-height: 2;\r\n  margin-top: 5px;\r\n  border: none;\r\n  border-bottom: 1px solid #57d4ce;\r\n  width: 250px;\r\n  outline-style: none;\r\n  font-size: 14px;\r\n}\r\n.btn {\r\n  margin: auto;\r\n  margin-top: 30px;\r\n  padding: 8px 5px;\r\n  border-radius: 20px;\r\n  background-color: #57d4ce;\r\n  color: #fff;\r\n  width: 260px;\r\n  font-size: 16px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=7bcc9e36&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=7bcc9e36&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bcc9e36\",\n  null\n  \n)\n\ncomponent.options.__file = \"login.vue\"\nexport default component.exports","module.exports = require(\"core-js/library/fn/json/stringify\");"],"sourceRoot":""}