(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af5fa138","chunk-4c8bfd74"],{"143f":function(t,e,n){},3374:function(t,e,n){"use strict";n.d(e,"a",function(){return s});n("3b2b"),n("a481");var i=n("a026");function s(t,e){var n,i=e||200;return function(){var e=this,s=arguments;n&&clearTimeout(n),n=setTimeout(function(){n=null,t.apply(e,s)},i)}}(function(t,e){var n=t.documentElement,i="orientationchange"in window?"orientationchange":"resize",s=function(){var t=n.clientWidth;t&&(n.style.fontSize=t/320*20+"px")};t.addEventListener&&(e.addEventListener(i,s,!1),t.addEventListener("DOMContentLoaded",s,!1))})(document,window),i["a"].filter("dataFormat",function(t,e){var n=new Date(t),i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var s in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?i[s]:("00"+i[s]).substr((""+i[s]).length)));return e})},"387e":function(t,e,n){"use strict";var i=n("9505"),s=n.n(i);s.a},"48d5":function(t,e,n){},"4a24":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"WF-list ZW-list"},[n("div",{staticClass:"screen-box"},[n("van-tabs",{on:{click:t.clickTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tab",{attrs:{title:"相关度"}}),n("van-tab",{attrs:{title:"发表时间"}}),n("van-tab",{attrs:{title:"被引次数"}}),n("van-tab",{attrs:{title:"下载次数"}})],1)],1),n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("div",{staticClass:"content"},[n("van-list",{staticClass:"list",attrs:{"offset:500":"",finished:t.finished,"finished-text":"没有更多了···","loading-text":"加载中..."},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("ul",t._l(t.list.listDatas,function(e){return n("li",{key:e.id,on:{click:function(n){t.clickTitle(e)}}},[n("p",{staticClass:"title"},[t._v(t._s(e.title))]),n("p",{staticClass:"author"},[t._v("【作者】"+t._s(e.authors))]),n("p",{staticClass:"author"},[t._v("【发表时间】"+t._s(e.publishDate))]),e.source?n("p",{staticClass:"source"},[t._v("【来源】"+t._s(e.source))]):t._e(),e.downCount?n("p",{staticClass:"author"},[t._v("【下载】"+t._s(e.downCount))]):t._e(),e.refCount?n("p",{staticClass:"author"},[t._v("【引用】"+t._s(e.refCount))]):t._e()])}),0)])],1)]),t.isShowDetails?n("van-popup",{staticClass:"details-popup",attrs:{position:"right",overlay:!1},model:{value:t.isShowDetails,callback:function(e){t.isShowDetails=e},expression:"isShowDetails"}},[n("zhiWangDetails",{ref:"wanFangDetails",attrs:{item:t.item}}),n("div",{staticClass:"back-btn-box"},[n("span",{on:{click:t.backtrack}},[n("i",{staticClass:"icon iconfont icon-fanhui"})])])],1):t._e(),t.isShowBtn?n("div",{staticClass:"back-btn-box"},[n("span",{on:{click:t.backTop}},[n("i",{staticClass:"icon iconfont icon-i-back-top"})]),n("span",{on:{click:function(e){t.$router.back(-1)}}},[n("i",{staticClass:"icon iconfont icon-fanhui"})])]):t._e()],1)},s=[],a=(n("96cf"),n("3b8d")),o=(n("cadf"),n("551c"),n("097d"),n("517f")),r=n("3374"),c=n("e23d"),l={name:"zhiWangList",components:{zhiWangDetails:c["default"]},data:function(){return{req:{},reqPanging:{pageUrl:"",accountId:""},reqScreen:{sortUrl:"",accountId:""},isScreen:!1,list:[],isLoading:!1,loading:!1,finished:!1,configs:{},active:0,IconShow:!1,sort:"",isShowDetails:!1,item:{},isShowBtn:!1,searchType:0}},mounted:function(){this.configs=JSON.parse(sessionStorage.getItem("ZWConfigs")),this.req=JSON.parse(sessionStorage.getItem("ZWSearch")),console.info(this.configs),this.reqPanging.accountId=this.req.accountId,this.reqScreen.accountId=this.req.accountId,window.addEventListener("scroll",this.scrollToTop)},methods:{onLoad:function(){switch(this.searchType){case 0:this.getList();break;case 1:this.getPangingList();break;case 2:this.getScreenList()}},clickTab:function(t,e){switch(console.info("title"),console.info(e),console.info(t),t){case 0:this.reqScreen.sortUrl=this.list.sortRelateUrl;break;case 1:this.reqScreen.sortUrl=this.list.sortPublicDateUrl;break;case 2:this.reqScreen.sortUrl=this.list.sortByUseTimesUrl;break;case 3:this.reqScreen.sortUrl=this.list.sortByDownTimesUrl;break}this.searchType=2,this.onSearch()},onSearch:Object(r["a"])(function(){this.getScreenList()},300),getList:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$myHttp.myGet(o["d"].GET_ARTICLE_LIST,this.req);case 2:e=t.sent,this.finished=!0,this.list=e,this.reqPanging.pageUrl=e.nextPageUrl,this.isLoading=!1,this.loading=!1;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getScreenList:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$myHttp.myGet(o["d"].GET_SCREEN_LIST,this.reqScreen);case 2:e=t.sent,this.finished=!0,this.list=e,this.reqPanging.pageUrl=e.nextPageUrl,this.isLoading=!1,this.loading=!1,this.isScreen=!1;case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getPangingList:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$myHttp.myGet(o["d"].GET_PANGING_LIST,this.reqPanging);case 2:e=t.sent,e&&e!=[]?(this.req.reqPanging.pageUrl=e.nextPageUrl,e.length<this.req.p&&(this.finished=!0)):this.finished=!0,this.list=this.list.concat(e),this.isLoading=!1,this.loading=!1;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onRefresh:function(){var t=this;setTimeout(function(){t.list=[],t.getList()},500)},onClickLeft:function(){this.$router.go(-1)},clickTitle:function(t){t.accountId=this.req.accountId,this.item=t,this.isShowDetails=!0},scrollToTop:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=window.outerHeight;this.isShowBtn=t>e},backTop:function(){document.documentElement.scrollTop=0,document.body.scrollTop=0},backtrack:function(){this.isShowDetails=!1}}},u=l,d=(n("c127"),n("387e"),n("2877")),h=Object(d["a"])(u,i,s,!1,null,"5f81595a",null);h.options.__file="zhiWangList.vue";e["default"]=h.exports},"8b84":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("795b"),s=n.n(i);function a(t,e){return new s.a(function(n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(){200==i.status&&n(i.response)},i.setRequestHeader("Content-Type","application/octet-stream"),i.setRequestHeader("Content-Disposition","attachment; filename="+e),i.send()})}function o(t,e){if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(t,e);else{var n=document.createElement("a"),i=document.querySelector("body");n.href=window.URL.createObjectURL(t),n.download=e,n.style.display="none",i.appendChild(n),n.click(),i.removeChild(n),window.URL.revokeObjectURL(n.href)}}function r(t,e){a(t,e).then(function(t){o(t,e)})}},9505:function(t,e,n){},a21f:function(t,e,n){var i=n("584a"),s=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},c127:function(t,e,n){"use strict";var i=n("48d5"),s=n.n(i);s.a},cda6:function(t,e,n){"use strict";var i=n("143f"),s=n.n(i);s.a},e23d:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"details"},[n("div",{staticClass:"header"},[n("h4",{staticClass:"title"},[n("van-icon",{attrs:{name:"fire"}}),t._v("\n            "+t._s(t.item.title)+"\n        ")],1),n("p",{staticClass:"time"},[t._v(t._s(t.item.publishDate))]),n("p",{staticClass:"name"},[t._v(t._s(t.details.authors))])]),n("div",{staticClass:"centent"},[n("p",[t._v(t._s(t.details.brief))])]),n("div",{staticClass:"content-footer"},[t.details.sourceCome?n("p",[t._v("【机构】："+t._s(t.details.sourceCome))]):t._e(),t.details.areaType?n("p",[t._v("【领域】："+t._s(t.details.areaType))]):t._e(),t.details.fund?n("p",[t._v("【基金】："+t._s(t.details.fund))]):t._e(),t.details.keyWord?n("p",{staticClass:"keyword"},[t._v("【关键词】："),t._l(t.details.keyWord,function(e){return n("span",{key:e},[t._v(t._s(e))])})],2):t._e(),t.isShowDown?n("div",{staticClass:"btn-box"},[n("a",{staticClass:"btn-preview",attrs:{href:t.downUrl}},[t._v("\n                预览PDF\n                "),n("van-icon",{attrs:{name:"icon iconfont icon-browse"}})],1),n("a",{staticClass:"btn-download",attrs:{href:t.downUrl,id:"btn-download",download:""}},[t._v("\n                下载PDF\n                "),n("van-icon",{attrs:{name:"icon iconfont icon-download"}})],1)]):t._e()])])},s=[],a=n("f499"),o=n.n(a),r=(n("28a5"),n("96cf"),n("3b8d")),c=(n("cadf"),n("551c"),n("097d"),n("517f")),l=n("8b84"),u={name:"zhiWangDetails",props:["item"],data:function(){return{req:{detailUrl:"",accountId:""},reqUrl:{url:"",fileName:"",accountId:""},details:{},isShowDown:!1,showPdf:!1,downUrl:"javascript:;"}},mounted:function(){this.req.detailUrl=this.item.detailUrl,this.req.accountId=this.item.accountId,this.reqUrl.accountId=this.item.accountId,this.reqUrl.fileName=this.item.fileName,this.getDetails()},methods:{getDetails:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$myHttp.myGet(c["d"].GET_ARTICLE_DETAILS,this.req);case 2:e=t.sent,this.reqUrl.url=e.pdfDownUrl,e.keyWord&&(e.keyWord=e.keyWord.slice(0,e.keyWord.length-1),e.keyWord=e.keyWord.split(";")),this.reqUrl.url&&""!=this.reqUrl.url?(this.isShowDown=!0,this.downUrl=c["a"]+c["e"]+"?fileName="+this.item.fileName+"&downUrl="+this.reqUrl.url+"&accountId="+this.item.accountId):this.isShowDown=!1,this.details=e;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),clickPreview:function(){sessionStorage.setItem("downUrl",o()(this.downUrl)),console.info("this.downUrl44444"),console.info(this.downUrl),window.open("../../assets/libs/pdf/web/viewer.html?file="+decodeURI(encodeURI(encodeURI(this.downUrl))))},clickDownload:function(){this.getWfDataDownUrl()},getWfDataDownUrl:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$myHttp.myGet(c["d"].GET_ARTICLE_DOWNURL,this.reqUrl);case 2:e=t.sent,e&&(n=c["a"]+c["e"]+e,Object(l["a"])(n,this.item.fileName));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},d=u,h=(n("cda6"),n("2877")),f=Object(h["a"])(d,i,s,!1,null,"458e990c",null);f.options.__file="zhiWangDetails.vue";e["default"]=f.exports},f499:function(t,e,n){t.exports=n("a21f")}}]);