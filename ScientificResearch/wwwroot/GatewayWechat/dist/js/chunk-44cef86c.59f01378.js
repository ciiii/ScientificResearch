(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44cef86c"],{"031e":function(t,e,n){t.exports=n.p+"img/banner-3.e79fab7e.jpg"},"05c0":function(t,e,n){},2055:function(t,e,n){"use strict";var i=n("5f35"),s=n.n(i);s.a},"2e3d":function(t,e,n){"use strict";var i=n("4d7c"),s=n.n(i);s.a},4192:function(t,e,n){},"45d5":function(t,e,n){t.exports=n.p+"img/banner-1.41b96715.jpg"},"4d7c":function(t,e,n){},"5f35":function(t,e,n){},6721:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer_nav"},[n("van-tabbar",{attrs:{"active-color":"#1296db"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[t._v("首页")]),n("van-tabbar-item",{attrs:{icon:"hot-o"},on:{click:t.clickKYNews}},[t._v("服务")]),n("van-tabbar-item",{attrs:{icon:"service-o"},on:{click:function(e){return t.clickZKNews(1)}}},[t._v("指南")]),n("van-tabbar-item",{attrs:{icon:"volume-o"},on:{click:function(e){return t.clickZKNews(2)}}},[t._v("前沿")]),n("van-tabbar-item",{attrs:{icon:"user-o",to:"/homePersonal"}},[t._v("我的")])],1),n("div",{staticClass:"empty"})],1)},s=[],o={data:function(){return{footerlist:[],active:0}},methods:{clickKYNews:function(){this.$router.push({name:"KYMoreList"})},clickZKNews:function(t){this.$router.push({path:"/ZKMoreList",query:{type:t}})}}},a=o,r=(n("2055"),n("6691")),c=Object(r["a"])(a,i,s,!1,null,"89b199e0",null);e["a"]=c.exports},"830e":function(t,e,n){"use strict";var i=n("4192"),s=n.n(i);s.a},"90cf":function(t,e,n){"use strict";var i=n("05c0"),s=n.n(i);s.a},af47:function(t,e,n){t.exports=n.p+"img/banner-2.88a8e198.jpg"},b263:function(t,e,n){t.exports=n.p+"img/logo.af96feb7.png"},bb51:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav"},[null!=this.Logo?n("img",{attrs:{src:t.url+this.Logo}}):n("img",{attrs:{src:this.defaultImg}}),t.personnel?n("span",{on:{click:t.toLogin}},[t._v("重新绑定")]):n("span",{on:{click:t.toLogin}},[t._v("绑 定")])]),n("van-pull-refresh",{on:{refresh:t.onDownRefresh},model:{value:t.isDownLoading,callback:function(e){t.isDownLoading=e},expression:"isDownLoading"}},[n("div",{staticClass:"section"},[n("swipe"),n("div",{staticClass:"listBox"},[n("iocnList",{on:{getKYNews:t.getKYNews,getPersonnel:t.getPersonnel}})],1),n("div",{staticClass:"A_News_box News_box"},[n("div",{staticClass:"newsTitle"},[n("h3",[t._v("总库新闻")]),n("span",{on:{click:t.ZKMore}},[t._v("\n            更多\n            "),n("i",{staticClass:"icon iconfont icon-you"})])]),t._l(t.list,function(e,i){return n("ul",{key:i,staticClass:"A_News",on:{click:function(n){return t.ZKNewsDetails(e)}}},[n("li",{staticClass:"time"},[t._v(t._s(e.建立时间))]),n("li",{staticClass:"title"},[n("i",{staticClass:"icon iconfont icon-tongzhi"}),n("p",[t._v(t._s(e.标题))])])])})],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"A_News_box News_box"},[n("div",{staticClass:"newsTitle"},[n("h3",[t._v("科研新闻")]),n("span",{on:{click:t.KYmore}},[t._v("\n            更多\n            "),n("i",{staticClass:"icon iconfont icon-you"})])]),t._l(t.KYList,function(e,i){return n("ul",{key:i,staticClass:"A_News",on:{click:function(n){return t.KYNewsDetails(e.编号)}}},[n("li",{staticClass:"time"},[t._v("\n            "+t._s(t.startTime(e.建立时间))+"\n            "),n("p",[t._v("("+t._s(e.通知类型)+")")])]),n("li",{staticClass:"title"},[n("i",{staticClass:"icon iconfont icon-tongzhi"}),n("p",[t._v(t._s(e.通知名称))])])])})],2)],1)]),n("HomeFooter")],1)},s=[],o=(n("63ff"),n("e71e")),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swipe"},[i("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},[i("van-swipe-item",[i("img",{attrs:{src:n("45d5"),alt:""}})]),i("van-swipe-item",[i("img",{attrs:{src:n("af47"),alt:""}})]),i("van-swipe-item",[i("img",{attrs:{src:n("031e"),alt:""}})])],1)],1)},r=[],c={data:function(){return{}}},l=c,u=(n("830e"),n("6691")),f=Object(u["a"])(l,a,r,!1,null,"93ff70c4",null),h=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",t._l(t.iocnList,function(e,i){return n("li",{key:i},[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){return t.path(e)}}},[n("img",{attrs:{src:t.url+e.Logo}}),n("p",[t._v(t._s(e.名称))])])])}),0)])},g=[],m=(n("7c56"),n("34a3"),{data:function(){return{iocnList:[],url:""}},mounted:function(){this.login()},methods:{getUrlKey:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},login:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,n,i,s,o,a,r,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("personnel")),n=this.$route.params.item,void 0!=n){t.next=24;break}if(e){t.next=15;break}return i=this.getUrlKey("code"),t.next=7,this.$http.LoginWithOpenId(i);case 7:return s=t.sent,void 0!=s&&(localStorage.personnel=JSON.stringify(s.data.人员),localStorage.token="".concat(s.data.token_type," ").concat(s.data.access_token),this.$emit("getPersonnel"),this.$emit("getKYNews")),t.next=11,this.$http.getServiceList({"医院名称":s?s.data.人员.DbKey:""});case 11:o=t.sent,this.iocnList=o.data,t.next=22;break;case 15:return a={"医院名称":e.DbKey},t.next=18,this.$http.getServiceList(a);case 18:r=t.sent,this.iocnList=r.data,this.$emit("getPersonnel"),this.$emit("getKYNews");case 22:t.next=28;break;case 24:return t.next=26,this.$http.getServiceList({"医院名称":""});case 26:c=t.sent,this.iocnList=c.data;case 28:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),path:function(t){t.手机链接地址&&0==t.手机链接地址.indexOf("http")?t.手机链接地址.indexOf("aiyisheng.com/Login")>-1?this.logoinServe(t.手机链接地址):window.location=t.手机链接地址:null===t.手机链接地址?this.$toast({duration:2e3,message:"你还没有权限，请先联系医院管理员!"}):this.$router.push({path:t.手机链接地址,query:{accountId:t.编号}})},logoinServe:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n={loginType:"UPTODATE/"},t.next=3,this.$myHttp.myPostServe(e,n);case 3:i=t.sent,window.location=i.url;case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}}),v=m,d=(n("90cf"),Object(u["a"])(v,p,g,!1,null,"fcb5ab24",null)),w=d.exports,b=n("6721"),_={name:"home",inject:["reload"],components:{swipe:h,iocnList:w,HomeFooter:b["a"]},data:function(){return{isDownLoading:!1,list:[],index:1,size:3,total:0,KYList:[],isShow:!1,personnel:null,url:"",Logo:null,HospitalInformation:JSON.parse(localStorage.getItem("HospitalInformation")),defaultImg:n("b263")}},created:function(){localStorage.HospitalInformation&&(this.Logo=this.HospitalInformation.Logo)},mounted:function(){this.getPrimaryNews()},methods:{toLogin:function(){console.log(localStorage.getItem("flag")),this.$router.push("/guidance"),localStorage.removeItem("flag"),console.log(localStorage.getItem("flag"))},getLogo:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.info(5655),n={k:e.DbKey},t.next=4,this.$http.getHospitalInformation(n);case 4:i=t.sent,this.Logo=i.data.Logo,localStorage.HospitalInformation=JSON.stringify(i.data);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getPersonnel:function(){this.personnel=JSON.parse(localStorage.getItem("personnel")),localStorage.HospitalInformation||this.getLogo(this.personnel)},getPrimaryNews:function(){var t=this,e={index:this.index,size:this.size};this.$http.getNewsList(e).then(function(e){t.list=e.data.list,t.total=e.data.total})},getKYNews:function(){var t=this,e=JSON.parse(localStorage.getItem("personnel")),n={"人员编号":e.编号,index:this.index,size:this.size};this.$http.getToViewNewsList(n).then(function(e){t.KYList=e.data.list,0!=e.data.list.length&&(t.isShow=!0)})},ZKNewsDetails:function(t){this.$router.push({path:"/ZKNewsDetails",name:"ZKNewsDetails",params:{item:t}})},ZKMore:function(){this.$router.push("/ZKMoreList")},KYNewsDetails:function(t){this.$router.push({path:"/KYNewsDetails",name:"KYNewsDetails",params:{item:t}})},KYmore:function(){this.$router.push("/KYMoreList")},onDownRefresh:function(){var t=this;setTimeout(function(){t.reload(),t.isLoading=!1},500)},startTime:function(t){if(null!=t)return t.slice(0,10)}}},L=_,x=(n("2e3d"),Object(u["a"])(L,i,s,!1,null,"38dd3f56",null));e["default"]=x.exports}}]);
//# sourceMappingURL=chunk-44cef86c.59f01378.js.map