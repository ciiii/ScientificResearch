(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c7f40cc"],{"0367":function(t,n,o){},"40ab":function(t,n,o){"use strict";var e=o("0367"),i=o.n(e);i.a},"6ce6":function(t,n,o){"use strict";function e(t,n){var o;n=n||200;return function(){var e=this,i=arguments;o&&clearTimeout(o),o=setTimeout(function(){o=null,t.apply(e,i)},n)}}o.d(n,"a",function(){return e})},a21f:function(t,n,o){var e=o("584a"),i=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},b263:function(t,n,o){t.exports=o.p+"img/logo.af96feb7.png"},dd7b:function(t,n,o){"use strict";o.r(n);var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"box"},[e("img",{staticClass:"img",attrs:{src:o("b263"),alt:"logo图片"}}),e("form",{attrs:{action:"/",onsubmit:"return false"}},[e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.DbKey,expression:"DbKey"}],attrs:{type:"text",placeholder:"医院",readonly:""},domProps:{value:t.DbKey},on:{click:t.hospital,input:function(n){n.target.composing||(t.DbKey=n.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.工号,expression:"工号"}],attrs:{type:"text",placeholder:"工号",maxlength:t.max,minlength:t.min,prop:"工号"},domProps:{value:t.工号},on:{input:function(n){n.target.composing||(t.工号=n.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.密码,expression:"密码"}],attrs:{type:"password",placeholder:"密码",maxlength:t.max,minlength:t.min,prop:"密码"},domProps:{value:t.密码},on:{input:function(n){n.target.composing||(t.密码=n.target.value)}}})]),e("div",{staticClass:"btn",on:{click:t.bind}},[e("span",[t._v("登 录")])])]),e("van-popup",{attrs:{position:"bottom",overlay:"","close-on-click-overlay":""},model:{value:t.show,callback:function(n){t.show=n},expression:"show"}},[e("van-picker",{attrs:{"show-toolbar":"",title:"医院列表",columns:t.columns},on:{cancel:t.onCancel,confirm:t.onConfirm}})],1)],1)},i=[],a=o("f499"),l=o.n(a),s=(o("3b2b"),o("a481"),o("6ce6")),c={name:"login",data:function(){return{max:20,min:3,"工号":null,"密码":null,DbKey:null,columns:[],show:!1}},mounted:function(){var t=this;this.$http.getHospitalList().then(function(n){t.columns=n.data}).catch(function(t){console.log(t)})},methods:{getUrlKey:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},bind:Object(s["a"])(function(){var t=this;if(null!=this.工号&&null!=this.密码)if(this.工号.length<4)this.$notify("工号长度不能少于【4】位");else if(null!=this.密码)if(this.密码.length<3)this.$notify("密码长度不能少于【3】位");else{var n=this.getUrlKey("code");console.log(n,"111111"),n?this.$http.BindOpenId(n,this.工号,this.密码,this.DbKey).then(function(n){console.log(n,"2323"),void 0!==n?(console.log(n,"33333333"),localStorage.personnel=l()(n.data.人员),localStorage.token="".concat(n.data.token_type," ").concat(n.data.access_token),console.log(localStorage.token,"localStorage.token``````````"),t.$router.push("/"),localStorage.flag=!1):(console.log("44444444"),t.$notify("登录信息错误！"))}):this.$notify("登录信息有误！")}else this.$notify("密码长度不能少于【3】位");else this.$notify("工号 密码 不能为空！")},500),hospital:function(){this.show=!0},onConfirm:function(t,n){this.DbKey=t,this.show=!1},onCancel:function(){this.show=!1}}},r=c,u=(o("40ab"),o("2877")),p=Object(u["a"])(r,e,i,!1,null,"73264402",null);p.options.__file="login.vue";n["default"]=p.exports},f499:function(t,n,o){t.exports=o("a21f")}}]);