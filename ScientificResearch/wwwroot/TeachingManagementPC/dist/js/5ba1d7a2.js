(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-eeb7"],{"/umX":function(t,e,r){"use strict";e.__esModule=!0;var a=function(t){return t&&t.__esModule?t:{default:t}}(r("9dlP"));e.default=function(t,e,r){return e in t?(0,a.default)(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},"8Jk3":function(t,e,r){},"9dlP":function(t,e,r){t.exports={default:r("n92x"),__esModule:!0}},L9qc:function(t,e,r){},NwxS:function(t,e,r){"use strict";var a=r("8Jk3");r.n(a).a},WPtd:function(t,e,r){"use strict";r.r(e);var a=r("/umX"),o=r.n(a),s=r("cLjf"),l=r.n(s),n=r("hDQ3"),i=r.n(n),m=r("YHGi"),c=r("K3Y6"),u=r("ktv3"),f={name:"UploadImg",props:["img","UploadType","postUrl"],data:function(){return{Authorization:{Authorization:localStorage.getItem("Authorization")},isImage:!0,http:m.a}},methods:{handleAvatarSuccess:function(t,e){this.$emit("myEvent",t.data[0])},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,r=t.size/1024/1024<2;return e||this.$message.error("上传图片只能是 JPG或PNG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&r}}},p=(r("zKsR"),r("ZrdR")),d=Object(p.a)(f,function(){var t=this.$createElement,e=this._self._c||t;return e("el-upload",{staticClass:"avatar-uploader",attrs:{action:this.postUrl,"show-file-list":!1,"on-success":this.handleAvatarSuccess,"before-upload":this.beforeAvatarUpload,headers:this.Authorization}},[this.img?e("img",{staticClass:"avatar",attrs:{src:this.http+this.img}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])},[],!1,null,null,null);d.options.__file="uploadImg.vue";var v={name:"addUser",components:{uploadImg:d.exports,selectDate:r("mB0Z").a},data:function(){return{rules:{"姓名":[{required:!0,message:"请输入姓名！",trigger:"blur"}],"工号":[{required:!0,message:"请输入工号！",trigger:"blur"}],"密码":[{required:!0,message:"请输入密码！",trigger:"blur"}],"学员类型编号":[{required:!0,message:"请选择学员类型！",trigger:"blur"}],"证件类型":[{required:!0,message:"请选择证件类型！",trigger:"blur"}],"证件号码":[{required:!0,message:"请输入证件号码！",trigger:"blur"}],"手机号码":[{required:!0,message:"请输入正确的手机号码！",trigger:"blur"},{validator:u.c}],"学员培训年界":[{required:!0,message:"请选择学员培训年界！",trigger:"blur"}],"学员培训年限":[{required:!0,message:"请输入学员培训年限！",trigger:"blur"}],"专业编号":[{required:!0,message:"请选择专业方向！",trigger:"blur"}],"送培方式":[{required:!0,message:"请选择送培方式！",trigger:"blur"}],"医疗卫生机构":[{required:!0,message:"请选择医疗卫生机构！",trigger:"blur"}]},nation:[],education:[],types:[],majors:[],modes:[],organs:[],form:{"编号":0,"学员类型编号":"","工号":"","密码":"","头像路径":"","姓名":"","性别":"","民族":"","证件类型":"","证件号码":"","出生日期":"","手机号码":"","政治面貌":"","电子邮箱":"","QQ号码":"","微信号":"","家庭住址":"","取得执业证书日期":"","执业证书编号":"","取得医师资格证书日期":"","医师资格证书编号":"","最高学历":"","毕业年份":"","毕业学校":"","毕业专业":"","毕业证编码":"","学位证编码":"","学员培训年界":"","学员培训年限":"","往届应届":"","专业编号":"","送培方式":"","工作单位":"","医疗卫生机构":"","建立时间":Object(c.h)(new Date,"yyyy-MM-dd"),"备注":""},title:"",isAdd:!1,start:!1,isLoad:!1,postUrl:Object(c.m)(m.a+m.i.POST_UPLOAD_STUDENT_IMG)}},mounted:function(){this.isAdd=this.$route.params.isAdd,this.isAdd?this.$route.meta.title="添加学员":(sessionStorage.getItem("item")&&(this.form=JSON.parse(sessionStorage.getItem("item"))),this.$route.meta.title="修改学员"),this.isLoad=!0,this.getNations(),this.getEducation(),this.getStudentType(),this.getMajors(),this.getMode(),this.getOrgans()},methods:o()({cancelHandler:function(){this.$emit("myEvent",!1)},getNations:function(){var t=i()(l.a.mark(function t(){var e,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={"分类":"民族"},t.next=3,this.$http.myGet(m.f.GET_TYPE_DICTIONARY,e);case 3:(r=t.sent)&&r.length>0&&(this.nation=r);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getEducation:function(){var t=i()(l.a.mark(function t(){var e,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={"分类":"学历"},t.next=3,this.$http.myGet(m.f.GET_TYPE_DICTIONARY,e);case 3:(r=t.sent)&&r.length>0&&(this.education=r.reverse());case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getMode:function(){var t=i()(l.a.mark(function t(){var e,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={"分类":"送培方式"},t.next=3,this.$http.myGet(m.f.GET_TYPE_DICTIONARY,e);case 3:(r=t.sent)&&r.length>0&&(this.modes=r);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getOrgans:function(){var t=i()(l.a.mark(function t(){var e,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={"分类":"医疗卫生机构类型"},t.next=3,this.$http.myGet(m.f.GET_TYPE_DICTIONARY,e);case 3:(r=t.sent)&&r.length>0&&(this.organs=r);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getStudentType:function(){var t=i()(l.a.mark(function t(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myGet(m.f.GET_STUDENT_TYPE,"");case 2:(e=t.sent)&&e.length>0?this.types=e:this.types=[];case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getMajors:function(){var t=i()(l.a.mark(function t(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myGet(m.k.GET_TRAINING_MAJOR_LIST,"");case 2:(e=t.sent)&&e.length>0?this.majors=e:this.majors=[];case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),confirmHandler:Object(c.a)(function(){var t=this;this.$refs.form.validate(function(e){if(!e)return t.$message.error("信息有误！"),!1;delete t.form.number,t.form.毕业年份=Number(t.form.毕业年份),t.form.学员培训年界=Number(t.form.学员培训年界),t.addOrEditStudent(t.form)})},300),addOrEditStudent:function(){var t=i()(l.a.mark(function t(e){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myPost(m.i.POST_ADD_OR_EDIT_STUDENT,e);case 2:this.$message.success("提交成功！"),this.$router.push({path:"/studentFiles"});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),myBirthdayDate:function(t){this.form.出生日期=t},myPractisingDate:function(t){this.form.取得执业证书日期=t},myPhysicianDate:function(t){this.form.取得医师资格证书日期=t},myGraduationYear:function(t){this.form.毕业年份=t},myTrainYear:function(t){this.form.学员培训年界=t},myEvent:function(t){this.form.头像路径=t}},"cancelHandler",function(){this.$emit("myEvent",!1)})},h=(r("hPYk"),r("NwxS"),Object(p.a)(v,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container page-common page-addStudent"},[r("div",{staticClass:"btn-back-box"},[r("el-button",{staticClass:"btn-back",attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.$router.go(-1)}}},[r("i",{staticClass:"iconfont iconfanhui"}),t._v(" 返回\n    ")])],1),t._v(" "),r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"155px",size:"small"}},[r("el-row",[r("el-col",{staticClass:"left-content",attrs:{span:5,align:"center"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"上传头像",placement:"top"}},[t.isLoad?r("uploadImg",{ref:"img",attrs:{img:t.form.头像路径,postUrl:t.postUrl,UploadType:2},on:{myEvent:t.myEvent},model:{value:t.form.头像路径,callback:function(e){t.$set(t.form,"头像路径",e)},expression:"form.头像路径"}}):t._e()],1),t._v(" "),r("p",{staticClass:"name"},[t._v(t._s(t.form.姓名))]),t._v(" "),r("p",{staticClass:"explain"},[t._v("说明：上传图片只能是 JPG或PNG 格式，大小不能超过 2MB")])],1),t._v(" "),r("el-col",{staticClass:"right-content",attrs:{span:19}},[r("h5",{staticClass:"personal-title"},[t._v("学员个人信息")]),t._v(" "),r("h5",{staticClass:"title"},[t._v("基本信息")]),t._v(" "),r("div",{staticClass:"item-box"},[r("el-form-item",{attrs:{label:"姓名",prop:"姓名"}},[r("el-input",{model:{value:t.form.姓名,callback:function(e){t.$set(t.form,"姓名","string"==typeof e?e.trim():e)},expression:"form.姓名"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"工号",prop:"工号"}},[r("el-input",{model:{value:t.form.工号,callback:function(e){t.$set(t.form,"工号",e)},expression:"form.工号"}})],1),t._v(" "),t.isAdd?r("el-form-item",{attrs:{label:"密码",prop:"密码"}},[r("el-input",{model:{value:t.form.密码,callback:function(e){t.$set(t.form,"密码",e)},expression:"form.密码"}})],1):t._e(),t._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"性别"}},[r("el-radio-group",{model:{value:t.form.性别,callback:function(e){t.$set(t.form,"性别",e)},expression:"form.性别"}},[r("el-radio",{attrs:{label:"男"}}),t._v(" "),r("el-radio",{attrs:{label:"女"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"民族",prop:"民族"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.民族,callback:function(e){t.$set(t.form,"民族",e)},expression:"form.民族"}},t._l(t.nation,function(t){return r("el-option",{key:t.编号,attrs:{label:t.值,value:t.值}})}))],1),t._v(" "),r("el-form-item",{attrs:{label:"出生日期",prop:"出生日期"}},[t.isLoad?r("selectDate",{ref:"date",attrs:{date:t.form.出生日期,type:"date",format:"yyyy-MM-dd",title:"选择日期"},on:{myEvent:t.myBirthdayDate}}):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"证件类型",prop:"证件类型"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.证件类型,callback:function(e){t.$set(t.form,"证件类型",e)},expression:"form.证件类型"}},[r("el-option",{attrs:{label:"身份证",value:"身份证"}}),t._v(" "),r("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"证件号码",prop:"证件号码"}},[r("el-input",{model:{value:t.form.证件号码,callback:function(e){t.$set(t.form,"证件号码",e)},expression:"form.证件号码"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"手机号码",prop:"手机号码"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.手机号码,callback:function(e){t.$set(t.form,"手机号码",e)},expression:"form.手机号码"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"电子邮箱",prop:"电子邮箱"}},[r("el-input",{model:{value:t.form.电子邮箱,callback:function(e){t.$set(t.form,"电子邮箱",e)},expression:"form.电子邮箱"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"政治面貌",prop:"政治面貌"}},[r("el-input",{model:{value:t.form.政治面貌,callback:function(e){t.$set(t.form,"政治面貌",e)},expression:"form.政治面貌"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"QQ号码",prop:"QQ号码"}},[r("el-input",{model:{value:t.form.QQ号码,callback:function(e){t.$set(t.form,"QQ号码",e)},expression:"form.QQ号码"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"微信号",prop:"微信号"}},[r("el-input",{model:{value:t.form.微信号,callback:function(e){t.$set(t.form,"微信号",e)},expression:"form.微信号"}})],1),t._v(" "),r("el-form-item",{staticClass:"el-form-item-block",attrs:{label:"家庭住址",prop:"家庭住址"}},[r("el-input",{model:{value:t.form.家庭住址,callback:function(e){t.$set(t.form,"家庭住址",e)},expression:"form.家庭住址"}})],1),t._v(" "),r("el-form-item",{staticClass:"el-form-item-block",attrs:{label:"说明信息",prop:"备注"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.form.备注,callback:function(e){t.$set(t.form,"备注",e)},expression:"form.备注"}})],1)],1),t._v(" "),r("h5",{staticClass:"title"},[t._v("医师资格信息")]),t._v(" "),r("div",{staticClass:"item-box"},[r("el-form-item",{attrs:{label:"取得执业证书日期",prop:"取得执业证书日期"}},[t.isLoad?r("selectDate",{ref:"date",attrs:{date:t.form.取得执业证书日期,type:"date",format:"yyyy-MM-dd",title:"选择日期"},on:{myEvent:t.myPractisingDate}}):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"执业证书编号",prop:"执业证书编号"}},[r("el-input",{model:{value:t.form.执业证书编号,callback:function(e){t.$set(t.form,"执业证书编号",e)},expression:"form.执业证书编号"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"取得医师资格证书日期",prop:"取得医师资格证书日期"}},[t.isLoad?r("selectDate",{ref:"date",attrs:{date:t.form.取得医师资格证书日期,type:"date",format:"yyyy-MM-dd",title:"选择日期"},on:{myEvent:t.myPhysicianDate}}):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"医师资格证书编号",prop:"医师资格证书编号"}},[r("el-input",{model:{value:t.form.医师资格证书编号,callback:function(e){t.$set(t.form,"医师资格证书编号",e)},expression:"form.医师资格证书编号"}})],1)],1),t._v(" "),r("h5",{staticClass:"title"},[t._v("学历信息")]),t._v(" "),r("div",{staticClass:"item-box"},[r("el-form-item",{attrs:{label:"最高学历",prop:"最高学历"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.最高学历,callback:function(e){t.$set(t.form,"最高学历",e)},expression:"form.最高学历"}},t._l(t.education,function(t){return r("el-option",{key:t.编号,attrs:{label:t.值,value:t.值}})}))],1),t._v(" "),r("el-form-item",{attrs:{label:"毕业年份",prop:"毕业年份"}},[t.isLoad?r("selectDate",{ref:"date",attrs:{date:t.form.毕业年份,type:"year",format:"yyyy",title:"选择年"},on:{myEvent:t.myGraduationYear}}):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"毕业学校",prop:"毕业学校"}},[r("el-input",{model:{value:t.form.毕业学校,callback:function(e){t.$set(t.form,"毕业学校",e)},expression:"form.毕业学校"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"毕业专业",prop:"毕业专业"}},[r("el-input",{model:{value:t.form.毕业专业,callback:function(e){t.$set(t.form,"毕业专业",e)},expression:"form.毕业专业"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"毕业证编码",prop:"毕业证编码"}},[r("el-input",{model:{value:t.form.毕业证编码,callback:function(e){t.$set(t.form,"毕业证编码",e)},expression:"form.毕业证编码"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"学位证编码",prop:"学位证编码"}},[r("el-input",{model:{value:t.form.学位证编码,callback:function(e){t.$set(t.form,"学位证编码",e)},expression:"form.学位证编码"}})],1)],1),t._v(" "),r("h5",{staticClass:"title"},[t._v("培训信息")]),t._v(" "),r("div",{staticClass:"item-box"},[r("el-form-item",{attrs:{label:"学员培训年界",prop:"学员培训年界"}},[t.isLoad?r("selectDate",{ref:"date",attrs:{date:t.form.学员培训年界,type:"year",format:"yyyy",title:"选择年"},on:{myEvent:t.myTrainYear}}):t._e()],1),t._v(" "),r("el-form-item",{attrs:{label:"学员培训年限",prop:"学员培训年限"}},[r("el-input",{model:{value:t.form.学员培训年限,callback:function(e){t.$set(t.form,"学员培训年限",e)},expression:"form.学员培训年限"}},[r("template",{slot:"append"},[t._v("年")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"往届应届",prop:"往届应届"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.往届应届,callback:function(e){t.$set(t.form,"往届应届",e)},expression:"form.往届应届"}},[r("el-option",{attrs:{label:"往届",value:"往届"}}),t._v(" "),r("el-option",{attrs:{label:"应届",value:"应届"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"学员类型",prop:"学员类型编号"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.学员类型编号,callback:function(e){t.$set(t.form,"学员类型编号",e)},expression:"form.学员类型编号"}},t._l(t.types,function(t){return r("el-option",{key:t.编号,attrs:{label:t.名称,value:t.编号}})}))],1),t._v(" "),r("el-form-item",{attrs:{label:"专业方向",prop:"专业编号"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.专业编号,callback:function(e){t.$set(t.form,"专业编号",e)},expression:"form.专业编号"}},t._l(t.majors,function(e){return r("el-option",{key:e.编号,attrs:{label:e.名称+" - "+e.年份,value:e.编号}},[r("span",{staticStyle:{float:"left"}},[t._v(t._s(e.名称))]),t._v(" "),r("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.年份))])])}))],1),t._v(" "),r("el-form-item",{attrs:{label:"送培方式",prop:"送培方式"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.送培方式,callback:function(e){t.$set(t.form,"送培方式",e)},expression:"form.送培方式"}},t._l(t.modes,function(t){return r("el-option",{key:t.编号,attrs:{label:t.值,value:t.值}})}))],1),t._v(" "),r("el-form-item",{attrs:{label:"工作单位",prop:"工作单位"}},[r("el-input",{model:{value:t.form.工作单位,callback:function(e){t.$set(t.form,"工作单位",e)},expression:"form.工作单位"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"医疗卫生机构",prop:"医疗卫生机构"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.医疗卫生机构,callback:function(e){t.$set(t.form,"医疗卫生机构",e)},expression:"form.医疗卫生机构"}},t._l(t.organs,function(t){return r("el-option",{key:t.编号,attrs:{label:t.值,value:t.值}})}))],1),t._v(" "),r("el-form-item",{staticClass:"el-form-item-block"},[r("el-checkbox-group",{model:{value:t.start,callback:function(e){t.start=e},expression:"start"}},[r("el-checkbox",{attrs:{label:"自动添加到报到信息表中，并以今天为培训开始时间！",name:"type"}})],1),t._v(" "),r("p",{staticClass:"explain"},[t._v("说明：如果勾选此报到选项，将以编辑学员信息的时间作为规培报到时间，如果已经报过到了的，则此勾选无效！")])],1)],1)])],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.$router.go(-1)}}},[t._v("返回")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.confirmHandler}},[t._v("确 定")])],1)],1)},[],!1,null,"74ad60ba",null));h.options.__file="addStudent.vue";e.default=h.exports},cHfS:function(t,e,r){var a=r("ovlw");a(a.S+a.F*!r("8wne"),"Object",{defineProperty:r("cP0M").f})},hPYk:function(t,e,r){"use strict";var a=r("oUiK");r.n(a).a},ktv3:function(t,e,r){"use strict";function a(t,e,r){""==e||void 0==e||null==e?r():/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)||""==e?r():r(new Error("请输入正确的身份证号码！"))}function o(t,e,r){""==e||void 0==e||null==e?r():/^[1][3,4,5,7,8][0-9]{9}$/.test(e)||""==e?r():r(new Error("请输入正确的电话号码！"))}function s(t,e,r){if(!e)return r(new Error("输入不可以为空！"));setTimeout(function(){if(Number(e)){/^[0-9]*[1-9][0-9]*$/.test(e)?r():r(new Error("请输入正整数！"))}else r(new Error("请输入正整数！"))},0)}r.d(e,"b",function(){return a}),r.d(e,"c",function(){return o}),r.d(e,"a",function(){return s})},mB0Z:function(t,e,r){"use strict";var a={name:"UploadFile",props:["date","type","format","title"],data:function(){return{time:""}},mounted:function(){this.date?"year"==this.type?this.time=this.date.toString():this.time=new Date(this.date):this.time=""},methods:{changeDate:function(t){this.$emit("myEvent",t)}}},o=r("ZrdR"),s=Object(o.a)(a,function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-date-picker",{attrs:{type:t.type,format:t.format,"value-format":t.format,placeholder:t.title},on:{change:t.changeDate},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})},[],!1,null,null,null);s.options.__file="selectDate.vue";e.a=s.exports},n92x:function(t,e,r){r("cHfS");var a=r("rhgp").Object;t.exports=function(t,e,r){return a.defineProperty(t,e,r)}},oUiK:function(t,e,r){},zKsR:function(t,e,r){"use strict";var a=r("L9qc");r.n(a).a}}]);