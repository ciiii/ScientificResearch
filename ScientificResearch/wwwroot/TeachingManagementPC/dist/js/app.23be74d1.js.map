{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/service/ServiceDetails.vue?dcd8","webpack:///./src/components/quilEditor/VueQuilEditor.vue?81bf","webpack:///./src/components/hospital/HospitalService.vue?eebe","webpack:///./src/assets/images/login-key.png","webpack:///./src/assets/images/exe.jpg","webpack:///./public/tinymce/langs/zh_CN.js","webpack:///./src/assets/images/hospital.png","webpack:///./src/assets/images/login-user.png","webpack:///./src/assets/images/user.jpg","webpack:///./src/assets/images/zip.jpg","webpack:///./src/views/service/Service.vue?5fb6","webpack:///./src/views/Login.vue?904e","webpack:///./src/App.vue?f620","webpack:///./src/App.vue","webpack:///./src/views/Index.vue?abfc","webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?b8fa","webpack:///./src/views/Index.vue","webpack:///./src/views/Home.vue?b222","webpack:///./src/assets/js/connect/ConSysUrl.js","webpack:///./src/components/hospital/HospitalService.vue?7bba","webpack:///./src/assets/js/Common.js","webpack:///src/components/hospital/HospitalService.vue","webpack:///./src/components/hospital/HospitalService.vue?d295","webpack:///./src/components/hospital/HospitalService.vue","webpack:///./src/components/news/NewsDetails.vue?419f","webpack:///src/components/news/NewsDetails.vue","webpack:///./src/components/news/NewsDetails.vue?5f9b","webpack:///./src/components/news/NewsDetails.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?85a5","webpack:///./src/views/Home.vue","webpack:///./src/views/Login.vue?2f03","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?0b0c","webpack:///./src/views/Login.vue","webpack:///./src/views/news/News.vue?a97d","webpack:///./src/components/news/AddNews.vue?a424","webpack:///./src/components/quilEditor/VueQuilEditor.vue?06ad","webpack:///./src/assets/js/QuillTitle.js","webpack:///src/components/quilEditor/VueQuilEditor.vue","webpack:///./src/components/quilEditor/VueQuilEditor.vue?f680","webpack:///./src/components/quilEditor/VueQuilEditor.vue","webpack:///./src/components/tinymce/Tinymce.vue?6ec7","webpack:///src/components/tinymce/Tinymce.vue","webpack:///./src/components/tinymce/Tinymce.vue?13fb","webpack:///./src/components/tinymce/Tinymce.vue","webpack:///src/components/news/AddNews.vue","webpack:///./src/components/news/AddNews.vue?30e5","webpack:///./src/components/news/AddNews.vue","webpack:///src/views/news/News.vue","webpack:///./src/views/news/News.vue?c9a0","webpack:///./src/views/news/News.vue","webpack:///./src/views/404/404.vue?9436","webpack:///src/views/404/404.vue","webpack:///./src/views/404/404.vue?b99d","webpack:///./src/views/404/404.vue","webpack:///./src/views/service/Service.vue?037c","webpack:///./src/components/service/AddService.vue?cabc","webpack:///./src/assets/js/Validate.js","webpack:///./src/components/UploadImg.vue?c219","webpack:///src/components/UploadImg.vue","webpack:///./src/components/UploadImg.vue?3a94","webpack:///./src/components/UploadImg.vue","webpack:///src/components/service/AddService.vue","webpack:///./src/components/service/AddService.vue?7687","webpack:///./src/components/service/AddService.vue","webpack:///./src/components/service/ServiceDetails.vue?567a","webpack:///src/components/service/ServiceDetails.vue","webpack:///./src/components/service/ServiceDetails.vue?febc","webpack:///./src/components/service/ServiceDetails.vue","webpack:///src/views/service/Service.vue","webpack:///./src/views/service/Service.vue?1ce4","webpack:///./src/views/service/Service.vue","webpack:///./src/views/IeUnderTen.vue?4c3a","webpack:///src/views/IeUnderTen.vue","webpack:///./src/views/IeUnderTen.vue?76c3","webpack:///./src/views/IeUnderTen.vue","webpack:///./src/views/hospital/Hospital.vue?3692","webpack:///./src/components/hospital/AddHospital.vue?280e","webpack:///src/components/hospital/AddHospital.vue","webpack:///./src/components/hospital/AddHospital.vue?15a9","webpack:///./src/components/hospital/AddHospital.vue","webpack:///src/views/hospital/Hospital.vue","webpack:///./src/views/hospital/Hospital.vue?80f3","webpack:///./src/views/hospital/Hospital.vue","webpack:///./src/router.js","webpack:///./src/store.js","webpack:///./src/assets/js/connect/MyAxios.js","webpack:///./src/main.js","webpack:///./src/components/news/AddNews.vue?bd1e","webpack:///./src/views/hospital/Hospital.vue?458e","webpack:///./src/components/hospital/HospitalService.vue?a280","webpack:///./src/assets/images/firefox.jpg","webpack:///./src/App.vue?b527","webpack:///./src/views/Home.vue?17da","webpack:///./src/assets/images/logo-2.png","webpack:///./src/components/UploadImg.vue?cd8b","webpack:///./src/components/service/AddService.vue?fe73","webpack:///./src/components/hospital/AddHospital.vue?c319","webpack:///./public/tinymce/themes/modern/theme.js","webpack:///./public/tinymce/tinymce.js","webpack:///./src/views/Index.vue?adc1","webpack:///./src/assets/images/logo.png","webpack:///./src/views/404/404.vue?6569","webpack:///./src/assets/images/Chrome.jpg","webpack:///./src/views/IeUnderTen.vue?3eff","webpack:///./src/assets/images/sogou.jpg","webpack:///./src/components/news/NewsDetails.vue?e585","webpack:///./src/assets/images/moren.png","webpack:///./src/views/news/News.vue?b62a","webpack:///./src/assets/logo.png","webpack:///./src/views/Home.vue?6463","webpack:///./src/views/Login.vue?3b0b","webpack:///./src/assets/images/360.jpg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_ServiceDetails_vue_vue_type_style_index_0_id_0f577b37_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_ServiceDetails_vue_vue_type_style_index_0_id_0f577b37_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_VueQuilEditor_vue_vue_type_style_index_0_id_730addd2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_VueQuilEditor_vue_vue_type_style_index_0_id_730addd2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_HospitalService_vue_vue_type_style_index_1_id_7ae36afe_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_HospitalService_vue_vue_type_style_index_1_id_7ae36afe_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","tinymce","addI18n","Redo","Undo","Cut","Copy","Paste","Select all","New document","Ok","Cancel","Visual aids","Bold","Italic","Underline","Strikethrough","Superscript","Subscript","Clear formatting","Align left","Align center","Align right","Justify","Bullet list","Numbered list","Decrease indent","Increase indent","Close","Formats","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.","Headers","Header 1","Header 2","Header 3","Header 4","Header 5","Header 6","Headings","Heading 1","Heading 2","Heading 3","Heading 4","Heading 5","Heading 6","Preformatted","Div","Pre","Code","Paragraph","Blockquote","Inline","Blocks","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.","Font Family","Font Sizes","Class","Browse for an image","OR","Drop an image here","Upload","Block","Align","Default","Circle","Disc","Square","Lower Alpha","Lower Greek","Lower Roman","Upper Alpha","Upper Roman","Anchor","Name","Id","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.","You have unsaved changes are you sure you want to navigate away?","Restore last draft","Special character","Source code","Insert/Edit code sample","Language","Code sample","Color","R","G","B","Left to right","Right to left","Emoticons","Document properties","Title","Keywords","Description","Robots","Author","Encoding","Fullscreen","Action","Shortcut","Help","Address","Focus to menubar","Focus to toolbar","Focus to element path","Focus to contextual toolbar","Insert link (if link plugin activated)","Save (if save plugin activated)","Find (if searchreplace plugin activated)","Plugins installed ({0}):","Premium plugins:","Learn more...","You are using {0}","Plugins","Handy Shortcuts","Horizontal line","Insert/edit image","Image description","Source","Dimensions","Constrain proportions","General","Advanced","Style","Vertical space","Horizontal space","Border","Insert image","Image","Image list","Rotate counterclockwise","Rotate clockwise","Flip vertically","Flip horizontally","Edit image","Image options","Zoom in","Zoom out","Crop","Resize","Orientation","Brightness","Sharpen","Contrast","Color levels","Gamma","Invert","Apply","Back","Insert date/time","Date/time","Insert link","Insert/edit link","Text to display","Url","Target","None","New window","Remove link","Anchors","Link","Paste or type a link","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?","Link list","Insert video","Insert/edit video","Insert/edit media","Alternative source","Poster","Paste your embed code below:","Embed","Media","Nonbreaking space","Page break","Paste as text","Preview","Print","Save","Find","Replace with","Replace","Replace all","Prev","Next","Find and replace","Could not find the specified string.","Match case","Whole words","Spellcheck","Ignore","Ignore all","Finish","Add to Dictionary","Insert table","Table properties","Delete table","Cell","Row","Column","Cell properties","Merge cells","Split cell","Insert row before","Insert row after","Delete row","Row properties","Cut row","Copy row","Paste row before","Paste row after","Insert column before","Insert column after","Delete column","Cols","Rows","Width","Height","Cell spacing","Cell padding","Caption","Left","Center","Right","Cell type","Scope","Alignment","H Align","V Align","Top","Middle","Bottom","Header cell","Row group","Column group","Row type","Header","Body","Footer","Border color","Insert template","Templates","Template","Text color","Background color","Custom...","Custom color","No color","Table of Contents","Show blocks","Show invisible characters","Words: {0}","{0} words","File","Edit","Insert","View","Format","Table","Tools","Powered by {0}","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Service_vue_vue_type_style_index_0_id_203dd4f7_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Service_vue_vue_type_style_index_0_id_203dd4f7_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_654ff71a_render","_vm","this","_h","$createElement","_c","_self","attrs","id","directives","rawName","$route","meta","expression","staticRenderFns","script","component","componentNormalizer","App","Indexvue_type_template_id_bc6be5b2_scoped_true_render","staticClass","to","src","alt","default-active","activIndex","router","on","select","handleSelect","index","_v","_s","myUserInfo","人员","DbKey","href","click","$event","logOut","Indexvue_type_template_id_bc6be5b2_scoped_true_staticRenderFns","Indexvue_type_script_lang_js_","methods","_this","$confirm","type","then","localStorage","removeItem","sessionStorage","$router","path","created","JSON","parse","getItem","views_Indexvue_type_script_lang_js_","Index_component","Index","Homevue_type_template_id_536273da_scoped_true_render","gutter","span","effect","content","placement","_l","el","编号","btnService","名称","staticStyle","display","active-color","inactive-color","active-text","change","hospitalChange","model","callback","$$v","$set","btnDetails","标题","_f","建立时间","align","备注","serviceChange","title","visible","isAddDialog","width","close-on-click-modal","update:visible","ref","item","myEvent","getMyEvent","_e","isDetailsDialog","Homevue_type_template_id_536273da_scoped_true_staticRenderFns","HTTP_URL_HOST","URL_USER","POST_LOGIN","URL_NEWS","GET_PANGING_NEWS","GET_NEWS_TYPE","GET_NEWS_TAGS","GET_NEWS_DETAILS","POST_ADD_OR_EDIT_NEWS","POST_DELETE_NEWS","POST_UPLOAD_NEWS_IMG","POST_UPLOAD_LOGO_IMG","URL_SERVICE","GET_SERVICE_ALL","GET_ENABLE_SERVICE","POST_ADD_OR_EDIT_SERVICE","POST_DISABLE_SERVICE","POST_ENABLE_SERVICE","URL_HOSPITAL","GET_HOSPITAL_ALL","GET_ENABLE_HOSPITA","POST_ADD_OR_EDIT_HOSPITA","POST_DISABLE_HOSPITA","POST_ENABLE_HOSPITA","GET_HOSPITAL_SERVICE","POST_ADD_OR_EDIT_HOSPITAL_SERVICE","POST_UPLOAD_HOSPITAL_LOGO_IMG","HospitalServicevue_type_template_id_7ae36afe_scoped_true_render","label-width","size","label","checkedList","服务编号","disabled","是否启用","handleCheckedChanges","服务名称","isChecked","maxLength","slot","placeholder","nativeOn","keydown","account","pwType","changeType","cancelHandler","confirmHandler","HospitalServicevue_type_template_id_7ae36afe_scoped_true_staticRenderFns","formatDate","date","fmt","test","replace","RegExp","$1","getFullYear","substr","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","k","concat","str","padLeftZero","_debounce","fn","delay","timer","newDelay","th","args","arguments","clearTimeout","setTimeout","matchingProperty","objA","objB","getUrl","url","decodeURI","encodeURI","deepCopy","stringify","Vue","filter","Date","q+","Math","floor","S","getMilliseconds","HospitalServicevue_type_script_lang_js_","props","serviceList","hospitalService","mounted","getHospitalService","e","登录账号","_getHospitalService","_asyncToGenerator","regenerator_default","a","mark","_callee","postData","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","elem","wrap","_context","prev","next","医院编号","$http","myGet","sent","undefined","values","iterator","done","t0","return","finish","getService","stop","_getService","_callee2","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_loop","_iterator2","_step2","_context2","医院名称","电脑链接地址","手机链接地址","登录密码","forEach","state","$emit","list","isNext","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","$message","error","err","List","addOrEditHospitalService","_addOrEditHospitalService","_callee3","_context3","myPost","success","_x","hospital_HospitalServicevue_type_script_lang_js_","HospitalService_component","HospitalService","NewsDetailsvue_type_template_id_2a0bc0d1_scoped_true_render","form","新闻","新闻分类名称","domProps","innerHTML","内容","NewsDetailsvue_type_template_id_2a0bc0d1_scoped_true_staticRenderFns","NewsDetailsvue_type_script_lang_js_","tags","isLoad","getDetails","_getDetails","NewsDetailsvue_type_script_lang_js_asyncToGenerator","新闻编号","标签","split","news_NewsDetailsvue_type_script_lang_js_","NewsDetails_component","NewsDetails","Homevue_type_script_lang_js_","components","isOpen","newsList","hospitalList","req","Size","OrderType","isService","getHospital","getNews","enableDisableService","enableDisableHospital","val","Homevue_type_script_lang_js_asyncToGenerator","confirmButtonText","cancelButtonText","enableService","disableService","catch","_disableService","_enableService","_x2","_getNews","_callee4","_context4","_getHospital","_callee5","_context5","_this2","enableHospital","disableHospital","_disableHospital","_callee6","_context6","_x3","_enableHospital","_callee7","_context7","_x4","closeDialog","views_Homevue_type_script_lang_js_","Home_component","Home","Loginvue_type_template_id_e30c17ca_scoped_true_render","_m","rules","prop","keyup","indexOf","_k","keyCode","isLogin","checked","height","Loginvue_type_template_id_e30c17ca_scoped_true_staticRenderFns","Loginvue_type_script_lang_js_","logining","userId","password","required","message","trigger","isDownload","IeVersion","getlocalStorage","userAgent","navigator","isIE","reIE","fIEVersion","parseFloat","$refs","ruleForm","validate","valid","dataPost","_dataPost","Loginvue_type_script_lang_js_asyncToGenerator","工号","密码","dbKey","setItem","token_type","access_token","myLoginInfo","loginInfo","views_Loginvue_type_script_lang_js_","Login_component","Login","Newsvue_type_template_id_51a6c19b_scoped_true_render","btnAdd","prefix-icon","search","icon","border","tableData","stripe","header-cell-style","text-align","scopedSlots","_u","scope","textContent","row","circle","btnEdit","btnDel","current-page","page-size","background","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","update:current-page","types","isAdd","Newsvue_type_template_id_51a6c19b_scoped_true_staticRenderFns","AddNewsvue_type_template_id_017499d3_scoped_true_render","Model","multiple","newTags","AddNewsvue_type_template_id_017499d3_scoped_true_staticRenderFns","VueQuilEditorvue_type_template_id_730addd2_scoped_true_render","element-loading-text","options","editorOption","onEditorChange","action","serverUrl","show-file-list","before-upload","newEditorbeforeupload","on-success","handleSingleSuccess","headers","Authorization","VueQuilEditorvue_type_template_id_730addd2_scoped_true_staticRenderFns","titleConfig","ql-bold","ql-color","ql-font","ql-code","ql-italic","ql-link","ql-background","ql-size","ql-strike","ql-script","ql-underline","ql-blockquote","ql-header","ql-indent","ql-list","ql-align","ql-direction","ql-code-block","ql-formula","ql-image","ql-video","ql-clean","addQuillTitle","oToolBar","document","querySelector","aButton","querySelectorAll","aSelect","className","classList","parentNode","toolbarOptions","header","indent","direction","color","font","vue_quill_editor","import","whitelist","register","fonts","Font","VueQuilEditorvue_type_script_lang_js_","quillEditor","imageLoading","toolbar","container","handlers","image","fileInput","quill","format","_ref","editor","html","text","res","myQuillEditor","getSelection","insertEmbed","setSelection","file","isJPG","isLt2M","handleFormatError","computed","quilEditor_VueQuilEditorvue_type_script_lang_js_","VueQuilEditor_component","VueQuilEditor","Tinymcevue_type_template_id_21b3050c_render","input","target","composing","Tinymcevue_type_template_id_21b3050c_staticRenderFns","Tinymcevue_type_script_lang_js_","default","String","config","theme","accept","maxSize","Number","withCredentials","Boolean","now","Editor","DefaultConfig","menubar","plugins","forced_root_block","force_p_newlines","importcss_append","content_style","insert_button_items","paste_retain_style_properties","paste_word_valid_elements","paste_data_images","paste_convert_word_fake_lists","paste_webkit_styles","paste_merge_formats","nonbreaking_force_tab","paste_auto_cleanup_on_paste","fontsize_formats","style_formats","block","styles","text-indent","items","line-height","inline","font_formats","tabfocus_elements","object_resizing","imagetools_toolbar","init","beforeDestroy","remove","self","tinymce_default","_objectSpread","images_upload_handler","_images_upload_handler","Tinymcevue_type_script_lang_js_asyncToGenerator","blobInfo","failure","formData","blob","abrupt","FormData","append","filename","selector","setup","loading","setContent","getContent","activeEditor","tinymce_Tinymcevue_type_script_lang_js_","Tinymce_component","Tinymce","AddNewsvue_type_script_lang_js_","新闻分类编号","getTags","_getTags","AddNewsvue_type_script_lang_js_asyncToGenerator","标签编号","myContent","tm","AddOrEdit","_AddOrEdit","onEditorDestroy","console","info","news_AddNewsvue_type_script_lang_js_","AddNews_component","AddNews","Newsvue_type_script_lang_js_","Like标题","Like标签","isDetails","getTypes","getTypeClass","_search","Newsvue_type_script_lang_js_asyncToGenerator","_getTypes","number","deleteNews","_deleteNews","log","news_Newsvue_type_script_lang_js_","News_component","News","_404vue_type_template_id_251bbea0_render","_404vue_type_template_id_251bbea0_staticRenderFns","_404vue_type_script_lang_js_","_404_404vue_type_script_lang_js_","_404_component","_404","Servicevue_type_template_id_203dd4f7_scoped_true_render","show-overflow-tooltip","http","Logo","switchChange","Servicevue_type_template_id_203dd4f7_scoped_true_staticRenderFns","AddServicevue_type_template_id_a2895dd8_scoped_true_render","rows","logo","UploadType","AddServicevue_type_template_id_a2895dd8_scoped_true_staticRenderFns","validateNumberLetter","rule","reg","Error","validateChineseEnglish","UploadImgvue_type_template_id_30455059_render","postUrl","handleAvatarSuccess","beforeAvatarUpload","UploadImgvue_type_template_id_30455059_staticRenderFns","UploadImgvue_type_script_lang_js_","isImage","components_UploadImgvue_type_script_lang_js_","UploadImg_component","UploadImg","AddServicevue_type_script_lang_js_","validator","AddServicevue_type_script_lang_js_asyncToGenerator","imageUrl","service_AddServicevue_type_script_lang_js_","AddService_component","AddService","ServiceDetailsvue_type_template_id_0f577b37_scoped_true_render","ServiceDetailsvue_type_template_id_0f577b37_scoped_true_staticRenderFns","ServiceDetailsvue_type_script_lang_js_","service_ServiceDetailsvue_type_script_lang_js_","ServiceDetails_component","ServiceDetails","Servicevue_type_script_lang_js_","Servicevue_type_script_lang_js_asyncToGenerator","service_Servicevue_type_script_lang_js_","Service_component","Service","IeUnderTenvue_type_template_id_563a16fc_scoped_true_render","IeUnderTenvue_type_template_id_563a16fc_scoped_true_staticRenderFns","IeUnderTenvue_type_script_lang_js_","views_IeUnderTenvue_type_script_lang_js_","IeUnderTen_component","IeUnderTen","Hospitalvue_type_template_id_e7a3bb64_scoped_true_render","Hospitalvue_type_template_id_e7a3bb64_scoped_true_staticRenderFns","AddHospitalvue_type_template_id_1ce927d0_scoped_true_render","AddHospitalvue_type_template_id_1ce927d0_scoped_true_staticRenderFns","AddHospitalvue_type_script_lang_js_","代码","联系人","联系电话","地址","AddHospitalvue_type_script_lang_js_asyncToGenerator","hospital_AddHospitalvue_type_script_lang_js_","AddHospital_component","AddHospital","Hospitalvue_type_script_lang_js_","Hospitalvue_type_script_lang_js_asyncToGenerator","enableDisableHospita","hospital_Hospitalvue_type_script_lang_js_","Hospital_component","Hospital","use","Router","routes","requireAuth","redirect","children","NotFoundView","Vuex","store","Store","mutations","actions","setHeaders","axios","defaults","common","interceptors","response","Notification","Promise","reject","status","Message","MyAxios_asyncToGenerator","params","_ref2","post","VueWechatTitle","Axios","productionTip","ElementUI","render","h","$mount","beforeEach","from","matched","some","record","query","fullPath","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_AddNews_vue_vue_type_style_index_0_id_017499d3_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_AddNews_vue_vue_type_style_index_0_id_017499d3_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Hospital_vue_vue_type_style_index_0_id_e7a3bb64_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Hospital_vue_vue_type_style_index_0_id_e7a3bb64_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_HospitalService_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_HospitalService_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_1_id_536273da_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_1_id_536273da_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_UploadImg_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_UploadImg_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_AddService_vue_vue_type_style_index_0_id_a2895dd8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_AddService_vue_vue_type_style_index_0_id_a2895dd8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_AddHospital_vue_vue_type_style_index_0_id_1ce927d0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_AddHospital_vue_vue_type_style_index_0_id_1ce927d0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","global","util","resolve","global$1","global$2","isBrandingEnabled","getParam","hasMenubar","getMenubar","hasStatusbar","getToolbarSize","isReadOnly","getFixedToolbarContainer","getInlineToolbarPositionHandler","getMenu","getRemovedMenuItems","getMinWidth","getMinHeight","getMaxWidth","getMaxHeight","isSkinDisabled","settings","skin","isInline","getResize","resize","getSkinUrl","skinUrl","skin_url","skinName","documentBaseURI","toAbsolute","baseURL","getIndexedToolbars","defaultToolbar","toolbars","mainToolbar","getToolbars","isArray","grep","global$3","global$4","global$5","fireSkinLoaded","fire","fireResizeEditor","fireBeforeRenderUI","Events","focus","panel","find","addKeys","shortcuts","add","A11y","global$6","global$7","noop","_i","constant","never","always","never$1","always$1","none","NONE","eq","isNone","call$$1","thunk","noop$$1","nul","undef","me","fold","is","isSome","getOr","getOrThunk","getOrDie","msg","getOrNull","getOrUndefined","or","orThunk","map","ap","each","flatten","exists","forall","equals","equals_","toArray","toString","freeze","constant_a","f","v","optfab","fab","elementEq","b","Option","getUiContainerDelta","ctrl","uiContainer","getUiContainer","DOM","getStyle","containerPos","getPos","dx","scrollLeft","x","dy","scrollTop","y","setUiContainer","ui_container","getRoot","inheritUiContainer","fromCtrl","toCtrl","UiContainer","createToolbar","buttonGroup","toolbarItems","itemName","bindSelectorChanged","selection","stateSelector","selectorChanged","active","disabledStateSelector","buttons","initialized","createToolbars","addToolbar","classes","ariaRoot","ariaRemember","Toolbar","toClientRect","geomRect","left","top","w","right","bottom","hideAllFloatingPanels","contextToolbars","hide","movePanelTo","pos","moveTo","togglePositionClass","relPos","predicate","cls","toggle","userConstrain","handler","elementRect","contentAreaRect","panelRect","addContextualToolbars","scrollContainer","getContextToolbars","getElementRect","elm","targetRect","root","getContentAreaContainer","dom","getRect","nodeName","ownerDocument","documentElement","reposition","match","shouldShow","relRect","testPositions","smallElementWidthThreshold","removed","show","element","getEl","getBody","delta","clientRect","getBoundingClientRect","getDoc","offsetWidth","controlSelection","isResizable","inflate","findBestRelativePosition","clamp","relativePosition","intersect","pos1","pos2","repositionHandler","execute","findFrontMostMatch","getNode","requestAnimationFrame","bindScrollEvent","reposition_1","uiContainer_1","getScrollContainer","getWin","unbind","showContextToolbar","role","ariaLabel","autohide","autofix","fixed","oncancel","renderTo","reflow","hideAllContextToolbars","targetElm","parentsAndSelf","$","parents","setEditorTimeout","ContextToolbars","typeOf","_typeof","Array","isPrototypeOf","isType","isFunction","isNumber","rawIndexOf","pIndexOf","fastIndex","xs","slowIndex","slowIndexOf","pred","findIndex","len","foldl","acc","defaultMenus","edit","view","insert","tools","table","help","delimiterMenuNamePair","createMenuNameItemPair","menuItem","hasItemName","namedMenuItems","namedMenuItem","isSeparator","cleanupMenu","removedMenuItems","menuItemsPass1","menuItemsPass2","createMenu","editorMenuItems","menus","context","menuButton","menu","isUserDefined","separator","prependToContext","unshift","getDefaultMenubar","defaultMenuBar","createMenuButtons","menuButtons","makeMap","enabledMenuNames","menuItems","Menubar","DOM$1","getSize","clientWidth","clientHeight","resizeTo","containerElm","iframeElm","containerSize","iframeSize","getContainer","firstChild","max","min","setStyle","resizeBy","dw","dh","global$8","api","sidebar","callbackName","hidePanels","sidebars","deactivateButtons","findSidebar","showPanel","btnCtrl","control","parent","prepend","isModernBrowser","ie","hasSidebar","createSidebar","tooltip","onclick","Sidebar","fireSkinLoaded$1","_skinLoaded","SkinLoaded","DOM$2","switchMode","editArea","editAreaContainer","resizeHandleCtrl","startSize","skinUiCss","styleSheetLoader","load","style","onResizeStart","onResize","deltaX","deltaY","linkHtml","translate","brandingLabel","renderBefore","targetNode","setMode","iframeContainer","editorContainer","Iframe","global$9","count","funcs","name$$1","createElement","setAttribs","child","nodeType","appendChild","createFragment","getWindowSize","getViewPort","rect","offsetHeight","body","win","getElementById","addClass","removeClass","hasClass","toggleClass","css","getRuntimeStyle","off","innerHtml","setHTML","isStatic","isFixed","calculateRelativePosition","rel","ctrlElm","selfW","selfH","targetW","targetH","viewport","getWindowViewPort","round","getUiContainerViewPort","customUiContainer","scrollWidth","scrollHeight","pageXOffset","pageYOffset","innerWidth","innerHeight","getViewPortRect","Movable","testMoveRel","rels","viewPortRect","moveRel","moveBy","self$$1","layoutRect","constrain","constrainToViewport","repaint","global$a","global$b","BoxUtils","parseBox","radix","parseInt","measureBox","prefix","defaultView","computedStyle","getComputedStyle","getPropertyValue","currentStyle","getSide","isNaN","noop$1","ClassList","onchange","_map","unique","array","uniqueItems","__checked","extend","contains","_change","curState","clsValue","Collection","Collection$1","proto","chunker","whiteSpace","Selector","compileNameFilter","toLowerCase","compileIdFilter","_name","compileClassesFilter","compileAttrFilter","cmp","check","compilePsuedoFilter","notSelectors","exec","parseChunks","compile","filters","direct","parts","pseudo","selectors","extra","matches","_selectors","si","sl","fi","fl","siblings","collect","push$1","slice$1","set","reverse","Collection$2","Binding","otherModel","otherName","bindings","fromSelfToOther","fromOtherToSelf","_bindings","global$c","isNode","node","isEqual","animationFrameRequested","Control","ObservableObject","Mixins","oldValue","has","destroy","dirtyCtrls","ReflowQueue","parent$$1","_layout","isNative","_id","hasMouseWheelEventSupport","hasWheelEventSupport","classPrefix","idCounter","proto$1","Statics","isRtl","rtl","defaultClasses","applyClasses","Defaults","_aria","_elmCache","borderBox","paddingBox","padding","marginBox","margin","hidden","Properties","getContainerElm","getParentCtrl","lookup","controlIdLookup","initLayoutRect","minWidth","minHeight","autoResize","startMinWidth","startMinHeight","initialSize","deltaW","deltaH","maxW","maxWidth","maxH","maxHeight","_layoutRect","contentW","contentH","innerW","innerH","minW","minH","scrollW","_lastLayoutRect","newRect","lastLayoutRect","deltaWidth","deltaHeight","repaintControls","curRect","bodyStyle","bodyElm","borderW","borderH","lastRepaintRect","createRange","_lastRepaintRect","_hasBody","updateLayoutRect","_lastRect","resolveCallbackName","callbacks","getEventDispatcher","bubble","isPropagationStopped","hasEventListeners","parentControls","$el","suffix","ex","blur","aria","ariaTarget","setAttribute","encode","charCodeAt","before","after","newItems","controls","_eventsRoot","removeChild","renderHtml","postRender","preRender","box","parentEventsRoot","_nativeEvents","bindPendingEvents","cssText","border-top-width","border-right-width","border-bottom-width","border-left-width","bindStates","parentCtrl","scrollIntoView","getOffset","rootElm","offsetLeft","offsetTop","offsetParent","parentWidth","parentHeight","parentElm","rootControl","obj","_eventDispatcher","toggleEvent","eventCtrl","eventRootCtrl","nativeEvents","delegate","mouseLeaveHandler","_lastHoverCtrl","mouseEnterHandler","lastParents","lastCtrl","idx","fixWheelEvent","preventDefault","wheelDelta","wheelDeltaX","detail","eventRootDelegates","_delegates","_hasMouseEnter","Control$1","hasTabstopData","getAttribute","KeyboardNavigation","focusedElement","focusedControl","isElement","activeElement","getRole","getParentRole","getAriaProp","isTextInputElement","tagName","toUpperCase","canFocus","getFocusElements","elements","childNodes","getNavigationRoot","targetControl","navigationRoot","focusFirst","focusElements","moveFocusToIndex","lastAriaIndex","moveFocus","dir","parentRole","submenu","cancel","enter","up","down","tab","shiftKey","handleNonTabOrEscEvent","isDefaultPrevented","selectorCache","Container","_super","_items","bodyClasses","containerCls","keyboard","focusCtrl","keyboardNav","statusbar","autofocus","oldItem","newItem","ctrlItems","defaultType","renderNew","hasChildNodes","curItems","beforeItems","afterItems","fromJSON","toJSON","recalc","lastRect","getDocumentSize","doc","updateWithTouchData","keys","changedTouches","DragHelper","$eventOverlay","downButton","start","stop$$1","drag","startX","startY","handleElement","handle","handleElm","cursor","docSize","button","screenX","screenY","runtimeStyle","position","zIndex","opacity","appendTo","documentClickHandler","documentScrollHandler","windowResizeHandler","hasModal","Scrollable","renderScroll","repaintScroll","hasScrollH","hasScrollV","repaintAxis","axisName","posName","sizeName","contentSizeName","hasScroll","ax","scrollBarElm","scrollThumbElm","scrollSize","ratio","posNameLower","sizeNameLower","addScroll","addScrollAxis","deltaPosName","scrollStart","axisId","draghelper","autoScroll","_hasScroll","bodyEl","Panel","_preBodyHtml","Resizable","resizeToContent","visiblePanels","zOrder","isChildOf","skipOrHidePanels","clickCtrl","bindDocumentClickHandler","bindDocumentScrollHandler","repositionPanel","bindWindowResizeHandler","docElm_1","clientWidth_1","clientHeight_1","all","FloatPanel","hideAll","scrollY$$1","toggleFixedChildPanels","_autoFixY","addRemove","topModal","modal","modalBlockEl","currentZIndex","$modalBlockEl_1","prefix_1","popover","describedBy","removeVisiblePanel","close","bodyRole","isFixed$1","inlineToolbarContainer","render$1","fixedToolbarContainer","_fixed","bodyPos","scrollContainerPos","nodeChanged","content_editable","Throbber","time","lastChild","throbber","ProgressState","renderUI","contentCSS","Render","Tooltip","Widget","tooltips","_tooltip","disable","Progress","setValue","updateLiveRegion","ctx","progressBar","timeout","closeButton","notificationStyle","NotificationManagerImpl","getEditorContainer","getElement","getContainerWidth","prePositionNotifications","notifications","notification","positionNotifications","firstItem","open","closeCallback","extendedArgs","notif","getArgs","windows","oldMetaValue","toggleFullScreenState","contentValue","noScaleMetaValue","overrideViewPort","getElementsByTagName","toggleBodyFullScreenClasses","checkFullscreenWindows","_fullscreen","handleWindowResize","desktop","lastSize_1","setInterval","Window$$1","submit","spacing","pack","closeClass","needsRecalc","statusbar$$1","headerW","headEl","headerH","headerHtml","footerHtml","fullscreen","slowRendering","_timer","getTime","_initial","startPos","dragHelper","getContentWindow","ifr","contentWindow","MessageBox","multiline","OK","OK_CANCEL","YES_NO","YES_NO_CANCEL","msgBox","createButton","status$$1","primary","subtype","onClick","onPostRender","onClose","onCancel","alert","confirm","WindowManagerImpl","open$$1","bodyType","commands","features","alert$$1","choiceCallback","confirm$$1","close$$1","window$$1","getParams","setParams","getNotificationManagerImpl","getWindowManagerImpl","ThemeApi","Layout","firstControlClass","lastControlClass","containerClass","firstClass","lastClass","lastItem","controlClass","AbsoluteLayout","Button","btnStyle","btnElm","ariaPressed","textHtml","textCls","setButtonText","$span","iconElm","insertBefore","BrowseButton","files","stopPropagation","ButtonGroup","Checkbox","global$d","ComboBox","subinput","showMenu","newValue","statusLevel","statusMessage","lineHeight","openElm","innerPadding","inputElm","documentMode","openBtnHtml","extraAttrs","statusHtml","spellcheck","showAutoComplete","term","previewUrl","hideMenu","statusIconElm","focusIdx","DOWN","UP","ColorBox","onaction","repaintColor","PanelButton","panelSettings","hidePanel","rtlRels","ltrRels","popoverAlign","isTop","DOM$3","ColorButton","_color","backgroundColor","resetColor","onClickHandler","getParent","stopImmediatePropagation","global$e","ColorPicker","hsv","hueRootElm","huePointElm","svRootElm","svPointElm","event","pageX","pageY","updateColor","hueUpdate","hue","toHex","updateSaturationAndValue","updateHue","toHsv","_repaint","_svdraghelper","_hdraghelper","rgb","toRgb","_rendered","hueHtml","stops","getOldIeFallbackHtml","gradientPrefix","stopsList","gradientCssText","DropZone","cfg","hidefocus","outerHTML","toggleDragClass","re","join","dataTransfer","Path","delimiter","_getDataPathHtml","ElementPath","isHidden","elementpath","outParents","FormItem","flex","Form","labelGap","formItemDefaults","formItem","forId","recalcLabels","maxLabelWidth","labels","labelGapCalc","labelCtrl","labelWidth","FieldSet","unique$1","generate","random","fromHtml","div","fromDom","fromTag","tag","fromText","createTextNode","fromPoint","docElm","elementFromPoint","Element$$1","cached","called","DOCUMENT","Node","ATTRIBUTE_NODE","CDATA_SECTION_NODE","COMMENT_NODE","DOCUMENT_NODE","ELEMENT","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","ELEMENT_NODE","Immutable","TEXT_NODE","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","NOTATION_NODE","fields","struct","Global","Function","unsafe","actual","Global$1","compareDocumentPosition","documentPositionPreceding","DOCUMENT_POSITION_PRECEDING","documentPositionContainedBy","DOCUMENT_POSITION_CONTAINED_BY","Node$1","firstMatch","regexes","find$2","agent","major","minor","group","nu","detect","versionRegexes","cleanedAgent","unknown","Version","edge","chrome","opera","firefox","safari","isBrowser","current","unknown$1","nu$1","version","isEdge","isChrome","isOpera","isFirefox","isSafari","Browser","windows$1","ios","android","linux","osx","solaris","freebsd","isOS","unknown$2","nu$2","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","OperatingSystem","DeviceType","os","browser","isiPad","isiPhone","isAndroid3","isAndroid4","isTablet","isTouch","isPhone","iOSwebview","isWebView","detect$1","candidates","candidate","detectBrowser","browsers","detectOs","oses","UaString","contains$1","normalVersionRegex","checkContains","uastring","monstrosity","PlatformInfo","detect$2","deviceType","PlatformDetection","detect$3","PlatformDetection$1","ELEMENT$1","DOCUMENT$1","bypassSelector","childElementCount","base","one","regularContains","e1","e2","d1","d2","ieContains","descendants$1","trim$1","trim","hasContentEditableState","contentEditable","isContentEditableTrue","isContentEditableFalse","level","attach","isChildOfContentEditableTrue","getElementText","innerText","getOrGenerateId","isAnchor","isValidAnchor","isEditable","isHeader","isValidHeader","getLevel","headerTarget","headerId","anchorTarget","anchorId","anchorText","getHeaderTargets","elms","getAnchorTargets","getTargetElements","hasTitle","find$3","LinkTargets","getActiveEditor","history","HISTORY_LENGTH","clearHistory","toMenuItem","raw","toMenuItems","targets","staticMenuItem","isUniqueUrl","foundTarget","getSetting","editorSettings","defaultValue","createMenuItems","fileType","fromHistoryMenuItems","historyItems","uniqueHistory","fromMenuItems","filteredTargets","anchorMenuItems","topAnchor","bottomAchor","bothEmpty","typeahead_urls","filterByQuery","addToHistory","lowerCaseTerm","getTitle","linkDetails","setupAutoCompleteHandler","autocomplete","linkTargets","statusToUiState","setupLinkValidatorHandler","validatorHandler","filepicker_validator_handler","validateUrl_1","uiState","FilePicker","actionCallback","fileBrowserCallback","fileBrowserCallbackTypes","filetype","file_picker_types","file_browser_callback_types","file_picker_callback","file_browser_callback","FitLayout","contLayoutRect","FlexLayout","contPaddingBox","contSettings","totalFlex","availableSpace","ctrlLayoutRect","ctrlSettings","maxAlignEndPos","minSizeName","maxSizeName","beforeName","innerSizeName","deltaSizeName","alignAxisName","alignInnerSizeName","alignSizeName","alignMinSizeName","alignBeforeName","alignAfterName","alignDeltaSizeName","alignContentSizeName","maxSizeItems","maxFlexSize","FlowLayout","endClass","descendant$1","toggleFormat","execCommand","addFormatChangedListener","changed","formatter","formatChanged","postRenderFormatToggle","alignFormats","defaultAlign","alignMenuItems","addMenuItem","addButton","onShowMenu","formatName","alignleft","aligncenter","alignright","alignjustify","alignnone","cmd","getFirstFont","fontFamily","findMatchingValue","createFontNameListBoxChangeHandler","queryCommandValue","createFormats","formats","getFontItems","defaultFontsFormats","textStyle","registerButtons","fixedWidth","onselect","register$1","FontSelect","precision","factor","pow","toPt","fontSize","findMatchingValue$1","pt","px","createFontSizeListBoxChangeHandler","getFontSizeItems","defaultFontsizeFormats","fontsizeFormats","registerButtons$1","register$2","FontSizeSelect","hideMenuObjects","canApply","hideFormatMenuItems","createFormatMenu","newFormats","defaultStyleFormats","createStylesMenu","style_formats_merge","itemDefaults","preview","getCssText","command","queryCommandState","registerMenuItems","formatMenu","registerButtons$2","style_formats_autohide","register$3","defaultBlocks","createFormats$1","createListBoxChangeHandler","matchNode","lazyFormatSelectBoxItems","blocks","buildMenuItems","register$4","block_formats","FormatSelect","createCustomMenuItems","names","nameList","isSeparator$1","trimMenuItems","menuItems2","createContextMenuItems","outputMenuItems","createInsertMenu","insertButtonItems","registerButtons$3","oncreatemenu","register$5","InsertButton","registerFormatButtons","bold","italic","underline","strikethrough","subscript","superscript","registerCommandButtons","outdent","cut","copy","paste","selectall","visualaid","newdocument","removeformat","registerCommandToggleButtons","blockquote","registerButtons$4","registerMenuItems$1","shortcut","register$6","SimpleControls","toggleUndoRedoState","checkState","typeFn","undoManager","readonly","registerMenuItems$2","registerButtons$5","register$7","UndoRedo","toggleVisualAidState","hasVisual","registerMenuItems$3","selectable","register$8","VisualAid","setupEnvironment","iOS","setupUiContainer","setupRtlMode","setupHideFloatPanels","setup$1","FormatControls","GridLayout","cols","posX","posY","spacingH","spacingV","alignH","alignV","maxX","maxY","ctrlMinWidth","ctrlMinHeight","availableWidth","availableHeight","reverseRows","colWidths","rowHeights","columns","ceil","sqrt","flexV","packV","flexWidths","Iframe$1","InfoBox","severity","Label","strong","startMinH","targetCtrl","forName","Toolbar$1","MenuBar","isChildOf$1","MenuButton","_renderOpen","animate","activeMenu","menuLayoutRect","selfBottom","offset","hasVisibleSiblingMenu","overCtrl","Menu","itemsFactory","factory","hideThrobber","requestTime","_hasIcons","ListBox","selected","selectedText","lastItemCtrl","setSelected","menuValues","_values","lastControl","valueExists","activateMenuItemsByValue","hasMenus","getSelectedItem","selectedItem","toggleTextStyle","_textStyle","textElm","MenuItem","ariaHideMenu","_parentMenu","_lastRel","iconHtml","convertShortcut","mac","escapeRegExp","markMatches","boldMatches","hover","Radio","ResizeHandle","resizeDragHelper","createOptions","strOptions","SelectBox","_options","minVal","maxVal","setAriaProp","updateSliderHandle","maxHandlePos","shortSizeName","stylePosName","styleValue","handleEl","orientation","_minValue","_maxValue","previewFilter","Slider","minValue","maxValue","_initValue","reset","screenCordName","toFraction","fromFraction","handleKeyboard","alter","handleDrag","startHandlePos","handlePos","_dragHelper","Spacer","SplitButton","mainButtonElm","menuButtonElm","_menuBtnText","StackLayout","TabPanel","activateTab","activeTabElm","activeTabId","tabsHtml","activeTab","targetParent","headH","TextBox","getApi","Factory","Window","ui","registerToFactory","Api","Theme","compose","fa","fb","identity","curry","initialArgs","restArgs","webkit","ie11","ie12","gecko","iDevice","fileApi","phone","tablet","windowsPhone","not","die","isString","isObject","isNull","isBoolean","eachr","partition","pass","fail","arr","foldr","output","difference","a1","a2","mapToObject","sort","comparator","head","last","from$1","createObjectURL","revokeObjectURL","u","URL","nav","matchMediaQuery","matchMedia","appName","requestAnimationFramePromise","Env","transparentSrc","caretAfter","range","ceFalse","cacheSuffix","experimentalShadowDom","canHaveCSP","promise","thisArg","TypeError","_state","_value","_deferreds","doResolve","asap","immediateFn","setImmediate","deferred","cb","onFulfilled","onRejected","ret","finale","Handler","reason","remaining","constructor","race","promiseObj","requestAnimationFrame$$1","requestAnimationFrameFunc","vendors","featurefill","wrappedSetTimeout","wrappedSetInterval","wrappedClearTimeout","wrappedClearInterval","clearInterval","debounce","func","Delay","setEditorInterval","throttle","eventExpandoPrefix","mouseEventRe","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","hasIsDefaultPrevented","event$$1","returnTrue","returnFalse","addEvent","capture","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","getTargetFromShadowDom","defaultTarget","composedPath","fix","originalEvent","srcElement","clientX","eventDoc","clientLeft","clientY","clientTop","cancelBubble","isImmediatePropagationStopped","metaKey","bindOnReady","eventUtils","domLoaded","isDocReady","readyState","readyHandler","waitForDomLoaded","tryScroll","doScroll","EventUtils","expando","hasFocusIn","hasMouseEnterLeave","mouseEnterLeave","events","mouseenter","mouseleave","executeHandlers","evt","callbackList","fakeName","nativeHandler","defaultNativeHandler","related","currentTarget","relatedTarget","ci","eventMap","parentWindow","clean","Event","support","Expr","getText","isXML","tokenize","outermostContext","sortInput","hasDuplicate","setDocument","document$1","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","strundefined","MAX_NEGATIVE","hasOwn","pop","push_native","indexOf$1","booleans","whitespace","identifier","attributes","pseudos","rtrim","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr","rsibling","rescape","runescape","funescape","_","escaped","escapedWhitespace","high","fromCharCode","els","Sizzle","results","seed","groups","old","nid","newContext","newSelector","getElementsByClassName","qsa","toSelector","testContext","qsaError","removeAttribute","cache","cacheLength","markFunction","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createPositionalPseudo","argument","matchIndexes","hasCompare","getTop","getById","attrId","tmp","disconnectedMatch","adown","bup","compare","sortDetached","aup","bp","expr","matchesSelector","attr","attrHandle","getAttributeNode","specified","uniqueSort","duplicates","detectDuplicates","sortStable","nodeValue","createPseudo","relative",">","first"," ","+","~","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","what","simple","forward","ofType","xml","outerCache","nodeIndex","useCache","setFilters","matcher","unmatched","lang","elemLang","hash","location","hasFocus","tabIndex","enabled","selectedIndex","empty","length$$1","even","odd","lt","gt","nth","radio","checkbox","tokens","addCombinator","combinator","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","elems","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","parseOnly","soFar","preFilters","token","compiled","isArray$1","each$1","map$1","out","filter$1","indexOf$2","reduce","collection","iteratee","accumulator","findIndex$1","find$1","last$1","ArrUtils","whiteSpaceRegExp","delim","sp","cn","scn","de","createNS","onCreate","static","ext","walk","resolve$1","explode","_addCacheSuffix","inArray","push$2","slice$2","rquickExpr$1","Event$$1","skipUniques","isDefined","isString$1","isWindow","fragDoc","frag","createDocumentFragment","domManipulate","targetNodes","sourceItem","getElementDocument","DomQuery","makeArray","wrapper","lastParent","newWrapper","cloneNode","numericCssMap","booleanMap","propFix","for","class","cssFix","float","attrHooks","cssHooks","whiteSpaceRegExp$1","each$2","charAt","nodes","hook","removeAttr","camel","dashed","removeProperty","host","prependTo","replaceWith","wrapAll","wrapInner","contents","unwrap","clone","existingClassName","classState","closest","until","sibling","siblingName","firstSibling","contentDocument","parentsUntil","nextUntil","prevUntil","overrideDefaults","sub","appendHooks","targetHooks","hooks","maxlength","zoom","ie$1","opera$1","android$1","contains$2","trim$2","lTrim","rTrim","TEXT","isType$1","isText","hasOwnProperty$1","each$3","map$2","tupleMap","tuple","bifilter","branch","isSupported","inBody","rawSet","value$$1","setAll","get$1","has$1","hasAttribute","internalSet","setProperty","setAll$1","get$2","getUnsafeProperty","getRaw","toArray$1","recurse","Recurse","is$1","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","contains$3","owner","defView","isRoot","rawParent","prevSibling","previousSibling","prevSiblings","nextSiblings","cs","childNodesCount","browser$1","firstElement","getTableCaptionDeltaY","caption","bodyTop","captionTop","captionHeight","offsetParent$$1","Position","nu$3","baseFn","map$$1","nCallback","isReady","run","cbs","pure$1","LazyValue","pure","bounce","nu$4","aFutureB","anonBind","futureB","toLazy","toCached","pure$2","Future","par","asyncValues","asyncValue","par$1","futures","value$1","opt","mapError","onValue","toOption","isValue","isError","onError","Result","StyleSheetLoader","document$$1","maxLoadTime","idCount","loadedStates","appendToHead","loadedCallback","errorCallback","link","startTime","passed","failed","isOldWebKit","webKitChunks","wait","testCallback","waitCallback","waitForWebKitLinkLoaded","styleSheet","styleSheets","ownerNode","owningElement","waitForGeckoLinkLoaded","cssRules","sheet","async","defer","contentCssCors","crossOrigin","onload","onerror","loadF","unbox","loadAll","urls","TreeWalker","startNode","rootNode","findSibling","startName","shallow","findPreviousNode","prev2","namedEntities","baseEntities","reverseEntities","voids","tableCells","tableSections","textBlocks","headings","listItems","lists","wsElements","lazyLookup","isHeading","isBlock","isBr","isTextBlock","isList","isListItem","isVoid","isTableSection","isTableCell","isWsPreserveElement","isNodeType","isElement$1","matchNodeNames","matchStyleValues","cssValue","hasPropValue","propName","propValue","attrName","attrValue","hasAttributeValue","isBogus","isBogusAll","isTable","isText$1","isComment$1","isDocument$1","isDocumentFragment","isBr$1","NodeType","isComment","isDocument","surroundedBySpans","previousIsSpan","nextIsSpan","isBookmarkNode","trimNode","trimmedLength","TrimNode","makeMap$1","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","128","130","131","132","133","134","135","136","137","138","139","140","142","145","146","147","148","149","150","151","152","153","154","155","156","158","159","\"","'","<","&","`","&lt;","&gt;","&amp;","&quot;","&apos;","nativeDecode","buildEntitiesLookup","chr","entity","encodeRaw","encodeAllRaw","encodeNumeric","encodeNamed","entities","getEncodeFunc","entitiesMap","encodeNamedAndNumeric","encodeCustomNamed","nameMap","named","numeric","decode","Entities","mapCache","dummyObj","makeMap$2","each$4","extend$1","explode$1","inArray$1","compileSchema","globalAttributes","blockContent","phrasingContent","flowContent","html4BlockContent","html4PhrasingContent","schema","ni","attributesOrder","arrayToMap","addAttrs","schemaItem","compileElementMap","*","Schema","validStyles","invalidStyles","schemaItems","whiteSpaceElementsMap","selfClosingElementsMap","shortEndedElementsMap","boolAttrMap","validClasses","blockElementsMap","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","textInlineElementsMap","patternElements","customElementsMap","specialElements","createLookupTable","option","extendWith","verify_html","valid_elements","valid_styles","invalid_styles","valid_classes","special","patternToRegExp","addValidElements","validElements","ei","ai","al","attrData","elementName","attrType","outputName","globalAttributesOrder","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","attributesDefault","attributesForced","forcedValue","validValues","attributePatterns","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","#comment","getElementRule","custom_elements","valid_children","extended_valid_elements","dd","dt","li","td","tr","tbody","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","getValidStyles","getInvalidStyles","getValidClasses","getBoolAttrs","getBlockElements","getTextBlockElements","getTextInlineElements","getShortEndedElements","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhiteSpaceElements","getSpecialElements","isValidChild","isValid","attrPatterns","getCustomElements","g","hex","Styles","encodingItems","rgbRegExp","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","invisibleChar","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","noJoin","canCompress","compress2","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","allow_script_urls","scriptUrl","allow_svg_data_urls","lastIndex","serialize","serializeStyles","styleList","styleMap","each$5","grep$1","simpleSelectorRe","whiteSpaceRegExp$2","setupAttrHooks","getContext","keepValues","keep_values","keepUrlHook","$elm","updateInternalStyleAttr","rawValue","findNodeIndex","normalized","lastNodeType","DOMUtils","addedStyles","counter","stdMode","boxModel","boundEvents","ownEvents","proxy","getElementsByName","$$","getAttrib","defaultVal","getAttribs","setAttrib","originalValue","onSetAttrib","attrElm","deep","clone_1","root_element","argWin","actWin","update_styles","setStyles","stylesArg","getParents","selectorVal","_findSib","getNext","getPrev","canHaveHTML","newElm","createHTML","outHtml","keepChildren","$node","removeAllAttribs","removeAttributeNode","parseStyle","serializeStyle","addStyle","styleElm","loadCSS","uniqueId","getOuterHTML","setOuterHTML","insertAfter","reference","referenceNode","oldElm","replaceChild","rename","attrNode","findCommonAncestor","pe","ps","rgbVal","isEmpty","walker","brCount","bogusVal","createRng","splitElm","replacementElm","bef","aft","pa","setStart","setEnd","extractContents","getContentEditable","getContentEditableParent","dumpRng","startContainer","startOffset","endContainer","endOffset","DOMUtils$1","each$6","grep$2","isFunction$1","ScriptLoader","QUEUED","LOADING","LOADED","FAILED","states","queue","scriptLoadedCallbacks","queueLoadedCallbacks","loadScript","onreadystatechange","isDone","markDone","loadQueue","loadScripts","scripts","failures","execCallbacks","loadingScripts","notifyCallbacks","each$7","AddOnManager","_listeners","instance","dependencies","requireLangPack","languages","language","languageLoad","addOn","listener","createUrl","baseUrl","dep","resource","addComponents","pluginName","pluginUrl","loadDependencies","addOnUrl","deps","newUrl","urlString","substring","lastIndexOf","waitFor","PluginManager","ThemeManager","marker","firstChild$$1","wrap$1","before$1","append$1","rogue","remove$2","children$$1","first$1","rate","last$3","initial","read","remove$3","supports","get$3","add$1","clazz","remove$4","add$2","cleanClass","remove$5","has$2","descendants","ClosestOrAncestor","ancestor","ancestor$1","closest$1","annotation","dataAnnotation","dataAnnotationId","identify","annotationName","rng","getRng","an","newStart","getAttr","uid","findMarkers","isAnnotation","findAll","markers","directory","nodesAlready","registry","changeCallbacks","initData","listeners","previous","withCallbacks","updateCallbacks","callbackMap","outputData","fireCallbacks","fireNoAnnotation","onNodeChange","annotations","_a","addListener","identifyParserNode","optAnnotation","serializer","addNodeFilter","spans","persistent","create$1","__rest","getOwnPropertySymbols","add$3","clone$1","original","isDeep","fromHtml$1","get$5","set$2","owner$$1","docDom","fragment","contentElements","ZWSP","isZwsp","trim$3","Zwsp","isElement$2","isText$2","isCaretContainerBlock","isCaretContainerInline","isCaretContainer","hasContent","insertInline","textNode","endsWithCaretContainer","splitText","startsWithCaretContainer","isBeforeInline","isAtStart","isAfterInline","isAtEnd","createBogusBr","br","insertBlock","blockName","blockNode","trimBogusBr","brs","lastBr","showCaretContainerBlock","caretContainer","isRangeInCaretContainerBlock","isContentEditableTrue$1","isContentEditableFalse$1","isBr$2","isText$3","isInvalidTextElement","isAtomicInline","isTable$1","isCaretContainer$1","isCaretCandidate","isNonUiContentEditableFalse","isUnselectable","isInEditable","isAtomicContentEditableFalse","isAtomic","isEditableCaretCandidate","clone$2","collapse","toStart","rect1","rect2","isValidOverflow","overflowY","isAbove","isBelow","containsXY","overflowX","outer","inner","getOverflow","getSelectedNode","extendingChars","isExtendingChar","ch","liftN","slice$3","and","Predicate","isElement$3","isCaretCandidate$1","isBlock$1","isFloated","isValidElementCaretCandidate","isNotPre","isText$4","isBr$3","resolveIndex","isWhiteSpace","isRange","isHiddenWhiteSpaceRange","range$$1","getBrClientRect","brNode","nbsp","getBoundingClientRectWebKitText","sc","ec","so","eo","newRng","cloneRange","setEndAfter","isZeroRect","clientRects","getClientRects","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","beforeNode","addUniqueAndValidRect","addCharacterOffset","CaretPosition","toRange","isVisible","isEqual$$1","getNode$$1","fromRangeStart","fromRangeEnd","isTextPosition","isElementPosition","HDirection","CaretPosition$1","isText$5","isBogus$1","nodeIndex$1","normalizedParent","getChildNodes","normalizedTextOffset","equal$1","normalizedNodeIndex","numTextFragments","createPathItem","create$2","outputOffset","resolvePathItem","findTextPosition","dataLen","targetOffset","resolve$2","trimEmptyTextNode","insertNode","insertFragment","rangeInsertNode","isContentEditableFalse$2","getNormalizedTextOffset","trimmedOffset","getPoint","point","getLocation","bookmark","isCollapsed","end","findIndex$3","moveEndPoint","normalizeTableCellSelection","findAdjacentContentEditableFalseElm","getOffsetBookmark","getCaretBookmark","getRangeBookmark","createBookmarkSpan","filled","data-mce-type","getPersistentBookmark","collapsed","rng2","endBookmarkNode","startBookmarkNode","moveToBookmark","keep","getBookmark","GetBookmark","getUndoBookmark","CARET_ID","isCaretNode","getParentCaretContainer","isElement$4","isText$6","removeNode","getNodeValue","setNodeValue","trimCount","trimmedText","removeUnchanged","remove$7","removeTextAndReposition","removeElementAndReposition","newPosition","removeTextCaretContainer","removeElementCaretContainer","removeAndReposition","caretContainerNode","CaretContainerRemove","browser$2","isContentEditableFalse$3","isTableCell$1","getAbsoluteClientRect","scrollX","scrollY","rootRect","trimInlineCaretContainers","contentEditableFalseNodes","deleteData","FakeCaret","cursorInterval","lastVisualCaret","caret","caretState","startBlink","getCss","isFakeCaretTableBrowser","isFakeCaretTarget","is$3","expected","isNbsp","isWhiteSpace$1","isContent","isContentEditableFalse$4","isBlockLike","isCaretContainer$2","isCaretContainerBlock$1","isElement$5","isCaretCandidate$2","isForwards","isBackwards","skipCaretContainers","findNode","predicateFn","getParentBlock","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","setStartBefore","setEndBefore","setStartAfter","isNodesInSameBlock","node1","node2","lean","before$2","after$2","normalizeRange","leanLeft","leanRight","isNextToContentEditableFalse","isNextToTable","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","isBeforeContentEditableFalse","isAfterContentEditableFalse","isBeforeTable","isAfterTable","isChar","isBeforeSpace","isAfterSpace","getElementFromPosition","getElementFromPrevPosition","getVisualCaretPosition","walkFn","isMoveInsideSameBlock","inSameBlock","isContentEditableFalse$5","isText$7","isElement$6","isBr$4","isCaretCandidate$3","isAtomic$1","isEditableCaretCandidate$1","nodeAtIndex","getCaretCandidatePosition","moveForwardFromBr","nextNode","findCaretPosition","Forwards","innerNode","rootContentEditableFalseElm","CaretWalker","Backwards","walkToPositionIn","fromPosition","afterElement","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","isAtBr","shouldSkipPosition","navigate","positionIn","nextPosition","prevPosition","CaretFinder","firstPositionIn","lastPositionIn","isStringPathBookmark","isRangeBookmark","isIdBookmark","isIndexBookmark","isPathBookmark","addBogus","resolveCaretPositionBookmark","insertZwsp","tryFindRangePosition","padEmptyCaretContainer","setEndPoint","isValidTextNode","restoreEndPoint","appendData","o1","o2","resolvePaths","resolveId","endPos","spos","epos","resolveIndex$1","selectNode","resolve$3","ResolveBookmark","getBookmark$1","setRng","isBookmarkNode$1","Bookmarks","isInlineBlock","moveStart","isWhiteSpaceNode","getNonWhiteSpaceSibling","inc","isTextBlock$1","ed","replaceVars","vars","isEq","str1","normalizeStyleValue","getTextDecoration","decoration","getParents$1","FormatUtils","isBookmarkNode$2","getParents$2","isWhiteSpaceNode$1","isTextBlock$2","findLeaf","excludeTrailingWhitespace","leaf","isBogusBr","findParentContentEditable","findSpace","findWordEndPoint","lastTextNode","findSelectorEndPoint","curFormat","findBlockEndPoint","scopeRoot","findParentContainer","block_expand","expandRng","endPoint","expand","ExpandRange","each$8","getEndChild","walk$1","startPoint","exclude","collectSiblings","endNode","findEndPoint","walkBoundary","RangeWalk","zeroWidth","NodeValue","getOption","getOptionIE10","getOptionSafe","get$6","isZeroWidth","wrapName","shouldApplyToTrailingSpaces","applyWordGrab","makeAnnotation","eDoc","decorate","_b","master","_d","annotate","newWrappers","finishWrapper","getOrOpenWrapper","processElements","processElement","processNodes","annotateWithBookmark","transact","initialRng","Annotator","changes","annotationChanged","getAll","hasOnlyOneChild","isPaddingNode","isPaddedEmptyBlock","blockElements","isEmptyFragmentElement","nonEmptyElements","isListFragment","cleanupDomFragment","domFragment","toDomFragment","listItems$1","isPadding","isListItemPadded","isEmptyOrPadded","trimListItems","getParentLi","parentBlock","isParentBlockLi","getSplit","beforeRng","afterRng","cloneContents","findFirstIn","caretPos","caretWalker","newCaretPos","findLastOf","insertMiddle","insertAtCaret","liTarget","liElms","BEGINNING","END","isAt","newPos","InsertList","each$9","ElementUtils","attribs","compareObjects","obj1","obj2","getLastChildren","rawNode","removeTrailingBr","allBrs","fillWithPaddingBr","isPaddingContents","isPaddedElement","trimBlockTrailingBr","lastChild$$1","lastChildPrevSibling","PaddingBr","makeMap$3","Writer","indentBefore","indentAfter","htmlOutput","indent_before","indent_after","entity_encoding","element_format","cdata","comment","pi","doctype","Serializer","writer","3","8","7","10","4","11","sortedAttrs","elementRule","shortEnded","createRange$1","normalizeBlockSelectionRange","commonAncestorContainer","newEndPos","normalize","RangeNormalizer","isAfterNbsp","trimOrPadLeftRight","hasSiblingText","trimNbspAfterDeleteAndPadValue","isTableCell$2","selectionSetContent","insertData","validInsertion","trimBrsFromTableCell","reduceInlineTextElements","merge","textInlineElements","root_1","elementUtils_1","testNode","markFragmentElements","umarkFragmentElements","isPartOfFragment","canHaveChildren","moveSelectionToMarker","parentEditableFalseElm","nextRng","getContentEditableFalseParent","findNextCaretRng","data-mce-bogus","insertHtmlAtCaret","details","parser","bookmarkHtml","caretElement","parentElement","parserArgs","_selectionOverrides","showBlockCaretContainer","invalid","getStart","addVisual","processValue","insertAtCaret$1","InsertContent","sectionResult","detection","mobilePlugins","defaultMobileSettings","normalizePlugins","pluginNames","trimmedPlugins","filterMobilePlugins","extractSections","keys$$1","getSection","sections","sectionSettings","hasSection","getDefaultSettings","documentBaseUrl","delta_width","delta_height","popup_css","document_base_url","add_form_submit_trigger","submit_patch","add_unload_trigger","convert_urls","relative_urls","remove_script_host","visual","font_size_style_values","font_size_legacy_values","hidden_input","render_ui","indentation","inline_styles","convert_fonts_to_spans","convertURL","ie7_compat","getExternalPlugins","overrideSettings","userDefinedExternalPlugins","external_plugins","combinePlugins","forcedPlugins","processPlugins","isTouchDevice","defaultOverrideSettings","forced_plugins","platformPlugins","combinedPlugins","isOnMobile","combineSettings","defaultSettings","extendedSettings","getEditorSettings","getFiltered","getString","getParamObject","isArrayOf","strongRtl","hasStrongRtl","isInlineTarget","findInlineParents","findRootInline","hasSameParentBlock","block1","block2","isAtZwsp","normalizePosition","normalizeForwards","normalizeBackwards","InlineUtils","isBeforeRoot","getParentBlock$1","placeCaretInEmptyBody","setCursorLocation","paddEmptyBody","willDeleteLastPositionInElement","fromPos","firstPos","lastPos","normalizedFirstPos","normalizedLastPos","normalizedFromPos","nextPos","prevPos","DeleteUtils","ancestor$2","hasWhitespacePreserveParent","rootElement","isWhitespace","isNamedAnchor","isContent$1","isBookmark","isBogus$2","isBogusAll$1","isEmptyNode","isEmpty$1","Empty","BlockPosition","BlockBoundary","getBlockPosition","isDifferentBlocks","blockBoundary","hasSameParent","parent1","parent2","skipLastBr","blockPosition","lastPositionInBlock","readFromRange","fromBlockPos","toBlockPos","blockPos","read$1","BlockMergeBoundary","dropLast","parentsUntil$1","parents$1","Parents","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","parents$$1","isEmptyBefore","nestedBlockMerge","fromBlock","toBlock","insertionPoint","child$$1","sidelongBlockMerge","findInsertionPoint","getInsertionPoint","trimBr","mergeBlockInto","mergeBlocks","MergeBlocks","backspaceDelete","BlockBoundaryDelete","deleteRangeMergeBlocks","deleteContents","isRawNodeInTable","isSelectionInTable","isEverythingSelected","noPrevious","noNext","emptyEditor","deleteRange","backspaceDelete$1","BlockRangeDelete","generate$1","cases","constructors","adt","acase","argLength","branches","branchKeys","allReqd","reqKey","Adt","isBr$5","findBr","parentBlocks","isBeforeBr","isAfterBr","findPreviousBr","findNextBr","isCompoundElement","DeleteAction","moveToElement","moveToPosition","isAtContentEditableBlockCaret","caretLocation","isDeleteFromCefDifferentBlocks","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","getContentEditableBlockAction","skipMoveToActionFromInlineCefToContent","deleteAction","getContentEditableAction","read$2","isCollapsibleWhitespace","normalizeContent","isStartOfContent","isEndOfContent","previousCharIsSpace","normalize$1","replaceData","normalizeWhitespaceAfter","whitespaceCount","normalizeWhitespaceBefore","mergeTextNodes","prevNode","normalizeWhitespace","whitespaceOffset","needsReposition","beforeOrStartOf","afterOrEndOf","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwardsFromElm","startPosition","findCaretPositionForwardsFromElm","findCaretPositionBackwards","findCaretPositionForward","findCaretPosition$1","findCaretPosOutsideElmAfterDelete","eqRawNode","isBlock$2","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","prevTextOpt","nextTextOpt","isInlineElement","deleteElement","moveCaret","afterDeletePos","normalizedAfterDeletePos","paddPos","DeleteElement","deleteElement$1","hideFakeCaret","backspaceDeleteCaret","deleteOffscreenSelection","backspaceDeleteRange","selectedElement","getContentEditableRoot","paddEmptyElement","ceRoot","backspaceDelete$2","CefDelete","isText$8","startsWithCaretContainer$1","endsWithCaretContainer$1","createZwsp","insertBefore$1","newNode","insertAfter$1","insertInline$1","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","caretNode","renderCaret","BoundaryCaret","evaluateUntil","fns","LazyEvaluator","Location","rescope","before$3","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","after$3","isValidLocation","readLocation","getName","outside","inside","isEq$1","location1","location2","betweenInlines","fromInline","toInline","skipNoMovement","fromLocation","toLocation","findLocationTraverse","findLocationSimple","findLocation","BoundaryLocation","prevLocation","nextLocation","hasSelectionModifyApi","getSel","modify","moveByWord","WordSelection","setCaretPosition","isFeatureEnabled","inline_boundaries","renderCaretLocation","findLocation$1","toggleInlines","selectedInlines","targetInlines","safeRemoveCaretContainer","renderInsideInlineCaret","inlines","move","moveWord","setupSelectedState","moveNextWord","movePrevWord","BoundarySelection","isFeatureEnabled$1","rangeFromPositions","hasOnlyTwoOrLessPositionsLeft","setCaretLocation","location$$1","deleteFromTo","ignore","rescope$1","backspaceDeleteCollapsed","toPosition","backspaceDelete$3","InlineBoundaryDelete","tableCellRng","tableSelection","removeTable","emptyCells","isRootFromElement","getClosestCell","getClosestTable","cell","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableCells","getCellRangeFromStartTable","endCell","partialSelection","startCell","isWithinSameTable","getCellRng","getTableSelectionFromCellRng","getTableSelectionFromRng","getCellIndex","cells","getSelectedCells","startIndex","endIndex","getAction","getActionFromCells","getActionFromRange","TableDeleteAction","getRanges","ranges","rangeCount","getRangeAt","getSelectedNodes","hasMultipleRanges","MultiRange","getCellsFromRanges","getCellsFromElement","selectedCells","getCellsFromElementOrRanges","rangeCells","getCellsFromEditor","TableCellSelection","deleteTableElement","deleteCellRange","deleteCaptionRange","emptyElement","deleteTableRange","startElm","getParentCaption","deleteRange$1","getParentCell","deleteBetweenCells","fromCell","toCell","isDeleteOfLastCharPos","fromCaption","last$$1","emptyCaretCaption","validateCaretCaption","toCaption","deleteCaretInsideCaption","deleteCaretCells","deleteCaretCaption","deleteCaret","backspaceDelete$4","TableDelete","isEq$2","matchesUnInheritedFormatSelector","formatList","inherit","matchParents","matchName","matchItems","similar","onmatch","exact","matchAll","startElement","matchedFormatNames","checkedMap","defaultBlock","MatchFormat","split$1","SplitRange","ZWSP$1","CARET_ID$1","importNode","getEmptyCaretContainers","isCaretContainerEmpty","findFirstTextNode","createCaretContainer","fill","trimZwspFromCaretContainer","removeCaretContainerNode","removeCaretContainer","insertCaretContainerNode","formatNode","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","applyCaretFormat","wordcharRegex","removeCaretFormat","hasContentAfter","expandedRng","newCaretContainer","disableCaretContainer","setup$2","replaceWithCaretFormat","innerMost","isFormatElement","inlineElements","isEmptyCaretFormatElement","getParentInlines","hasOnlyOneChild$1","deleteLastPosition","parentInlines","isFormatElement$$1","deleteCaret$1","backspaceDelete$5","InlineFormatDelete","isContentEditableTrue$3","isContentEditableFalse$6","showCaret","getNodeRange","renderCaretAtRange","caretPositionNode","caretPositionBeforeNode","renderRangeCaret","caretRange","isAfterContentEditableFalse$1","isBeforeContentEditableFalse$1","trimEmptyTextNode$1","deleteContentAndShowCaret","peekCaretPosition","deleteCefBoundaryText","getNextVisualCaretPosition","getPrevVisualCaretPosition","getNextPosFn","isBeforeContentEditableFalseFn","nextCaretPosition","backspaceDelete$6","CefBoundaryDelete","nativeCommand","deleteCommand","forwardDeleteCommand","DeleteCommands","getBodySetting","bodyObj","getIframeAttrs","getDocType","getDocumentBaseUrl","getBodyId","getBodyClass","getContentSecurityPolicy","shouldPutBrInPre","getForcedRootBlock","getForcedRootBlockAttrs","getBrNewLineSelector","getNoNewLineSelector","shouldKeepStyles","shouldEndContainerOnEmptyBlock","getFontStyleValues","getFontSizeClasses","getImagesDataImgFilter","isAutomaticUploadsEnabled","shouldReuseFileName","shouldReplaceBlobUris","getImageUploadUrl","getImageUploadBasePath","getImagesUploadCredentials","getImagesUploadHandler","shouldUseContentCssCors","Settings","getSpecifiedFontProp","getProperty","round$1","normalizeFontFamily","getComputedFontProp","getFontProp","FontInfo","getFontSize","getFontFamily","findFirstCaretElement","isRangeAtStartOfNode","getCaretElement","fromFontSizeNumber","fontSizeNumber","fontSizes","fontClasses","fontNameAction","fontNameQuery","fontSizeAction","fontSizeQuery","isEq$3","rng1","RangeCompare","findParent","hasParent","hasParentWithName","isTable$2","isTableCell$3","isCeFalseCaretContainer","hasBrBeforeAfter","isPrevNode","hasContentEditableFalseParent","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","normalize$2","normRng","NormalizeRange","hasRightSideContent","scrollToBr","brElm","moveSelectionToBr","extraBr","insertBrAtCaret","isAfterLastNodeInContainer","containerBlock","containerBlockName","isControlKey","ctrlKey","insertBrBefore","insertBrAfter","hasBrAfter","isBeforeBr$1","isAnchorLink","isInsideAnchor","readInlineAnchorLocation","insertBrOutsideAnchor","anchorLocation","InsertBr","type$1","domRange","range$1","browser$3","normalizeRng","soffset","foffset","isOrContains","isRngInRoot","shouldStore","nativeRangeToSelectionRange","readRange","getBookmark$2","bookmarkToNativeRng","newBookmark","storeNative","restore","SelectionBookmark","indentElement","useMargin","unit","indentStyleName","isListComponent","parentIsListComponent","getBlocksToIndent","getSelectedBlocks","indentUnit","indentValue","each$a","extend$2","map$3","inArray$2","EditorCommands","customCommand","skip_focus","quirks","addCommands","commandList","addCommand","queryCommandSupported","addQueryStateHandler","addQueryValueHandler","hasCustomCommand","execNativeCommand","isFormatMatch","storeSelection","restoreSelection","mceResetDesignMode,mceBeginUndoLevel","mceEndUndoLevel,mceAddUndoLevel","Cut,Copy,Paste","queryCommandEnabled","notificationManager","unlink","JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone","InsertUnorderedList,InsertOrderedList","listElm","listParent","Bold,Italic,Underline,Strikethrough,Superscript,Subscript","ForeColor,HiliteColor","FontName","FontSize","RemoveFormat","mceBlockQuote","FormatBlock","mceCleanup","mceRemoveNode","mceSelectNodeDepth","mceSelectNode","mceInsertContent","mceInsertRawHTML","mceToggleFormat","mceSetContent","Indent,Outdent","mceRepaint","InsertHorizontalRule","mceToggleVisualAid","mceReplaceContent","mceInsertLink","anchor","selectAll","editingHost","selectNodeContents","delete","forwardDelete","mceNewDocument","InsertLineBreak","alignStates","JustifyLeft","JustifyCenter","JustifyRight","JustifyFull","Outdent","paddingLeft","getEnd","undo","redo","Dispatcher","beforeFire","once","bindingName","hi","customEventRootDelegates","toggleNativeEvent","Observable","firePreProcess","firePostProcess","fireRemove","fireSwitchMode","fireObjectResizeStart","fireObjectResized","setEditorCommandState","toggleReadOnly","hideResizeRect","getMode","getEventTarget","eventName","event_root","eventRoot","isListening","fireEvent","bindEventDelegate","eventRootElm","delegates","editorManager","editors","EditorObservable","bindPendingEventDelegates","_pendingNativeEvents","unbindAllNativeEvents","EditorObservable$1","each$b","explode$2","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","Shortcuts","pendingPatterns","parseShortcut","charCode","access","createShortcut","desc","cmdFunc","subpatterns","hasModifier","altKey","isFunctionKey","matchShortcut","executeShortcutAction","_DOC","getContentEditableHost","getCollapsedNode","getFocusInElement","normalizeSelection","focusBody","setActive","hasElementFocus","hasIframeFocus","iframeElement","hasInlineFocus","rawBody","hasFocus$1","focusEditor","refreshContentEditable","contentEditableHost","activateEditor","bookmarkRng","focus$1","skipFocus","EditorFocus","getProp","rawElm","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","getBoundingClientRect$1","isInsideElementContentArea","transpose","isXYInContentArea","transposedPoint","fromDomSafe","isEditorAttachedToDom","rawContainer","EditorView","unimplemented","NotificationManager","getImplementation","getTopNotification","addNotification","closeNotification","otherNotification","getNotifications","registerEvents","serviceMessage","service_message","WindowManager","funcBind","fireOpenEvent","fireCloseEvent","addWindow","closeWindow","otherWindow","getTopWindow","getWindows","code","I18n","setCode","newCode","_dir","getCode","langData","getLangData","values_1","$2","resolvePluginName","targetUrl","matchUrl","pluginUrlToMessage","plugin","displayNotification","displayError","uploadError","pluginLoadError","pluginInitError","initError","console$$1","ErrorReporter","PluginManager$1","XMLHttpRequest","Uploader","uploadStatus","pendingPromises","pathJoin","path1","path2","defaultHandler","progress","xhr","credentials","upload","onprogress","loaded","json","responseText","basePath","send","noUpload","handlerSuccess","handlerFailure","resolvePending","blobUri","uploadBlobInfo","openNotification","markPending","closeNotification_1","markUploaded","removeFailed","percent","isDefaultHandler","pendingUploadBlobInfo","uploadBlobs","blobInfos","isUploaded","isPending","FileReader","Uint8Array","requestAnimationFrame$1","atob","base64","blobUriToBlob","rejectWithError","responseType","parseDataUri","uri","uriParts","decodeURIComponent","dataUriToBlob","Blob","uriToBlob","blobToDataUri","reader","onloadend","readAsDataURL","Conversions","imageToBlobInfo","blobCache","img","getByUri","dataUri","findFirst","cachedBlobInfo","getAllImages","ImageScanner","cachedPromises","images","promises","imageInfo","newPromise","count$1","rnd","uuid","Uuid","BlobCache","mimeToExt","mime","mimes","image/jpeg","image/jpg","image/gif","image/png","toBlobInfo","removeByUri","UploadStatus","PENDING","UPLOADED","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","EditorUpload","uploader","imageScanner","urlFilters","aliveGuard","cacheInvalidator","replaceString","replaceImageUrl","replacementUrl","replaceUrlInUndoStack","fragments","replaceImageUri","data-mce-src","uploadImages","scanForImages","imageInfos","filteredResult","uploadInfo","uploadImagesAuto","isValidDataUriImage","imgElm","filter$$1","dataImgFilter","addFilter","resultItem","replaceBlobUris","editorUpload","source_view","isBlockElement","isValidTarget","hasBlockParent","shouldRemoveTextNode","addRootBlocks","rootBlockNode","tempNode","wrapped","rootNodeName","forcedRootBlock","forced_root_block_attrs","setup$3","ForceBlocks","getStartNode","getEndNode","getFirstChildren","getLastChildren$1","hasAllContentsSelected","moveEndPoint$1","hasAnyRanges","sel","NodeChange","lastRng","lastPath","isSameElementPath","currentPath","nativeRng","fakeRng","selectionChange","disable_nodechange","VDirection","getAbsolutePosition","getBodyPosition","getScrollPosition","getBodyScroll","inlineScroll","iframeScroll","getMousePosition","iframePosition","scrollPosition","calculatePosition","bodyPosition","mousePosition","calc","MousePosition","isContentEditableFalse$7","isContentEditableTrue$4","isDraggable","isValidDropTarget","targetElement","dragElement","cloneElement","cloneElm","createGhost","clonedElm","ghostElm","unselectable","contenteditable","overflow","boxSizing","appendGhostToBody","moveGhost","removeElement","isLeftMouseButtonPressed","hasDraggableElement","applyRelPos","relX","start$1","ceElm","elmPos","relY","ghost","move$1","throttledPlaceCaretAt","placeCaretAt","movement","abs","dragging","targetPos","getRawTarget","drop","targetClone_1","targetClone","insertContent","removeDragState","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","dropHandler","dragEndHandler","rootDocument","blockIeDrop","realTarget","DragDropOverrides","getNodeClientRects","toArrayWithNode","findUntil","walkUntil","isAboveFn","isBeflowFn","targetClientRect","line","aboveLineNumber","lineNumber","isLineNumber","upUntil","Up","downUntil","Down","positionsUntil","isBelowFn","getClientRect","isAboveLine","isLine","isContentEditableFalse$8","findNode$1","distanceToRectLeft","distanceToRectRight","isInside","findClosestClientRect","oldClientRect","oldDistance","newDistance","walkUntil$1","findLineNodeRects","targetNodeRect","checkPosFn","lineRects","getFakeCaretTargets","caretInfo","closestCaret","closestNodeRect","contentEditableFalseNodeRects","targetNodeRects","isXYWithinRange","RangePoint","setup$4","renderFocusCaret","CefFocus","VK","BACKSPACE","DELETE","ENTER","LEFT","RIGHT","SPACEBAR","TAB","modifierPressed","metaKeyPressed","isContentEditableTrue$5","isContentEditableFalse$9","isAfterContentEditableFalse$2","isBeforeContentEditableFalse$2","getContentEditableRoot$1","SelectionOverrides","selectedContentEditableNode","fakeCaret","realSelectionId","isFakeSelectionElement","getRealSelectionElement","setRange","getRange","showCaret$$1","getNormalizedRangeEndPoint$$1","blockCaretContainer","contentEditableRoot","removeContentEditableSelection","handleTouchSelect","moved","setContentEditableSelection","hasNormalCaretPosition","isInSameBlock$$1","hasBetterMouseTarget","targetBlock","caretBlock","isPasteBin","isRangeInCaretContainer","clipboardData","realSelectionElement","clearData","setData","outerText","addCss","contentStyles","rootClass","isWithinCaretContainer","$realSelectionContainer","origTargetClone","removeAllRanges","addRange","isValidPrefixAttrName","trimComments","isInvalidUri","allow_html_data_urls","findEndTagIndex","tokenRegExp","shortEndedElements","checkBogusAttribute","regExp","attrString","SaxParser","fix_self_closing","endRegExp","attrList","textData","isInternalElement","removeInternalElements","fillAttrsMap","isShortEnded","isValidElement","attribsValue","validAttributesMap","validAttributePatterns","processHtml","anyAttributesRequired","selfClosing","attrRegExp","fixSelfClosing","stack","filteredUrlAttrs","scriptUriRegExp","processEndTag","parseAttribute","val2","val3","attrRule","trimRegExp","unescape","self_closing_elements","remove_internals","bogusValue","allow_conditional_comments","findEndTag","SaxParser$1","trimHtml","tempAttrs","trimContentRegExp","trimInternal","endTagIndex","matchLength","bogusAllRegExp","getTempAttrs","trimExternal","TrimHtml","KEEP","INSERT","vDown","vUp","snake","diag","buildScript","start1","end1","start2","end2","middle","getMiddleSnake","i2","buildSnake","sum","Diff","getOuterHtml","createFragment$1","insertAt","removeAt","applyDiff","read$3","write","currentFragments","Fragments","undoLevelDocument","lazyTempDocument","implementation","createHTMLDocument","hasIframes","createFragmentedLevel","beforeBookmark","createCompleteLevel","createFromEditor","trimmedFragments","trimmed","applyToEditor","getLevelContent","getCleanLevelContent","hasEqualContent","level1","level2","hasEqualCleanedContent","isEq$4","Levels","UndoManager","isFirstTypedCharacter","locks","isUnlocked","setTyping","typing","setDirty","addNonTypingUndoLevel","endTyping","beforeChange","isDirty","lastLevel","modKey","isInsertReplacementText","inputType","isInsertTextDataNull","addShortcut","currentLevel","custom_undo_redo_levels","clear","hasUndo","hasRedo","callback1","callback2","postProcessHooks","filter$2","each$c","addPostProcessHook","postProcess","isPre","hasPreSibling","pre","joinPre","pre1","pre2","Hooks","MCE_ATTR_RE","each$d","isEq$5","isTableCell$4","isChildOfInlineParent","lastIdx","wrap$2","wrapWithSiblings","siblings$$1","matchName$1","isColorFormatAndAnchor","links","find$4","removeNode$1","rootBlockElm","list_block","removeFormat","compareNode","stylesModified","remove_similar","valueOut","findFormatRoot","formatRoot","wrapAndSplit","lastClone","firstClone","formatRootParent","mixed","remove$8","splitToFormatRoot","isRemoveBookmarkNode","process","lastContentEditable","removeRngStyle","textDecoration","ceFalseOverride","each$e","isElementNode","findElementSibling","mergeSiblingsNodes","tmpSibling","elementUtils","processChildElements","hasStyle","applyStyle","unwrapEmptySpan","processUnderlineAndColor","mergeUnderlineAndColor","mergeBackgroundColorAndFontSize","mergeSubSup","mergeSiblings","merge_siblings","clearChildStyles","clear_child_styles","mergeWithChildren","mergeWithParents","merge_with_parents","MergeFormats","each$f","isElementNode$1","applyFormat","setElementFormat","onformat","styleVal","applyNodeStyle","found","applyRngStyle","nodeSpecific","wrapElm","currentWrapElm","parentName","childCount","getChildCount","getChildElementNode","mergeStyles","curSelNode","ApplyFormat","each$g","setup$5","formatChangeData","currentFormats","matchedFormats","addListeners","formatChangeItems","formatChangeState","FormatChanged","get$8","valigntop","verticalAlign","valignmiddle","valignbottom","textAlign","marginLeft","marginRight","fontWeight","fontStyle","forecolor","hilitecolor","fontname","fontsize","fontsize_class","DefaultFormats","FormatRegistry","unregister","each$h","parsedSelectorToHtml","ancestry","sItem","getRequiredParent","elmRule","wrapInHtml","parentCandidate","parentRequired","ancestorName","siblingElm","selectorToHtml","parseSelector","parseSelectorItem","$0","$3","$4","previewFrag","previewElm","parentFontSize","previewStyles","previewCss","preview_styles","removeVars","numValue","toggle$3","ToggleFormat","setup$6","FormatShortcuts","Formatter","hasOwnProperty$2","shallow$1","baseMerge","merger","objects","curObject","htmlParser","addAttributeFilter","internalName","cleanup","trimTrailingBr","brNode1","brNode2","DomSerializerFilters","preProcess","impl","oldDoc","shouldFireEvent","no_events","DomSerializerPreProcess","removeAttrs","addFontToSpansFilter","domParser","face","addStrikeToSpanFilter","addFilters","LegacyFilter","whiteSpaceRegExp$3","typeLookup","#text","#cdata","#pi","#doctype","#document-fragment","walk$2","Node$2","selfAttrs","selfAttr","cloneAttrs","refNode","paddEmptyNode","brPreferred","padd_empty_with_br","isPaddedWithNbsp","hasOnlyChild","isPadded","isEmpty$2","whitespaceElements","isLineBreakNode","remove_trailing_brs","prevName","whiteSpaceElements","appendRel","addNoOpener","newRel","allow_unsafe_link_target","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","makeMap$4","each$i","explode$3","extend$3","DomParser","nodeFilters","attributeFilters","matchedNodes","matchedAttributes","root_name","fixInvalidChildren","newParent","currentNode","childNode","nonSplitableElements","textBlockElements","filterNode","getNodeFilters","getAttributeFilters","isInWhiteSpacePreservedElement","invalidChildren","rootBlockName","startWhiteSpaceRegExp","endWhiteSpaceRegExp","allWhiteSpaceRegExp","isAllWhiteSpaceRegExp","createNode","removeWhitespaceBefore","textNodeNext","textVal","cloneAndExcludeBlocks","attrFiltersLen","isRootContent","addTempAttr","postProcess$1","outArgs","getHtmlFromNode","getInner","parseHtml","serializeNode","htmlSerializer","toHtml","DomSerializer","addRules","setRules","Serializer$1","domSerializer","BookmarkManager","BreakType","BookmarkManager$1","isContentEditableFalse$a","isContentEditableTrue$6","getContentEditableRoot$2","ControlSelection","selectedElm","selectedElmGhost","resizeHelper","resizeHandles","selectedHandle","selectedElmX","selectedElmY","startW","startH","resizeStarted","startScrollWidth","startScrollHeight","editableDoc","nw","ne","se","sw","isEventOnImageOutsideRange","contextMenuSelectImage","getResizeTarget","resizeGhostElement","proportional","resizeHelperX","resizeHelperY","resize_img_proportional","endGhostResize","setSizeProp","showResizeRect","targetWidth","targetHeight","unbindResizeHandleEvents","startDrag","unSelectabe","updateResizeRect","controlElm","isChildOrEqual","disableGeckoResize","isWithinContentEditableFalse","delayedSelect","throttledUpdateResizeRect","getPos$1","fireScrollIntoViewEvent","alignToTop","scrollEvent","scrollElementIntoView","viewPort","viewPortY","viewPortH","offsetY","scrollTo","scrollBy","scrollRangeIntoView","rngRect","bodyRect","ScrollIntoView","hasCeProperty","findParent$1","findClosestIeRange","rects","createTextRange","moveToElementText","moveToPoint","moveOutOfContentEditableFalse","fromPoint$1","pointDoc","caretPositionFromPoint","offsetNode","caretRangeFromPoint","CaretRangeFromPoint","processRanges","EventProcessRanges","fromElements","tableModel","tableRow","cellPosition","getSpan","fillout","rowspan","colspan","y2","x2","cellExists","skipCellsX","getWidth","findElementPos","extractRows","sx","sy","ey","newRows","subTable","createDomTable","tableElement","tableBody","modelRowsToDomRows","fromDom$2","tableElm","toDom","subsection","endElement","SimpleTableModel","findParentListContainer","getFullySelectedListWrappers","listCont","wrap$3","innerElm","directListWrappers","commonAnchorContainer","getWrapElements","wrapElements","listWrappers","allWrappers","emptyFragment","getFragmentFromRange","getParentTable","getTableFragment","selectedTableCells","firstCell","lastCell","fullTableModel","sectionedTableModel","getSelectionFragment","read$4","FragmentReader","getTextContent","getHtmlContent","tmpElm","contextual","GetSelectionContent","createContextualFragment","pasteHTML","SetSelectionContent","getEndpointElement","real","getStart$2","skipEmptyTextNodes","forwards","orig","getNode$1","endElm","selectedBlocks","select$1","each$j","isNativeIeSelection","isAttachedToDom","isValidRange","Selection","bookmarkManager","selectedRange","explicitRange","selectorChangedData","getEnd$$1","compareEndPoints","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","START_TO_START","END_TO_END","ieRange","setBaseAndExtent","anchorNode","focusNode","setNode","getSelectedBlocks$$1","isForward","anchorRange","focusRange","anchorOffset","focusOffset","currentSelectors","matchedSelectors","isContentEditableFalse$b","getSelectedNode$1","isAfterContentEditableFalse$3","isBeforeContentEditableFalse$3","moveToCeFalseHorizontally","rangeIsInContainerBlock","moveToCeFalseVertically","walkerFn","linePositions","nextLinePositions","closestNextLineRect","caretClientRect","dist1","dist2","contentEditableFalseNode","caretPositions","createTextBlock","textBlock","exitPreBlock","newBlock","getHorizontalRange","newRange","getVerticalRange","moveH","moveV","flip","positions","walk$3","getBreakType","currentPos","Br","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastDist","newDist","findClosestHorizontalPosition","getPositionsUntilPreviousLine","getPositionsUntilNextLine","isAtFirstLine","isAtLastLine","getPositionsAbove","getPositionsBelow","getFirstLinePositions","getLastLinePositions","deflate","getCorners","getYAxisValue","tds","findClosestCorner","corners","newCorner","oldCorner","oldDist","getClosestCell$1","isTargetCorner","corner","getBottomValue","getTopValue","isAbove$1","isBelow$1","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","moveToRange","hasNextBreak","lineInfo","breakPos","startsWithWrapBreak","startsWithBrBreak","isAtTableCellLine","isAtFirstTableCellLine","isAtLastTableCellLine","isCaretAtStartOrEndOfTable","navigateHorizontally","getClosestAbovePosition","getClosestBelowPosition","getTable","renderBlock","navigateVertically","moveH$1","moveV$1","isTarget","rangeBefore","insertElement","insertBr","insertBlock$1","insertEmptyLine","getClosestTargetBlock","isAtFirstOrLastLine","moveCaretToNewEmptyLine","rootBlock","rootBlockAttrs","moveV$2","defaultPatterns","patterns","matchesEvent","match$1","MatchKeys","executeKeydownOverride","setup$7","ArrowKeys","executeKeydownOverride$1","executeKeyupOverride","setup$8","DeleteBackspaceKeys","firstNonWhiteSpaceNodeSibling","moveToCaretPosition","tempElm","lastNode","getEditableRoot","editableRoot","getParentBlock$2","getParentBlockName","isListItemParentBlock","NewLineUtils","hasFirstChild","hasParent$1","isListBlock","isNestedList","getContainerBlock","containerBlockParent","isFirstOrLastLi","insert$1","createNewBlock","newBlockName","tmpRng","InsertLi","trimZwsp","isEmptyAnchor","isTableCell$5","emptyBlock","containerAndSiblingName","canSplitBlock","trimInlineElementsOnLeftSideOfBlock","firstChilds","normalizeZwspOffset","includeZwspInRange","trimLeadingLineBreaks","getEditableRoot$1","setForcedBlockAttrs","forcedRootBlockName","wrapSelfAndSiblingsInDefaultBlock","addBrToBlockIfNeeded","insert$2","parentBlockName","clonedNode","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","InsertBlock","shouldInsertBr","shouldBlockNewLine","ContextSelectors","newLineAction","shouldBlockNewLine$1","isBrMode","requiredState","brMode","inListBlock","inBlock","inPreBlock","inSummaryBlock","shouldPutBrInPre$1","inBrContext","hasShiftKey","canInsertIntoEditableRoot","rootEditable","match$2","predicates","isMatch","getAction$1","NewLineAction","insert$3","InsertNewLine","endTypingLevel","handleEnterKeyEvent","setup$9","EnterKey","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","isAtBlockBoundary","isAtStartOfBlock","isAtEndOfBlock","isInMiddleOfText","getClosestBlock","hasSpaceBefore","hasSpaceAfter","isPreValue","isInPre","isAtBeginningOfBody","isAtEndOfBody","isAtLineBoundary","needsToHaveNbsp","needsToBeNbspLeft","needsToBeNbspRight","isNbspAt","hasNbsp","normalizeNbspAtStart","normalizeNbspMiddle","chars","normalizeNbspAtEnd","normalizeNbsps","newText","normalizeNbspsInEditor","locationToCaretPosition","insertInlineBoundarySpaceOrNbsp","checkPos","setSelection$1","insertSpaceOrNbspAtSelection","executeKeydownOverride$2","setup$a","SpaceKey","findBlockCaretContainer","removeIeControlRect","handleBlockContainer","setup$b","CaretContainerInput","browser$4","setupIeInput","keypressThrotter","setup$c","isComposing","setup$d","KeyboardOverrides","Quirks","isGecko","isWebKit","mceInternalUrlPrefix","mceInternalDataType","setMceInternalContent","selectionHtml","internalContent","escape","getMceInternalContent","getData","insertClipboardContents","internal","emptyEditorWhenDeleting","serializeRng","allContentsSelected","allRng","allSelection","inputMethodFocus","removeHrOnBackspace","Range","body_1","selectControlElements","removeStylesWhenDeletingAcrossBlockElements","getAttributeApplyFunction","template","setAttributeNode","isSelectionAcrossElements","applyAttributes","disableBackspaceIntoATable","removeBlockQuoteOnBackSpace","setGeckoEditingOptions","setOpts","addBrAfterLastLinks","fixLinks","setDefaultBlockType","showBrokenImageIcon","restoreFocusOnKeyDown","bodyHeight","blockCmdArrowNavigation","disableAutoUrlDetect","tapLinksAndImages","blockFormSubmitInsideEditor","removeAppleInterchangeBrs","ieInternalDragAndDrop","isTextBlockNode","normalizeSelection$1","setup$e","preventSummaryToggle","filterDetails","setup$f","appendStyle","createParser","autoFocus","auto_focus","destroyed","initEditor","execCallback","getStyleSheetLoader","initContentBody","skipWrite","contentCssText","visibility","orgVisibility","iframeHTML","content_document","content_window","bodyElement","hex_colors","force_hex_style_colors","class_filter","annotator","_nodeChangeDispatcher","browser_spellcheck","gecko_spellcheck","directionality","nowrap","protect","startContent","InitContentBody","relaxDomain","domain","hostname","bodyUuid","domainRelaxUrl","normalizeHeight","normalizedHeight","createIframeElement","customAttrs","iframe","frameBorder","allowTransparency","getIframeHtml","bodyId","bodyClass","getURI","createIframe","isDomainRelaxed","contentAreaContainer","init$1","boxInfo","orgDisplay","InitIframe","DOM$4","initPlugin","initializedPlugins","Plugin","pluginInstance","trimLegacyPrefix","initPlugins","initTheme","renderFromLoadedTheme","min_height","iframeHeight","renderFromThemeFunc","createThemeFalseResult","renderThemeFalseIframe","renderThemeFalse","renderThemeUi","init$2","rtl_ui","i18n","aria_label","getLang","content_css","Init","DOM$5","hasSkipLoadPrefix","loadLanguage","scriptLoader","language_url","loadTheme","themeUrl","theme_url","loadPlugins","formElement","hasHiddenInput","formEventDelegate","_mceOldSubmit","triggerSave","windowManager","encoding","save","_beforeUnload","set_dirty","add$4","each$k","trim$4","queryParts","DEFAULT_PORTS","ftp","https","mailto","URI","baseUri","base_uri","source","isProtocolRelative","protocol","toAbsPath","part","userInfo","port","setPath","toRelative","tu","uu","toRelPath","noHost","isSameOrigin","defaultPort","breakPoint","outPath","nb","noProtoHost","loc","pathname","defaultFormat","trimEmptyContents","emptyRegExp","getContentFromBody","getContent$1","traverse","findMatchingNodes","nodeMatches","attrMatches","filter$3","defaultFormat$1","isTreeNode","moveSelection","setEditorHtml","setContentString","padd","setContentTree","setContent$1","DOM$6","restoreOriginalStyles","safeDestroy","clearDomReferences","restoreForm","remove$9","is_removing","automatic","DOM$7","extend$4","each$l","resolve$4","ie$2","documentBaseURL","baseURI","language_load","loadedCSS","editorCommands","cache_suffix","override_viewport","callbackLookup","lang_1","i18n_1","addSidebar","addContextToolbar","focusedEditor","setProgressState","isNotDirty","oldState","urlconverter_callback","visual_table_class","visual_anchor_class","_scanForImages","documentFocusInHandler","beforeUnloadDelegate","EditorManager","isEditorUIElement","FocusManager","isManualNodeChange","registerPageMouseUp","throttledStore","mouseUpPage","registerFocusOut","registerMouseUp","registerEditorEvents","SelectionRestore","DOM$8","isEditorUIElement$1","isUIElement","customSelector","custom_ui_selector","getActiveElement","blurredEditor","unregisterDocumentEvents","setup$g","FocusController","DOM$9","explode$4","each$m","extend$5","instanceCounter","boundGlobalEvents","legacyEditors","isValidLegacyKey","globalEventDelegate","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","purgeDestroyedEditor","majorVersion","minorVersion","releaseDate","preInit","tinyMCEPreInit","srcScript","currentScript","base_url","pluginBaseUrls","plugin_base_urls","invalidInlineTargets","isInvalidInlineTarget","createId","findTargets","forms","editor_deselector","editor_selector","provideResults","initEditors","initCount","createEditor","existingEditor","EditorManager$1","RangeUtils","normalizedRng","compareRanges","getCaretRangeFromPoint","extendClass","initializing","RangeUtils$1","round$2","create$3","constrainRect","cropRect","x1","y1","clamp$1","clampRect","fixedSize","underflowX1","underflowY1","overflowX2","overflowY2","cx2","cy2","fromClientRect","Rect","typeClass","lctype","controlType","ControlType","each$n","extend$6","member","mixins","mixin","dummy","createMethod","name_1","Methods","fieldName","min$1","max$1","round$3","rgb2hsv","minRGB","maxRGB","hsvToRgb","saturation","brightness","side","chroma","quote","JSON$1","JSONP","XHR","ready","success_scope","error_scope","overrideMimeType","content_type","crossDomain","setRequestHeader","requestheaders","extend$7","JSONRequest","sendRPC","ecb","scb","ty","method","localStorage$$1","create$4","storage","configurable","LocalStorage","publicApi","geom","EventDispatcher","isMac","exportToModuleLoaders","exportToWindowGlobal","tinyMCE","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_bc6be5b2_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_bc6be5b2_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_404_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_404_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_IeUnderTen_vue_vue_type_style_index_0_id_563a16fc_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_IeUnderTen_vue_vue_type_style_index_0_id_563a16fc_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_NewsDetails_vue_vue_type_style_index_0_id_2a0bc0d1_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_NewsDetails_vue_vue_type_style_index_0_id_2a0bc0d1_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_News_vue_vue_type_style_index_0_id_51a6c19b_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_News_vue_vue_type_style_index_0_id_51a6c19b_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_1_id_e30c17ca_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_7_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_4_1_0_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_1_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_1_id_e30c17ca_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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AUmkF,GAEpB,OADAzlD,EAAOulD,EAAYvlD,EAAM,YAAa,kBAAmBylD,GAClDzlD,GAETvsC,KAAKkyF,MAAQ,SAAUF,GAErB,OADAzlD,EAAO0lD,EAAiB1lD,EAAM,YAAa,kBAAmBylD,GACvDzlD,GAIX,IAoSI4lD,GAAeC,GAAcC,GApS7B9wB,GAAS,CACX,UACA,QACA,UACA,MACA,KACA,aACA,SACA,OACA,WACA,SACA,SACA,OACA,OACA,MACA,UACA,UACA,OACA,IACA,KACA,WACA,KACA,SACA,UACA,SACA,aACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,MACA,MACA,YACA,OACA,MACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,KACA,KACA,KACA,WAEE+wB,GAAQ,CACV,OACA,OACA,WACA,KACA,MACA,QACA,KACA,MACA,QACA,UACA,OACA,OACA,QACA,QACA,SACA,MACA,SAEEC,GAAa,CACf,KACA,MAEEC,GAAgB,CAClB,QACA,QACA,SAEEC,GAAa,CACf,KACA,KACA,KACA,KACA,KACA,KACA,IACA,MACA,UACA,MACA,OACA,aACA,SACA,MACA,WACA,SACA,SACA,UACA,UACA,SACA,QACA,MACA,UAEEC,GAAW,CACb,KACA,KACA,KACA,KACA,KACA,MAEEC,GAAY,CACd,KACA,KACA,MAEEC,GAAQ,CACV,KACA,KACA,MAEEC,GAAa,CACf,MACA,SACA,WACA,SAEEC,GAAa,SAAU7wE,GACzB,IAAI2sB,EACJ,OAAO,SAAUrC,GAEf,OADAqC,EAASA,GAAkB+gC,GAAY1tD,EAAOgQ,GAAS,IAChD2c,EAAO9iD,eAAewB,GAAKi/C,MAGlCwmD,GAAYD,GAAWJ,IACvBM,GAAUF,GAAWvxB,IACrB1xC,GAAW,SAAU0c,GACvB,OAAOsJ,GAAUtJ,KAAUymD,GAAQzmD,IAEjC0mD,GAAO,SAAU1mD,GACnB,OAAOsJ,GAAUtJ,IAAwB,OAAfj/C,GAAKi/C,IAE7B2mD,GAAcJ,GAAWL,IACzBU,GAASL,GAAWF,IACpBQ,GAAaN,GAAWH,IACxBU,GAASP,GA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","file":"js/app.23be74d1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./ServiceDetails.vue?vue&type=style&index=0&id=0f577b37&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./ServiceDetails.vue?vue&type=style&index=0&id=0f577b37&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./VueQuilEditor.vue?vue&type=style&index=0&id=730addd2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./VueQuilEditor.vue?vue&type=style&index=0&id=730addd2&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./HospitalService.vue?vue&type=style&index=1&id=7ae36afe&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./HospitalService.vue?vue&type=style&index=1&id=7ae36afe&lang=less&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAASCAYAAAC9+TVUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAABQElEQVQ4y53UoUudYRTH8Y8Pb7gDwy2C0WhYXBC0PLjgorAgTJDBDGOIRfAPsBoWNowKCxqEYTMMzsKKaFywabxhwbAoF8N9XtAX733v9VfP73yf85xznmfKEEVEFwvo4lfO+d8w79QzydP9fn8npbRdALX+YDPnfN3MSc+AD1NKuzjCDF7hYwH+jIjZZkLVqGId75Fzzr8fhY4i4hyXOMDqqEqWcdIAMKD28BkrETE9CrKEC8P1Fx28ftLYiKiwjg94i2v0hkA6BhO7whm+5ZzvKnwq9zwtzWxTPZ0vWMS7ChuFuDUG4PEQ1vCj7kkH95MAinqoIqKbRrkiYiEiVtpoVUt8r3jOR5lSC6TtkLFMZwY9ezkk5/x1nEoS7jBflm4SzeF/vWzfcYybiJhk1HPYp/wnEfFG4z2Modv6oT4AfGdWpp1j6hYAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"img/exe.24818faa.jpg\";","tinymce.addI18n('zh_CN',{\r\n\"Redo\": \"\\u91cd\\u590d\",\r\n\"Undo\": \"\\u64a4\\u6d88\",\r\n\"Cut\": \"\\u526a\\u5207\",\r\n\"Copy\": \"\\u590d\\u5236\",\r\n\"Paste\": \"\\u7c98\\u8d34\",\r\n\"Select all\": \"\\u5168\\u9009\",\r\n\"New document\": \"\\u65b0\\u6587\\u6863\",\r\n\"Ok\": \"\\u786e\\u5b9a\",\r\n\"Cancel\": \"\\u53d6\\u6d88\",\r\n\"Visual aids\": \"\\u7f51\\u683c\\u7ebf\",\r\n\"Bold\": \"\\u7c97\\u4f53\",\r\n\"Italic\": \"\\u659c\\u4f53\",\r\n\"Underline\": \"\\u4e0b\\u5212\\u7ebf\",\r\n\"Strikethrough\": \"\\u5220\\u9664\\u7ebf\",\r\n\"Superscript\": \"\\u4e0a\\u6807\",\r\n\"Subscript\": \"\\u4e0b\\u6807\",\r\n\"Clear formatting\": \"\\u6e05\\u9664\\u683c\\u5f0f\",\r\n\"Align left\": \"\\u5de6\\u5bf9\\u9f50\",\r\n\"Align center\": \"\\u5c45\\u4e2d\",\r\n\"Align right\": \"\\u53f3\\u5bf9\\u9f50\",\r\n\"Justify\": \"\\u4e24\\u7aef\\u5bf9\\u9f50\",\r\n\"Bullet list\": \"\\u9879\\u76ee\\u7b26\\u53f7\",\r\n\"Numbered list\": \"\\u7f16\\u53f7\\u5217\\u8868\",\r\n\"Decrease indent\": \"\\u51cf\\u5c11\\u7f29\\u8fdb\",\r\n\"Increase indent\": \"\\u589e\\u52a0\\u7f29\\u8fdb\",\r\n\"Close\": \"\\u5173\\u95ed\",\r\n\"Formats\": \"\\u683c\\u5f0f\",\r\n\"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X\\/C\\/V keyboard shortcuts instead.\": \"\\u4f60\\u7684\\u6d4f\\u89c8\\u5668\\u4e0d\\u652f\\u6301\\u5bf9\\u526a\\u8d34\\u677f\\u7684\\u8bbf\\u95ee\\uff0c\\u8bf7\\u4f7f\\u7528Ctrl+X\\/C\\/V\\u952e\\u8fdb\\u884c\\u590d\\u5236\\u7c98\\u8d34\\u3002\",\r\n\"Headers\": \"\\u6807\\u9898\",\r\n\"Header 1\": \"\\u6807\\u98981\",\r\n\"Header 2\": \"\\u6807\\u98982\",\r\n\"Header 3\": \"\\u6807\\u98983\",\r\n\"Header 4\": \"\\u6807\\u98984\",\r\n\"Header 5\": \"\\u6807\\u98985\",\r\n\"Header 6\": \"\\u6807\\u98986\",\r\n\"Headings\": \"\\u6807\\u9898\",\r\n\"Heading 1\": \"\\u6807\\u98981\",\r\n\"Heading 2\": \"\\u6807\\u98982\",\r\n\"Heading 3\": \"\\u6807\\u98983\",\r\n\"Heading 4\": \"\\u6807\\u98984\",\r\n\"Heading 5\": \"\\u6807\\u98985\",\r\n\"Heading 6\": \"\\u6807\\u98986\",\r\n\"Preformatted\": \"\\u9884\\u683c\\u5f0f\\u5316\",\r\n\"Div\": \"Div\\u533a\\u5757\",\r\n\"Pre\": \"\\u9884\\u683c\\u5f0f\\u6587\\u672c\",\r\n\"Code\": \"\\u4ee3\\u7801\",\r\n\"Paragraph\": \"\\u6bb5\\u843d\",\r\n\"Blockquote\": \"\\u5f15\\u7528\",\r\n\"Inline\": \"\\u6587\\u672c\",\r\n\"Blocks\": \"\\u533a\\u5757\",\r\n\"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.\": \"\\u5f53\\u524d\\u4e3a\\u7eaf\\u6587\\u672c\\u7c98\\u8d34\\u6a21\\u5f0f\\uff0c\\u518d\\u6b21\\u70b9\\u51fb\\u53ef\\u4ee5\\u56de\\u5230\\u666e\\u901a\\u7c98\\u8d34\\u6a21\\u5f0f\\u3002\",\r\n\"Font Family\": \"\\u5b57\\u4f53\",\r\n\"Font Sizes\": \"\\u5b57\\u53f7\",\r\n\"Class\": \"Class\",\r\n\"Browse for an image\": \"\\u6d4f\\u89c8\\u56fe\\u50cf\",\r\n\"OR\": \"\\u6216\",\r\n\"Drop an image here\": \"\\u62d6\\u653e\\u4e00\\u5f20\\u56fe\\u50cf\\u81f3\\u6b64\",\r\n\"Upload\": \"\\u4e0a\\u4f20\",\r\n\"Block\": \"\\u5757\",\r\n\"Align\": \"\\u5bf9\\u9f50\",\r\n\"Default\": \"\\u9ed8\\u8ba4\",\r\n\"Circle\": \"\\u7a7a\\u5fc3\\u5706\",\r\n\"Disc\": \"\\u5b9e\\u5fc3\\u5706\",\r\n\"Square\": \"\\u65b9\\u5757\",\r\n\"Lower Alpha\": \"\\u5c0f\\u5199\\u82f1\\u6587\\u5b57\\u6bcd\",\r\n\"Lower Greek\": \"\\u5c0f\\u5199\\u5e0c\\u814a\\u5b57\\u6bcd\",\r\n\"Lower Roman\": \"\\u5c0f\\u5199\\u7f57\\u9a6c\\u5b57\\u6bcd\",\r\n\"Upper Alpha\": \"\\u5927\\u5199\\u82f1\\u6587\\u5b57\\u6bcd\",\r\n\"Upper Roman\": \"\\u5927\\u5199\\u7f57\\u9a6c\\u5b57\\u6bcd\",\r\n\"Anchor\": \"\\u951a\\u70b9\",\r\n\"Name\": \"\\u540d\\u79f0\",\r\n\"Id\": \"\\u6807\\u8bc6\\u7b26\",\r\n\"Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.\": \"\\u6807\\u8bc6\\u7b26\\u5e94\\u8be5\\u4ee5\\u5b57\\u6bcd\\u5f00\\u5934\\uff0c\\u540e\\u8ddf\\u5b57\\u6bcd\\u3001\\u6570\\u5b57\\u3001\\u7834\\u6298\\u53f7\\u3001\\u70b9\\u3001\\u5192\\u53f7\\u6216\\u4e0b\\u5212\\u7ebf\\u3002\",\r\n\"You have unsaved changes are you sure you want to navigate away?\": \"\\u4f60\\u8fd8\\u6709\\u6587\\u6863\\u5c1a\\u672a\\u4fdd\\u5b58\\uff0c\\u786e\\u5b9a\\u8981\\u79bb\\u5f00\\uff1f\",\r\n\"Restore last draft\": \"\\u6062\\u590d\\u4e0a\\u6b21\\u7684\\u8349\\u7a3f\",\r\n\"Special character\": \"\\u7279\\u6b8a\\u7b26\\u53f7\",\r\n\"Source code\": \"\\u6e90\\u4ee3\\u7801\",\r\n\"Insert\\/Edit code sample\": \"\\u63d2\\u5165\\/\\u7f16\\u8f91\\u4ee3\\u7801\\u793a\\u4f8b\",\r\n\"Language\": \"\\u8bed\\u8a00\",\r\n\"Code sample\": \"\\u4ee3\\u7801\\u793a\\u4f8b\",\r\n\"Color\": \"\\u989c\\u8272\",\r\n\"R\": \"R\",\r\n\"G\": \"G\",\r\n\"B\": \"B\",\r\n\"Left to right\": \"\\u4ece\\u5de6\\u5230\\u53f3\",\r\n\"Right to left\": \"\\u4ece\\u53f3\\u5230\\u5de6\",\r\n\"Emoticons\": \"\\u8868\\u60c5\",\r\n\"Document properties\": \"\\u6587\\u6863\\u5c5e\\u6027\",\r\n\"Title\": \"\\u6807\\u9898\",\r\n\"Keywords\": \"\\u5173\\u952e\\u8bcd\",\r\n\"Description\": \"\\u63cf\\u8ff0\",\r\n\"Robots\": \"\\u673a\\u5668\\u4eba\",\r\n\"Author\": \"\\u4f5c\\u8005\",\r\n\"Encoding\": \"\\u7f16\\u7801\",\r\n\"Fullscreen\": \"\\u5168\\u5c4f\",\r\n\"Action\": \"\\u64cd\\u4f5c\",\r\n\"Shortcut\": \"\\u5feb\\u6377\\u952e\",\r\n\"Help\": \"\\u5e2e\\u52a9\",\r\n\"Address\": \"\\u5730\\u5740\",\r\n\"Focus to menubar\": \"\\u79fb\\u52a8\\u7126\\u70b9\\u5230\\u83dc\\u5355\\u680f\",\r\n\"Focus to toolbar\": \"\\u79fb\\u52a8\\u7126\\u70b9\\u5230\\u5de5\\u5177\\u680f\",\r\n\"Focus to element path\": \"\\u79fb\\u52a8\\u7126\\u70b9\\u5230\\u5143\\u7d20\\u8def\\u5f84\",\r\n\"Focus to contextual toolbar\": \"\\u79fb\\u52a8\\u7126\\u70b9\\u5230\\u4e0a\\u4e0b\\u6587\\u83dc\\u5355\",\r\n\"Insert link (if link plugin activated)\": \"\\u63d2\\u5165\\u94fe\\u63a5 (\\u5982\\u679c\\u94fe\\u63a5\\u63d2\\u4ef6\\u5df2\\u6fc0\\u6d3b)\",\r\n\"Save (if save plugin activated)\": \"\\u4fdd\\u5b58(\\u5982\\u679c\\u4fdd\\u5b58\\u63d2\\u4ef6\\u5df2\\u6fc0\\u6d3b)\",\r\n\"Find (if searchreplace plugin activated)\": \"\\u67e5\\u627e(\\u5982\\u679c\\u67e5\\u627e\\u66ff\\u6362\\u63d2\\u4ef6\\u5df2\\u6fc0\\u6d3b)\",\r\n\"Plugins installed ({0}):\": \"\\u5df2\\u5b89\\u88c5\\u63d2\\u4ef6 ({0}):\",\r\n\"Premium plugins:\": \"\\u4f18\\u79c0\\u63d2\\u4ef6\\uff1a\",\r\n\"Learn more...\": \"\\u4e86\\u89e3\\u66f4\\u591a...\",\r\n\"You are using {0}\": \"\\u4f60\\u6b63\\u5728\\u4f7f\\u7528 {0}\",\r\n\"Plugins\": \"\\u63d2\\u4ef6\",\r\n\"Handy Shortcuts\": \"\\u5feb\\u6377\\u952e\",\r\n\"Horizontal line\": \"\\u6c34\\u5e73\\u5206\\u5272\\u7ebf\",\r\n\"Insert\\/edit image\": \"\\u63d2\\u5165\\/\\u7f16\\u8f91\\u56fe\\u7247\",\r\n\"Image description\": \"\\u56fe\\u7247\\u63cf\\u8ff0\",\r\n\"Source\": \"\\u5730\\u5740\",\r\n\"Dimensions\": \"\\u5927\\u5c0f\",\r\n\"Constrain proportions\": \"\\u4fdd\\u6301\\u7eb5\\u6a2a\\u6bd4\",\r\n\"General\": \"\\u666e\\u901a\",\r\n\"Advanced\": \"\\u9ad8\\u7ea7\",\r\n\"Style\": \"\\u6837\\u5f0f\",\r\n\"Vertical space\": \"\\u5782\\u76f4\\u8fb9\\u8ddd\",\r\n\"Horizontal space\": \"\\u6c34\\u5e73\\u8fb9\\u8ddd\",\r\n\"Border\": \"\\u8fb9\\u6846\",\r\n\"Insert image\": \"\\u63d2\\u5165\\u56fe\\u7247\",\r\n\"Image\": \"\\u56fe\\u7247\",\r\n\"Image list\": \"\\u56fe\\u7247\\u5217\\u8868\",\r\n\"Rotate counterclockwise\": \"\\u9006\\u65f6\\u9488\\u65cb\\u8f6c\",\r\n\"Rotate clockwise\": \"\\u987a\\u65f6\\u9488\\u65cb\\u8f6c\",\r\n\"Flip vertically\": \"\\u5782\\u76f4\\u7ffb\\u8f6c\",\r\n\"Flip horizontally\": \"\\u6c34\\u5e73\\u7ffb\\u8f6c\",\r\n\"Edit image\": \"\\u7f16\\u8f91\\u56fe\\u7247\",\r\n\"Image options\": \"\\u56fe\\u7247\\u9009\\u9879\",\r\n\"Zoom in\": \"\\u653e\\u5927\",\r\n\"Zoom out\": \"\\u7f29\\u5c0f\",\r\n\"Crop\": \"\\u88c1\\u526a\",\r\n\"Resize\": \"\\u8c03\\u6574\\u5927\\u5c0f\",\r\n\"Orientation\": \"\\u65b9\\u5411\",\r\n\"Brightness\": \"\\u4eae\\u5ea6\",\r\n\"Sharpen\": \"\\u9510\\u5316\",\r\n\"Contrast\": \"\\u5bf9\\u6bd4\\u5ea6\",\r\n\"Color levels\": \"\\u989c\\u8272\\u5c42\\u6b21\",\r\n\"Gamma\": \"\\u4f3d\\u9a6c\\u503c\",\r\n\"Invert\": \"\\u53cd\\u8f6c\",\r\n\"Apply\": \"\\u5e94\\u7528\",\r\n\"Back\": \"\\u540e\\u9000\",\r\n\"Insert date\\/time\": \"\\u63d2\\u5165\\u65e5\\u671f\\/\\u65f6\\u95f4\",\r\n\"Date\\/time\": \"\\u65e5\\u671f\\/\\u65f6\\u95f4\",\r\n\"Insert link\": \"\\u63d2\\u5165\\u94fe\\u63a5\",\r\n\"Insert\\/edit link\": \"\\u63d2\\u5165\\/\\u7f16\\u8f91\\u94fe\\u63a5\",\r\n\"Text to display\": \"\\u663e\\u793a\\u6587\\u5b57\",\r\n\"Url\": \"\\u5730\\u5740\",\r\n\"Target\": \"\\u6253\\u5f00\\u65b9\\u5f0f\",\r\n\"None\": \"\\u65e0\",\r\n\"New window\": \"\\u5728\\u65b0\\u7a97\\u53e3\\u6253\\u5f00\",\r\n\"Remove link\": \"\\u5220\\u9664\\u94fe\\u63a5\",\r\n\"Anchors\": \"\\u951a\\u70b9\",\r\n\"Link\": \"\\u94fe\\u63a5\",\r\n\"Paste or type a link\": \"\\u7c98\\u8d34\\u6216\\u8f93\\u5165\\u94fe\\u63a5\",\r\n\"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?\": \"\\u4f60\\u6240\\u586b\\u5199\\u7684URL\\u5730\\u5740\\u4e3a\\u90ae\\u4ef6\\u5730\\u5740\\uff0c\\u9700\\u8981\\u52a0\\u4e0amailto:\\u524d\\u7f00\\u5417\\uff1f\",\r\n\"The URL you entered seems to be an external link. Do you want to add the required http:\\/\\/ prefix?\": \"\\u4f60\\u6240\\u586b\\u5199\\u7684URL\\u5730\\u5740\\u5c5e\\u4e8e\\u5916\\u90e8\\u94fe\\u63a5\\uff0c\\u9700\\u8981\\u52a0\\u4e0ahttp:\\/\\/:\\u524d\\u7f00\\u5417\\uff1f\",\r\n\"Link list\": \"\\u94fe\\u63a5\\u5217\\u8868\",\r\n\"Insert video\": \"\\u63d2\\u5165\\u89c6\\u9891\",\r\n\"Insert\\/edit video\": \"\\u63d2\\u5165\\/\\u7f16\\u8f91\\u89c6\\u9891\",\r\n\"Insert\\/edit media\": \"\\u63d2\\u5165\\/\\u7f16\\u8f91\\u5a92\\u4f53\",\r\n\"Alternative source\": \"\\u955c\\u50cf\",\r\n\"Poster\": \"\\u5c01\\u9762\",\r\n\"Paste your embed code below:\": \"\\u5c06\\u5185\\u5d4c\\u4ee3\\u7801\\u7c98\\u8d34\\u5728\\u4e0b\\u9762:\",\r\n\"Embed\": \"\\u5185\\u5d4c\",\r\n\"Media\": \"\\u5a92\\u4f53\",\r\n\"Nonbreaking space\": \"\\u4e0d\\u95f4\\u65ad\\u7a7a\\u683c\",\r\n\"Page break\": \"\\u5206\\u9875\\u7b26\",\r\n\"Paste as text\": \"\\u7c98\\u8d34\\u4e3a\\u6587\\u672c\",\r\n\"Preview\": \"\\u9884\\u89c8\",\r\n\"Print\": \"\\u6253\\u5370\",\r\n\"Save\": \"\\u4fdd\\u5b58\",\r\n\"Find\": \"\\u67e5\\u627e\",\r\n\"Replace with\": \"\\u66ff\\u6362\\u4e3a\",\r\n\"Replace\": \"\\u66ff\\u6362\",\r\n\"Replace all\": \"\\u5168\\u90e8\\u66ff\\u6362\",\r\n\"Prev\": \"\\u4e0a\\u4e00\\u4e2a\",\r\n\"Next\": \"\\u4e0b\\u4e00\\u4e2a\",\r\n\"Find and replace\": \"\\u67e5\\u627e\\u548c\\u66ff\\u6362\",\r\n\"Could not find the specified string.\": \"\\u672a\\u627e\\u5230\\u641c\\u7d22\\u5185\\u5bb9.\",\r\n\"Match case\": \"\\u533a\\u5206\\u5927\\u5c0f\\u5199\",\r\n\"Whole words\": \"\\u5168\\u5b57\\u5339\\u914d\",\r\n\"Spellcheck\": \"\\u62fc\\u5199\\u68c0\\u67e5\",\r\n\"Ignore\": \"\\u5ffd\\u7565\",\r\n\"Ignore all\": \"\\u5168\\u90e8\\u5ffd\\u7565\",\r\n\"Finish\": \"\\u5b8c\\u6210\",\r\n\"Add to Dictionary\": \"\\u6dfb\\u52a0\\u5230\\u5b57\\u5178\",\r\n\"Insert table\": \"\\u63d2\\u5165\\u8868\\u683c\",\r\n\"Table properties\": \"\\u8868\\u683c\\u5c5e\\u6027\",\r\n\"Delete table\": \"\\u5220\\u9664\\u8868\\u683c\",\r\n\"Cell\": \"\\u5355\\u5143\\u683c\",\r\n\"Row\": \"\\u884c\",\r\n\"Column\": \"\\u5217\",\r\n\"Cell properties\": \"\\u5355\\u5143\\u683c\\u5c5e\\u6027\",\r\n\"Merge cells\": \"\\u5408\\u5e76\\u5355\\u5143\\u683c\",\r\n\"Split cell\": \"\\u62c6\\u5206\\u5355\\u5143\\u683c\",\r\n\"Insert row before\": \"\\u5728\\u4e0a\\u65b9\\u63d2\\u5165\",\r\n\"Insert row after\": \"\\u5728\\u4e0b\\u65b9\\u63d2\\u5165\",\r\n\"Delete row\": \"\\u5220\\u9664\\u884c\",\r\n\"Row properties\": \"\\u884c\\u5c5e\\u6027\",\r\n\"Cut row\": \"\\u526a\\u5207\\u884c\",\r\n\"Copy row\": \"\\u590d\\u5236\\u884c\",\r\n\"Paste row before\": \"\\u7c98\\u8d34\\u5230\\u4e0a\\u65b9\",\r\n\"Paste row after\": \"\\u7c98\\u8d34\\u5230\\u4e0b\\u65b9\",\r\n\"Insert column before\": \"\\u5728\\u5de6\\u4fa7\\u63d2\\u5165\",\r\n\"Insert column after\": \"\\u5728\\u53f3\\u4fa7\\u63d2\\u5165\",\r\n\"Delete column\": \"\\u5220\\u9664\\u5217\",\r\n\"Cols\": \"\\u5217\",\r\n\"Rows\": \"\\u884c\",\r\n\"Width\": \"\\u5bbd\",\r\n\"Height\": \"\\u9ad8\",\r\n\"Cell spacing\": \"\\u5355\\u5143\\u683c\\u5916\\u95f4\\u8ddd\",\r\n\"Cell padding\": \"\\u5355\\u5143\\u683c\\u5185\\u8fb9\\u8ddd\",\r\n\"Caption\": \"\\u6807\\u9898\",\r\n\"Left\": \"\\u5de6\\u5bf9\\u9f50\",\r\n\"Center\": \"\\u5c45\\u4e2d\",\r\n\"Right\": \"\\u53f3\\u5bf9\\u9f50\",\r\n\"Cell type\": \"\\u5355\\u5143\\u683c\\u7c7b\\u578b\",\r\n\"Scope\": \"\\u8303\\u56f4\",\r\n\"Alignment\": \"\\u5bf9\\u9f50\\u65b9\\u5f0f\",\r\n\"H Align\": \"\\u6c34\\u5e73\\u5bf9\\u9f50\",\r\n\"V Align\": \"\\u5782\\u76f4\\u5bf9\\u9f50\",\r\n\"Top\": \"\\u9876\\u90e8\\u5bf9\\u9f50\",\r\n\"Middle\": \"\\u5782\\u76f4\\u5c45\\u4e2d\",\r\n\"Bottom\": \"\\u5e95\\u90e8\\u5bf9\\u9f50\",\r\n\"Header cell\": \"\\u8868\\u5934\\u5355\\u5143\\u683c\",\r\n\"Row group\": \"\\u884c\\u7ec4\",\r\n\"Column group\": \"\\u5217\\u7ec4\",\r\n\"Row type\": \"\\u884c\\u7c7b\\u578b\",\r\n\"Header\": \"\\u8868\\u5934\",\r\n\"Body\": \"\\u8868\\u4f53\",\r\n\"Footer\": \"\\u8868\\u5c3e\",\r\n\"Border color\": \"\\u8fb9\\u6846\\u989c\\u8272\",\r\n\"Insert template\": \"\\u63d2\\u5165\\u6a21\\u677f\",\r\n\"Templates\": \"\\u6a21\\u677f\",\r\n\"Template\": \"\\u6a21\\u677f\",\r\n\"Text color\": \"\\u6587\\u5b57\\u989c\\u8272\",\r\n\"Background color\": \"\\u80cc\\u666f\\u8272\",\r\n\"Custom...\": \"\\u81ea\\u5b9a\\u4e49...\",\r\n\"Custom color\": \"\\u81ea\\u5b9a\\u4e49\\u989c\\u8272\",\r\n\"No color\": \"\\u65e0\",\r\n\"Table of Contents\": \"\\u5185\\u5bb9\\u5217\\u8868\",\r\n\"Show blocks\": \"\\u663e\\u793a\\u533a\\u5757\\u8fb9\\u6846\",\r\n\"Show invisible characters\": \"\\u663e\\u793a\\u4e0d\\u53ef\\u89c1\\u5b57\\u7b26\",\r\n\"Words: {0}\": \"\\u5b57\\u6570\\uff1a{0}\",\r\n\"{0} words\": \"{0} \\u5b57\",\r\n\"File\": \"\\u6587\\u4ef6\",\r\n\"Edit\": \"\\u7f16\\u8f91\",\r\n\"Insert\": \"\\u63d2\\u5165\",\r\n\"View\": \"\\u89c6\\u56fe\",\r\n\"Format\": \"\\u683c\\u5f0f\",\r\n\"Table\": \"\\u8868\\u683c\",\r\n\"Tools\": \"\\u5de5\\u5177\",\r\n\"Powered by {0}\": \"\\u7531{0}\\u9a71\\u52a8\",\r\n\"Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help\": \"\\u5728\\u7f16\\u8f91\\u533a\\u6309ALT-F9\\u6253\\u5f00\\u83dc\\u5355\\uff0c\\u6309ALT-F10\\u6253\\u5f00\\u5de5\\u5177\\u680f\\uff0c\\u6309ALT-0\\u67e5\\u770b\\u5e2e\\u52a9\"\r\n});","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1Q0REMTFFMDQ0QTcxMUU5OTI1Q0FFNkY1QUIxQjEwMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5MjEyMEI0RDY0RDExMUU5OEVDNUUxRDVDMEZDNkYzNCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5MjEyMEI0QzY0RDExMUU5OEVDNUUxRDVDMEZDNkYzNCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2YzQzOWVmZi01ZWYzLTY1NDUtYWI0YS1iYTk3OWZhZWZkOTUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozZDE1ZWIyZi00NTQxLTExZTktYTFjZi1lMWQ2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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAABQ0lEQVQ4y5WSr0uDYRzEPxsLBsPC/gCjQWFrChouCtoEi8FmUXTJZBTjFBmsiSAsqMliu2BwMEFBwUWDYWHBYFgYw7Bn8jr2PtOL99zd99cDEdgu2C7ENJkU4w5wAHSAHpAHqpJOJgbYrgdTWVIncHmgAhQkrcVa3rJ9FXk/t72Z5HIjmj0gvQKUgSZwOSSyI4K8pI80t6RPoJvkRgN6TMZ0LKBhuxjZwQzQjgXcABXbuZSMM6CaJMadcR/YAHYlPQauyOCMz5LKSf24SrUQ0LT9lZi7ARyOin+NYHsVeANagBictAQsh4B72wtjR7C9DhyH1u8iS6wDF5JqPwG254BbYFFSmwhszwIPQEnS+3CEbQZ/P2oGkNTq9/unYalkwsmeJM1PMie6mAJegJUssBQW9GdI6gLXQDEXzK//CQg4Anrft193o7Ml7TIAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"img/user.0a992aba.jpg\";","module.exports = __webpack_public_path__ + \"img/zip.bfbd8093.jpg\";","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Service.vue?vue&type=style&index=0&id=203dd4f7&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Service.vue?vue&type=style&index=0&id=203dd4f7&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view',{directives:[{name:\"wechat-title\",rawName:\"v-wechat-title\",value:(_vm.$route.meta.title),expression:\"$route.meta.title\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=654ff71a&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index page-common\"},[_c('el-container',[_c('el-header',[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"logo\"},[_c('router-link',{attrs:{\"to\":\"/home\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/images/logo.png\"),\"alt\":\"logo\"}})])],1),_c('el-menu',{staticClass:\"el-menu-demo\",attrs:{\"default-active\":_vm.activIndex,\"mode\":\"horizontal\",\"router\":true},on:{\"select\":_vm.handleSelect}},[_c('el-menu-item',{attrs:{\"index\":\"/index\"}},[_vm._v(\"首页\")]),_c('el-menu-item',{attrs:{\"index\":\"/hospital\"}},[_vm._v(\"医院\")]),_c('el-menu-item',{attrs:{\"index\":\"/service\"}},[_vm._v(\"服务\")]),_c('el-menu-item',{attrs:{\"index\":\"/news\"}},[_vm._v(\"新闻\")])],1)],1),_c('div',{staticClass:\"right\"},[_c('span',{staticClass:\"user-img\"},[_c('img',{attrs:{\"src\":require(\"../assets/images/user.jpg\")}})]),_vm._v(\" \"+_vm._s(_vm.myUserInfo.人员.DbKey)+\"\\n                |\\n                \"),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.logOut()}}},[_vm._v(\"退出\")])])]),_c('el-main',[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"index page-common\">\r\n        <el-container>\r\n            <el-header>\r\n                <div class=\"left\">\r\n                    <div class=\"logo\">\r\n                        <router-link to=\"/home\">\r\n                            <img src=\"@/assets/images/logo.png\" alt=\"logo\">\r\n                        </router-link>\r\n                    </div>\r\n                    <el-menu class=\"el-menu-demo\" :default-active=\"activIndex\" mode=\"horizontal\"\r\n                             @select=\"handleSelect\" :router=\"true\">\r\n                        <el-menu-item index=\"/index\">首页</el-menu-item>\r\n                        <el-menu-item index=\"/hospital\">医院</el-menu-item>\r\n                        <el-menu-item index=\"/service\">服务</el-menu-item>\r\n                        <el-menu-item index=\"/news\">新闻</el-menu-item>\r\n                    </el-menu>\r\n                </div>\r\n                <div class=\"right\">\r\n                    <span class=\"user-img\"><img src=\"../assets/images/user.jpg\"></span> {{myUserInfo.人员.DbKey}}\r\n                    |\r\n                    <a href=\"javascript:;\" @click=\"logOut()\">退出</a>\r\n                </div>\r\n            </el-header>\r\n            <el-main>\r\n                <router-view></router-view>\r\n            </el-main>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        name: 'index',\r\n        data() {\r\n            return {\r\n                activIndex: '/index',\r\n                myUserInfo: {},\r\n            }\r\n        },\r\n        methods: {\r\n            logOut() {\r\n                this.$confirm('确认退出吗?', '提示', {\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    localStorage.removeItem('myUserInfo');\r\n                    sessionStorage.removeItem('Authorization');\r\n                    this.$router.push({path: '/'});\r\n                })\r\n            },\r\n            handleSelect(index, path) {\r\n                this.activIndex = index;\r\n            }\r\n        },\r\n        created() {\r\n            if (localStorage.myUserInfo) {\r\n                this.myUserInfo = JSON.parse(localStorage.getItem('myUserInfo'));\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" type='text/less' scoped>\r\n    @import \"../assets/less/Index.less\";\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=bc6be5b2&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=bc6be5b2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc6be5b2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"homeContent\"},[_c('div',{staticClass:\"mian\"},[_c('el-row',{staticClass:\"items news-items\",attrs:{\"gutter\":24}},[_c('div',{staticClass:\"wrapper\"},[_c('el-col',{staticClass:\"item\",attrs:{\"span\":12}},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('div',{staticClass:\"item-header\"},[_c('h5',[_c('i',{staticClass:\"icon iconfont icon-yiyuan\"}),_vm._v(\" 医院列表\")]),_c('el-tooltip',{staticClass:\"more item\",attrs:{\"effect\":\"dark\",\"content\":\"更多\",\"placement\":\"top-start\"}},[_c('router-link',{attrs:{\"to\":\"/hospital\"}},[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('i',{staticClass:\"icon iconfont icon-gengduo\"})])])],1)],1),_c('ul',{staticClass:\"list\"},_vm._l((_vm.hospitalList),function(el){return _c('li',{key:el.编号},[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('span',{staticClass:\"btn-icon\"},[_c('i',{staticClass:\"icon iconfont icon-yuandianxiao\"})]),_c('span',{staticClass:\"name\",on:{\"click\":function($event){return _vm.btnService(el)}}},[_vm._v(_vm._s(el.名称))]),_c('span',{staticClass:\"time\"},[[_c('el-switch',{staticClass:\"switch\",staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"启用\"},on:{\"change\":function($event){return _vm.hospitalChange(el)}},model:{value:(el.是否启用),callback:function ($$v) {_vm.$set(el, \"是否启用\", $$v)},expression:\"el.是否启用\"}})]],2)])])}),0)])]),_c('el-col',{staticClass:\"item\",attrs:{\"span\":12}},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('div',{staticClass:\"item-header\"},[_c('h5',[_c('i',{staticClass:\"icon iconfont icon-quanbuxinwen\"}),_vm._v(\" 总库新闻\")]),_c('el-tooltip',{staticClass:\"more item\",attrs:{\"effect\":\"dark\",\"content\":\"更多\",\"placement\":\"top-start\"}},[_c('router-link',{attrs:{\"to\":\"/news\"}},[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_c('i',{staticClass:\"icon iconfont icon-gengduo\"})])])],1)],1),_c('ul',{staticClass:\"list\"},_vm._l((_vm.newsList),function(el){return _c('li',{key:el.编号},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.btnDetails(el)}}},[_c('span',{staticClass:\"btn-icon\"},[_c('i',{staticClass:\"icon iconfont icon-yuandianxiao\"})]),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(el.标题))]),_c('span',{staticClass:\"time\"},[_vm._v(\"\\n                                        \"+_vm._s(_vm._f(\"dataFormat\")(el.建立时间,'yyyy-MM-dd'))),_c('i',{staticClass:\"icon iconfont icon-right\"})])])])}),0)])])],1)]),_c('el-row',{staticClass:\"items services-items\",attrs:{\"gutter\":24}},[_c('div',{staticClass:\"wrapper\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"服务列表 Services\")]),_vm._l((_vm.serviceList),function(el){return _c('el-col',{key:el.编号,staticClass:\"card-box\",attrs:{\"span\":6}},[_c('el-card',[_c('div',{staticClass:\"icon\"},[_vm._v(_vm._s(el.名称.slice(0,1)))]),_c('div',{staticClass:\"item-content\"},[_c('span',{staticClass:\"name\",attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(el.名称))]),_c('p',{staticClass:\"content\"},[_vm._v(_vm._s(el.备注))]),_c('el-switch',{staticClass:\"switch\",staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"启用\"},on:{\"change\":function($event){return _vm.serviceChange(el)}},model:{value:(el.是否启用),callback:function ($$v) {_vm.$set(el, \"是否启用\", $$v)},expression:\"el.是否启用\"}})],1)])],1)})],2)])],1),(_vm.isAddDialog)?_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.isAddDialog,\"width\":\"30%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.isAddDialog=$event}}},[(_vm.isService)?_c('div',[_c('HospitalService',{ref:\"child\",attrs:{\"item\":_vm.item},on:{\"myEvent\":_vm.getMyEvent}})],1):_vm._e()]):_vm._e(),(_vm.isDetailsDialog)?_c('el-dialog',{staticClass:\"big-dialog\",attrs:{\"title\":_vm.title,\"visible\":_vm.isDetailsDialog,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.isDetailsDialog=$event}}},[_c('NewsDetails',{ref:\"child\",attrs:{\"item\":_vm.item},on:{\"myEvent\":_vm.getMyEvent}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","let HTTP_URL_HOST = 'http://192.168.1.3:63739';\r\nif (process.env.NODE_ENV === 'production') {\r\n    HTTP_URL_HOST = '';\r\n}\r\n\r\nconst URL_USER = {\r\n\r\n    //用户登录\r\n    POST_LOGIN: '/Manage/Access/LoginManage',\r\n\r\n}\r\nconst URL_NEWS = {\r\n\r\n    GET_PANGING_NEWS: '/Manage/News/分页获取总库新闻',\r\n\r\n    GET_NEWS_TYPE: '/Manage/News/获取总库新闻分类',\r\n\r\n    GET_NEWS_TAGS: '/Manage/News/获取总库标签',\r\n\r\n    GET_NEWS_DETAILS: '/Manage/News/获取总库新闻详情',\r\n\r\n    POST_ADD_OR_EDIT_NEWS: '/Manage/News/增改总库新闻',\r\n\r\n    POST_DELETE_NEWS: '/Manage/News/删除总库新闻',\r\n\r\n    POST_UPLOAD_NEWS_IMG: '/Manage/News/上传总库新闻图片',\r\n\r\n    POST_UPLOAD_LOGO_IMG: '/Manage/News/上传总库Logo图片',\r\n\r\n\r\n}\r\n\r\nconst URL_SERVICE = {\r\n\r\n    //获取服务列表\r\n    GET_SERVICE_ALL: '/Manage/Service/获取服务列表',\r\n\r\n    //获取可用的服务列表\r\n    GET_ENABLE_SERVICE: '/Manage/Service/获取可用的服务列表',\r\n\r\n    //增改服务\r\n    POST_ADD_OR_EDIT_SERVICE: '/Manage/Service/增改服务',\r\n\r\n    //禁用服务\r\n    POST_DISABLE_SERVICE: '/Manage/Service/禁用服务',\r\n\r\n    //启用服务\r\n    POST_ENABLE_SERVICE: '/Manage/Service/启用服务',\r\n\r\n}\r\n\r\nconst URL_HOSPITAL = {\r\n\r\n    //获取医院列表\r\n    GET_HOSPITAL_ALL: '/Manage/Service/获取医院列表',\r\n\r\n    //获取可用的医院列表\r\n    GET_ENABLE_HOSPITA: '/Manage/Service/获取可用的医院列表',\r\n\r\n    //增改医院\r\n    POST_ADD_OR_EDIT_HOSPITA: '/Manage/Service/增改医院',\r\n\r\n    //禁用医院\r\n    POST_DISABLE_HOSPITA: '/Manage/Service/禁用医院',\r\n\r\n    //启用医院\r\n    POST_ENABLE_HOSPITA: '/Manage/Service/启用医院',\r\n\r\n    //获取医院服务\r\n    GET_HOSPITAL_SERVICE: '/Manage/Service/获取医院服务',\r\n\r\n    //增改医院服务\r\n    POST_ADD_OR_EDIT_HOSPITAL_SERVICE: '/Manage/Service/增改医院服务',\r\n\r\n    //上传医院Logo图片\r\n    POST_UPLOAD_HOSPITAL_LOGO_IMG: '/Manage/Service/上传医院Logo图片',\r\n\r\n}\r\n\r\n\r\nexport {\r\n    HTTP_URL_HOST,\r\n    URL_USER,\r\n    URL_NEWS,\r\n    URL_SERVICE,\r\n    URL_HOSPITAL\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hospital-service\"},[_c('el-form',{attrs:{\"label-width\":\"100px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"医院名称：\"}},[_c('span',[_vm._v(_vm._s(_vm.item.名称))])]),_c('el-form-item',{attrs:{\"label\":\"服务：\"}},[_c('el-checkbox-group',{model:{value:(_vm.checkedList),callback:function ($$v) {_vm.checkedList=$$v},expression:\"checkedList\"}},_vm._l((_vm.serviceList),function(el){return _c('el-checkbox',{key:el.服务编号,attrs:{\"name\":\"service\",\"label\":el.服务编号,\"disabled\":!el.是否启用},on:{\"change\":function($event){return _vm.handleCheckedChanges(el, $event)}}},[_vm._v(_vm._s(el.服务名称)+\"\\n                    \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(el.是否启用 && el.isChecked),expression:\"el.是否启用 && el.isChecked\"}]},[_c('el-input',{attrs:{\"maxLength\":\"500\"},model:{value:(el.电脑链接地址),callback:function ($$v) {_vm.$set(el, \"电脑链接地址\", $$v)},expression:\"el.电脑链接地址\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"电脑链接地址\")])],2),_c('el-input',{attrs:{\"maxLength\":\"500\"},model:{value:(el.手机链接地址),callback:function ($$v) {_vm.$set(el, \"手机链接地址\", $$v)},expression:\"el.手机链接地址\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"手机链接地址\")])],2),_c('el-input',{attrs:{\"maxLength\":\"50\",\"placeholder\":\"只能为中文、字母、数字\"},nativeOn:{\"keydown\":function($event){return _vm.account($event,el)}},model:{value:(el.登录账号),callback:function ($$v) {_vm.$set(el, \"登录账号\", $$v)},expression:\"el.登录账号\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"登录账号\")])],2),_c('el-input',{staticClass:\"passwordInput\",attrs:{\"type\":el.pwType,\"maxLength\":\"50\"},model:{value:(el.登录密码),callback:function ($$v) {_vm.$set(el, \"登录密码\", $$v)},expression:\"el.登录密码\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"登录密码\")])],2),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(el.登录密码),expression:\"el.登录密码\"}],staticClass:\"bgImg\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.changeType(el)}}},[(el.pwType=='text')?_c('i',{staticClass:\"icon iconfont icon-in_zhengyan\"}):_c('i',{staticClass:\"icon iconfont icon-biyan1\"})])],1)])}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelHandler}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmHandler}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\r\n\r\n//时间格式化\r\nexport function formatDate(date, fmt) {\r\n    if (/(y+)/.test(fmt)) {\r\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length))\r\n    }\r\n    let o = {\r\n        'M+': date.getMonth() + 1,\r\n        'd+': date.getDate(),\r\n        'h+': date.getHours(),\r\n        'm+': date.getMinutes(),\r\n        's+': date.getSeconds()\r\n    }\r\n    for (let k in o) {\r\n        if (new RegExp(`(${k})`).test(fmt)) {\r\n            let str = o[k] + ''\r\n            fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str))\r\n        }\r\n    }\r\n    return fmt\r\n}\r\n\r\nfunction padLeftZero(str) {\r\n    return ('00' + str).substr(str.length)\r\n}\r\n\r\nVue.filter('dataFormat', function (value, fmt) {\r\n    let getDate = new Date(value);\r\n    let o = {\r\n        'M+': getDate.getMonth() + 1,\r\n        'd+': getDate.getDate(),\r\n        'h+': getDate.getHours(),\r\n        'm+': getDate.getMinutes(),\r\n        's+': getDate.getSeconds(),\r\n        'q+': Math.floor((getDate.getMonth() + 3) / 3),\r\n        'S': getDate.getMilliseconds()\r\n    };\r\n    if (/(y+)/.test(fmt)) {\r\n        fmt = fmt.replace(RegExp.$1, (getDate.getFullYear() + '').substr(4 - RegExp.$1.length))\r\n    }\r\n    for (let k in o) {\r\n        if (new RegExp('(' + k + ')').test(fmt)) {\r\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)))\r\n        }\r\n    }\r\n    return fmt;\r\n});\r\n\r\n// 防抖\r\nexport function _debounce(fn, delay) {\r\n    let newDelay = delay || 200;\r\n    let timer;\r\n    return function () {\r\n        let th = this;\r\n        let args = arguments;\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        timer = setTimeout(function () {\r\n            timer = null;\r\n            fn.apply(th, args);\r\n        }, newDelay);\r\n    };\r\n}\r\n\r\n// 节流\r\nexport function _throttle(fn, interval) {\r\n    let last;\r\n    let timer;\r\n    let newInterval = interval || 200;\r\n    return function () {\r\n        let th = this;\r\n        let args = arguments;\r\n        let now = +new Date();\r\n        if (last && now - last < newInterval) {\r\n            clearTimeout(timer);\r\n            timer = setTimeout(function () {\r\n                last = now;\r\n                fn.apply(th, args);\r\n            }, newInterval);\r\n        } else {\r\n            last = now;\r\n            fn.apply(th, args);\r\n        }\r\n    }\r\n}\r\n\r\n//两个对象属性匹配\r\nexport function matchingProperty(objA, objB) {\r\n    for (let i in objA) {\r\n        if (objB[i] && objB[i] != 'undefined') {\r\n            objA[i] = objB[i];\r\n        }\r\n    }\r\n    return objA\r\n}\r\n\r\n\r\n//url 中文参数乱码\r\nexport function getUrl(url) {\r\n    return decodeURI(encodeURI(encodeURI(url)))\r\n}\r\n\r\n//只能输入中文、字母、数字格式，不能有特殊字符\r\nexport function chineseEnglishNumber(e) {\r\n    e.target.value = e.target.value.replace(/[^\\w\\u4E00-\\u9FA5]/g, ''); //清除\"字母、数字\"以外的字符\r\n}\r\n\r\n\r\n//过滤特殊字符\r\nexport function clearSpecialChar(e) {\r\n    e.target.value = e.target.value.replace(/[^[0-9a-zA-Z\\-]/g, ''); //清除\"字母、数字\"以外的字符\r\n}\r\n\r\n// 对象深拷贝\r\nexport function deepCopy(data) {\r\n    return JSON.parse(JSON.stringify(data))\r\n}\r\n","<template>\r\n    <div class=\"hospital-service\">\r\n        <el-form label-width=\"100px\" size=\"small\">\r\n            <el-form-item label=\"医院名称：\">\r\n                <span>{{item.名称}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"服务：\">\r\n                <el-checkbox-group v-model=\"checkedList\">\r\n                    <el-checkbox name=\"service\" v-for=\"el in serviceList\" :label=\"el.服务编号\" :key=\"el.服务编号\"\r\n                                 :disabled=\"!el.是否启用\" @change=\"handleCheckedChanges(el, $event)\">{{el.服务名称}}\r\n                        <div v-show=\"el.是否启用 && el.isChecked\">\r\n                            <el-input v-model=\"el.电脑链接地址\" maxLength=\"500\">\r\n                                <template slot=\"prepend\">电脑链接地址</template>\r\n                            </el-input>\r\n                            <el-input v-model=\"el.手机链接地址\" maxLength=\"500\">\r\n                                <template slot=\"prepend\">手机链接地址</template>\r\n                            </el-input>\r\n                            <el-input v-model=\"el.登录账号\" maxLength=\"50\"\r\n                                      @keydown.native=\"account($event,el)\" placeholder=\"只能为中文、字母、数字\">\r\n                                <template slot=\"prepend\">登录账号</template>\r\n                            </el-input>\r\n                            <el-input v-model=\"el.登录密码\" class=\"passwordInput\" :type=\"el.pwType\" maxLength=\"50\">\r\n                                <template slot=\"prepend\">登录密码</template>\r\n                            </el-input>\r\n                            <a href=\"#\" class=\"bgImg\" @click=\"changeType(el)\" v-show=\"el.登录密码\">\r\n                                <i v-if=\"el.pwType=='text'\" class=\"icon iconfont icon-in_zhengyan\"></i>\r\n                                <i v-else class=\"icon iconfont icon-biyan1\"></i>\r\n                            </a>\r\n                        </div>\r\n                    </el-checkbox>\r\n                </el-checkbox-group>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"cancelHandler\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"confirmHandler\">确 定</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {URL_HOSPITAL, URL_SERVICE} from \"@/assets/js/connect/ConSysUrl\";\r\n    import {matchingProperty, _debounce} from \"@/assets/js/Common\";\r\n\r\n    export default {\r\n        name: 'HospitalService',\r\n        props: ['item'],\r\n        data() {\r\n            return {\r\n                serviceList: [],\r\n                hospitalService: [],\r\n                checkedList: [],\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getHospitalService();\r\n        },\r\n        methods: {\r\n            account: _debounce(function (e, el) {\r\n                el.登录账号 = el.登录账号.replace(/[^\\w\\u4E00-\\u9FA5]/g, '');\r\n            }, 300),\r\n            changeType(el) {\r\n                el.pwType = el.pwType === 'password' ? 'text' : 'password';\r\n            },\r\n            getHospitalService: async function () {\r\n                let postData = {\r\n                    医院编号: this.item.编号,\r\n                }\r\n                let data = await this.$http.myGet(URL_HOSPITAL.GET_HOSPITAL_SERVICE, postData);\r\n                for (let elem  of data.values()) {\r\n                    this.checkedList.push(elem.服务编号);\r\n                }\r\n                this.hospitalService = data;\r\n                this.getService();\r\n            },\r\n            getService: async function () {\r\n                let data = await this.$http.myGet(URL_SERVICE.GET_SERVICE_ALL, '');\r\n                for (let elem  of data.values()) {\r\n                    let item = {\r\n                        编号: 0,\r\n                        医院编号: this.item.编号,\r\n                        医院名称: this.item.名称,\r\n                        服务编号: elem.编号,\r\n                        服务名称: elem.名称,\r\n                        电脑链接地址: '',\r\n                        手机链接地址: '',\r\n                        是否启用: elem.是否启用,\r\n                        登录账号: elem.登录账号,\r\n                        登录密码: elem.登录密码,\r\n                        pwType: 'password',\r\n                        isChecked: false\r\n                    }\r\n                    this.hospitalService.forEach(function (el) {\r\n                        if (item.服务编号 == el.服务编号) {\r\n                            item = matchingProperty(item, el);\r\n                            item.isChecked = true;\r\n                            return false;\r\n                        }\r\n                    });\r\n                    this.serviceList.push(item);\r\n                }\r\n            },\r\n            handleCheckedChanges(el, state) {\r\n                if (state) {\r\n                    el.isChecked = true;\r\n                } else {\r\n                    el.isChecked = false;\r\n                }\r\n            },\r\n            cancelHandler() {\r\n                this.$emit('myEvent', false);\r\n            },\r\n            confirmHandler: _debounce(function () {\r\n                let list = [];\r\n                let isNext = true;\r\n                for (let item  of this.serviceList.values()) {\r\n                    if (item.isChecked) {\r\n                        let data = {\r\n                            编号: item.编号,\r\n                            医院编号: item.医院编号,\r\n                            服务编号: item.服务编号,\r\n                            电脑链接地址: item.电脑链接地址,\r\n                            手机链接地址: item.手机链接地址,\r\n                            登录账号: item.登录账号,\r\n                            登录密码: item.登录密码,\r\n                        }\r\n                        if (item.电脑链接地址 == '' || item.手机链接地址 == '') {\r\n\r\n                            isNext = false;\r\n                            this.$message.error('【电脑链接地址】或【手机链接地址】不能为空！');\r\n                            break;\r\n                        }\r\n                        list.push(data);\r\n                    }\r\n                }\r\n                if (isNext) {\r\n                    let postData = {\r\n                        Id: this.item.编号,\r\n                        List: list\r\n                    }\r\n                    this.addOrEditHospitalService(postData);\r\n                }\r\n            }, 300),\r\n            addOrEditHospitalService: async function (data) {\r\n                await this.$http.myPost(URL_HOSPITAL.POST_ADD_OR_EDIT_HOSPITAL_SERVICE, data);\r\n                this.$message.success('提交成功！');\r\n                this.$emit('myEvent', false);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" type='text/less'>\r\n    @import '../../assets/less/Variable';\r\n\r\n    .hospital-service {\r\n        .el-checkbox__label {\r\n            margin-left: 10px;\r\n        }\r\n\r\n        .el-checkbox + .el-checkbox {\r\n            margin-left: 0;\r\n            position: relative;\r\n        }\r\n\r\n        .el-checkbox {\r\n            margin-bottom: 10px;\r\n            width: 95%;\r\n            position: relative;\r\n        }\r\n\r\n        .el-input {\r\n            display: table;\r\n            margin-bottom: 5px;\r\n        }\r\n\r\n        .el-checkbox__input {\r\n            position: absolute;\r\n            left: 0;\r\n            top: 7px;\r\n        }\r\n\r\n        .el-input-group__append, .el-input-group__prepend {\r\n            padding: 0 10px;\r\n        }\r\n\r\n        span.el-checkbox__label {\r\n            width: 95%;\r\n        }\r\n\r\n        .passwordInput .el-input__inner {\r\n            padding: 0 35px 0 15px;\r\n        }\r\n\r\n        .bgImg {\r\n            position: absolute;\r\n            bottom: 8px;\r\n            right: 5%;\r\n            color: @colorActive;\r\n        }\r\n    }\r\n</style>\r\n<style lang=\"less\" type='text/less' scoped>\r\n    @import '../../assets/less/News';\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./HospitalService.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./HospitalService.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HospitalService.vue?vue&type=template&id=7ae36afe&scoped=true&\"\nimport script from \"./HospitalService.vue?vue&type=script&lang=js&\"\nexport * from \"./HospitalService.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HospitalService.vue?vue&type=style&index=0&lang=less&\"\nimport style1 from \"./HospitalService.vue?vue&type=style&index=1&id=7ae36afe&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ae36afe\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"NewsDetails\"},[(_vm.isLoad)?_c('div',{staticClass:\"content-box\"},[_c('h4',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.form.新闻.标题))]),_c('p',{staticClass:\"tiem\"},_vm._l((_vm.tags),function(el){return (_vm.tags)?_c('el-tag',{key:el,staticClass:\"tag\"},[_vm._v(_vm._s(el))]):_vm._e()}),1),_c('p',{staticClass:\"tiem\"},[_vm._v(\"新闻分类：\"+_vm._s(_vm.form.新闻.新闻分类名称)+\"；\"+_vm._s(_vm.form.新闻.建立时间))]),_c('div',{staticClass:\"ql-container ql-snow\"},[_c('div',{staticClass:\"ql-editor\",domProps:{\"innerHTML\":_vm._s(_vm.form.新闻.内容)}})])]):_vm._e(),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelHandler}},[_vm._v(\"关 闭\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"NewsDetails\">\r\n        <div class=\"content-box\" v-if=\"isLoad\">\r\n            <h4 class=\"title\">{{form.新闻.标题}}</h4>\r\n            <p class=\"tiem\">\r\n                <el-tag class=\"tag\" v-if=\"tags\" v-for=\"el in tags\" :key=\"el\">{{el}}</el-tag>\r\n            </p>\r\n            <p class=\"tiem\">新闻分类：{{form.新闻.新闻分类名称}}；{{form.新闻.建立时间}}</p>\r\n            <div class=\"ql-container ql-snow\">\r\n                <div class=\"ql-editor\" v-html=\"form.新闻.内容\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"cancelHandler\">关 闭</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {URL_NEWS} from \"@/assets/js/connect/ConSysUrl\";\r\n\r\n    export default {\r\n        name: \"NewsDetails\",\r\n        props: ['item'],\r\n        data() {\r\n            return {\r\n                form: {},\r\n                tags: [],\r\n                isLoad: false\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getDetails(this.item.编号)\r\n        },\r\n        methods: {\r\n            cancelHandler() {\r\n                this.$emit('myEvent', false);\r\n            },\r\n            getDetails: async function (id) {\r\n                let postData = {\r\n                    新闻编号: id\r\n                }\r\n                let data = await this.$http.myGet(URL_NEWS.GET_NEWS_DETAILS, postData);\r\n                if (data) {\r\n                    this.form = data;\r\n                    if (this.form.新闻.标签 && this.form.新闻.标签 != '') {\r\n                        this.tags = this.form.新闻.标签.split(',')\r\n                    }\r\n                }\r\n                this.isLoad = true;\r\n            },\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" type='text/less' scoped>\r\n    .tag {\r\n        margin: 0 5px 5px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./NewsDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./NewsDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewsDetails.vue?vue&type=template&id=2a0bc0d1&scoped=true&\"\nimport script from \"./NewsDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./NewsDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewsDetails.vue?vue&type=style&index=0&id=2a0bc0d1&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a0bc0d1\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"homeContent\">\r\n        <div class=\"mian\">\r\n            <el-row :gutter=\"24\" class=\"items news-items\">\r\n                <div class=\"wrapper\">\r\n                    <el-col class=\"item\" :span=\"12\">\r\n                        <div class=\"grid-content bg-purple\">\r\n                            <div class=\"item-header\">\r\n                                <h5><i class=\"icon iconfont icon-yiyuan\"></i> 医院列表</h5>\r\n                                <el-tooltip class=\"more item\" effect=\"dark\" content=\"更多\" placement=\"top-start\">\r\n                                    <router-link to=\"/hospital\">\r\n                                        <a href=\"javascript:;\"><i class=\"icon iconfont icon-gengduo\"></i></a>\r\n                                    </router-link>\r\n                                </el-tooltip>\r\n                            </div>\r\n                            <ul class=\"list\">\r\n                                <li v-for=\"el in hospitalList\" :key=\"el.编号\">\r\n                                    <a href=\"javascript:;\">\r\n                                            <span class=\"btn-icon\"><i class=\"icon iconfont icon-yuandianxiao\"></i></span>\r\n                                        <span class=\"name\" @click=\"btnService(el)\">{{el.名称}}</span>\r\n                                        <span class=\"time\">\r\n                                            <template>\r\n                                                <el-switch class=\"switch\"\r\n                                                           style=\"display: block\"\r\n                                                           v-model=\"el.是否启用\"\r\n                                                           active-color=\"#13ce66\"\r\n                                                           inactive-color=\"#ff4949\"\r\n                                                           @change=\"hospitalChange(el)\"\r\n                                                           active-text=\"启用\">\r\n                                                </el-switch>\r\n                                            </template>\r\n                                        </span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </el-col>\r\n                    <el-col class=\"item\" :span=\"12\">\r\n                        <div class=\"grid-content bg-purple\">\r\n                            <div class=\"item-header\">\r\n                                <h5><i class=\"icon iconfont icon-quanbuxinwen\"></i> 总库新闻</h5>\r\n                                <el-tooltip class=\"more item\" effect=\"dark\" content=\"更多\" placement=\"top-start\">\r\n                                    <router-link to=\"/news\">\r\n                                        <a href=\"javascript:;\"><i class=\"icon iconfont icon-gengduo\"></i></a>\r\n                                    </router-link>\r\n                                </el-tooltip>\r\n                            </div>\r\n                            <ul class=\"list\">\r\n                                <li v-for=\"el in newsList\" :key=\"el.编号\">\r\n                                    <a href=\"javascript:;\" @click=\"btnDetails(el)\">\r\n                                        <span class=\"btn-icon\">\r\n                                            <i class=\"icon iconfont icon-yuandianxiao\"></i>\r\n                                        </span>\r\n                                        <span class=\"name\">{{el.标题}}</span>\r\n                                        <span class=\"time\">\r\n                                            {{el.建立时间|dataFormat('yyyy-MM-dd')}}<i class=\"icon iconfont icon-right\"></i>\r\n                                        </span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </el-col>\r\n                </div>\r\n            </el-row>\r\n            <el-row :gutter=\"24\" class=\"items services-items\">\r\n                <div class=\"wrapper\">\r\n                    <h4 class=\"title\">服务列表 Services</h4>\r\n                    <el-col :span=\"6\" v-for=\"el in serviceList\" :key=\"el.编号\" class=\"card-box\">\r\n                        <el-card>\r\n                            <div class=\"icon\">{{el.名称.slice(0,1)}}</div>\r\n                            <div class=\"item-content\">\r\n                                <span align=\"center\" class=\"name\">{{el.名称}}</span>\r\n                                <p class=\"content\">{{el.备注}}</p>\r\n                                <el-switch class=\"switch\"\r\n                                           style=\"display: block\"\r\n                                           v-model=\"el.是否启用\"\r\n                                           active-color=\"#13ce66\"\r\n                                           inactive-color=\"#ff4949\"\r\n                                           @change=\"serviceChange(el)\"\r\n                                           active-text=\"启用\"\r\n                                >\r\n                                </el-switch>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                </div>\r\n            </el-row>\r\n        </div>\r\n        <el-dialog :title=\"title\" :visible.sync=\"isAddDialog\" width=\"30%\" v-if='isAddDialog' :close-on-click-modal=\"false\">\r\n            <div v-if=\"isService\">\r\n                <HospitalService ref=\"child\" @myEvent=\"getMyEvent\" :item=\"item\"></HospitalService>\r\n            </div>\r\n        </el-dialog>\r\n        <el-dialog class=\"big-dialog\" :title=\"title\" :visible.sync=\"isDetailsDialog\" v-if='isDetailsDialog' :close-on-click-modal=\"false\">\r\n            <NewsDetails ref=\"child\" @myEvent=\"getMyEvent\" :item=\"item\"></NewsDetails>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {URL_SERVICE, URL_NEWS, URL_HOSPITAL} from \"@/assets/js/connect/ConSysUrl\";\r\n    import HospitalService from \"@/components/hospital/HospitalService\";\r\n    import NewsDetails from \"@/components/news/NewsDetails\";\r\n\r\n    export default {\r\n        name: 'Home',\r\n        components: {\r\n            HospitalService,\r\n            NewsDetails\r\n        },\r\n        data() {\r\n            return {\r\n                isOpen: true,\r\n                serviceList: [],\r\n                newsList: [],\r\n                hospitalList: [],\r\n                req: {\r\n                    Index: 1,\r\n                    Size: 10,\r\n                    OrderType: false\r\n                },\r\n                item: {},\r\n                isService: false,\r\n                isAddDialog: false,\r\n                title: '',\r\n                isDetailsDialog: false\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getService();\r\n            this.getHospital();\r\n            this.getNews();\r\n        },\r\n        methods: {\r\n            serviceChange(el) {\r\n                let title;\r\n                if (el.是否启用) {\r\n                    title = '启用';\r\n                } else {\r\n                    title = '禁用';\r\n                }\r\n                this.enableDisableService(title, el);\r\n            },\r\n            hospitalChange(el) {\r\n                let title;\r\n                if (el.是否启用) {\r\n                    title = '启用';\r\n                } else {\r\n                    title = '禁用';\r\n                }\r\n                this.enableDisableHospital(title, el);\r\n\r\n            },\r\n            btnService(data) {\r\n                this.title = '服务订购';\r\n                this.isService = true;\r\n                this.item = data;\r\n                this.isAddDialog = true;\r\n            },\r\n            getMyEvent(val) {\r\n                this.getHospital();\r\n                this.isAddDialog = val;\r\n            },\r\n            getService: async function () {\r\n                this.serviceList = await this.$http.myGet(URL_SERVICE.GET_SERVICE_ALL, '');\r\n            },\r\n            enableDisableService(title, el) {\r\n                this.$confirm('您确定要【' + title + '】此服务吗', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    if (el.是否启用) {\r\n                        this.enableService(el);\r\n                    } else {\r\n                        this.disableService(el);\r\n                    }\r\n                }).catch(() => {\r\n                    el.是否启用 = !el.是否启用;\r\n                });\r\n            },\r\n            disableService: async function (el) {\r\n                let data = {\r\n                    编号: el.编号\r\n                }\r\n                await this.$http.myPost(URL_SERVICE.POST_DISABLE_SERVICE, data);\r\n                this.$message.success('禁用成功！');\r\n            },\r\n            enableService: async function (el) {\r\n                let data = {\r\n                    编号: el.编号\r\n                }\r\n                await this.$http.myPost(URL_SERVICE.POST_ENABLE_SERVICE, data);\r\n                this.$message.success('启用成功！');\r\n            },\r\n            getNews: async function () {\r\n                let data = await this.$http.myGet(URL_NEWS.GET_PANGING_NEWS, this.req);\r\n                this.newsList = data.list;\r\n            },\r\n            getHospital: async function () {\r\n                let data = await this.$http.myGet(URL_HOSPITAL.GET_HOSPITAL_ALL, '');\r\n                this.hospitalList = data;\r\n            },\r\n            enableDisableHospital(title, el) {\r\n                this.$confirm('您确定要【' + title + '】此医院吗', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    if (el.是否启用) {\r\n                        this.enableHospital(el);\r\n                    } else {\r\n                        this.disableHospital(el);\r\n                    }\r\n                }).catch(() => {\r\n                    el.是否启用 = !el.是否启用;\r\n                });\r\n            },\r\n            disableHospital: async function (el) {\r\n                let postData = {\r\n                    编号: el.编号\r\n                }\r\n                await this.$http.myPost(URL_HOSPITAL.POST_DISABLE_HOSPITA, postData);\r\n                this.$message.success('禁用成功！');\r\n            },\r\n            enableHospital: async function (el) {\r\n                let data = {\r\n                    编号: el.编号\r\n                }\r\n                await this.$http.myPost(URL_HOSPITAL.POST_ENABLE_HOSPITA, data);\r\n                this.$message.success('启用成功！');\r\n            },\r\n            btnDetails(data) {\r\n                this.title = '新闻详情';\r\n                this.item = data;\r\n                this.isDetailsDialog = true;\r\n            },\r\n            closeDialog(val) {\r\n                this.isDetailsDialog = val;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" type='text/less'>\r\n    .home {\r\n        .el-switch__label * {\r\n            font-size: 13px;\r\n        }\r\n    }\r\n\r\n    .el-card__body {\r\n        padding: 15px !important;\r\n    }\r\n</style>\r\n<style lang=\"less\" type='text/less' scoped>\r\n    @import '../assets/less/homeContent';\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=536273da&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=less&\"\nimport style1 from \"./Home.vue?vue&type=style&index=1&id=536273da&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"536273da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-login\"},[_vm._m(0),_c('div',{staticClass:\"content\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"ruleForm\",attrs:{\"model\":_vm.account,\"rules\":_vm.rules}},[_c('h3',{staticClass:\"form-title\"},[_vm._v(\"账号密码登录\")]),_c('el-form-item',{attrs:{\"prop\":\"userId\"}},[_c('img',{attrs:{\"src\":require(\"../assets/images/login-user.png\")}}),_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"用户名\"},model:{value:(_vm.account.userId),callback:function ($$v) {_vm.$set(_vm.account, \"userId\", $$v)},expression:\"account.userId\"}})],1),_c('el-form-item',{staticClass:\"password\",attrs:{\"prop\":\"password\"}},[_c('img',{attrs:{\"src\":require(\"../assets/images/login-key.png\")}}),_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.isLogin($event)}},model:{value:(_vm.account.password),callback:function ($$v) {_vm.$set(_vm.account, \"password\", $$v)},expression:\"account.password\"}})],1),_c('el-form-item',{staticClass:\"remember\"},[_c('el-checkbox-group',{model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_c('el-checkbox',{attrs:{\"label\":\"记住密码\",\"name\":\"type\"}})],1)],1),_c('el-form-item',[_c('el-button',{staticClass:\"btn-login\",attrs:{\"type\":\"primary\",\"height\":\"30\"},on:{\"click\":_vm.isLogin}},[_vm._v(\"立即登录\")])],1)],1),_c('p',{staticClass:\"support\"},[_vm._v(\"技术支持：上海路炳通信息技术有限公司\")])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-top\"},[_c('div',{staticClass:\"left\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/logo-2.png\"),\"alt\":\"logo\"}}),_c('span',[_vm._v(\"总库后台管理系统\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page-login\">\r\n        <div class=\"login-top\">\r\n            <div class=\"left\">\r\n                <img src=\"@/assets/images/logo-2.png\" alt=\"logo\"> <span>总库后台管理系统</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"content\">\r\n            <el-form :model=\"account\" :rules=\"rules\" ref=\"ruleForm\" class=\"ruleForm\">\r\n                <h3 class=\"form-title\">账号密码登录</h3>\r\n                <el-form-item prop=\"userId\">\r\n                    <img src=\"../assets/images/login-user.png\"/>\r\n                    <el-input v-model=\"account.userId\" type=\"text\" placeholder=\"用户名\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"password\" class=\"password\">\r\n                    <img src=\"../assets/images/login-key.png\"/>\r\n                    <el-input v-model=\"account.password\" type=\"password\" placeholder=\"密码\"\r\n                              @keyup.enter.native=\"isLogin\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item class=\"remember\">\r\n                    <el-checkbox-group v-model=\"checked\">\r\n                        <el-checkbox label=\"记住密码\" name=\"type\"></el-checkbox>\r\n                    </el-checkbox-group>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button class=\"btn-login\" type=\"primary\" height=\"30\" @click=\"isLogin\">立即登录</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n            <p class=\"support\">技术支持：上海路炳通信息技术有限公司</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {URL_USER} from \"@/assets/js/connect/ConSysUrl\";\r\n    import {_debounce} from \"@/assets/js/Common\";\r\n\r\n    export default {\r\n        name: 'LoginPage',\r\n        data() {\r\n            return {\r\n                logining: false,\r\n                account: {\r\n                    userId: '',\r\n                    password: ''\r\n                },\r\n                checked: false,\r\n                rules: {  //表单验证\r\n                    userId: [\r\n                        {required: true, message: '请输入账号', trigger: 'blur'}\r\n                    ],\r\n                    password: [\r\n                        {required: true, message: '请输入密码', trigger: 'blur'}\r\n                    ]\r\n                },\r\n                isDownload: false\r\n            }\r\n        },\r\n        mounted() {\r\n            this.IeVersion();\r\n            this.getlocalStorage();\r\n        },\r\n        methods: {\r\n            IeVersion: function () {\r\n                let userAgent = navigator.userAgent;\r\n                let isIE = userAgent.indexOf(\"compatible\") > -1 && userAgent.indexOf(\"MSIE\") > -1;\r\n                if (isIE) {\r\n                    let reIE = new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\");\r\n                    reIE.test(userAgent);\r\n                    let fIEVersion = parseFloat(RegExp[\"$1\"]);\r\n\r\n                    if (fIEVersion < 10) {\r\n                        this.$router.push({path: '/IeUnderTen'});\r\n                    }\r\n                } else {\r\n                    return false;\r\n                }\r\n            },\r\n            isLogin: _debounce(function () {\r\n                this.$refs.ruleForm.validate((valid) => {\r\n                    if (valid) {\r\n                        (this.dataPost(), 2000);\r\n                    } else {\r\n                        this.$message.error('信息有误！');\r\n                        return false;\r\n                    }\r\n                });\r\n            }, 300),\r\n            dataPost: async function () {\r\n                let postData = {\r\n                    工号: this.account.userId,\r\n                    密码: this.account.password,\r\n                    dbKey: 'ScientificResearch_Manage'\r\n                }\r\n                let data = await this.$http.myPost(URL_USER.POST_LOGIN, postData);\r\n                this.$message.success('登录成功！');\r\n\r\n                localStorage.setItem('myUserInfo', JSON.stringify(data));\r\n                sessionStorage.setItem('Authorization', data.token_type + ' ' + data.access_token);\r\n\r\n                if (this.checked) {\r\n                    localStorage.setItem('myLoginInfo', JSON.stringify(this.account));\r\n                } else {\r\n                    localStorage.removeItem('myLoginInfo');\r\n                }\r\n                this.$router.push({path: '/index'});\r\n\r\n                // this.$store.commit('isLogin', true);\r\n                // this.$store.commit('authorization', data.token_type + ' ' + data.access_token);\r\n            },\r\n            getlocalStorage() {\r\n                if (localStorage.myLoginInfo) {\r\n                    let loginInfo = JSON.parse(localStorage.getItem('myLoginInfo'));\r\n                    this.account.userId = loginInfo.userId;\r\n                    this.account.password = loginInfo.password;\r\n                    this.checked = true;\r\n                }\r\n            },\r\n        },\r\n    }\r\n</script>\r\n<style lang=\"less\" type='text/less'>\r\n    .page-login {\r\n        .el-form-item {\r\n            .el-input__inner {\r\n                padding: 0 15px 0 38px;\r\n            }\r\n\r\n            .el-form-item__error {\r\n                left: 50px;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n<style lang=\"less\" type='text/less' scoped>\r\n    @import '../assets/less/Login';\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=e30c17ca&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=less&\"\nimport style1 from \"./Login.vue?vue&type=style&index=1&id=e30c17ca&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e30c17ca\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-news page-common\"},[_c('div',{staticClass:\"main wrapper\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"新闻 News\")]),_c('div',{staticClass:\"filter-container\"},[_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"success\"},on:{\"click\":_vm.btnAdd}},[_c('i',{staticClass:\"iconfont icontianjia\"}),_vm._v(\" 添加新闻\\n            \")]),_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入标题\",\"prefix-icon\":\"el-icon-search\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.req.Like标题),callback:function ($$v) {_vm.$set(_vm.req, \"Like标题\", $$v)},expression:\"req.Like标题\"}}),_c('div',{staticClass:\"filter-item\"},[_vm._v(\"\\n                新闻类型\\n                \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeType},model:{value:(_vm.req.新闻分类编号),callback:function ($$v) {_vm.$set(_vm.req, \"新闻分类编号\", $$v)},expression:\"req.新闻分类编号\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"\"}}),_vm._l((_vm.types),function(item){return _c('el-option',{key:item.编号,attrs:{\"label\":item.名称,\"value\":item.编号}})})],2)],1),_c('div',{staticClass:\"filter-item\"},[_vm._v(\"\\n                标签\\n                \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.search},model:{value:(_vm.req.Like标签),callback:function ($$v) {_vm.$set(_vm.req, \"Like标签\", $$v)},expression:\"req.Like标签\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"\"}}),_vm._l((_vm.tags),function(item){return _c('el-option',{key:item.编号,attrs:{\"label\":item.名称,\"value\":item.名称}})})],2)],1),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\\n            \")])],1),_c('el-table',{staticClass:\"tableone\",attrs:{\"border\":\"\",\"data\":_vm.tableData,\"stripe\":\"\",\"header-cell-style\":{'text-align':'center'}}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"50\",\"align\":\"center\",\"prop\":\"number\"}}),_c('el-table-column',{attrs:{\"label\":\"标题\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":\"javascript:;\"},domProps:{\"textContent\":_vm._s(scope.row.标题)},on:{\"click\":function($event){return _vm.btnDetails(scope.row)}}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"新闻分类\",\"align\":\"center\",\"width\":\"100\",\"prop\":\"新闻分类名称\"}}),_c('el-table-column',{attrs:{\"label\":\"标签\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.tags),function(el){return (scope.row.tags)?_c('el-tag',{key:el,staticClass:\"tag\",attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(el))]):_vm._e()})}}])}),_c('el-table-column',{attrs:{\"label\":\"建立时间\",\"align\":\"center\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                    \"+_vm._s(_vm._f(\"dataFormat\")(scope.row.建立时间,'yyyy-MM-dd'))+\"\\n                \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"content\":\"详情\",\"placement\":\"bottom\",\"effect\":\"light\"}},[_c('el-button',{attrs:{\"icon\":\"el-icon-tickets\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.btnDetails(scope.row)}}})],1),_c('el-tooltip',{attrs:{\"content\":\"编辑\",\"placement\":\"bottom\",\"effect\":\"light\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.btnEdit(scope.row)}}})],1),_c('el-tooltip',{attrs:{\"content\":\"删除\",\"placement\":\"bottom\",\"effect\":\"light\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.btnDel(scope.row)}}})],1)]}}])})],1),_c('div',{staticClass:\"block paging\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.req.Index,\"page-size\":_vm.req.Size,\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.req, \"Index\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.req, \"Index\", $event)}}})],1)],1),(_vm.isAddDialog)?_c('el-dialog',{staticClass:\"big-dialog\",attrs:{\"title\":_vm.title,\"visible\":_vm.isAddDialog,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.isAddDialog=$event}}},[(_vm.isDetails)?_c('div',[_c('NewsDetails',{ref:\"child\",attrs:{\"item\":_vm.item},on:{\"myEvent\":_vm.closeDialog}})],1):_c('div',[_c('AddNews',{ref:\"child\",attrs:{\"item\":_vm.item,\"isAddDialog\":_vm.isAddDialog,\"types\":_vm.types,\"isAdd\":_vm.isAdd},on:{\"myEvent\":_vm.getMyEvent}})],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addNews\"},[(_vm.isLoad)?_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\",\"size\":\"small\"}},[_c('el-form-item',{staticClass:\"el-form-item-block\",attrs:{\"label\":\"标题\",\"prop\":\"Model.标题\"}},[_c('el-input',{model:{value:(_vm.form.Model.标题),callback:function ($$v) {_vm.$set(_vm.form.Model, \"标题\", $$v)},expression:\"form.Model.标题\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分类\",\"prop\":\"Model.新闻分类编号\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeType},model:{value:(_vm.form.Model.新闻分类编号),callback:function ($$v) {_vm.$set(_vm.form.Model, \"新闻分类编号\", $$v)},expression:\"form.Model.新闻分类编号\"}},_vm._l((_vm.types),function(item){return _c('el-option',{key:item.编号,attrs:{\"label\":item.名称,\"value\":item.编号}})}),1)],1),_c('el-form-item',{staticClass:\"el-form-item-title\",attrs:{\"label\":\"标签\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择(多个)\"},model:{value:(_vm.newTags),callback:function ($$v) {_vm.newTags=$$v},expression:\"newTags\"}},_vm._l((_vm.tags),function(item){return _c('el-option',{key:item.编号,attrs:{\"label\":item.名称,\"value\":item.编号}})}),1)],1),_c('el-form-item',{staticClass:\"el-form-item-block\",attrs:{\"label\":\"内容\",\"prop\":\"Model.内容\"}},[[_c('tinymce',{ref:\"tm\",attrs:{\"id\":\"tinymce\",\"value\":_vm.form.Model.内容},model:{value:(_vm.form.Model.内容),callback:function ($$v) {_vm.$set(_vm.form.Model, \"内容\", $$v)},expression:\"form.Model.内容\"}})]],2)],1):_vm._e(),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelHandler}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmHandler}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit_container\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageLoading),expression:\"imageLoading\"}],attrs:{\"element-loading-text\":\"请稍等，图片上传中\"}},[_c('quill-editor',{ref:\"myQuillEditor\",attrs:{\"options\":_vm.editorOption},on:{\"change\":function($event){return _vm.onEditorChange($event)}},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}}),_c('el-upload',{ref:\"uniqueId\",staticStyle:{\"display\":\"none\"},attrs:{\"action\":_vm.serverUrl,\"show-file-list\":false,\"before-upload\":_vm.newEditorbeforeupload,\"on-success\":_vm.handleSingleSuccess,\"headers\":_vm.Authorization,\"id\":\"uniqueId\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const titleConfig = {\r\n    'ql-bold':'加粗',\r\n    'ql-color':'颜色',\r\n    'ql-font':'字体',\r\n    'ql-code':'插入代码',\r\n    'ql-italic':'斜体',\r\n    'ql-link':'添加链接',\r\n    'ql-background':'背景颜色',\r\n    'ql-size':'字体大小',\r\n    'ql-strike':'删除线',\r\n    'ql-script':'上标/下标',\r\n    'ql-underline':'下划线',\r\n    'ql-blockquote':'引用',\r\n    'ql-header':'标题',\r\n    'ql-indent':'缩进',\r\n    'ql-list':'列表',\r\n    'ql-align':'文本对齐',\r\n    'ql-direction':'文本方向',\r\n    'ql-code-block':'代码块',\r\n    'ql-formula':'公式',\r\n    'ql-image':'图片',\r\n    'ql-video':'视频',\r\n    'ql-clean':'清除字体样式'\r\n};\r\nexport function addQuillTitle(){\r\n    const oToolBar = document.querySelector('.ql-toolbar'),\r\n        aButton = oToolBar.querySelectorAll('button'),\r\n        aSelect =  oToolBar.querySelectorAll('select');\r\n    aButton.forEach(function(item){\r\n        if(item.className === 'ql-script'){\r\n            item.value === 'sub' ? item.title = '下标': item.title = '上标';\r\n        }else if(item.className === 'ql-indent'){\r\n            item.value === '+1' ? item.title ='向右缩进': item.title ='向左缩进';\r\n        }else{\r\n            item.title = titleConfig[item.classList[0]];\r\n        }\r\n    });\r\n    aSelect.forEach(function(item){\r\n        item.parentNode.title = titleConfig[item.classList[0]];\r\n    });\r\n}\r\n\r\n","<template>\r\n    <div class=\"edit_container\">\r\n        <div v-loading=\"imageLoading\"\r\n             element-loading-text=\"请稍等，图片上传中\">\r\n            <quill-editor ref=\"myQuillEditor\" v-model=\"content\" :options=\"editorOption\"\r\n                          @change=\"onEditorChange($event)\"></quill-editor>\r\n            <el-upload style=\"display:none\" :action=\"serverUrl\" :show-file-list=\"false\"\r\n                       :before-upload='newEditorbeforeupload' :on-success='handleSingleSuccess' :headers=\"Authorization\"\r\n                       ref=\"uniqueId\" id=\"uniqueId\">\r\n            </el-upload>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {Quill,quillEditor} from \"vue-quill-editor\"; //调用编辑器\r\n    import {addQuillTitle} from \"../../assets/js/QuillTitle\";\r\n    import 'quill/dist/quill.core.css';\r\n    import 'quill/dist/quill.snow.css';\r\n    import 'quill/dist/quill.bubble.css';\r\n    import {HTTP_URL_HOST, URL_NEWS} from \"@/assets/js/connect/ConSysUrl\";\r\n    import {getUrl} from \"@/assets/js/Common\";\r\n\r\n    const toolbarOptions = [\r\n        ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\r\n        ['blockquote', 'code-block'],\r\n\r\n        [{'header': 1}, {'header': 2}],               // custom button values\r\n        [{'list': 'ordered'}, {'list': 'bullet'}],\r\n        [{'script': 'sub'}, {'script': 'super'}],      // superscript/subscript\r\n        [{'indent': '-1'}, {'indent': '+1'}],          // outdent/indent\r\n        [{'direction': 'rtl'}],                         // text direction\r\n\r\n        [{'size': ['12px', '14px', '16px', '18px', '20px']}],  // custom dropdown\r\n        [{'header': [1, 2, 3, 4, 5, 6, false]}],\r\n\r\n        [{'color': []}, {'background': []}],          // dropdown with defaults from theme\r\n        [{'font': ['SimSun', 'SimHei', 'Microsoft-YaHei', 'KaiTi', 'FangSong', 'Arial', 'Times-New-Roman', 'sans-serif']}],\r\n        [{'align': []}],\r\n        ['link', 'image', 'video'],\r\n        ['clean']                                         // remove formatting button\r\n    ]\r\n    // 自定义字体大小\r\n    let Size = Quill.import('attributors/style/size');\r\n    Size.whitelist = ['12px', '14px', '16px', '18px', '20px'];\r\n    Quill.register(Size, true);\r\n\r\n    // 自定义字体类型\r\n    let fonts = ['SimSun', 'SimHei', 'Microsoft-YaHei', 'KaiTi', 'FangSong', 'Arial', 'Times-New-Roman', 'sans-serif']\r\n    let Font = Quill.import('formats/font')\r\n    Font.whitelist = fonts // 将字体加入到白名单\r\n    Quill.register(Font, true)\r\n\r\n    export default {\r\n        components: {\r\n            quillEditor,\r\n        },\r\n        props: ['content'],\r\n        data() {\r\n            return {\r\n                Authorization: {\r\n                    Authorization: sessionStorage.getItem('Authorization')\r\n                },\r\n                serverUrl: getUrl(HTTP_URL_HOST + URL_NEWS.POST_UPLOAD_NEWS_IMG),\r\n                imageLoading: false,\r\n                editorOption: {\r\n                    modules: {\r\n                        toolbar: {\r\n                            container: toolbarOptions,\r\n                            handlers: {\r\n                                'image': function (value) {\r\n                                    if (value) {\r\n                                        let fileInput = document.querySelector('#uniqueId  input') //隐藏的file元素\r\n                                        fileInput.click() //触发事件\r\n                                    } else {\r\n                                        this.quill.format('image', false);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                }\r\n            }\r\n        },\r\n        mounted(){\r\n            addQuillTitle();\r\n        },\r\n        methods: {\r\n            onEditorChange({editor, html, text}) {// 内容改变事件\r\n                this.$emit('myContent', html);\r\n            },\r\n            handleSingleSuccess(res) {\r\n                let quill = this.$refs.myQuillEditor.quill\r\n                if (res) {\r\n                    // 获取光标所在位置\r\n                    let length = quill.getSelection().index;\r\n                    quill.insertEmbed(length, 'image', HTTP_URL_HOST + res.data[0])\r\n                    // 调整光标到最后\r\n                    quill.setSelection(length + 1)\r\n                } else {\r\n                    this.$message.error('图片插入失败!');\r\n                }\r\n                this.imageLoading = false\r\n            },\r\n            newEditorbeforeupload(file) {\r\n                const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\r\n                const isLt2M = file.size / 1024 / 1024 < 2;\r\n                if (!isJPG) {\r\n                    this.$message.error('上传图片只能是 JPG或PNG 格式!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传图片大小不能超过 2MB!');\r\n                }\r\n                if (isJPG && isLt2M) this.imageLoading = true\r\n                return isJPG && isLt2M;\r\n            },\r\n            handleFormatError() {\r\n                this.$message.error('图片插入失败!');\r\n            },\r\n        },\r\n        computed: {\r\n            editor() {\r\n                return this.$refs.myQuillEditor.quill;\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .ivu-upload {\r\n        display: none;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./VueQuilEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./VueQuilEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueQuilEditor.vue?vue&type=template&id=730addd2&scoped=true&\"\nimport script from \"./VueQuilEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./VueQuilEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VueQuilEditor.vue?vue&type=style&index=0&id=730addd2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"730addd2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],attrs:{\"id\":_vm.Id},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <textarea :id='Id' v-model='content'></textarea>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {HTTP_URL_HOST, URL_NEWS} from \"@/assets/js/connect/ConSysUrl\";\r\n    import tinymce from '../../../public/tinymce/tinymce';\r\n    import '../../../public/tinymce/themes/modern/theme';\r\n    import '../../../public/tinymce/langs/zh_CN';\r\n\r\n    export default {\r\n        name: \"Tinymce\",\r\n        props: {\r\n            value: {\r\n                default: '',\r\n                type: String\r\n            },\r\n            config: {\r\n                type: Object,\r\n                default: () => {\r\n                    return {\r\n                        theme: 'modern',\r\n                        height: 300\r\n                    }\r\n                }\r\n            },\r\n            url: {\r\n                default: '',\r\n                type: String\r\n            },\r\n            accept: {\r\n                default: 'image/jpeg, image/png',\r\n                type: String\r\n            },\r\n            maxSize: {\r\n                default: 2097152,\r\n                type: Number\r\n            },\r\n            withCredentials: {\r\n                default: false,\r\n                type: Boolean\r\n            }\r\n        },\r\n\r\n        data() {\r\n            const Id = Date.now()\r\n            return {\r\n                Id: Id,\r\n                Editor: null,\r\n                content: '',\r\n                DefaultConfig: {\r\n                    height: 300,\r\n                    theme: 'modern',\r\n                    menubar: false,\r\n                    toolbar: `styleselect | fontselect | formatselect | fontsizeselect | forecolor backcolor | bold italic underline strikethrough | image  media | table | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | preview removeformat  hr | paste code  link | undo redo | fullscreen `,\r\n                    plugins: `paste importcss image code table advlist fullscreen link media lists textcolor colorpicker hr preview`,\r\n                    forced_root_block: 'p',\r\n                    force_p_newlines: true,\r\n                    importcss_append: true,\r\n\r\n                    // CONFIG: ContentStyle 这块很重要， 在最后呈现的页面也要写入这个基本样式保证前后一致， `table`和`img`的问题基本就靠这个来填坑了\r\n                    content_style: `\r\n    *                         { padding:0; margin:0; }\r\n    html, body                { height:100%; }\r\n    img                       { max-width:100%; display:block;height:auto; }\r\n    a                         { text-decoration: none; }\r\n    iframe                    { width: 100%; }\r\n    p                         { line-height:1.6; margin: 0px; }\r\n    table                     { word-wrap:break-word; word-break:break-all; max-width:100%; border:none; border-color:#999; }\r\n    .mce-object-iframe        { width:100%; box-sizing:border-box; margin:0; padding:0; }\r\n    ul,ol                     { list-style-position:inside; }\r\n  `,\r\n\r\n                    insert_button_items: 'image link | inserttable',\r\n\r\n                    // CONFIG: Paste\r\n                    paste_retain_style_properties: 'all',\r\n                    paste_word_valid_elements: '*[*]',        // word需要它\r\n                    paste_data_images: true,                  // 粘贴的同时能把内容里的图片自动上传，非常强力的功能\r\n                    paste_convert_word_fake_lists: false,     // 插入word文档需要该属性\r\n                    paste_webkit_styles: 'all',\r\n                    paste_merge_formats: true,\r\n                    nonbreaking_force_tab: false,\r\n                    paste_auto_cleanup_on_paste: false,\r\n\r\n                    // CONFIG: Font\r\n                    fontsize_formats: '10px 11px 12px 14px 16px 18px 20px 24px',\r\n\r\n                    // CONFIG: StyleSelect\r\n                    style_formats: [\r\n                        {\r\n                            title: '首行缩进',\r\n                            block: 'p',\r\n                            styles: {'text-indent': '2em'}\r\n                        },\r\n                        {\r\n                            title: '行高',\r\n                            items: [\r\n                                {title: '1', styles: {'line-height': '1'}, inline: 'span'},\r\n                                {title: '1.5', styles: {'line-height': '1.5'}, inline: 'span'},\r\n                                {title: '2', styles: {'line-height': '2'}, inline: 'span'},\r\n                                {title: '2.5', styles: {'line-height': '2.5'}, inline: 'span'},\r\n                                {title: '3', styles: {'line-height': '3'}, inline: 'span'}\r\n                            ]\r\n                        }\r\n                    ],\r\n\r\n                    // FontSelect\r\n                    font_formats: `\r\n                                微软雅黑=微软雅黑;\r\n                                宋体=宋体;\r\n                                黑体=黑体;\r\n                                仿宋=仿宋;\r\n                                楷体=楷体;\r\n                                隶书=隶书;\r\n                                幼圆=幼圆;\r\n                                Andale Mono=andale mono,times;\r\n                                Arial=arial, helvetica,\r\n                                sans-serif;\r\n                                Arial Black=arial black, avant garde;\r\n                                Book Antiqua=book antiqua,palatino;\r\n                                Comic Sans MS=comic sans ms,sans-serif;\r\n                                Courier New=courier new,courier;\r\n                                Georgia=georgia,palatino;\r\n                                Helvetica=helvetica;\r\n                                Impact=impact,chicago;\r\n                                Symbol=symbol;\r\n                                Tahoma=tahoma,arial,helvetica,sans-serif;\r\n                                Terminal=terminal,monaco;\r\n                                Times New Roman=times new roman,times;\r\n                                Trebuchet MS=trebuchet ms,geneva;\r\n                                Verdana=verdana,geneva;\r\n                                Webdings=webdings;\r\n                                Wingdings=wingdings,zapf dingbats`,\r\n\r\n                    // Tab\r\n                    tabfocus_elements: ':prev,:next',\r\n                    object_resizing: true,\r\n\r\n                    // Image\r\n                    imagetools_toolbar: 'rotateleft rotateright | flipv fliph | editimage imageoptions'\r\n                },\r\n            }\r\n        },\r\n        mounted() {\r\n            this.content = this.value;\r\n            this.init();\r\n        },\r\n        beforeDestroy() {\r\n            // 销毁tinymce\r\n            this.$emit('on-destroy')\r\n            window.tinymce.remove(`#${this.Id}`)\r\n        },\r\n        methods: {\r\n            init() {\r\n                const self = this\r\n\r\n                this.Editor = tinymce.init({\r\n                    // 默认配置\r\n                    ...this.DefaultConfig,\r\n\r\n                    // 图片上传\r\n                    images_upload_handler: async function (blobInfo, success, failure) {\r\n                        if (blobInfo.blob().size > self.maxSize) {\r\n                            return failure('文件体积过大！')\r\n                        }\r\n\r\n                        if (self.accept.indexOf(blobInfo.blob().type) >= 0) {\r\n                            const formData = new FormData();\r\n                            formData.append('upfile', blobInfo.blob(), blobInfo.filename())\r\n                            let data = await self.$http.myPost(URL_NEWS.POST_UPLOAD_NEWS_IMG, formData);\r\n                            success(HTTP_URL_HOST+data[0]);\r\n                        } else {\r\n                            return failure('图片格式错误！')\r\n                        }\r\n                    },\r\n\r\n                    // prop内传入的的config\r\n                    ...this.config,\r\n\r\n                    // 挂载的DOM对象\r\n                    selector: `#${this.Id}`,\r\n                    setup: (editor) => {\r\n                        // 抛出 'on-ready' 事件钩子\r\n                        editor.on('init', () => {\r\n                                self.loading = false\r\n                                self.$emit('on-ready')\r\n                                editor.setContent(self.value)\r\n                            }\r\n                        )\r\n                        // 抛出 'input' 事件钩子，同步value数据\r\n                        editor.on('input change undo redo', () => {\r\n                                self.$emit('input', editor.getContent())\r\n                            }\r\n                        )\r\n                    }\r\n                })\r\n            },\r\n            getContent(){\r\n               return tinymce.activeEditor.getContent();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Tinymce.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Tinymce.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tinymce.vue?vue&type=template&id=21b3050c&\"\nimport script from \"./Tinymce.vue?vue&type=script&lang=js&\"\nexport * from \"./Tinymce.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"addNews\">\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\" size=\"small\" v-if=\"isLoad\">\r\n            <el-form-item label=\"标题\" prop=\"Model.标题\" class=\"el-form-item-block\">\r\n                <el-input v-model=\"form.Model.标题\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"分类\" prop=\"Model.新闻分类编号\">\r\n                <el-select v-model=\"form.Model.新闻分类编号\" placeholder=\"请选择\" @change=\"changeType\">\r\n                    <el-option v-for=\"item in types\" :key=\"item.编号\" :label=\"item.名称\" :value=\"item.编号\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"标签\" class=\"el-form-item-title\">\r\n                <el-select v-model=\"newTags\" multiple placeholder=\"请选择(多个)\">\r\n                    <el-option\r\n                            v-for=\"item in tags\"\r\n                            :key=\"item.编号\"\r\n                            :label=\"item.名称\"\r\n                            :value=\"item.编号\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"内容\" prop=\"Model.内容\" class=\"el-form-item-block\">\r\n                <!--<VueQuilEditor ref=\"umeditor\" :content=\"form.内容\" @myContent=\"myContent\"></VueQuilEditor>-->\r\n\r\n                <template>\r\n                    <tinymce id=\"tinymce\" v-model=\"form.Model.内容\" :value=\"form.Model.内容\" ref=\"tm\"></tinymce>\r\n                </template>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"cancelHandler\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"confirmHandler\">确 定</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script src=\"https://cdn.bootcss.com/tinymce/4.7.4/tinymce.min.js\"></script>\r\n<script>\r\n    import {HTTP_URL_HOST, URL_NEWS} from \"@/assets/js/connect/ConSysUrl\";\r\n    import VueQuilEditor from '../quilEditor/VueQuilEditor';\r\n    import tinymce from '@/components/tinymce/Tinymce';\r\n    import {_debounce, deepCopy, formatDate} from \"@/assets/js/Common\";\r\n\r\n    export default {\r\n        name: \"AddNews\",\r\n        props: ['item', 'isAdd', 'types'],\r\n        components: {\r\n            VueQuilEditor,\r\n            tinymce,\r\n        },\r\n        data() {\r\n            return {\r\n                form: {\r\n                    Model: {\r\n                        编号: 0,\r\n                        标题: '',\r\n                        新闻分类编号: '',\r\n                        内容: '',\r\n                        建立时间: formatDate(new Date(), 'yyyy-MM-dd'),\r\n                    },\r\n                    List: []\r\n                },\r\n                rules: {  //表单验证\r\n                    标题: [\r\n                        {required: true, message: '标题不能为空！', trigger: 'blur'}\r\n                    ],\r\n                    新闻分类编号: [\r\n                        {required: true, message: '请选择新闻分类！', trigger: 'blur'}\r\n                    ],\r\n                    内容: [\r\n                        {required: true, message: '内容不能为空！', trigger: 'blur'}\r\n                    ],\r\n                },\r\n                newTags: [],\r\n                tags: [],\r\n                isLoad: false\r\n            }\r\n        },\r\n        mounted() {\r\n            if (!this.isAdd) {\r\n                this.getDetails(this.item.编号)\r\n            } else {\r\n                this.isLoad = true\r\n            }\r\n        },\r\n        methods: {\r\n            cancelHandler() {\r\n                this.$emit('myEvent', false);\r\n            },\r\n            changeType(id) {\r\n                this.getTags(id);\r\n            },\r\n            getTags: async function (id) {\r\n                let postData = {\r\n                    新闻分类编号: id\r\n                }\r\n                let data = await this.$http.myGet(URL_NEWS.GET_NEWS_TAGS, postData);\r\n                if (data && data.length > 0) {\r\n                    this.tags = data;\r\n                } else {\r\n                    this.tags = []\r\n                }\r\n            },\r\n            getDetails: async function (id) {\r\n                let postData = {\r\n                    新闻编号: id\r\n                }\r\n                let data = await this.$http.myGet(URL_NEWS.GET_NEWS_DETAILS, postData);\r\n                if (data) {\r\n                    this.form.Model = data.新闻;\r\n                    this.getTags(this.form.Model.新闻分类编号);\r\n                    this.newTags = [];\r\n                    data.标签.forEach((item) => {\r\n                        this.newTags.push(item.标签编号);\r\n                    })\r\n                }\r\n                this.isLoad = true\r\n            },\r\n            myContent(data) {\r\n                this.form.Model.内容 = data;\r\n            },\r\n            confirmHandler: _debounce(function () {\r\n                this.$refs.form.validate((valid) => {\r\n                    if (valid) {\r\n                        this.form.Model.内容 = this.$refs.tm.getContent();\r\n                        this.form.List = this.newTags;\r\n                        this.AddOrEdit();\r\n                    } else {\r\n                        this.$message.error('信息有误！');\r\n                        return false;\r\n                    }\r\n                });\r\n            }, 300),\r\n            AddOrEdit: async function () {\r\n                await this.$http.myPost(URL_NEWS.POST_ADD_OR_EDIT_NEWS, this.form);\r\n                this.$message.success('提交成功！');\r\n                this.$emit('myEvent', false);\r\n            },\r\n            onEditorDestroy() {\r\n                console.info('2222')\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" type='text/less' scoped>\r\n    @import \"../../assets/less/Variable.less\";\r\n\r\n    .el-switch {\r\n        padding-top: 5px;\r\n    }\r\n\r\n    .addNews {\r\n        .el-form-item {\r\n            width: 40%;\r\n            display: inline-block;\r\n        }\r\n\r\n        .el-form-item-title {\r\n            width: 60%;\r\n        }\r\n\r\n        .el-form-item-block {\r\n            width: 100%;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddNews.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddNews.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddNews.vue?vue&type=template&id=017499d3&scoped=true&\"\nimport script from \"./AddNews.vue?vue&type=script&lang=js&\"\nexport * from \"./AddNews.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddNews.vue?vue&type=style&index=0&id=017499d3&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"017499d3\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"page-news page-common\">\r\n        <div class=\"main wrapper\">\r\n            <h4 class=\"title\">新闻 News</h4>\r\n            <div class=\"filter-container\">\r\n                <el-button class=\"filter-item\" type=\"success\" @click=\"btnAdd\">\r\n                    <i class=\"iconfont icontianjia\"></i> 添加新闻\r\n                </el-button>\r\n                <el-input v-model=\"req.Like标题\" placeholder=\"请输入标题\" style=\"width: 200px;\" class=\"filter-item\"\r\n                          @keyup.enter.native=\"search\" prefix-icon=\"el-icon-search\"/>\r\n                <div class=\"filter-item\">\r\n                    新闻类型\r\n                    <el-select v-model=\"req.新闻分类编号\" placeholder=\"请选择\" @change=\"changeType\">\r\n                        <el-option label=\"全部\" value=\"\"></el-option>\r\n                        <el-option v-for=\"item in types\" :key=\"item.编号\" :label=\"item.名称\" :value=\"item.编号\"></el-option>\r\n                    </el-select>\r\n                </div>\r\n                <div class=\"filter-item\">\r\n                    标签\r\n                    <el-select v-model=\"req.Like标签\" placeholder=\"请选择\" @change=\"search\">\r\n                        <el-option label=\"全部\" value=\"\"></el-option>\r\n                        <el-option v-for=\"item in tags\" :key=\"item.编号\" :label=\"item.名称\" :value=\"item.名称\"></el-option>\r\n                    </el-select>\r\n                </div>\r\n                <el-button class=\"filter-item\" type=\"primary\" size=\"small\" icon=\"el-icon-search\" @click=\"search\">查询\r\n                </el-button>\r\n            </div>\r\n            <el-table class=\"tableone\" border :data=\"tableData\" stripe :header-cell-style=\"{'text-align':'center'}\">\r\n                <el-table-column label=\"序号\" width=\"50\" align=\"center\" prop=\"number\"></el-table-column>\r\n                <el-table-column label=\"标题\">\r\n                    <template slot-scope=\"scope\">\r\n                        <a href=\"javascript:;\" @click=\"btnDetails(scope.row)\" v-text=\"scope.row.标题\"></a>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"新闻分类\" align=\"center\" width=\"100\" prop=\"新闻分类名称\"></el-table-column>\r\n                <el-table-column label=\"标签\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tag class=\"tag\" v-if=\"scope.row.tags\" size=\"small\" v-for=\"el in scope.row.tags\" :key=\"el\">{{el}}</el-tag>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"建立时间\" align=\"center\" width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        {{scope.row.建立时间|dataFormat('yyyy-MM-dd')}}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\" width=\"200\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tooltip content=\"详情\" placement=\"bottom\" effect=\"light\">\r\n                            <el-button icon=\"el-icon-tickets\" circle @click=\"btnDetails(scope.row)\"></el-button>\r\n                        </el-tooltip>\r\n                        <el-tooltip content=\"编辑\" placement=\"bottom\" effect=\"light\">\r\n                            <el-button type=\"primary\" icon=\"el-icon-edit\" circle\r\n                                       @click=\"btnEdit(scope.row)\"></el-button>\r\n                        </el-tooltip>\r\n                        <el-tooltip content=\"删除\" placement=\"bottom\" effect=\"light\">\r\n                            <el-button type=\"danger\" icon=\"el-icon-delete\" circle\r\n                                       @click=\"btnDel(scope.row)\"></el-button>\r\n                        </el-tooltip>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div class=\"block paging\">\r\n                <el-pagination\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :current-page.sync=\"req.Index\"\r\n                        :page-size=\"req.Size\" background\r\n                        layout=\"total, prev, pager, next, jumper\"\r\n                        :total=\"total\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n        <el-dialog class=\"big-dialog\" :title=\"title\" :visible.sync=\"isAddDialog\" v-if='isAddDialog'\r\n                   :close-on-click-modal=\"false\">\r\n            <div v-if=\"isDetails\">\r\n                <NewsDetails ref=\"child\" @myEvent=\"closeDialog\" :item=\"item\"></NewsDetails>\r\n            </div>\r\n            <div v-else>\r\n                <AddNews ref=\"child\" @myEvent=\"getMyEvent\" :item=\"item\" :isAddDialog=\"isAddDialog\" :types=\"types\"\r\n                         :isAdd=\"isAdd\"></AddNews>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {URL_NEWS} from \"@/assets/js/connect/ConSysUrl\";\r\n    import AddNews from \"@/components/news/AddNews\"\r\n    import NewsDetails from \"@/components/news/NewsDetails\"\r\n\r\n    export default {\r\n        name: 'news',\r\n        components: {\r\n            AddNews,\r\n            NewsDetails\r\n        },\r\n        data() {\r\n            return {\r\n                req: {\r\n                    Index: 1,\r\n                    Size: 16,\r\n                    OrderType: false,\r\n                    Like标题: '',\r\n                    新闻分类编号: '',\r\n                    Like标签: '',\r\n                },\r\n                tableData: [],\r\n                total: 0,\r\n                title: '添加新闻',\r\n                isAdd: true,\r\n                isAddDialog: false,\r\n                item: {},\r\n                isDetails: false,\r\n                types: [],\r\n                tags: [],\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getNews();\r\n            this.getTypes();\r\n        },\r\n        methods: {\r\n            getTypeClass(state) {\r\n                switch (state) {\r\n                    case '指南':\r\n                        return 'primary';\r\n                        break;\r\n                    case '前沿':\r\n                        return 'success';\r\n                        break;\r\n                }\r\n            },\r\n            search: async function () {\r\n                this.req.Index = 1;\r\n                await this.getNews();\r\n            },\r\n            changeType(id) {\r\n                if (id) {\r\n                    this.getTags(id);\r\n                } else {\r\n                    this.tags = [];\r\n                    this.req.Like标签 = '';\r\n                }\r\n                this.search();\r\n            },\r\n            getTypes: async function () {\r\n                let data = await this.$http.myGet(URL_NEWS.GET_NEWS_TYPE, '');\r\n                if (data && data.length > 0) {\r\n                    this.types = data;\r\n                } else {\r\n                    this.types = []\r\n                }\r\n            },\r\n            getTags: async function (id) {\r\n                let postData = {\r\n                    新闻分类编号: id\r\n                }\r\n                let data = await this.$http.myGet(URL_NEWS.GET_NEWS_TAGS, postData);\r\n                if (data && data.length > 0) {\r\n                    this.tags = data;\r\n                } else {\r\n                    this.tags = [];\r\n                    this.req.Like标签 = '';\r\n                }\r\n            },\r\n            getNews: async function () {\r\n                let data = await this.$http.myGet(URL_NEWS.GET_PANGING_NEWS, this.req);\r\n                this.total = data.total;\r\n                data = data.list;\r\n                let number = (this.req.Index - 1) * this.req.Size + 1;\r\n                data.forEach((item) => {\r\n                    item.number = number;\r\n                    if (item.标签 && item.标签 != '') {\r\n                        item.tags = item.标签.split(',')\r\n                    }\r\n                    number++;\r\n                });\r\n                this.tableData = data;\r\n\r\n            },\r\n            getMyEvent(val) {\r\n                this.getNews();\r\n                this.closeDialog(val);\r\n            },\r\n            closeDialog(val) {\r\n                this.isAddDialog = val;\r\n            },\r\n            btnAdd() {\r\n                this.title = '添加新闻';\r\n                this.isAdd = true;\r\n                this.isAddDialog = true;\r\n                this.isDetails = false;\r\n\r\n            },\r\n            btnEdit(data) {\r\n                this.title = '修改新闻';\r\n                this.isAdd = false;\r\n                this.item = data;\r\n                this.isAddDialog = true;\r\n                this.isDetails = false;\r\n            },\r\n            btnDetails(data) {\r\n                this.title = '新闻详情';\r\n                this.isDetails = true;\r\n                this.item = data;\r\n                this.isAddDialog = true;\r\n            },\r\n            btnDel(data) {\r\n                this.$confirm('您确定要【删除】此新闻吗', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.deleteNews(data);\r\n                })\r\n            },\r\n            deleteNews: async function (el) {\r\n                let data = [el.编号];\r\n                await this.$http.myPost(URL_NEWS.POST_DELETE_NEWS, data);\r\n                this.$message.success('删除成功！');\r\n                this.getNews();\r\n            },\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.req.Index = val;\r\n                this.getNews();\r\n\r\n            },\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" type='text/less' scoped>\r\n    @import '../../assets/less/News';\r\n\r\n    td {\r\n        .tag {\r\n            margin: 0 5px 5px;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./News.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./News.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./News.vue?vue&type=template&id=51a6c19b&scoped=true&\"\nimport script from \"./News.vue?vue&type=script&lang=js&\"\nexport * from \"./News.vue?vue&type=script&lang=js&\"\nimport style0 from \"./News.vue?vue&type=style&index=0&id=51a6c19b&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51a6c19b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"notFound\"}},[_c('img',{staticClass:\"center-block logo\",attrs:{\"src\":require(\"../../assets/logo.png\")}}),_c('div',{staticClass:\"text-center col-sm-12\"},[_c('h1',[_vm._v(\"You are lost.\")]),_c('h4',[_vm._v(\"This page doesn't exist.\")]),_c('router-link',{staticClass:\"vertical-5p lead\",attrs:{\"to\":\"/\"}},[_vm._v(\"Take me home.\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"notFound\">\r\n        <img src=\"../../assets/logo.png\" class=\"center-block logo\">\r\n\r\n        <div class=\"text-center col-sm-12\">\r\n            <h1>You are lost.</h1>\r\n            <h4>This page doesn't exist.</h4>\r\n            <router-link to=\"/\" class=\"vertical-5p lead\">Take me home.</router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        name: 'NotFound'\r\n    }\r\n</script>\r\n\r\n<style>\r\n    #notFound {\r\n        padding: 10em;\r\n        color: white;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./404.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./404.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./404.vue?vue&type=template&id=251bbea0&\"\nimport script from \"./404.vue?vue&type=script&lang=js&\"\nexport * from \"./404.vue?vue&type=script&lang=js&\"\nimport style0 from \"./404.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-news page-common\"},[_c('div',{staticClass:\"main wrapper\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"服务列表 Services\")]),_c('el-button',{staticClass:\"btn-add\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.btnAdd}},[_c('i',{staticClass:\"el-icon-circle-plus-outline\"}),_vm._v(\" 添加服务\\n        \")]),_c('el-table',{staticClass:\"tableone\",attrs:{\"border\":\"\",\"data\":_vm.tableData,\"stripe\":\"\",\"header-cell-style\":{'text-align':'center'}}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\",\"show-overflow-tooltip\":\"\",\"width\":\"50\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"名称\",\"label\":\"名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"logo-img\"},[(scope.row.Logo)?_c('img',{attrs:{\"src\":_vm.http+scope.row.Logo,\"alt\":\"logo\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/images/moren.png\"),\"alt\":\"logo\"}})]),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(scope.row.名称))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"编号\",\"label\":\"编号\",\"align\":\"center\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"备注\",\"label\":\"说明\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"explain\"},[_vm._v(_vm._s(scope.row.备注))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"是否启用\",\"property\":\"是否启用\",\"align\":\"center\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{staticClass:\"switch\",staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"启用\"},on:{\"change\":function($event){return _vm.switchChange(scope.row)}},model:{value:(scope.row.是否启用),callback:function ($$v) {_vm.$set(scope.row, \"是否启用\", $$v)},expression:\"scope.row.是否启用\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.btnEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.btnDetails(scope.row)}}},[_vm._v(\"详情\")])]}}])})],1)],1),(_vm.isAddDialog)?_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.isAddDialog,\"width\":\"30%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.isAddDialog=$event}}},[(_vm.isDetails)?_c('div',[_c('ServiceDetails',{ref:\"child\",attrs:{\"item\":_vm.item},on:{\"myEvent\":_vm.closeDialog}})],1):_c('div',[_c('AddService',{ref:\"child\",attrs:{\"item\":_vm.item,\"isAddDialog\":_vm.isAddDialog,\"isAdd\":_vm.isAdd},on:{\"myEvent\":_vm.getMyEvent}})],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addService\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"服务名称\",\"prop\":\"名称\"}},[_c('el-input',{attrs:{\"maxLength\":\"200\"},model:{value:(_vm.form.名称),callback:function ($$v) {_vm.$set(_vm.form, \"名称\", $$v)},expression:\"form.名称\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否启用\",\"prop\":\"是否启用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{staticClass:\"switch\",staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"启用\"},on:{\"change\":function($event){return _vm.switchChange(_vm.form.是否启用)}},model:{value:(_vm.form.是否启用),callback:function ($$v) {_vm.$set(_vm.form, \"是否启用\", $$v)},expression:\"form.是否启用\"}})]}}])}),_c('el-form-item',{attrs:{\"label\":\"说明\",\"prop\":\"备注\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"maxLength\":\"2000\"},model:{value:(_vm.form.备注),callback:function ($$v) {_vm.$set(_vm.form, \"备注\", $$v)},expression:\"form.备注\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\",\"prop\":\"logo\"}},[_c('UploadImg',{ref:\"img\",attrs:{\"logo\":this.item.Logo,\"UploadType\":1},on:{\"myEvent\":_vm.myEvent},model:{value:(_vm.form.Logo),callback:function ($$v) {_vm.$set(_vm.form, \"Logo\", $$v)},expression:\"form.Logo\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelHandler}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmHandler}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* 是否身份证号码*/\r\nexport function validateIdNo(rule, value, callback) {\r\n    const reg = /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/;\r\n    if (value == '' || value == undefined || value == null) {\r\n        callback();\r\n    } else {\r\n        if ((!reg.test(value)) && value != '') {\r\n            callback(new Error('请输入正确的身份证号码！'));\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n}\r\n\r\n/* 是否邮箱*/\r\nexport function validateEMail(rule, value, callback) {\r\n    const reg = /^([a-zA-Z0-9]+[-_\\.]?)+@[a-zA-Z0-9]+\\.[a-z]+$/;\r\n    if (value == '' || value == undefined || value == null) {\r\n        callback();\r\n    } else {\r\n        if (!reg.test(value)) {\r\n            callback(new Error('请输入正确的邮箱地址！'));\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n}\r\n\r\n//密码验证\r\nexport function validatePass (rule, value, callback) {\r\n    if (value === '') {\r\n        callback(new Error('请设置正确格式的密码'));\r\n    } else if (value.length < 6) {\r\n        callback(new Error('密码长度最小6位'));\r\n    } else {\r\n        callback();\r\n    }\r\n}\r\n\r\n/* 是否手机号码*/\r\nexport function validatePhone(rule, value, callback) {\r\n    const reg = /^[1][3,4,5,7,8][0-9]{9}$/;\r\n    if (value == '' || value == undefined || value == null) {\r\n        callback();\r\n    } else {\r\n        if ((!reg.test(value)) && value != '') {\r\n            callback(new Error('请输入正确的电话号码！'));\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n}\r\n\r\n//微信号验证\r\nexport function validateWeixin(rule, value, callback) {\r\n    let reg= /^[a-zA-Z][a-zA-Z0-9_-]{5,19}$/;\r\n    if (value === '') {\r\n        callback(new Error('微信号不能为空'));\r\n    }else{\r\n        if(!reg.test(value)){\r\n            callback(new Error('请输入正确的微信号码'));\r\n        }else{\r\n            callback();\r\n        }\r\n    }\r\n};\r\n\r\n//*验证内容是否英文数字以及下划线*/\r\nexport function validateNumberLetter(rule, value, callback) {\r\n    const reg = /^[_a-zA-Z0-9]+$/;\r\n    if (value == '' || value == undefined || value == null) {\r\n        callback(new Error('输入不能为空！'));\r\n    } else {\r\n        if (!reg.test(value)) {\r\n            callback(new Error('只能为英文或数字！'));\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n}\r\n\r\n//*验证内容是否英文中文*/\r\nexport function validateChineseEnglish(rule, value, callback) {\r\n    const reg = /^[\\u0391-\\uFFE5A-Za-z]+$/;\r\n    if (value == '' || value == undefined || value == null) {\r\n        callback(new Error('名称不能为空！'));\r\n    } else {\r\n        if (!reg.test(value)) {\r\n            callback(new Error('名称只能为中文或英文！'));\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//*验证内容过滤特殊字符*/\r\nexport function clearSpecialChar(rule, value, callback) {\r\n    const reg = /[^[0-9a-zA-Z\\-]/;\r\n    if (value == '' || value == undefined || value == null) {\r\n        callback(new Error('名称不能为空！'));\r\n    } else {\r\n        if (!reg.test(value)) {\r\n            callback(new Error('名称只能为中文或英文！'));\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//*验证内容是否为中文、字母、数字格式，不能有特殊字符*/\r\nexport function chineseEnglishNumber(rule, value, callback) {\r\n    const reg = /[^\\w\\u4E00-\\u9FA5]/;\r\n    if (value == '' || value == undefined || value == null) {\r\n        callback(new Error('名称不能为空！'));\r\n    } else {\r\n        if (!reg.test(value)) {\r\n            callback(new Error('名称只能为中文或英文！'));\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n}\r\n\r\n/*自动检验数值的范围*/\r\nexport function checkMax20000(rule, value, callback) {\r\n    if (value == '' || value == undefined || value == null) {\r\n        callback();\r\n    } else if (!Number(value)) {\r\n        callback(new Error('请输入[1,20000]之间的数字！'));\r\n    } else if (value < 1 || value > 20000) {\r\n        callback(new Error('请输入[1,20000]之间的数字！'));\r\n    } else {\r\n        callback();\r\n    }\r\n}\r\n\r\n//验证数字输入框最大数值,32767\r\nexport function checkMaxVal(rule, value, callback) {\r\n    if (value < 0 || value > 32767) {\r\n        callback(new Error('请输入[0,32767]之间的数字！'));\r\n    } else {\r\n        callback();\r\n    }\r\n}\r\n\r\n//验证是否1-99之间\r\nexport function isOneToNinetyNine(rule, value, callback) {\r\n    if (!value) {\r\n        return callback(new Error('输入不可以为空！'));\r\n    }\r\n    setTimeout(() => {\r\n        if (!Number(value)) {\r\n            callback(new Error('请输入正整数！'));\r\n        } else {\r\n            const re = /^[1-9][0-9]{0,1}$/;\r\n            const rsCheck = re.test(value);\r\n            if (!rsCheck) {\r\n                callback(new Error('请输入正整数，值为【1,99】'));\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n    }, 0);\r\n}\r\n\r\n// 验证是否整数\r\nexport function isInteger(rule, value, callback) {\r\n    if (!value) {\r\n        return callback(new Error('输入不可以为空！'));\r\n    }\r\n    setTimeout(() => {\r\n        if (!Number(value)) {\r\n            callback(new Error('请输入正整数！'));\r\n        } else {\r\n            const re = /^[0-9]*[1-9][0-9]*$/;\r\n            const rsCheck = re.test(value);\r\n            if (!rsCheck) {\r\n                callback(new Error('请输入正整数！'));\r\n            } else {\r\n                callback();\r\n            }\r\n        }\r\n    }, 0);\r\n}\r\n\r\n/* 小写字母*/\r\nexport function validateLowerCase(str) {\r\n    const reg = /^[a-z]+$/;\r\n    return reg.test(str);\r\n}\r\n\r\n/*保留2为小数*/\r\nexport function validatetoFixedNew(str) {\r\n    return str;\r\n}\r\n\r\n/* 大写字母*/\r\nexport function validateUpperCase(str) {\r\n    const reg = /^[A-Z]+$/;\r\n    return reg.test(str);\r\n}\r\n\r\n/* 大小写字母*/\r\nexport function validatAlphabets(str) {\r\n    const reg = /^[A-Za-z]+$/;\r\n    return reg.test(str);\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.postUrl,\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload,\"headers\":_vm.Authorization}},[(_vm.image)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.http+_vm.image}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-upload\r\n                class=\"avatar-uploader\"\r\n                :action=\"postUrl\"\r\n                :show-file-list=\"false\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                :before-upload=\"beforeAvatarUpload\"\r\n                :headers=\"Authorization\">\r\n            <img v-if=\"image\" :src=\"http+image\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n        </el-upload>\r\n    </div>\r\n</template>\r\n<style>\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409EFF;\r\n    }\r\n\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 100px;\r\n        height: 100px;\r\n        line-height: 100px !important;\r\n        text-align: center;\r\n    }\r\n\r\n    .avatar {\r\n        width: 100px;\r\n        height: 100px;\r\n        display: block;\r\n        padding: 3px;\r\n    }\r\n</style>\r\n\r\n<script>\r\n    import {HTTP_URL_HOST, URL_NEWS, URL_HOSPITAL} from \"@/assets/js/connect/ConSysUrl\";\r\n    import {getUrl} from \"@/assets/js/Common\";\r\n\r\n    export default {\r\n        name: \"UploadImg\",\r\n        props: ['logo', 'UploadType'],\r\n        data() {\r\n            return {\r\n                image: '',\r\n                postUrl: '',\r\n                Authorization: {\r\n                    Authorization: sessionStorage.getItem('Authorization')\r\n                },\r\n                isImage: true,\r\n                http:HTTP_URL_HOST\r\n            };\r\n        },\r\n        mounted() {\r\n            this.image = this.logo;\r\n            let url;\r\n            switch (this.UploadType) {\r\n                case 1:\r\n                    url = URL_NEWS.POST_UPLOAD_LOGO_IMG\r\n                    break;\r\n                case 2:\r\n                    url = URL_HOSPITAL.POST_UPLOAD_HOSPITAL_LOGO_IMG\r\n                    break;\r\n            }\r\n            this.postUrl = getUrl(HTTP_URL_HOST + url);\r\n        },\r\n        methods: {\r\n            handleAvatarSuccess(res, file) {\r\n                this.image = res.data[0];\r\n                this.$emit('myEvent', this.image);\r\n            },\r\n            beforeAvatarUpload(file) {\r\n\r\n                const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\r\n                const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n                if (!isJPG) {\r\n                    this.$message.error('上传图片只能是 JPG或PNG 格式!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                }\r\n                return isJPG && isLt2M;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./UploadImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./UploadImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadImg.vue?vue&type=template&id=30455059&\"\nimport script from \"./UploadImg.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadImg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadImg.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"addService\">\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\" size=\"small\">\r\n            <el-form-item label=\"服务名称\" prop=\"名称\">\r\n                <el-input v-model=\"form.名称\" maxLength=\"200\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"是否启用\" prop=\"是否启用\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-switch class=\"switch\"\r\n                               style=\"display: block\"\r\n                               v-model=\"form.是否启用\"\r\n                               active-color=\"#13ce66\"\r\n                               inactive-color=\"#ff4949\"\r\n                               @change=\"switchChange(form.是否启用)\"\r\n                               active-text=\"启用\">\r\n                    </el-switch>\r\n                </template>\r\n            </el-form-item>\r\n            <el-form-item label=\"说明\" prop=\"备注\">\r\n                <el-input v-model=\"form.备注\" type=\"textarea\" :rows=\"5\" maxLength=\"2000\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"图标\" prop=\"logo\">\r\n                <UploadImg v-model=\"form.Logo\" @myEvent=\"myEvent\" :logo=\"this.item.Logo\" :UploadType=\"1\" ref=\"img\"></UploadImg>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"cancelHandler\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"confirmHandler\">确 定</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {validateChineseEnglish} from \"@/assets/js/Validate\";\r\n    import {URL_SERVICE} from \"@/assets/js/connect/ConSysUrl\";\r\n    import {_debounce,deepCopy} from \"@/assets/js/Common\";\r\n    import UploadImg from '@/components/UploadImg';\r\n\r\n    export default {\r\n        name: \"AddService\",\r\n        props: ['item', 'isAddDialog', 'isAdd', 'getService'],\r\n        components: {\r\n            UploadImg\r\n        },\r\n        data() {\r\n            return {\r\n                form: {\r\n                    编号: 0,\r\n                    名称: '',\r\n                    是否启用: true,\r\n                    备注: '',\r\n                    Logo: ''\r\n                },\r\n                rules: {  //表单验证\r\n                    名称: [\r\n                        {required: true, message: '名称只能为中文或英文！', trigger: 'blur', validator: validateChineseEnglish}\r\n                    ],\r\n                },\r\n                Logo: ''\r\n            }\r\n        },\r\n        mounted() {\r\n            if (!this.isAdd) {\r\n                this.form = deepCopy(this.item);\r\n            }\r\n        },\r\n        methods: {\r\n            cancelHandler() {\r\n                this.$emit('myEvent', false);\r\n            },\r\n            switchChange(el) {\r\n                console.info(el);\r\n            },\r\n            confirmHandler: _debounce(function () {\r\n                this.$refs.form.validate((valid) => {\r\n                    if (valid) {\r\n                        this.AddOrEdit();\r\n                    } else {\r\n                        this.$message.error('信息有误！');\r\n                        return false;\r\n                    }\r\n                });\r\n            }, 300),\r\n            AddOrEdit: async function () {\r\n                await this.$http.myPost(URL_SERVICE.POST_ADD_OR_EDIT_SERVICE, this.form);\r\n                this.$message.success('提交成功！');\r\n                this.$emit('myEvent', false);\r\n            },\r\n            myEvent(imageUrl) {\r\n                this.form.Logo = imageUrl;\r\n                console.info(this.form.Logo)\r\n            }\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" type='text/less' scoped>\r\n    .el-switch {\r\n        padding-top: 5px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddService.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddService.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddService.vue?vue&type=template&id=a2895dd8&scoped=true&\"\nimport script from \"./AddService.vue?vue&type=script&lang=js&\"\nexport * from \"./AddService.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddService.vue?vue&type=style&index=0&id=a2895dd8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2895dd8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"serviceDetails\"},[_c('el-form',{attrs:{\"label-width\":\"100px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"服务名称：\",\"prop\":\"名称\"}},[_c('span',[_vm._v(_vm._s(_vm.item.名称))])]),_c('el-form-item',{attrs:{\"label\":\"是否启用：\",\"prop\":\"是否启用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{staticClass:\"switch\",staticStyle:{\"display\":\"block\"},attrs:{\"disabled\":\"true\",\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"启用\"},model:{value:(_vm.item.是否启用),callback:function ($$v) {_vm.$set(_vm.item, \"是否启用\", $$v)},expression:\"item.是否启用\"}})]}}])}),_c('el-form-item',{attrs:{\"label\":\"说明：\",\"prop\":\"备注\"}},[_c('span',[_vm._v(_vm._s(_vm.item.备注))])])],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelHandler}},[_vm._v(\"关 闭\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"serviceDetails\">\r\n        <el-form label-width=\"100px\" size=\"small\">\r\n            <el-form-item label=\"服务名称：\" prop=\"名称\">\r\n                <span>{{item.名称}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"是否启用：\" prop=\"是否启用\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-switch class=\"switch\" disabled=\"true\"\r\n                               style=\"display: block\"\r\n                               v-model=\"item.是否启用\"\r\n                               active-color=\"#13ce66\"\r\n                               inactive-color=\"#ff4949\"\r\n                               active-text=\"启用\">\r\n                    </el-switch>\r\n                </template>\r\n            </el-form-item>\r\n            <el-form-item label=\"说明：\" prop=\"备注\">\r\n                <span>{{item.备注}}</span>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"cancelHandler\">关 闭</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"ServiceDetails\",\r\n        props: ['item'],\r\n        methods: {\r\n            cancelHandler() {\r\n                this.$emit('myEvent', false);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" type='text/less' scoped>\r\n    .el-switch {\r\n        padding-top: 5px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./ServiceDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./ServiceDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ServiceDetails.vue?vue&type=template&id=0f577b37&scoped=true&\"\nimport script from \"./ServiceDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./ServiceDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ServiceDetails.vue?vue&type=style&index=0&id=0f577b37&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f577b37\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"page-news page-common\">\r\n        <div class=\"main wrapper\">\r\n            <h4 class=\"title\">服务列表 Services</h4>\r\n            <el-button type=\"primary\" class=\"btn-add\" @click=\"btnAdd\"><i\r\n                    class=\"el-icon-circle-plus-outline\"></i> 添加服务\r\n            </el-button>\r\n\r\n            <el-table class=\"tableone\" border :data=\"tableData\" stripe :header-cell-style=\"{'text-align':'center'}\">\r\n                <el-table-column label=\"序号\" type=\"index\" show-overflow-tooltip width=\"50\"\r\n                                 align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"名称\" label=\"名称\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span class=\"logo-img\">\r\n                            <img v-if=\"scope.row.Logo\" :src=\"http+scope.row.Logo\" alt=\"logo\">\r\n                            <img v-else src=\"@/assets/images/moren.png\" alt=\"logo\">\r\n                        </span>\r\n                        <span class=\"title\">{{scope.row.名称}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"编号\" label=\"编号\" align=\"center\" width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"备注\" label=\"说明\">\r\n                    <template slot-scope=\"scope\">\r\n                        <p class=\"explain\">{{scope.row.备注}}</p>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"是否启用\" property=\"是否启用\" align=\"center\" width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-switch class=\"switch\"\r\n                                   style=\"display: block\"\r\n                                   v-model=\"scope.row.是否启用\"\r\n                                   active-color=\"#13ce66\"\r\n                                   inactive-color=\"#ff4949\"\r\n                                   @change=\"switchChange(scope.row)\"\r\n                                   active-text=\"启用\">\r\n                        </el-switch>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\" width=\"100\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"text\" size=\"small\" @click=\"btnEdit(scope.row)\">编辑</el-button>\r\n                        <el-button type=\"text\" size=\"small\" @click=\"btnDetails(scope.row)\">详情</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <el-dialog :title=\"title\" :visible.sync=\"isAddDialog\" width=\"30%\" v-if='isAddDialog'\r\n                   :close-on-click-modal=\"false\">\r\n            <div v-if=\"isDetails\">\r\n                <ServiceDetails ref=\"child\" @myEvent=\"closeDialog\" :item=\"item\"></ServiceDetails>\r\n            </div>\r\n            <div v-else>\r\n                <AddService ref=\"child\" @myEvent=\"getMyEvent\" :item=\"item\" :isAddDialog=\"isAddDialog\"\r\n                            :isAdd=\"isAdd\"></AddService>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {URL_SERVICE, HTTP_URL_HOST} from \"@/assets/js/connect/ConSysUrl\";\r\n    import AddService from \"@/components/service/AddService\"\r\n    import ServiceDetails from \"@/components/service/ServiceDetails\"\r\n\r\n    export default {\r\n        name: 'Service',\r\n        components: {\r\n            AddService,\r\n            ServiceDetails\r\n        },\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                total: '',\r\n                title: '添加服务',\r\n                isAdd: true,\r\n                isAddDialog: false,\r\n                isDetails: false,\r\n                item: {},\r\n                http: HTTP_URL_HOST\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getService();\r\n        },\r\n        methods: {\r\n            getService: async function () {\r\n                this.tableData = await this.$http.myGet(URL_SERVICE.GET_SERVICE_ALL, '');\r\n                this.total = this.tableData.length;\r\n            },\r\n            getMyEvent(val) {\r\n                this.getService();\r\n                this.closeDialog(val);\r\n            },\r\n            closeDialog(val) {\r\n                this.isAddDialog = val;\r\n            },\r\n            btnAdd() {\r\n                this.title = '添加服务';\r\n                this.isAdd = true;\r\n                this.isAddDialog = true;\r\n                this.isDetails = false;\r\n            },\r\n            btnEdit(data) {\r\n                this.title = '修改服务';\r\n                this.isAdd = false;\r\n                this.item = data;\r\n                this.isAddDialog = true;\r\n                this.isDetails = false;\r\n            },\r\n            btnDetails(data) {\r\n                this.title = '服务详情';\r\n                this.isDetails = true;\r\n                this.item = data;\r\n                this.isAddDialog = true;\r\n            },\r\n            disableService: async function (el) {\r\n                let data = {\r\n                    编号: el.编号\r\n                }\r\n                await this.$http.myPost(URL_SERVICE.POST_DISABLE_SERVICE, data);\r\n                this.$message.success('禁用成功！');\r\n            },\r\n            enableService: async function (el) {\r\n                let data = {\r\n                    编号: el.编号\r\n                }\r\n                await this.$http.myPost(URL_SERVICE.POST_ENABLE_SERVICE, data);\r\n                this.$message.success('启用成功！');\r\n            },\r\n            switchChange(el) {\r\n                let title = '启用';\r\n                if (el.是否启用) {\r\n                    title = '启用';\r\n                } else {\r\n                    title = '禁用';\r\n                }\r\n                this.enableDisableService(title, el);\r\n            },\r\n            enableDisableService(title, el) {\r\n                this.$confirm('您确定要【' + title + '】此服务吗', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    if (el.是否启用) {\r\n                        this.enableService(el);\r\n                    } else {\r\n                        this.disableService(el);\r\n                    }\r\n                }).catch(() => {\r\n                    el.是否启用 = !el.是否启用;\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" type='text/less' scoped>\r\n    .el-switch {\r\n        height: 23px;\r\n    }\r\n\r\n    .el-table td {\r\n        overflow: hidden;\r\n\r\n        p {\r\n            display: -webkit-box !important;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            word-break: break-all;\r\n            -webkit-box-orient: vertical;\r\n            -webkit-line-clamp: 3;\r\n            margin: 0;\r\n        }\r\n\r\n        .title {\r\n            display: -webkit-box !important;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            word-break: break-all;\r\n            -webkit-box-orient: vertical;\r\n            -webkit-line-clamp: 1;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Service.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Service.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Service.vue?vue&type=template&id=203dd4f7&scoped=true&\"\nimport script from \"./Service.vue?vue&type=script&lang=js&\"\nexport * from \"./Service.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Service.vue?vue&type=style&index=0&id=203dd4f7&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"203dd4f7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"download-page\"},[_c('div',{staticClass:\"browser-tips\"},[_c('p',{staticClass:\"tip-text\"},[_c('i',{staticClass:\"icon iconfont icon-weiwancheng1\"}),_vm._v(\"您的浏览器版本太低了！\")]),_c('p',[_vm._v(\"为了给您提供更优质的网页浏览体验，建议使用IE10及以上版本的浏览器。\")]),_c('p',[_c('strong',[_vm._v(\"解决方法：\")]),_vm._v(\"请升级IE浏览器版本，或者选择以下浏览器下载并安装。\")]),_c('ul',{staticClass:\"browser-box\"},[_c('li',[_c('a',{attrs:{\"href\":\"/public/browserDownload/chrome.zip\"}},[_c('img',{attrs:{\"src\":require(\"../assets/images/Chrome.jpg\")}}),_c('span',[_vm._v(\"Chrome下载\")])])]),_c('li',[_c('a',{attrs:{\"href\":\"/public/browserDownload/360.zip\"}},[_c('img',{attrs:{\"src\":require(\"../assets/images/360.jpg\")}}),_c('span',[_vm._v(\"360浏览器下载\")])])]),_c('li',[_c('a',{attrs:{\"href\":\"/public/browserDownload/firefox.zip\"}},[_c('img',{attrs:{\"src\":require(\"../assets/images/firefox.jpg\")}}),_c('span',[_vm._v(\"Firefox下载\")])])]),_c('li',[_c('a',{attrs:{\"href\":\"/public/browserDownload/sogou.zip\"}},[_c('img',{attrs:{\"src\":require(\"../assets/images/sogou.jpg\")}}),_c('span',[_vm._v(\"Sogou下载\")])])])]),_c('div',{staticClass:\"explain\"},[_c('h4',[_vm._v(\"安装说明：\")]),_c('div',{staticClass:\"item\"},[_c('p',[_vm._v(\"① 选择下载的文件，点击右键，选择“解压到当前文件夹”。\")]),_c('img',{attrs:{\"src\":require(\"../assets/images/zip.jpg\"),\"height\":\"220\"}})]),_c('div',{staticClass:\"item\"},[_c('p',[_vm._v(\"② 解压完成后，会出现一个和已选文件一样的名字的.exe文件，双击打开文件，根据提示进行安装。\")]),_c('img',{attrs:{\"src\":require(\"../assets/images/exe.jpg\"),\"height\":\"220\"}})])])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"download-page\">\r\n        <div class=\"browser-tips\">\r\n            <p class=\"tip-text\"><i class=\"icon iconfont icon-weiwancheng1\"></i>您的浏览器版本太低了！</p>\r\n            <p>为了给您提供更优质的网页浏览体验，建议使用IE10及以上版本的浏览器。</p>\r\n            <p><strong>解决方法：</strong>请升级IE浏览器版本，或者选择以下浏览器下载并安装。</p>\r\n            <ul class=\"browser-box\">\r\n                <li>\r\n                    <a href=\"/public/browserDownload/chrome.zip\">\r\n                        <img src=\"../assets/images/Chrome.jpg\"/><span>Chrome下载</span>\r\n                    </a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"/public/browserDownload/360.zip\">\r\n                        <img src=\"../assets/images/360.jpg\"/><span>360浏览器下载</span>\r\n                    </a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"/public/browserDownload/firefox.zip\">\r\n                        <img src=\"../assets/images/firefox.jpg\"/><span>Firefox下载</span>\r\n                    </a>\r\n                </li>\r\n                <li>\r\n                    <a href=\"/public/browserDownload/sogou.zip\">\r\n                        <img src=\"../assets/images/sogou.jpg\"/><span>Sogou下载</span>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n            <div class=\"explain\">\r\n                <h4>安装说明：</h4>\r\n                <div class=\"item\">\r\n                    <p>① 选择下载的文件，点击右键，选择“解压到当前文件夹”。</p>\r\n                    <img src=\"../assets/images/zip.jpg\" height=\"220\"/>\r\n                </div>\r\n                <div class=\"item\">\r\n                    <p>② 解压完成后，会出现一个和已选文件一样的名字的.exe文件，双击打开文件，根据提示进行安装。</p>\r\n                    <img src=\"../assets/images/exe.jpg\" height=\"220\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        name: 'DownloadPage'\r\n    }\r\n</script>\r\n<style lang=\"less\" type=\"text/less\" scoped>\r\n    .download-page {\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #fff;\r\n        position: fixed;\r\n        left: 0;\r\n        top: 0;\r\n    }\r\n    .browser-tips {\r\n        width: 1000px;\r\n        margin: 100px auto 0;\r\n        text-align: center;\r\n        .tip-text {\r\n            font-size: 26px;\r\n            color: red;\r\n            margin-bottom: 25px;\r\n            i {\r\n                margin-right: 15px;\r\n                font-size: 28px;\r\n            }\r\n        }\r\n        p {\r\n            font-size: 15px;\r\n            margin-bottom: 10px;\r\n            color: #333;\r\n        }\r\n        .browser-box {\r\n            margin-top: 50px;\r\n            li {\r\n                display: inline-block;\r\n                overflow: hidden;\r\n                a {\r\n                    display: block;\r\n                    text-align: center;\r\n                    padding: 10px 25px;\r\n                }\r\n                &:hover {\r\n                    a {\r\n                        background: #ecf5fd;\r\n                    }\r\n                    span {\r\n                        color: #1976D2;\r\n                    }\r\n                }\r\n            }\r\n            img {\r\n                width: 100px;\r\n                display: block;\r\n                margin-bottom: 20px;\r\n                border: none;\r\n            }\r\n            span {\r\n                color: #666;\r\n                font-size: 14px;\r\n\r\n            }\r\n        }\r\n        .explain {\r\n            overflow: hidden;\r\n            text-align: center;\r\n            border-top: 1px dashed #ddd;\r\n            padding-top: 10px;\r\n            margin-top: 10px;\r\n            padding-left: 80px;\r\n            h4 {\r\n                text-align: left;\r\n                font-size: 16px;\r\n                font-weight: bold;\r\n            }\r\n            .item {\r\n                display: inline-block;\r\n                margin: 10px 15px;\r\n                float: left;\r\n            }\r\n            p {\r\n                width: 386px;\r\n                margin: 10px 0 20px;\r\n                text-align: left;\r\n                font-size: 13px;\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./IeUnderTen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./IeUnderTen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IeUnderTen.vue?vue&type=template&id=563a16fc&scoped=true&\"\nimport script from \"./IeUnderTen.vue?vue&type=script&lang=js&\"\nexport * from \"./IeUnderTen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IeUnderTen.vue?vue&type=style&index=0&id=563a16fc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"563a16fc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hospital page-common\"},[_c('div',{staticClass:\"main wrapper\"},[_c('h4',{ref:\"title\",staticClass:\"title\"},[_vm._v(\"医院 Hospital\")]),_c('el-button',{staticClass:\"btn-add\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.btnAdd}},[_c('i',{staticClass:\"el-icon-circle-plus-outline\"}),_vm._v(\" 添加医院\\n        \")]),_c('el-table',{staticClass:\"tableone\",attrs:{\"border\":\"\",\"data\":_vm.tableData,\"stripe\":\"\",\"header-cell-style\":{'text-align':'center'}}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\",\"show-overflow-tooltip\":\"\",\"width\":\"50\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"名称\",\"label\":\"名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(scope.row.名称))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"logo\",\"label\":\"logo\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"logo-img\"},[(scope.row.Logo)?_c('img',{attrs:{\"src\":_vm.http+scope.row.Logo,\"alt\":\"logo\"}}):_c('img',{attrs:{\"src\":require(\"@/assets/images/hospital.png\"),\"alt\":\"logo\"}})])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"代码\",\"label\":\"代码\",\"align\":\"center\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"联系人\",\"label\":\"联系人\",\"align\":\"center\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"联系电话\",\"label\":\"联系电话\",\"align\":\"center\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"地址\",\"label\":\"地址\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"是否启用\",\"property\":\"是否启用\",\"align\":\"center\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{staticClass:\"switch\",staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"启用\"},on:{\"change\":function($event){return _vm.switchChange(scope.row)}},model:{value:(scope.row.是否启用),callback:function ($$v) {_vm.$set(scope.row, \"是否启用\", $$v)},expression:\"scope.row.是否启用\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.btnService(scope.row)}}},[_vm._v(\"服务\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.btnEdit(scope.row)}}},[_vm._v(\"编辑\\n                    \")])]}}])})],1)],1),(_vm.isAddDialog)?_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.isAddDialog,\"width\":\"30%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.isAddDialog=$event}}},[(!_vm.isService)?_c('div',[_c('AddHospital',{ref:\"child\",attrs:{\"item\":_vm.item,\"isAdd\":_vm.isAdd},on:{\"myEvent\":_vm.getMyEvent}})],1):_c('div',[_c('HospitalService',{ref:\"child\",attrs:{\"item\":_vm.item},on:{\"myEvent\":_vm.getMyEvent}})],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addHospital\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"医院名称\",\"prop\":\"名称\",\"maxLength\":\"200\"}},[_c('el-input',{model:{value:(_vm.form.名称),callback:function ($$v) {_vm.$set(_vm.form, \"名称\", $$v)},expression:\"form.名称\"}})],1),_c('el-form-item',{attrs:{\"label\":\"代码(简称)\",\"prop\":\"代码\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"top-start\",\"title\":\"代码（即名称简称）\",\"width\":\"300\",\"trigger\":\"hover\"}},[_c('el-input',{attrs:{\"slot\":\"reference\"},slot:\"reference\",model:{value:(_vm.form.代码),callback:function ($$v) {_vm.$set(_vm.form, \"代码\", $$v)},expression:\"form.代码\"}}),_c('p',[_vm._v(\"\\n                        这个代码会作为分库的登录地址，需认真填写。例如：代码为：'test'，即登录地址为：'login_test.html'\\n                    \")])],1)]}}])}),_c('el-form-item',{attrs:{\"label\":\"联系人\",\"prop\":\"联系人\"}},[_c('el-input',{model:{value:(_vm.form.联系人),callback:function ($$v) {_vm.$set(_vm.form, \"联系人\", $$v)},expression:\"form.联系人\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"prop\":\"联系电话\"}},[_c('el-input',{model:{value:(_vm.form.联系电话),callback:function ($$v) {_vm.$set(_vm.form, \"联系电话\", $$v)},expression:\"form.联系电话\"}})],1),_c('el-form-item',{attrs:{\"label\":\"地址\",\"prop\":\"地址\"}},[_c('el-input',{model:{value:(_vm.form.地址),callback:function ($$v) {_vm.$set(_vm.form, \"地址\", $$v)},expression:\"form.地址\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否启用\",\"prop\":\"是否启用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{staticClass:\"switch\",staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-text\":\"启用\"},model:{value:(_vm.form.是否启用),callback:function ($$v) {_vm.$set(_vm.form, \"是否启用\", $$v)},expression:\"form.是否启用\"}})]}}])}),_c('el-form-item',{attrs:{\"label\":\"图标\",\"prop\":\"logo\"}},[_c('UploadImg',{ref:\"img\",attrs:{\"logo\":this.item.Logo,\"UploadType\":2},on:{\"myEvent\":_vm.myEvent},model:{value:(_vm.form.Logo),callback:function ($$v) {_vm.$set(_vm.form, \"Logo\", $$v)},expression:\"form.Logo\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"备注\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3},model:{value:(_vm.form.备注),callback:function ($$v) {_vm.$set(_vm.form, \"备注\", $$v)},expression:\"form.备注\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelHandler}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmHandler}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"addHospital\">\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\" size=\"small\">\r\n            <el-form-item label=\"医院名称\" prop=\"名称\" maxLength=\"200\">\r\n                <el-input v-model=\"form.名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"代码(简称)\" prop=\"代码\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-popover\r\n                            placement=\"top-start\"\r\n                            title=\"代码（即名称简称）\"\r\n                            width=\"300\"\r\n                            trigger=\"hover\">\r\n                        <el-input v-model=\"form.代码\" slot=\"reference\"></el-input>\r\n                        <p>\r\n                            这个代码会作为分库的登录地址，需认真填写。例如：代码为：'test'，即登录地址为：'login_test.html'\r\n                        </p>\r\n                    </el-popover>\r\n                </template>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系人\" prop=\"联系人\">\r\n                <el-input v-model=\"form.联系人\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系电话\" prop=\"联系电话\">\r\n                <el-input v-model=\"form.联系电话\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"地址\" prop=\"地址\">\r\n                <el-input v-model=\"form.地址\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"是否启用\" prop=\"是否启用\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-switch class=\"switch\"\r\n                               style=\"display: block\"\r\n                               v-model=\"form.是否启用\"\r\n                               active-color=\"#13ce66\"\r\n                               inactive-color=\"#ff4949\"\r\n                               active-text=\"启用\">\r\n                    </el-switch>\r\n                </template>\r\n            </el-form-item>\r\n            <el-form-item label=\"图标\" prop=\"logo\">\r\n                <UploadImg v-model=\"form.Logo\" @myEvent=\"myEvent\" :logo=\"this.item.Logo\" :UploadType=\"2\"\r\n                           ref=\"img\"></UploadImg>\r\n            </el-form-item>\r\n            <el-form-item label=\"备注\" prop=\"备注\">\r\n                <el-input v-model=\"form.备注\" type=\"textarea\" :rows=\"3\"></el-input>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"cancelHandler\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"confirmHandler\">确 定</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {validateNumberLetter, validateChineseEnglish} from \"@/assets/js/Validate\";\r\n    import {URL_HOSPITAL} from \"@/assets/js/connect/ConSysUrl\";\r\n    import {_debounce,deepCopy} from \"@/assets/js/Common\";\r\n    import UploadImg from '@/components/UploadImg';\r\n\r\n    export default {\r\n        name: \"AddHospital\",\r\n        props: ['item', 'isAdd', 'isAddDialog'],\r\n        components: {UploadImg},\r\n        data() {\r\n            return {\r\n                form: {\r\n                    编号: 0,\r\n                    名称: '',\r\n                    代码: '',\r\n                    联系人: '',\r\n                    联系电话: '',\r\n                    地址: '',\r\n                    是否启用: true,\r\n                    备注: '',\r\n                    Logo: ''\r\n                },\r\n                rules: {  //表单验证\r\n                    名称: [\r\n                        {required: true, message: '名称只能为中文或英文！', trigger: 'blur', validator: validateChineseEnglish}\r\n                    ],\r\n                    代码: [\r\n                        {required: true, message: '代码只能是英文或数字！', trigger: 'blur'}, {validator: validateNumberLetter}\r\n                    ],\r\n                },\r\n                Logo:''\r\n            }\r\n        },\r\n        mounted() {\r\n            if (!this.isAdd) {\r\n                this.form = deepCopy(this.item);\r\n            }\r\n        },\r\n        methods: {\r\n            cancelHandler() {\r\n                this.$emit('myEvent', false);\r\n            },\r\n            confirmHandler: _debounce(function () {\r\n                this.$refs.form.validate((valid) => {\r\n                    if (valid) {\r\n                        this.AddOrEdit();\r\n                    } else {\r\n                        this.$message.error('信息有误！');\r\n                        return false;\r\n                    }\r\n                });\r\n            }, 300),\r\n            AddOrEdit: async function () {\r\n                await this.$http.myPost(URL_HOSPITAL.POST_ADD_OR_EDIT_HOSPITA, this.form);\r\n                this.$message.success('提交成功！');\r\n                this.$emit('myEvent', false);\r\n            },\r\n            myEvent(imageUrl) {\r\n                this.form.Logo = imageUrl;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" type='text/less' scoped>\r\n    .el-switch {\r\n        padding-top: 5px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddHospital.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddHospital.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddHospital.vue?vue&type=template&id=1ce927d0&scoped=true&\"\nimport script from \"./AddHospital.vue?vue&type=script&lang=js&\"\nexport * from \"./AddHospital.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddHospital.vue?vue&type=style&index=0&id=1ce927d0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ce927d0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"hospital page-common\">\r\n        <div class=\"main wrapper\">\r\n            <h4 class=\"title\" ref=\"title\">医院 Hospital</h4>\r\n            <el-button type=\"primary\" class=\"btn-add\" @click=\"btnAdd\">\r\n                <i class=\"el-icon-circle-plus-outline\"></i> 添加医院\r\n            </el-button>\r\n            <el-table class=\"tableone\" border :data=\"tableData\" stripe\r\n                      :header-cell-style=\"{'text-align':'center'}\">\r\n                <el-table-column label=\"序号\" type=\"index\" show-overflow-tooltip width=\"50\"\r\n                                 align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"名称\" label=\"名称\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span class=\"title\">{{scope.row.名称}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"logo\" label=\"logo\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span class=\"logo-img\">\r\n                            <img v-if=\"scope.row.Logo\" :src=\"http+scope.row.Logo\" alt=\"logo\">\r\n                            <img v-else src=\"@/assets/images/hospital.png\" alt=\"logo\">\r\n                        </span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"代码\" label=\"代码\" align=\"center\" width=\"150\"></el-table-column>\r\n                <el-table-column prop=\"联系人\" label=\"联系人\" align=\"center\" width=\"150\"></el-table-column>\r\n                <el-table-column prop=\"联系电话\" label=\"联系电话\" align=\"center\" width=\"150\"></el-table-column>\r\n                <el-table-column prop=\"地址\" label=\"地址\" align=\"center\"></el-table-column>\r\n                <el-table-column label=\"是否启用\" property=\"是否启用\" align=\"center\" width=\"150\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-switch class=\"switch\"\r\n                                   style=\"display: block\"\r\n                                   v-model=\"scope.row.是否启用\"\r\n                                   active-color=\"#13ce66\"\r\n                                   inactive-color=\"#ff4949\"\r\n                                   @change=\"switchChange(scope.row)\"\r\n                                   active-text=\"启用\">\r\n                        </el-switch>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\" width=\"100\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"text\" size=\"small\" @click=\"btnService(scope.row)\">服务</el-button>\r\n                        <el-button type=\"text\" size=\"small\" @click=\"btnEdit(scope.row)\">编辑\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <el-dialog :title=\"title\" :visible.sync=\"isAddDialog\" width=\"30%\" v-if='isAddDialog' :close-on-click-modal=\"false\">\r\n            <div v-if=\"!isService\">\r\n                <AddHospital ref=\"child\" @myEvent=\"getMyEvent\" :item=\"item\" :isAdd=\"isAdd\"></AddHospital>\r\n            </div>\r\n            <div v-else>\r\n                <HospitalService ref=\"child\" @myEvent=\"getMyEvent\" :item=\"item\" ></HospitalService>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {HTTP_URL_HOST,URL_HOSPITAL} from \"@/assets/js/connect/ConSysUrl\";\r\n    import AddHospital from \"@/components/hospital/AddHospital\";\r\n    import HospitalService from \"@/components/hospital/HospitalService\";\r\n\r\n    export default {\r\n        name: 'Hospital',\r\n        components: {\r\n            AddHospital,\r\n            HospitalService\r\n        },\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                total: '',\r\n                title: '添加医院',\r\n                isAdd: true,\r\n                isAddDialog: false,\r\n                item: {},\r\n                isService: false,\r\n                http:HTTP_URL_HOST\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getHospital();\r\n        },\r\n        methods: {\r\n            getHospital: async function () {\r\n                this.tableData = await this.$http.myGet(URL_HOSPITAL.GET_HOSPITAL_ALL, '');\r\n            },\r\n            getMyEvent(val) {\r\n                this.getHospital();\r\n                this.isAddDialog = val;\r\n            },\r\n            closeDialog(val) {\r\n                this.isAddDialog = val;\r\n            },\r\n            btnAdd() {\r\n                this.title = '添加医院';\r\n                this.isAdd = true;\r\n                this.isService = false;\r\n                this.isAddDialog = true;\r\n            },\r\n            btnEdit(data) {\r\n                this.title = '修改医院';\r\n                this.isAdd = false;\r\n                this.item = data;\r\n                this.isService = false;\r\n                this.isAddDialog = true;\r\n            },\r\n            btnService(data) {\r\n                this.title = '服务订购';\r\n                this.isService = true;\r\n                this.item = data;\r\n                this.isAddDialog = true;\r\n            },\r\n            disableHospital: async function (el) {\r\n                let data = {\r\n                    编号: el.编号\r\n                }\r\n                await this.$http.myPost(URL_HOSPITAL.POST_DISABLE_HOSPITA, data);\r\n                this.$message.success('禁用成功！');\r\n            },\r\n            enableHospital: async function (el) {\r\n                let data = {\r\n                    编号: el.编号\r\n                }\r\n                await this.$http.myPost(URL_HOSPITAL.POST_ENABLE_HOSPITA, data);\r\n                this.$message.success('启用成功！');\r\n            },\r\n            switchChange(el) {\r\n                let title = '启用';\r\n                if (el.是否启用) {\r\n                    title = '启用';\r\n                } else {\r\n                    title = '禁用';\r\n                }\r\n                this.enableDisableHospita(title, el);\r\n            },\r\n            enableDisableHospita(title, el) {\r\n                this.$confirm('您确定要【' + title + '】此医院吗', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    if (el.是否启用) {\r\n                        this.enableHospital(el);\r\n                    } else {\r\n                        this.disableHospital(el);\r\n                    }\r\n                }).catch(() => {\r\n                    el.是否启用 = !el.是否启用;\r\n                });\r\n            }\r\n\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" type='text/less' scoped>\r\n    .el-switch {\r\n        height: 23px;\r\n    }\r\n    .el-table{\r\n        .logo-img{\r\n            float: none;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Hospital.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Hospital.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Hospital.vue?vue&type=template&id=e7a3bb64&scoped=true&\"\nimport script from \"./Hospital.vue?vue&type=script&lang=js&\"\nexport * from \"./Hospital.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Hospital.vue?vue&type=style&index=0&id=e7a3bb64&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e7a3bb64\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport Index from './views/Index.vue';\r\nimport Home from './views/Home.vue';\r\nimport Login from './views/Login.vue';\r\nimport News from './views/news/News.vue';\r\nimport NotFoundView from './views/404/404.vue';\r\nimport Service from './views/service/Service.vue';\r\nimport IeUnderTen from './views/IeUnderTen.vue';\r\nimport Hospital from './views/hospital/Hospital.vue';\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n    routes: [\r\n        {\r\n            path: '/',\r\n            name: 'login',\r\n            component: Login,\r\n            meta: {title: '总库登录'},\r\n        },\r\n        {\r\n            path: '/index',\r\n            name: 'index',\r\n            component: Index,\r\n            meta: {requireAuth: true}, //添加该字段，表示这个路由是需要登录的\r\n            redirect: 'home',\r\n            children: [\r\n                {\r\n                    path: '/home',\r\n                    name: 'home',\r\n                    component: Home,\r\n                    meta: {title: '首页', requireAuth: true},\r\n                },\r\n                {\r\n                    path: '/news',\r\n                    name: 'news',\r\n                    component: News,\r\n                    meta: {title: '新闻', requireAuth: true},\r\n                },\r\n                {\r\n                    path: '/hospital',\r\n                    name: 'hospital',\r\n                    component: Hospital,\r\n                    meta: {title: '医院', requireAuth: true},\r\n                },\r\n                {\r\n                    path: '/service',\r\n                    name: 'service',\r\n                    component: Service,\r\n                    meta: {title: '服务', requireAuth: true},\r\n                },\r\n                {\r\n                    path: '/ieUnderTen',\r\n                    name: 'ieUnderTen',\r\n                    component: IeUnderTen\r\n                },\r\n            ],\r\n        },\r\n        {path: '*', component: NotFoundView}\r\n    ]\r\n})\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        myUserInfo: null,\r\n        isLogin: null,\r\n    },\r\n    mutations: {\r\n        myUserInfo(state, data) {\r\n            state.myUserInfo = data;\r\n        },\r\n        isLogin(state, data) {\r\n            state.isLogin = data;\r\n\r\n\r\n        }\r\n    },\r\n    actions: {}\r\n})\r\n","import Vue from 'vue';\r\nimport axios from 'axios';\r\nimport router from '@/router';\r\nimport {Message, Notification} from 'element-ui'\r\nimport {HTTP_URL_HOST} from \"@/assets/js/connect/ConSysUrl\";\r\nimport {getUrl} from \"@/assets/js/Common\";\r\n\r\nVue.use(router);\r\n// import baseUrl from './setBaseUrl'\r\n// axios.defaults.withCredentials = true;\r\n// axios.defaults.headers.post[\"Content-Type\"] = \"application/x-www-form-urlencoded;charset=UTF-8\"; // 配置请求头\r\n// axios.defaults.baseURL = \"/api\";\r\n\r\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\r\n\r\n//  响应拦截\r\naxios.interceptors.response.use(response => {\r\n    if (response.data.error) {\r\n        Notification.error({\r\n            title: '错误',\r\n            message: response.data.error\r\n        });\r\n        return Promise.reject(response.data.error);\r\n    }\r\n    if (response.status == 401) {\r\n        Message.error({\r\n            message: '登录信息已过期，请重新登录！'\r\n        });\r\n        router.push({path: '/'});\r\n        return Promise.reject('登录信息已过期，请重新登录！');\r\n    }\r\n    return response;\r\n\r\n}, function (error) {\r\n    Notification.error({\r\n        title: '错误',\r\n        message: error\r\n    });\r\n    return Promise.reject(error)\r\n});\r\n\r\nfunction setHeaders() {\r\n    if (sessionStorage.Authorization) {\r\n        axios.defaults.headers.common['Authorization'] = sessionStorage.getItem('Authorization');\r\n    }\r\n}\r\n\r\naxios.myGet = async (url, data) => {\r\n    setHeaders();\r\n    return await axios.get(getUrl(HTTP_URL_HOST + url), {params: data}).then(response => response.data.data)\r\n};\r\n\r\naxios.myPost = async (url, data) => {\r\n    setHeaders();\r\n    return await axios.post(getUrl(HTTP_URL_HOST + url), data).then(response => response.data.data);\r\n};\r\nexport default axios;\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport ElementUI from 'element-ui';\r\nimport {Message,Notification} from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nimport 'babel-polyfill';\r\nimport VueWechatTitle from 'vue-wechat-title';\r\nimport Axios from './assets/js/connect/MyAxios.js';\r\nimport './assets/libs/iconfont/iconfont.css';\r\nimport './assets/less/Quill.less';\r\n\r\n\r\nimport tinymce from 'vue-tinymce-editor'\r\nVue.component('tinymce', tinymce);\r\n\r\n\r\nVue.use(VueWechatTitle);\r\n\r\nVue.prototype.$http = Axios;\r\nVue.prototype.Message = Message;\r\nVue.prototype.Notification = Notification;\r\n\r\nVue.config.productionTip = false\r\nlet myApp = Vue.use(ElementUI);\r\n\r\n\r\nnew Vue({\r\n    router,\r\n    store,\r\n    render: h => h(App),\r\n}).$mount('#app')\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    if (to.matched.some(record => record.meta.requireAuth)) {\r\n        if (sessionStorage.getItem('Authorization')) {\r\n            next();\r\n        } else {\r\n            Vue.prototype.$message.error('登录信息已过期,请登重新登录！')\r\n            next({\r\n                path: '/',\r\n                query: {redirect: to.fullPath}\r\n            })\r\n        }\r\n    } else {\r\n        next();\r\n    }\r\n})\r\n","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddNews.vue?vue&type=style&index=0&id=017499d3&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddNews.vue?vue&type=style&index=0&id=017499d3&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Hospital.vue?vue&type=style&index=0&id=e7a3bb64&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Hospital.vue?vue&type=style&index=0&id=e7a3bb64&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./HospitalService.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./HospitalService.vue?vue&type=style&index=0&lang=less&\"","module.exports = __webpack_public_path__ + \"img/firefox.4b51ca1e.jpg\";","import mod from \"-!../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=1&id=536273da&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=1&id=536273da&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/logo-2.f5175a6c.png\";","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./UploadImg.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./UploadImg.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddService.vue?vue&type=style&index=0&id=a2895dd8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddService.vue?vue&type=style&index=0&id=a2895dd8&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddHospital.vue?vue&type=style&index=0&id=1ce927d0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./AddHospital.vue?vue&type=style&index=0&id=1ce927d0&lang=less&scoped=true&\"","(function () {\r\nvar modern = (function () {\r\n    'use strict';\r\n\r\n    var global = tinymce.util.Tools.resolve('tinymce.ThemeManager');\r\n\r\n    var global$1 = tinymce.util.Tools.resolve('tinymce.EditorManager');\r\n\r\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\r\n\r\n    var isBrandingEnabled = function (editor) {\r\n      return editor.getParam('branding', true, 'boolean');\r\n    };\r\n    var hasMenubar = function (editor) {\r\n      return getMenubar(editor) !== false;\r\n    };\r\n    var getMenubar = function (editor) {\r\n      return editor.getParam('menubar');\r\n    };\r\n    var hasStatusbar = function (editor) {\r\n      return editor.getParam('statusbar', true, 'boolean');\r\n    };\r\n    var getToolbarSize = function (editor) {\r\n      return editor.getParam('toolbar_items_size');\r\n    };\r\n    var isReadOnly = function (editor) {\r\n      return editor.getParam('readonly', false, 'boolean');\r\n    };\r\n    var getFixedToolbarContainer = function (editor) {\r\n      return editor.getParam('fixed_toolbar_container');\r\n    };\r\n    var getInlineToolbarPositionHandler = function (editor) {\r\n      return editor.getParam('inline_toolbar_position_handler');\r\n    };\r\n    var getMenu = function (editor) {\r\n      return editor.getParam('menu');\r\n    };\r\n    var getRemovedMenuItems = function (editor) {\r\n      return editor.getParam('removed_menuitems', '');\r\n    };\r\n    var getMinWidth = function (editor) {\r\n      return editor.getParam('min_width', 100, 'number');\r\n    };\r\n    var getMinHeight = function (editor) {\r\n      return editor.getParam('min_height', 100, 'number');\r\n    };\r\n    var getMaxWidth = function (editor) {\r\n      return editor.getParam('max_width', 65535, 'number');\r\n    };\r\n    var getMaxHeight = function (editor) {\r\n      return editor.getParam('max_height', 65535, 'number');\r\n    };\r\n    var isSkinDisabled = function (editor) {\r\n      return editor.settings.skin === false;\r\n    };\r\n    var isInline = function (editor) {\r\n      return editor.getParam('inline', false, 'boolean');\r\n    };\r\n    var getResize = function (editor) {\r\n      var resize = editor.getParam('resize', 'vertical');\r\n      if (resize === false) {\r\n        return 'none';\r\n      } else if (resize === 'both') {\r\n        return 'both';\r\n      } else {\r\n        return 'vertical';\r\n      }\r\n    };\r\n    var getSkinUrl = function (editor) {\r\n      var settings = editor.settings;\r\n      var skin = settings.skin;\r\n      var skinUrl = settings.skin_url;\r\n      if (skin !== false) {\r\n        var skinName = skin ? skin : 'lightgray';\r\n        if (skinUrl) {\r\n          skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\r\n        } else {\r\n          skinUrl = global$1.baseURL + '/skins/' + skinName;\r\n        }\r\n      }\r\n      return skinUrl;\r\n    };\r\n    var getIndexedToolbars = function (settings, defaultToolbar) {\r\n      var toolbars = [];\r\n      for (var i = 1; i < 10; i++) {\r\n        var toolbar = settings['toolbar' + i];\r\n        if (!toolbar) {\r\n          break;\r\n        }\r\n        toolbars.push(toolbar);\r\n      }\r\n      var mainToolbar = settings.toolbar ? [settings.toolbar] : [defaultToolbar];\r\n      return toolbars.length > 0 ? toolbars : mainToolbar;\r\n    };\r\n    var getToolbars = function (editor) {\r\n      var toolbar = editor.getParam('toolbar');\r\n      var defaultToolbar = 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image';\r\n      if (toolbar === false) {\r\n        return [];\r\n      } else if (global$2.isArray(toolbar)) {\r\n        return global$2.grep(toolbar, function (toolbar) {\r\n          return toolbar.length > 0;\r\n        });\r\n      } else {\r\n        return getIndexedToolbars(editor.settings, defaultToolbar);\r\n      }\r\n    };\r\n\r\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\r\n\r\n    var global$4 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\r\n\r\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.I18n');\r\n\r\n    var fireSkinLoaded = function (editor) {\r\n      return editor.fire('SkinLoaded');\r\n    };\r\n    var fireResizeEditor = function (editor) {\r\n      return editor.fire('ResizeEditor');\r\n    };\r\n    var fireBeforeRenderUI = function (editor) {\r\n      return editor.fire('BeforeRenderUI');\r\n    };\r\n    var Events = {\r\n      fireSkinLoaded: fireSkinLoaded,\r\n      fireResizeEditor: fireResizeEditor,\r\n      fireBeforeRenderUI: fireBeforeRenderUI\r\n    };\r\n\r\n    var focus = function (panel, type) {\r\n      return function () {\r\n        var item = panel.find(type)[0];\r\n        if (item) {\r\n          item.focus(true);\r\n        }\r\n      };\r\n    };\r\n    var addKeys = function (editor, panel) {\r\n      editor.shortcuts.add('Alt+F9', '', focus(panel, 'menubar'));\r\n      editor.shortcuts.add('Alt+F10,F10', '', focus(panel, 'toolbar'));\r\n      editor.shortcuts.add('Alt+F11', '', focus(panel, 'elementpath'));\r\n      panel.on('cancel', function () {\r\n        editor.focus();\r\n      });\r\n    };\r\n    var A11y = { addKeys: addKeys };\r\n\r\n    var global$6 = tinymce.util.Tools.resolve('tinymce.geom.Rect');\r\n\r\n    var global$7 = tinymce.util.Tools.resolve('tinymce.util.Delay');\r\n\r\n    var noop = function () {\r\n      var args = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n      }\r\n    };\r\n    var constant = function (value) {\r\n      return function () {\r\n        return value;\r\n      };\r\n    };\r\n    var never = constant(false);\r\n    var always = constant(true);\r\n\r\n    var never$1 = never;\r\n    var always$1 = always;\r\n    var none = function () {\r\n      return NONE;\r\n    };\r\n    var NONE = function () {\r\n      var eq = function (o) {\r\n        return o.isNone();\r\n      };\r\n      var call$$1 = function (thunk) {\r\n        return thunk();\r\n      };\r\n      var id = function (n) {\r\n        return n;\r\n      };\r\n      var noop$$1 = function () {\r\n      };\r\n      var nul = function () {\r\n        return null;\r\n      };\r\n      var undef = function () {\r\n        return undefined;\r\n      };\r\n      var me = {\r\n        fold: function (n, s) {\r\n          return n();\r\n        },\r\n        is: never$1,\r\n        isSome: never$1,\r\n        isNone: always$1,\r\n        getOr: id,\r\n        getOrThunk: call$$1,\r\n        getOrDie: function (msg) {\r\n          throw new Error(msg || 'error: getOrDie called on none.');\r\n        },\r\n        getOrNull: nul,\r\n        getOrUndefined: undef,\r\n        or: id,\r\n        orThunk: call$$1,\r\n        map: none,\r\n        ap: none,\r\n        each: noop$$1,\r\n        bind: none,\r\n        flatten: none,\r\n        exists: never$1,\r\n        forall: always$1,\r\n        filter: none,\r\n        equals: eq,\r\n        equals_: eq,\r\n        toArray: function () {\r\n          return [];\r\n        },\r\n        toString: constant('none()')\r\n      };\r\n      if (Object.freeze)\r\n        Object.freeze(me);\r\n      return me;\r\n    }();\r\n    var some = function (a) {\r\n      var constant_a = function () {\r\n        return a;\r\n      };\r\n      var self = function () {\r\n        return me;\r\n      };\r\n      var map = function (f) {\r\n        return some(f(a));\r\n      };\r\n      var bind = function (f) {\r\n        return f(a);\r\n      };\r\n      var me = {\r\n        fold: function (n, s) {\r\n          return s(a);\r\n        },\r\n        is: function (v) {\r\n          return a === v;\r\n        },\r\n        isSome: always$1,\r\n        isNone: never$1,\r\n        getOr: constant_a,\r\n        getOrThunk: constant_a,\r\n        getOrDie: constant_a,\r\n        getOrNull: constant_a,\r\n        getOrUndefined: constant_a,\r\n        or: self,\r\n        orThunk: self,\r\n        map: map,\r\n        ap: function (optfab) {\r\n          return optfab.fold(none, function (fab) {\r\n            return some(fab(a));\r\n          });\r\n        },\r\n        each: function (f) {\r\n          f(a);\r\n        },\r\n        bind: bind,\r\n        flatten: constant_a,\r\n        exists: bind,\r\n        forall: bind,\r\n        filter: function (f) {\r\n          return f(a) ? me : NONE;\r\n        },\r\n        equals: function (o) {\r\n          return o.is(a);\r\n        },\r\n        equals_: function (o, elementEq) {\r\n          return o.fold(never$1, function (b) {\r\n            return elementEq(a, b);\r\n          });\r\n        },\r\n        toArray: function () {\r\n          return [a];\r\n        },\r\n        toString: function () {\r\n          return 'some(' + a + ')';\r\n        }\r\n      };\r\n      return me;\r\n    };\r\n    var from = function (value) {\r\n      return value === null || value === undefined ? NONE : some(value);\r\n    };\r\n    var Option = {\r\n      some: some,\r\n      none: none,\r\n      from: from\r\n    };\r\n\r\n    var getUiContainerDelta = function (ctrl) {\r\n      var uiContainer = getUiContainer(ctrl);\r\n      if (uiContainer && global$3.DOM.getStyle(uiContainer, 'position', true) !== 'static') {\r\n        var containerPos = global$3.DOM.getPos(uiContainer);\r\n        var dx = uiContainer.scrollLeft - containerPos.x;\r\n        var dy = uiContainer.scrollTop - containerPos.y;\r\n        return Option.some({\r\n          x: dx,\r\n          y: dy\r\n        });\r\n      } else {\r\n        return Option.none();\r\n      }\r\n    };\r\n    var setUiContainer = function (editor, ctrl) {\r\n      var uiContainer = global$3.DOM.select(editor.settings.ui_container)[0];\r\n      ctrl.getRoot().uiContainer = uiContainer;\r\n    };\r\n    var getUiContainer = function (ctrl) {\r\n      return ctrl ? ctrl.getRoot().uiContainer : null;\r\n    };\r\n    var inheritUiContainer = function (fromCtrl, toCtrl) {\r\n      return toCtrl.uiContainer = getUiContainer(fromCtrl);\r\n    };\r\n    var UiContainer = {\r\n      getUiContainerDelta: getUiContainerDelta,\r\n      setUiContainer: setUiContainer,\r\n      getUiContainer: getUiContainer,\r\n      inheritUiContainer: inheritUiContainer\r\n    };\r\n\r\n    var createToolbar = function (editor, items, size) {\r\n      var toolbarItems = [];\r\n      var buttonGroup;\r\n      if (!items) {\r\n        return;\r\n      }\r\n      global$2.each(items.split(/[ ,]/), function (item) {\r\n        var itemName;\r\n        var bindSelectorChanged = function () {\r\n          var selection = editor.selection;\r\n          if (item.settings.stateSelector) {\r\n            selection.selectorChanged(item.settings.stateSelector, function (state) {\r\n              item.active(state);\r\n            }, true);\r\n          }\r\n          if (item.settings.disabledStateSelector) {\r\n            selection.selectorChanged(item.settings.disabledStateSelector, function (state) {\r\n              item.disabled(state);\r\n            });\r\n          }\r\n        };\r\n        if (item === '|') {\r\n          buttonGroup = null;\r\n        } else {\r\n          if (!buttonGroup) {\r\n            buttonGroup = {\r\n              type: 'buttongroup',\r\n              items: []\r\n            };\r\n            toolbarItems.push(buttonGroup);\r\n          }\r\n          if (editor.buttons[item]) {\r\n            itemName = item;\r\n            item = editor.buttons[itemName];\r\n            if (typeof item === 'function') {\r\n              item = item();\r\n            }\r\n            item.type = item.type || 'button';\r\n            item.size = size;\r\n            item = global$4.create(item);\r\n            buttonGroup.items.push(item);\r\n            if (editor.initialized) {\r\n              bindSelectorChanged();\r\n            } else {\r\n              editor.on('init', bindSelectorChanged);\r\n            }\r\n          }\r\n        }\r\n      });\r\n      return {\r\n        type: 'toolbar',\r\n        layout: 'flow',\r\n        items: toolbarItems\r\n      };\r\n    };\r\n    var createToolbars = function (editor, size) {\r\n      var toolbars = [];\r\n      var addToolbar = function (items) {\r\n        if (items) {\r\n          toolbars.push(createToolbar(editor, items, size));\r\n        }\r\n      };\r\n      global$2.each(getToolbars(editor), function (toolbar) {\r\n        addToolbar(toolbar);\r\n      });\r\n      if (toolbars.length) {\r\n        return {\r\n          type: 'panel',\r\n          layout: 'stack',\r\n          classes: 'toolbar-grp',\r\n          ariaRoot: true,\r\n          ariaRemember: true,\r\n          items: toolbars\r\n        };\r\n      }\r\n    };\r\n    var Toolbar = {\r\n      createToolbar: createToolbar,\r\n      createToolbars: createToolbars\r\n    };\r\n\r\n    var DOM = global$3.DOM;\r\n    var toClientRect = function (geomRect) {\r\n      return {\r\n        left: geomRect.x,\r\n        top: geomRect.y,\r\n        width: geomRect.w,\r\n        height: geomRect.h,\r\n        right: geomRect.x + geomRect.w,\r\n        bottom: geomRect.y + geomRect.h\r\n      };\r\n    };\r\n    var hideAllFloatingPanels = function (editor) {\r\n      global$2.each(editor.contextToolbars, function (toolbar) {\r\n        if (toolbar.panel) {\r\n          toolbar.panel.hide();\r\n        }\r\n      });\r\n    };\r\n    var movePanelTo = function (panel, pos) {\r\n      panel.moveTo(pos.left, pos.top);\r\n    };\r\n    var togglePositionClass = function (panel, relPos, predicate) {\r\n      relPos = relPos ? relPos.substr(0, 2) : '';\r\n      global$2.each({\r\n        t: 'down',\r\n        b: 'up'\r\n      }, function (cls, pos) {\r\n        panel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(0, 1)));\r\n      });\r\n      global$2.each({\r\n        l: 'left',\r\n        r: 'right'\r\n      }, function (cls, pos) {\r\n        panel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(1, 1)));\r\n      });\r\n    };\r\n    var userConstrain = function (handler, x, y, elementRect, contentAreaRect, panelRect) {\r\n      panelRect = toClientRect({\r\n        x: x,\r\n        y: y,\r\n        w: panelRect.w,\r\n        h: panelRect.h\r\n      });\r\n      if (handler) {\r\n        panelRect = handler({\r\n          elementRect: toClientRect(elementRect),\r\n          contentAreaRect: toClientRect(contentAreaRect),\r\n          panelRect: panelRect\r\n        });\r\n      }\r\n      return panelRect;\r\n    };\r\n    var addContextualToolbars = function (editor) {\r\n      var scrollContainer;\r\n      var getContextToolbars = function () {\r\n        return editor.contextToolbars || [];\r\n      };\r\n      var getElementRect = function (elm) {\r\n        var pos, targetRect, root;\r\n        pos = DOM.getPos(editor.getContentAreaContainer());\r\n        targetRect = editor.dom.getRect(elm);\r\n        root = editor.dom.getRoot();\r\n        if (root.nodeName === 'BODY') {\r\n          targetRect.x -= root.ownerDocument.documentElement.scrollLeft || root.scrollLeft;\r\n          targetRect.y -= root.ownerDocument.documentElement.scrollTop || root.scrollTop;\r\n        }\r\n        targetRect.x += pos.x;\r\n        targetRect.y += pos.y;\r\n        return targetRect;\r\n      };\r\n      var reposition = function (match, shouldShow) {\r\n        var relPos, panelRect, elementRect, contentAreaRect, panel, relRect, testPositions, smallElementWidthThreshold;\r\n        var handler = getInlineToolbarPositionHandler(editor);\r\n        if (editor.removed) {\r\n          return;\r\n        }\r\n        if (!match || !match.toolbar.panel) {\r\n          hideAllFloatingPanels(editor);\r\n          return;\r\n        }\r\n        testPositions = [\r\n          'bc-tc',\r\n          'tc-bc',\r\n          'tl-bl',\r\n          'bl-tl',\r\n          'tr-br',\r\n          'br-tr'\r\n        ];\r\n        panel = match.toolbar.panel;\r\n        if (shouldShow) {\r\n          panel.show();\r\n        }\r\n        elementRect = getElementRect(match.element);\r\n        panelRect = DOM.getRect(panel.getEl());\r\n        contentAreaRect = DOM.getRect(editor.getContentAreaContainer() || editor.getBody());\r\n        var delta = UiContainer.getUiContainerDelta(panel).getOr({\r\n          x: 0,\r\n          y: 0\r\n        });\r\n        elementRect.x += delta.x;\r\n        elementRect.y += delta.y;\r\n        panelRect.x += delta.x;\r\n        panelRect.y += delta.y;\r\n        contentAreaRect.x += delta.x;\r\n        contentAreaRect.y += delta.y;\r\n        smallElementWidthThreshold = 25;\r\n        if (DOM.getStyle(match.element, 'display', true) !== 'inline') {\r\n          var clientRect = match.element.getBoundingClientRect();\r\n          elementRect.w = clientRect.width;\r\n          elementRect.h = clientRect.height;\r\n        }\r\n        if (!editor.inline) {\r\n          contentAreaRect.w = editor.getDoc().documentElement.offsetWidth;\r\n        }\r\n        if (editor.selection.controlSelection.isResizable(match.element) && elementRect.w < smallElementWidthThreshold) {\r\n          elementRect = global$6.inflate(elementRect, 0, 8);\r\n        }\r\n        relPos = global$6.findBestRelativePosition(panelRect, elementRect, contentAreaRect, testPositions);\r\n        elementRect = global$6.clamp(elementRect, contentAreaRect);\r\n        if (relPos) {\r\n          relRect = global$6.relativePosition(panelRect, elementRect, relPos);\r\n          movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));\r\n        } else {\r\n          contentAreaRect.h += panelRect.h;\r\n          elementRect = global$6.intersect(contentAreaRect, elementRect);\r\n          if (elementRect) {\r\n            relPos = global$6.findBestRelativePosition(panelRect, elementRect, contentAreaRect, [\r\n              'bc-tc',\r\n              'bl-tl',\r\n              'br-tr'\r\n            ]);\r\n            if (relPos) {\r\n              relRect = global$6.relativePosition(panelRect, elementRect, relPos);\r\n              movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));\r\n            } else {\r\n              movePanelTo(panel, userConstrain(handler, elementRect.x, elementRect.y, elementRect, contentAreaRect, panelRect));\r\n            }\r\n          } else {\r\n            panel.hide();\r\n          }\r\n        }\r\n        togglePositionClass(panel, relPos, function (pos1, pos2) {\r\n          return pos1 === pos2;\r\n        });\r\n      };\r\n      var repositionHandler = function (show) {\r\n        return function () {\r\n          var execute = function () {\r\n            if (editor.selection) {\r\n              reposition(findFrontMostMatch(editor.selection.getNode()), show);\r\n            }\r\n          };\r\n          global$7.requestAnimationFrame(execute);\r\n        };\r\n      };\r\n      var bindScrollEvent = function (panel) {\r\n        if (!scrollContainer) {\r\n          var reposition_1 = repositionHandler(true);\r\n          var uiContainer_1 = UiContainer.getUiContainer(panel);\r\n          scrollContainer = editor.selection.getScrollContainer() || editor.getWin();\r\n          DOM.bind(scrollContainer, 'scroll', reposition_1);\r\n          DOM.bind(uiContainer_1, 'scroll', reposition_1);\r\n          editor.on('remove', function () {\r\n            DOM.unbind(scrollContainer, 'scroll', reposition_1);\r\n            DOM.unbind(uiContainer_1, 'scroll', reposition_1);\r\n          });\r\n        }\r\n      };\r\n      var showContextToolbar = function (match) {\r\n        var panel;\r\n        if (match.toolbar.panel) {\r\n          match.toolbar.panel.show();\r\n          reposition(match);\r\n          return;\r\n        }\r\n        panel = global$4.create({\r\n          type: 'floatpanel',\r\n          role: 'dialog',\r\n          classes: 'tinymce tinymce-inline arrow',\r\n          ariaLabel: 'Inline toolbar',\r\n          layout: 'flex',\r\n          direction: 'column',\r\n          align: 'stretch',\r\n          autohide: false,\r\n          autofix: true,\r\n          fixed: true,\r\n          border: 1,\r\n          items: Toolbar.createToolbar(editor, match.toolbar.items),\r\n          oncancel: function () {\r\n            editor.focus();\r\n          }\r\n        });\r\n        UiContainer.setUiContainer(editor, panel);\r\n        bindScrollEvent(panel);\r\n        match.toolbar.panel = panel;\r\n        panel.renderTo().reflow();\r\n        reposition(match);\r\n      };\r\n      var hideAllContextToolbars = function () {\r\n        global$2.each(getContextToolbars(), function (toolbar) {\r\n          if (toolbar.panel) {\r\n            toolbar.panel.hide();\r\n          }\r\n        });\r\n      };\r\n      var findFrontMostMatch = function (targetElm) {\r\n        var i, y, parentsAndSelf;\r\n        var toolbars = getContextToolbars();\r\n        parentsAndSelf = editor.$(targetElm).parents().add(targetElm);\r\n        for (i = parentsAndSelf.length - 1; i >= 0; i--) {\r\n          for (y = toolbars.length - 1; y >= 0; y--) {\r\n            if (toolbars[y].predicate(parentsAndSelf[i])) {\r\n              return {\r\n                toolbar: toolbars[y],\r\n                element: parentsAndSelf[i]\r\n              };\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      };\r\n      editor.on('click keyup setContent ObjectResized', function (e) {\r\n        if (e.type === 'setcontent' && !e.selection) {\r\n          return;\r\n        }\r\n        global$7.setEditorTimeout(editor, function () {\r\n          var match;\r\n          match = findFrontMostMatch(editor.selection.getNode());\r\n          if (match) {\r\n            hideAllContextToolbars();\r\n            showContextToolbar(match);\r\n          } else {\r\n            hideAllContextToolbars();\r\n          }\r\n        });\r\n      });\r\n      editor.on('blur hide contextmenu', hideAllContextToolbars);\r\n      editor.on('ObjectResizeStart', function () {\r\n        var match = findFrontMostMatch(editor.selection.getNode());\r\n        if (match && match.toolbar.panel) {\r\n          match.toolbar.panel.hide();\r\n        }\r\n      });\r\n      editor.on('ResizeEditor ResizeWindow', repositionHandler(true));\r\n      editor.on('nodeChange', repositionHandler(false));\r\n      editor.on('remove', function () {\r\n        global$2.each(getContextToolbars(), function (toolbar) {\r\n          if (toolbar.panel) {\r\n            toolbar.panel.remove();\r\n          }\r\n        });\r\n        editor.contextToolbars = {};\r\n      });\r\n      editor.shortcuts.add('ctrl+F9', '', function () {\r\n        var match = findFrontMostMatch(editor.selection.getNode());\r\n        if (match && match.toolbar.panel) {\r\n          match.toolbar.panel.items()[0].focus();\r\n        }\r\n      });\r\n    };\r\n    var ContextToolbars = { addContextualToolbars: addContextualToolbars };\r\n\r\n    var typeOf = function (x) {\r\n      if (x === null)\r\n        return 'null';\r\n      var t = typeof x;\r\n      if (t === 'object' && Array.prototype.isPrototypeOf(x))\r\n        return 'array';\r\n      if (t === 'object' && String.prototype.isPrototypeOf(x))\r\n        return 'string';\r\n      return t;\r\n    };\r\n    var isType = function (type) {\r\n      return function (value) {\r\n        return typeOf(value) === type;\r\n      };\r\n    };\r\n    var isFunction = isType('function');\r\n    var isNumber = isType('number');\r\n\r\n    var rawIndexOf = function () {\r\n      var pIndexOf = Array.prototype.indexOf;\r\n      var fastIndex = function (xs, x) {\r\n        return pIndexOf.call(xs, x);\r\n      };\r\n      var slowIndex = function (xs, x) {\r\n        return slowIndexOf(xs, x);\r\n      };\r\n      return pIndexOf === undefined ? slowIndex : fastIndex;\r\n    }();\r\n    var indexOf = function (xs, x) {\r\n      var r = rawIndexOf(xs, x);\r\n      return r === -1 ? Option.none() : Option.some(r);\r\n    };\r\n    var exists = function (xs, pred) {\r\n      return findIndex(xs, pred).isSome();\r\n    };\r\n    var map = function (xs, f) {\r\n      var len = xs.length;\r\n      var r = new Array(len);\r\n      for (var i = 0; i < len; i++) {\r\n        var x = xs[i];\r\n        r[i] = f(x, i, xs);\r\n      }\r\n      return r;\r\n    };\r\n    var each = function (xs, f) {\r\n      for (var i = 0, len = xs.length; i < len; i++) {\r\n        var x = xs[i];\r\n        f(x, i, xs);\r\n      }\r\n    };\r\n    var filter = function (xs, pred) {\r\n      var r = [];\r\n      for (var i = 0, len = xs.length; i < len; i++) {\r\n        var x = xs[i];\r\n        if (pred(x, i, xs)) {\r\n          r.push(x);\r\n        }\r\n      }\r\n      return r;\r\n    };\r\n    var foldl = function (xs, f, acc) {\r\n      each(xs, function (x) {\r\n        acc = f(acc, x);\r\n      });\r\n      return acc;\r\n    };\r\n    var find = function (xs, pred) {\r\n      for (var i = 0, len = xs.length; i < len; i++) {\r\n        var x = xs[i];\r\n        if (pred(x, i, xs)) {\r\n          return Option.some(x);\r\n        }\r\n      }\r\n      return Option.none();\r\n    };\r\n    var findIndex = function (xs, pred) {\r\n      for (var i = 0, len = xs.length; i < len; i++) {\r\n        var x = xs[i];\r\n        if (pred(x, i, xs)) {\r\n          return Option.some(i);\r\n        }\r\n      }\r\n      return Option.none();\r\n    };\r\n    var slowIndexOf = function (xs, x) {\r\n      for (var i = 0, len = xs.length; i < len; ++i) {\r\n        if (xs[i] === x) {\r\n          return i;\r\n        }\r\n      }\r\n      return -1;\r\n    };\r\n    var push = Array.prototype.push;\r\n    var flatten = function (xs) {\r\n      var r = [];\r\n      for (var i = 0, len = xs.length; i < len; ++i) {\r\n        if (!Array.prototype.isPrototypeOf(xs[i]))\r\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\r\n        push.apply(r, xs[i]);\r\n      }\r\n      return r;\r\n    };\r\n    var slice = Array.prototype.slice;\r\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\r\n      return slice.call(x);\r\n    };\r\n\r\n    var defaultMenus = {\r\n      file: {\r\n        title: 'File',\r\n        items: 'newdocument restoredraft | preview | print'\r\n      },\r\n      edit: {\r\n        title: 'Edit',\r\n        items: 'undo redo | cut copy paste pastetext | selectall'\r\n      },\r\n      view: {\r\n        title: 'View',\r\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen'\r\n      },\r\n      insert: {\r\n        title: 'Insert',\r\n        items: 'image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime'\r\n      },\r\n      format: {\r\n        title: 'Format',\r\n        items: 'bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat'\r\n      },\r\n      tools: {\r\n        title: 'Tools',\r\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code'\r\n      },\r\n      table: { title: 'Table' },\r\n      help: { title: 'Help' }\r\n    };\r\n    var delimiterMenuNamePair = function () {\r\n      return {\r\n        name: '|',\r\n        item: { text: '|' }\r\n      };\r\n    };\r\n    var createMenuNameItemPair = function (name, item) {\r\n      var menuItem = item ? {\r\n        name: name,\r\n        item: item\r\n      } : null;\r\n      return name === '|' ? delimiterMenuNamePair() : menuItem;\r\n    };\r\n    var hasItemName = function (namedMenuItems, name) {\r\n      return findIndex(namedMenuItems, function (namedMenuItem) {\r\n        return namedMenuItem.name === name;\r\n      }).isSome();\r\n    };\r\n    var isSeparator = function (namedMenuItem) {\r\n      return namedMenuItem && namedMenuItem.item.text === '|';\r\n    };\r\n    var cleanupMenu = function (namedMenuItems, removedMenuItems) {\r\n      var menuItemsPass1 = filter(namedMenuItems, function (namedMenuItem) {\r\n        return removedMenuItems.hasOwnProperty(namedMenuItem.name) === false;\r\n      });\r\n      var menuItemsPass2 = filter(menuItemsPass1, function (namedMenuItem, i, namedMenuItems) {\r\n        return !isSeparator(namedMenuItem) || !isSeparator(namedMenuItems[i - 1]);\r\n      });\r\n      return filter(menuItemsPass2, function (namedMenuItem, i, namedMenuItems) {\r\n        return !isSeparator(namedMenuItem) || i > 0 && i < namedMenuItems.length - 1;\r\n      });\r\n    };\r\n    var createMenu = function (editorMenuItems, menus, removedMenuItems, context) {\r\n      var menuButton, menu, namedMenuItems, isUserDefined;\r\n      if (menus) {\r\n        menu = menus[context];\r\n        isUserDefined = true;\r\n      } else {\r\n        menu = defaultMenus[context];\r\n      }\r\n      if (menu) {\r\n        menuButton = { text: menu.title };\r\n        namedMenuItems = [];\r\n        global$2.each((menu.items || '').split(/[ ,]/), function (name) {\r\n          var namedMenuItem = createMenuNameItemPair(name, editorMenuItems[name]);\r\n          if (namedMenuItem) {\r\n            namedMenuItems.push(namedMenuItem);\r\n          }\r\n        });\r\n        if (!isUserDefined) {\r\n          global$2.each(editorMenuItems, function (item, name) {\r\n            if (item.context === context && !hasItemName(namedMenuItems, name)) {\r\n              if (item.separator === 'before') {\r\n                namedMenuItems.push(delimiterMenuNamePair());\r\n              }\r\n              if (item.prependToContext) {\r\n                namedMenuItems.unshift(createMenuNameItemPair(name, item));\r\n              } else {\r\n                namedMenuItems.push(createMenuNameItemPair(name, item));\r\n              }\r\n              if (item.separator === 'after') {\r\n                namedMenuItems.push(delimiterMenuNamePair());\r\n              }\r\n            }\r\n          });\r\n        }\r\n        menuButton.menu = map(cleanupMenu(namedMenuItems, removedMenuItems), function (menuItem) {\r\n          return menuItem.item;\r\n        });\r\n        if (!menuButton.menu.length) {\r\n          return null;\r\n        }\r\n      }\r\n      return menuButton;\r\n    };\r\n    var getDefaultMenubar = function (editor) {\r\n      var name;\r\n      var defaultMenuBar = [];\r\n      var menu = getMenu(editor);\r\n      if (menu) {\r\n        for (name in menu) {\r\n          defaultMenuBar.push(name);\r\n        }\r\n      } else {\r\n        for (name in defaultMenus) {\r\n          defaultMenuBar.push(name);\r\n        }\r\n      }\r\n      return defaultMenuBar;\r\n    };\r\n    var createMenuButtons = function (editor) {\r\n      var menuButtons = [];\r\n      var defaultMenuBar = getDefaultMenubar(editor);\r\n      var removedMenuItems = global$2.makeMap(getRemovedMenuItems(editor).split(/[ ,]/));\r\n      var menubar = getMenubar(editor);\r\n      var enabledMenuNames = typeof menubar === 'string' ? menubar.split(/[ ,]/) : defaultMenuBar;\r\n      for (var i = 0; i < enabledMenuNames.length; i++) {\r\n        var menuItems = enabledMenuNames[i];\r\n        var menu = createMenu(editor.menuItems, getMenu(editor), removedMenuItems, menuItems);\r\n        if (menu) {\r\n          menuButtons.push(menu);\r\n        }\r\n      }\r\n      return menuButtons;\r\n    };\r\n    var Menubar = { createMenuButtons: createMenuButtons };\r\n\r\n    var DOM$1 = global$3.DOM;\r\n    var getSize = function (elm) {\r\n      return {\r\n        width: elm.clientWidth,\r\n        height: elm.clientHeight\r\n      };\r\n    };\r\n    var resizeTo = function (editor, width, height) {\r\n      var containerElm, iframeElm, containerSize, iframeSize;\r\n      containerElm = editor.getContainer();\r\n      iframeElm = editor.getContentAreaContainer().firstChild;\r\n      containerSize = getSize(containerElm);\r\n      iframeSize = getSize(iframeElm);\r\n      if (width !== null) {\r\n        width = Math.max(getMinWidth(editor), width);\r\n        width = Math.min(getMaxWidth(editor), width);\r\n        DOM$1.setStyle(containerElm, 'width', width + (containerSize.width - iframeSize.width));\r\n        DOM$1.setStyle(iframeElm, 'width', width);\r\n      }\r\n      height = Math.max(getMinHeight(editor), height);\r\n      height = Math.min(getMaxHeight(editor), height);\r\n      DOM$1.setStyle(iframeElm, 'height', height);\r\n      Events.fireResizeEditor(editor);\r\n    };\r\n    var resizeBy = function (editor, dw, dh) {\r\n      var elm = editor.getContentAreaContainer();\r\n      resizeTo(editor, elm.clientWidth + dw, elm.clientHeight + dh);\r\n    };\r\n    var Resize = {\r\n      resizeTo: resizeTo,\r\n      resizeBy: resizeBy\r\n    };\r\n\r\n    var global$8 = tinymce.util.Tools.resolve('tinymce.Env');\r\n\r\n    var api = function (elm) {\r\n      return {\r\n        element: function () {\r\n          return elm;\r\n        }\r\n      };\r\n    };\r\n    var trigger = function (sidebar, panel, callbackName) {\r\n      var callback = sidebar.settings[callbackName];\r\n      if (callback) {\r\n        callback(api(panel.getEl('body')));\r\n      }\r\n    };\r\n    var hidePanels = function (name, container, sidebars) {\r\n      global$2.each(sidebars, function (sidebar) {\r\n        var panel = container.items().filter('#' + sidebar.name)[0];\r\n        if (panel && panel.visible() && sidebar.name !== name) {\r\n          trigger(sidebar, panel, 'onhide');\r\n          panel.visible(false);\r\n        }\r\n      });\r\n    };\r\n    var deactivateButtons = function (toolbar) {\r\n      toolbar.items().each(function (ctrl) {\r\n        ctrl.active(false);\r\n      });\r\n    };\r\n    var findSidebar = function (sidebars, name) {\r\n      return global$2.grep(sidebars, function (sidebar) {\r\n        return sidebar.name === name;\r\n      })[0];\r\n    };\r\n    var showPanel = function (editor, name, sidebars) {\r\n      return function (e) {\r\n        var btnCtrl = e.control;\r\n        var container = btnCtrl.parents().filter('panel')[0];\r\n        var panel = container.find('#' + name)[0];\r\n        var sidebar = findSidebar(sidebars, name);\r\n        hidePanels(name, container, sidebars);\r\n        deactivateButtons(btnCtrl.parent());\r\n        if (panel && panel.visible()) {\r\n          trigger(sidebar, panel, 'onhide');\r\n          panel.hide();\r\n          btnCtrl.active(false);\r\n        } else {\r\n          if (panel) {\r\n            panel.show();\r\n            trigger(sidebar, panel, 'onshow');\r\n          } else {\r\n            panel = global$4.create({\r\n              type: 'container',\r\n              name: name,\r\n              layout: 'stack',\r\n              classes: 'sidebar-panel',\r\n              html: ''\r\n            });\r\n            container.prepend(panel);\r\n            trigger(sidebar, panel, 'onrender');\r\n            trigger(sidebar, panel, 'onshow');\r\n          }\r\n          btnCtrl.active(true);\r\n        }\r\n        Events.fireResizeEditor(editor);\r\n      };\r\n    };\r\n    var isModernBrowser = function () {\r\n      return !global$8.ie || global$8.ie >= 11;\r\n    };\r\n    var hasSidebar = function (editor) {\r\n      return isModernBrowser() && editor.sidebars ? editor.sidebars.length > 0 : false;\r\n    };\r\n    var createSidebar = function (editor) {\r\n      var buttons = global$2.map(editor.sidebars, function (sidebar) {\r\n        var settings = sidebar.settings;\r\n        return {\r\n          type: 'button',\r\n          icon: settings.icon,\r\n          image: settings.image,\r\n          tooltip: settings.tooltip,\r\n          onclick: showPanel(editor, sidebar.name, editor.sidebars)\r\n        };\r\n      });\r\n      return {\r\n        type: 'panel',\r\n        name: 'sidebar',\r\n        layout: 'stack',\r\n        classes: 'sidebar',\r\n        items: [{\r\n            type: 'toolbar',\r\n            layout: 'stack',\r\n            classes: 'sidebar-toolbar',\r\n            items: buttons\r\n          }]\r\n      };\r\n    };\r\n    var Sidebar = {\r\n      hasSidebar: hasSidebar,\r\n      createSidebar: createSidebar\r\n    };\r\n\r\n    var fireSkinLoaded$1 = function (editor) {\r\n      var done = function () {\r\n        editor._skinLoaded = true;\r\n        Events.fireSkinLoaded(editor);\r\n      };\r\n      return function () {\r\n        if (editor.initialized) {\r\n          done();\r\n        } else {\r\n          editor.on('init', done);\r\n        }\r\n      };\r\n    };\r\n    var SkinLoaded = { fireSkinLoaded: fireSkinLoaded$1 };\r\n\r\n    var DOM$2 = global$3.DOM;\r\n    var switchMode = function (panel) {\r\n      return function (e) {\r\n        panel.find('*').disabled(e.mode === 'readonly');\r\n      };\r\n    };\r\n    var editArea = function (border) {\r\n      return {\r\n        type: 'panel',\r\n        name: 'iframe',\r\n        layout: 'stack',\r\n        classes: 'edit-area',\r\n        border: border,\r\n        html: ''\r\n      };\r\n    };\r\n    var editAreaContainer = function (editor) {\r\n      return {\r\n        type: 'panel',\r\n        layout: 'stack',\r\n        classes: 'edit-aria-container',\r\n        border: '1 0 0 0',\r\n        items: [\r\n          editArea('0'),\r\n          Sidebar.createSidebar(editor)\r\n        ]\r\n      };\r\n    };\r\n    var render = function (editor, theme, args) {\r\n      var panel, resizeHandleCtrl, startSize;\r\n      if (isSkinDisabled(editor) === false && args.skinUiCss) {\r\n        DOM$2.styleSheetLoader.load(args.skinUiCss, SkinLoaded.fireSkinLoaded(editor));\r\n      } else {\r\n        SkinLoaded.fireSkinLoaded(editor)();\r\n      }\r\n      panel = theme.panel = global$4.create({\r\n        type: 'panel',\r\n        role: 'application',\r\n        classes: 'tinymce',\r\n        style: 'visibility: hidden',\r\n        layout: 'stack',\r\n        border: 1,\r\n        items: [\r\n          {\r\n            type: 'container',\r\n            classes: 'top-part',\r\n            items: [\r\n              hasMenubar(editor) === false ? null : {\r\n                type: 'menubar',\r\n                border: '0 0 1 0',\r\n                items: Menubar.createMenuButtons(editor)\r\n              },\r\n              Toolbar.createToolbars(editor, getToolbarSize(editor))\r\n            ]\r\n          },\r\n          Sidebar.hasSidebar(editor) ? editAreaContainer(editor) : editArea('1 0 0 0')\r\n        ]\r\n      });\r\n      UiContainer.setUiContainer(editor, panel);\r\n      if (getResize(editor) !== 'none') {\r\n        resizeHandleCtrl = {\r\n          type: 'resizehandle',\r\n          direction: getResize(editor),\r\n          onResizeStart: function () {\r\n            var elm = editor.getContentAreaContainer().firstChild;\r\n            startSize = {\r\n              width: elm.clientWidth,\r\n              height: elm.clientHeight\r\n            };\r\n          },\r\n          onResize: function (e) {\r\n            if (getResize(editor) === 'both') {\r\n              Resize.resizeTo(editor, startSize.width + e.deltaX, startSize.height + e.deltaY);\r\n            } else {\r\n              Resize.resizeTo(editor, null, startSize.height + e.deltaY);\r\n            }\r\n          }\r\n        };\r\n      }\r\n      if (hasStatusbar(editor)) {\r\n        var linkHtml = '<a href=\"https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce\" rel=\"noopener\" target=\"_blank\" role=\"presentation\" tabindex=\"-1\">Tiny</a>';\r\n        var html = global$5.translate([\r\n          'Powered by {0}',\r\n          linkHtml\r\n        ]);\r\n        var brandingLabel = isBrandingEnabled(editor) ? {\r\n          type: 'label',\r\n          classes: 'branding',\r\n          html: ' ' + html\r\n        } : null;\r\n        panel.add({\r\n          type: 'panel',\r\n          name: 'statusbar',\r\n          classes: 'statusbar',\r\n          layout: 'flow',\r\n          border: '1 0 0 0',\r\n          ariaRoot: true,\r\n          items: [\r\n            {\r\n              type: 'elementpath',\r\n              editor: editor\r\n            },\r\n            resizeHandleCtrl,\r\n            brandingLabel\r\n          ]\r\n        });\r\n      }\r\n      Events.fireBeforeRenderUI(editor);\r\n      editor.on('SwitchMode', switchMode(panel));\r\n      panel.renderBefore(args.targetNode).reflow();\r\n      if (isReadOnly(editor)) {\r\n        editor.setMode('readonly');\r\n      }\r\n      if (args.width) {\r\n        DOM$2.setStyle(panel.getEl(), 'width', args.width);\r\n      }\r\n      editor.on('remove', function () {\r\n        panel.remove();\r\n        panel = null;\r\n      });\r\n      A11y.addKeys(editor, panel);\r\n      ContextToolbars.addContextualToolbars(editor);\r\n      return {\r\n        iframeContainer: panel.find('#iframe')[0].getEl(),\r\n        editorContainer: panel.getEl()\r\n      };\r\n    };\r\n    var Iframe = { render: render };\r\n\r\n    var global$9 = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');\r\n\r\n    var count = 0;\r\n    var funcs = {\r\n      id: function () {\r\n        return 'mceu_' + count++;\r\n      },\r\n      create: function (name$$1, attrs, children) {\r\n        var elm = document.createElement(name$$1);\r\n        global$3.DOM.setAttribs(elm, attrs);\r\n        if (typeof children === 'string') {\r\n          elm.innerHTML = children;\r\n        } else {\r\n          global$2.each(children, function (child) {\r\n            if (child.nodeType) {\r\n              elm.appendChild(child);\r\n            }\r\n          });\r\n        }\r\n        return elm;\r\n      },\r\n      createFragment: function (html) {\r\n        return global$3.DOM.createFragment(html);\r\n      },\r\n      getWindowSize: function () {\r\n        return global$3.DOM.getViewPort();\r\n      },\r\n      getSize: function (elm) {\r\n        var width, height;\r\n        if (elm.getBoundingClientRect) {\r\n          var rect = elm.getBoundingClientRect();\r\n          width = Math.max(rect.width || rect.right - rect.left, elm.offsetWidth);\r\n          height = Math.max(rect.height || rect.bottom - rect.bottom, elm.offsetHeight);\r\n        } else {\r\n          width = elm.offsetWidth;\r\n          height = elm.offsetHeight;\r\n        }\r\n        return {\r\n          width: width,\r\n          height: height\r\n        };\r\n      },\r\n      getPos: function (elm, root) {\r\n        return global$3.DOM.getPos(elm, root || funcs.getContainer());\r\n      },\r\n      getContainer: function () {\r\n        return global$8.container ? global$8.container : document.body;\r\n      },\r\n      getViewPort: function (win) {\r\n        return global$3.DOM.getViewPort(win);\r\n      },\r\n      get: function (id) {\r\n        return document.getElementById(id);\r\n      },\r\n      addClass: function (elm, cls) {\r\n        return global$3.DOM.addClass(elm, cls);\r\n      },\r\n      removeClass: function (elm, cls) {\r\n        return global$3.DOM.removeClass(elm, cls);\r\n      },\r\n      hasClass: function (elm, cls) {\r\n        return global$3.DOM.hasClass(elm, cls);\r\n      },\r\n      toggleClass: function (elm, cls, state) {\r\n        return global$3.DOM.toggleClass(elm, cls, state);\r\n      },\r\n      css: function (elm, name$$1, value) {\r\n        return global$3.DOM.setStyle(elm, name$$1, value);\r\n      },\r\n      getRuntimeStyle: function (elm, name$$1) {\r\n        return global$3.DOM.getStyle(elm, name$$1, true);\r\n      },\r\n      on: function (target, name$$1, callback, scope) {\r\n        return global$3.DOM.bind(target, name$$1, callback, scope);\r\n      },\r\n      off: function (target, name$$1, callback) {\r\n        return global$3.DOM.unbind(target, name$$1, callback);\r\n      },\r\n      fire: function (target, name$$1, args) {\r\n        return global$3.DOM.fire(target, name$$1, args);\r\n      },\r\n      innerHtml: function (elm, html) {\r\n        global$3.DOM.setHTML(elm, html);\r\n      }\r\n    };\r\n\r\n    var isStatic = function (elm) {\r\n      return funcs.getRuntimeStyle(elm, 'position') === 'static';\r\n    };\r\n    var isFixed = function (ctrl) {\r\n      return ctrl.state.get('fixed');\r\n    };\r\n    function calculateRelativePosition(ctrl, targetElm, rel) {\r\n      var ctrlElm, pos, x, y, selfW, selfH, targetW, targetH, viewport, size;\r\n      viewport = getWindowViewPort();\r\n      pos = funcs.getPos(targetElm, UiContainer.getUiContainer(ctrl));\r\n      x = pos.x;\r\n      y = pos.y;\r\n      if (isFixed(ctrl) && isStatic(document.body)) {\r\n        x -= viewport.x;\r\n        y -= viewport.y;\r\n      }\r\n      ctrlElm = ctrl.getEl();\r\n      size = funcs.getSize(ctrlElm);\r\n      selfW = size.width;\r\n      selfH = size.height;\r\n      size = funcs.getSize(targetElm);\r\n      targetW = size.width;\r\n      targetH = size.height;\r\n      rel = (rel || '').split('');\r\n      if (rel[0] === 'b') {\r\n        y += targetH;\r\n      }\r\n      if (rel[1] === 'r') {\r\n        x += targetW;\r\n      }\r\n      if (rel[0] === 'c') {\r\n        y += Math.round(targetH / 2);\r\n      }\r\n      if (rel[1] === 'c') {\r\n        x += Math.round(targetW / 2);\r\n      }\r\n      if (rel[3] === 'b') {\r\n        y -= selfH;\r\n      }\r\n      if (rel[4] === 'r') {\r\n        x -= selfW;\r\n      }\r\n      if (rel[3] === 'c') {\r\n        y -= Math.round(selfH / 2);\r\n      }\r\n      if (rel[4] === 'c') {\r\n        x -= Math.round(selfW / 2);\r\n      }\r\n      return {\r\n        x: x,\r\n        y: y,\r\n        w: selfW,\r\n        h: selfH\r\n      };\r\n    }\r\n    var getUiContainerViewPort = function (customUiContainer) {\r\n      return {\r\n        x: 0,\r\n        y: 0,\r\n        w: customUiContainer.scrollWidth - 1,\r\n        h: customUiContainer.scrollHeight - 1\r\n      };\r\n    };\r\n    var getWindowViewPort = function () {\r\n      var win = window;\r\n      var x = Math.max(win.pageXOffset, document.body.scrollLeft, document.documentElement.scrollLeft);\r\n      var y = Math.max(win.pageYOffset, document.body.scrollTop, document.documentElement.scrollTop);\r\n      var w = win.innerWidth || document.documentElement.clientWidth;\r\n      var h = win.innerHeight || document.documentElement.clientHeight;\r\n      return {\r\n        x: x,\r\n        y: y,\r\n        w: w,\r\n        h: h\r\n      };\r\n    };\r\n    var getViewPortRect = function (ctrl) {\r\n      var customUiContainer = UiContainer.getUiContainer(ctrl);\r\n      return customUiContainer && !isFixed(ctrl) ? getUiContainerViewPort(customUiContainer) : getWindowViewPort();\r\n    };\r\n    var Movable = {\r\n      testMoveRel: function (elm, rels) {\r\n        var viewPortRect = getViewPortRect(this);\r\n        for (var i = 0; i < rels.length; i++) {\r\n          var pos = calculateRelativePosition(this, elm, rels[i]);\r\n          if (isFixed(this)) {\r\n            if (pos.x > 0 && pos.x + pos.w < viewPortRect.w && pos.y > 0 && pos.y + pos.h < viewPortRect.h) {\r\n              return rels[i];\r\n            }\r\n          } else {\r\n            if (pos.x > viewPortRect.x && pos.x + pos.w < viewPortRect.w + viewPortRect.x && pos.y > viewPortRect.y && pos.y + pos.h < viewPortRect.h + viewPortRect.y) {\r\n              return rels[i];\r\n            }\r\n          }\r\n        }\r\n        return rels[0];\r\n      },\r\n      moveRel: function (elm, rel) {\r\n        if (typeof rel !== 'string') {\r\n          rel = this.testMoveRel(elm, rel);\r\n        }\r\n        var pos = calculateRelativePosition(this, elm, rel);\r\n        return this.moveTo(pos.x, pos.y);\r\n      },\r\n      moveBy: function (dx, dy) {\r\n        var self$$1 = this, rect = self$$1.layoutRect();\r\n        self$$1.moveTo(rect.x + dx, rect.y + dy);\r\n        return self$$1;\r\n      },\r\n      moveTo: function (x, y) {\r\n        var self$$1 = this;\r\n        function constrain(value, max, size) {\r\n          if (value < 0) {\r\n            return 0;\r\n          }\r\n          if (value + size > max) {\r\n            value = max - size;\r\n            return value < 0 ? 0 : value;\r\n          }\r\n          return value;\r\n        }\r\n        if (self$$1.settings.constrainToViewport) {\r\n          var viewPortRect = getViewPortRect(this);\r\n          var layoutRect = self$$1.layoutRect();\r\n          x = constrain(x, viewPortRect.w + viewPortRect.x, layoutRect.w);\r\n          y = constrain(y, viewPortRect.h + viewPortRect.y, layoutRect.h);\r\n        }\r\n        var uiContainer = UiContainer.getUiContainer(self$$1);\r\n        if (uiContainer && isStatic(uiContainer) && !isFixed(self$$1)) {\r\n          x -= uiContainer.scrollLeft;\r\n          y -= uiContainer.scrollTop;\r\n        }\r\n        if (uiContainer) {\r\n          x += 1;\r\n          y += 1;\r\n        }\r\n        if (self$$1.state.get('rendered')) {\r\n          self$$1.layoutRect({\r\n            x: x,\r\n            y: y\r\n          }).repaint();\r\n        } else {\r\n          self$$1.settings.x = x;\r\n          self$$1.settings.y = y;\r\n        }\r\n        self$$1.fire('move', {\r\n          x: x,\r\n          y: y\r\n        });\r\n        return self$$1;\r\n      }\r\n    };\r\n\r\n    var global$a = tinymce.util.Tools.resolve('tinymce.util.Class');\r\n\r\n    var global$b = tinymce.util.Tools.resolve('tinymce.util.EventDispatcher');\r\n\r\n    var BoxUtils = {\r\n      parseBox: function (value) {\r\n        var len;\r\n        var radix = 10;\r\n        if (!value) {\r\n          return;\r\n        }\r\n        if (typeof value === 'number') {\r\n          value = value || 0;\r\n          return {\r\n            top: value,\r\n            left: value,\r\n            bottom: value,\r\n            right: value\r\n          };\r\n        }\r\n        value = value.split(' ');\r\n        len = value.length;\r\n        if (len === 1) {\r\n          value[1] = value[2] = value[3] = value[0];\r\n        } else if (len === 2) {\r\n          value[2] = value[0];\r\n          value[3] = value[1];\r\n        } else if (len === 3) {\r\n          value[3] = value[1];\r\n        }\r\n        return {\r\n          top: parseInt(value[0], radix) || 0,\r\n          right: parseInt(value[1], radix) || 0,\r\n          bottom: parseInt(value[2], radix) || 0,\r\n          left: parseInt(value[3], radix) || 0\r\n        };\r\n      },\r\n      measureBox: function (elm, prefix) {\r\n        function getStyle(name) {\r\n          var defaultView = elm.ownerDocument.defaultView;\r\n          if (defaultView) {\r\n            var computedStyle = defaultView.getComputedStyle(elm, null);\r\n            if (computedStyle) {\r\n              name = name.replace(/[A-Z]/g, function (a) {\r\n                return '-' + a;\r\n              });\r\n              return computedStyle.getPropertyValue(name);\r\n            } else {\r\n              return null;\r\n            }\r\n          }\r\n          return elm.currentStyle[name];\r\n        }\r\n        function getSide(name) {\r\n          var val = parseFloat(getStyle(name));\r\n          return isNaN(val) ? 0 : val;\r\n        }\r\n        return {\r\n          top: getSide(prefix + 'TopWidth'),\r\n          right: getSide(prefix + 'RightWidth'),\r\n          bottom: getSide(prefix + 'BottomWidth'),\r\n          left: getSide(prefix + 'LeftWidth')\r\n        };\r\n      }\r\n    };\r\n\r\n    function noop$1() {\r\n    }\r\n    function ClassList(onchange) {\r\n      this.cls = [];\r\n      this.cls._map = {};\r\n      this.onchange = onchange || noop$1;\r\n      this.prefix = '';\r\n    }\r\n    global$2.extend(ClassList.prototype, {\r\n      add: function (cls) {\r\n        if (cls && !this.contains(cls)) {\r\n          this.cls._map[cls] = true;\r\n          this.cls.push(cls);\r\n          this._change();\r\n        }\r\n        return this;\r\n      },\r\n      remove: function (cls) {\r\n        if (this.contains(cls)) {\r\n          var i = void 0;\r\n          for (i = 0; i < this.cls.length; i++) {\r\n            if (this.cls[i] === cls) {\r\n              break;\r\n            }\r\n          }\r\n          this.cls.splice(i, 1);\r\n          delete this.cls._map[cls];\r\n          this._change();\r\n        }\r\n        return this;\r\n      },\r\n      toggle: function (cls, state) {\r\n        var curState = this.contains(cls);\r\n        if (curState !== state) {\r\n          if (curState) {\r\n            this.remove(cls);\r\n          } else {\r\n            this.add(cls);\r\n          }\r\n          this._change();\r\n        }\r\n        return this;\r\n      },\r\n      contains: function (cls) {\r\n        return !!this.cls._map[cls];\r\n      },\r\n      _change: function () {\r\n        delete this.clsValue;\r\n        this.onchange.call(this);\r\n      }\r\n    });\r\n    ClassList.prototype.toString = function () {\r\n      var value;\r\n      if (this.clsValue) {\r\n        return this.clsValue;\r\n      }\r\n      value = '';\r\n      for (var i = 0; i < this.cls.length; i++) {\r\n        if (i > 0) {\r\n          value += ' ';\r\n        }\r\n        value += this.prefix + this.cls[i];\r\n      }\r\n      return value;\r\n    };\r\n\r\n    function unique(array) {\r\n      var uniqueItems = [];\r\n      var i = array.length, item;\r\n      while (i--) {\r\n        item = array[i];\r\n        if (!item.__checked) {\r\n          uniqueItems.push(item);\r\n          item.__checked = 1;\r\n        }\r\n      }\r\n      i = uniqueItems.length;\r\n      while (i--) {\r\n        delete uniqueItems[i].__checked;\r\n      }\r\n      return uniqueItems;\r\n    }\r\n    var expression = /^([\\w\\\\*]+)?(?:#([\\w\\-\\\\]+))?(?:\\.([\\w\\\\\\.]+))?(?:\\[\\@?([\\w\\\\]+)([\\^\\$\\*!~]?=)([\\w\\\\]+)\\])?(?:\\:(.+))?/i;\r\n    var chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g;\r\n    var whiteSpace = /^\\s*|\\s*$/g;\r\n    var Collection;\r\n    var Selector = global$a.extend({\r\n      init: function (selector) {\r\n        var match = this.match;\r\n        function compileNameFilter(name) {\r\n          if (name) {\r\n            name = name.toLowerCase();\r\n            return function (item) {\r\n              return name === '*' || item.type === name;\r\n            };\r\n          }\r\n        }\r\n        function compileIdFilter(id) {\r\n          if (id) {\r\n            return function (item) {\r\n              return item._name === id;\r\n            };\r\n          }\r\n        }\r\n        function compileClassesFilter(classes) {\r\n          if (classes) {\r\n            classes = classes.split('.');\r\n            return function (item) {\r\n              var i = classes.length;\r\n              while (i--) {\r\n                if (!item.classes.contains(classes[i])) {\r\n                  return false;\r\n                }\r\n              }\r\n              return true;\r\n            };\r\n          }\r\n        }\r\n        function compileAttrFilter(name, cmp, check) {\r\n          if (name) {\r\n            return function (item) {\r\n              var value = item[name] ? item[name]() : '';\r\n              return !cmp ? !!check : cmp === '=' ? value === check : cmp === '*=' ? value.indexOf(check) >= 0 : cmp === '~=' ? (' ' + value + ' ').indexOf(' ' + check + ' ') >= 0 : cmp === '!=' ? value !== check : cmp === '^=' ? value.indexOf(check) === 0 : cmp === '$=' ? value.substr(value.length - check.length) === check : false;\r\n            };\r\n          }\r\n        }\r\n        function compilePsuedoFilter(name) {\r\n          var notSelectors;\r\n          if (name) {\r\n            name = /(?:not\\((.+)\\))|(.+)/i.exec(name);\r\n            if (!name[1]) {\r\n              name = name[2];\r\n              return function (item, index, length) {\r\n                return name === 'first' ? index === 0 : name === 'last' ? index === length - 1 : name === 'even' ? index % 2 === 0 : name === 'odd' ? index % 2 === 1 : item[name] ? item[name]() : false;\r\n              };\r\n            }\r\n            notSelectors = parseChunks(name[1], []);\r\n            return function (item) {\r\n              return !match(item, notSelectors);\r\n            };\r\n          }\r\n        }\r\n        function compile(selector, filters, direct) {\r\n          var parts;\r\n          function add(filter) {\r\n            if (filter) {\r\n              filters.push(filter);\r\n            }\r\n          }\r\n          parts = expression.exec(selector.replace(whiteSpace, ''));\r\n          add(compileNameFilter(parts[1]));\r\n          add(compileIdFilter(parts[2]));\r\n          add(compileClassesFilter(parts[3]));\r\n          add(compileAttrFilter(parts[4], parts[5], parts[6]));\r\n          add(compilePsuedoFilter(parts[7]));\r\n          filters.pseudo = !!parts[7];\r\n          filters.direct = direct;\r\n          return filters;\r\n        }\r\n        function parseChunks(selector, selectors) {\r\n          var parts = [];\r\n          var extra, matches, i;\r\n          do {\r\n            chunker.exec('');\r\n            matches = chunker.exec(selector);\r\n            if (matches) {\r\n              selector = matches[3];\r\n              parts.push(matches[1]);\r\n              if (matches[2]) {\r\n                extra = matches[3];\r\n                break;\r\n              }\r\n            }\r\n          } while (matches);\r\n          if (extra) {\r\n            parseChunks(extra, selectors);\r\n          }\r\n          selector = [];\r\n          for (i = 0; i < parts.length; i++) {\r\n            if (parts[i] !== '>') {\r\n              selector.push(compile(parts[i], [], parts[i - 1] === '>'));\r\n            }\r\n          }\r\n          selectors.push(selector);\r\n          return selectors;\r\n        }\r\n        this._selectors = parseChunks(selector, []);\r\n      },\r\n      match: function (control, selectors) {\r\n        var i, l, si, sl, selector, fi, fl, filters, index, length, siblings, count, item;\r\n        selectors = selectors || this._selectors;\r\n        for (i = 0, l = selectors.length; i < l; i++) {\r\n          selector = selectors[i];\r\n          sl = selector.length;\r\n          item = control;\r\n          count = 0;\r\n          for (si = sl - 1; si >= 0; si--) {\r\n            filters = selector[si];\r\n            while (item) {\r\n              if (filters.pseudo) {\r\n                siblings = item.parent().items();\r\n                index = length = siblings.length;\r\n                while (index--) {\r\n                  if (siblings[index] === item) {\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n              for (fi = 0, fl = filters.length; fi < fl; fi++) {\r\n                if (!filters[fi](item, index, length)) {\r\n                  fi = fl + 1;\r\n                  break;\r\n                }\r\n              }\r\n              if (fi === fl) {\r\n                count++;\r\n                break;\r\n              } else {\r\n                if (si === sl - 1) {\r\n                  break;\r\n                }\r\n              }\r\n              item = item.parent();\r\n            }\r\n          }\r\n          if (count === sl) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      },\r\n      find: function (container) {\r\n        var matches = [], i, l;\r\n        var selectors = this._selectors;\r\n        function collect(items, selector, index) {\r\n          var i, l, fi, fl, item;\r\n          var filters = selector[index];\r\n          for (i = 0, l = items.length; i < l; i++) {\r\n            item = items[i];\r\n            for (fi = 0, fl = filters.length; fi < fl; fi++) {\r\n              if (!filters[fi](item, i, l)) {\r\n                fi = fl + 1;\r\n                break;\r\n              }\r\n            }\r\n            if (fi === fl) {\r\n              if (index === selector.length - 1) {\r\n                matches.push(item);\r\n              } else {\r\n                if (item.items) {\r\n                  collect(item.items(), selector, index + 1);\r\n                }\r\n              }\r\n            } else if (filters.direct) {\r\n              return;\r\n            }\r\n            if (item.items) {\r\n              collect(item.items(), selector, index);\r\n            }\r\n          }\r\n        }\r\n        if (container.items) {\r\n          for (i = 0, l = selectors.length; i < l; i++) {\r\n            collect(container.items(), selectors[i], 0);\r\n          }\r\n          if (l > 1) {\r\n            matches = unique(matches);\r\n          }\r\n        }\r\n        if (!Collection) {\r\n          Collection = Selector.Collection;\r\n        }\r\n        return new Collection(matches);\r\n      }\r\n    });\r\n\r\n    var Collection$1, proto;\r\n    var push$1 = Array.prototype.push, slice$1 = Array.prototype.slice;\r\n    proto = {\r\n      length: 0,\r\n      init: function (items) {\r\n        if (items) {\r\n          this.add(items);\r\n        }\r\n      },\r\n      add: function (items) {\r\n        var self = this;\r\n        if (!global$2.isArray(items)) {\r\n          if (items instanceof Collection$1) {\r\n            self.add(items.toArray());\r\n          } else {\r\n            push$1.call(self, items);\r\n          }\r\n        } else {\r\n          push$1.apply(self, items);\r\n        }\r\n        return self;\r\n      },\r\n      set: function (items) {\r\n        var self = this;\r\n        var len = self.length;\r\n        var i;\r\n        self.length = 0;\r\n        self.add(items);\r\n        for (i = self.length; i < len; i++) {\r\n          delete self[i];\r\n        }\r\n        return self;\r\n      },\r\n      filter: function (selector) {\r\n        var self = this;\r\n        var i, l;\r\n        var matches = [];\r\n        var item, match;\r\n        if (typeof selector === 'string') {\r\n          selector = new Selector(selector);\r\n          match = function (item) {\r\n            return selector.match(item);\r\n          };\r\n        } else {\r\n          match = selector;\r\n        }\r\n        for (i = 0, l = self.length; i < l; i++) {\r\n          item = self[i];\r\n          if (match(item)) {\r\n            matches.push(item);\r\n          }\r\n        }\r\n        return new Collection$1(matches);\r\n      },\r\n      slice: function () {\r\n        return new Collection$1(slice$1.apply(this, arguments));\r\n      },\r\n      eq: function (index) {\r\n        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\r\n      },\r\n      each: function (callback) {\r\n        global$2.each(this, callback);\r\n        return this;\r\n      },\r\n      toArray: function () {\r\n        return global$2.toArray(this);\r\n      },\r\n      indexOf: function (ctrl) {\r\n        var self = this;\r\n        var i = self.length;\r\n        while (i--) {\r\n          if (self[i] === ctrl) {\r\n            break;\r\n          }\r\n        }\r\n        return i;\r\n      },\r\n      reverse: function () {\r\n        return new Collection$1(global$2.toArray(this).reverse());\r\n      },\r\n      hasClass: function (cls) {\r\n        return this[0] ? this[0].classes.contains(cls) : false;\r\n      },\r\n      prop: function (name, value) {\r\n        var self = this;\r\n        var item;\r\n        if (value !== undefined) {\r\n          self.each(function (item) {\r\n            if (item[name]) {\r\n              item[name](value);\r\n            }\r\n          });\r\n          return self;\r\n        }\r\n        item = self[0];\r\n        if (item && item[name]) {\r\n          return item[name]();\r\n        }\r\n      },\r\n      exec: function (name) {\r\n        var self = this, args = global$2.toArray(arguments).slice(1);\r\n        self.each(function (item) {\r\n          if (item[name]) {\r\n            item[name].apply(item, args);\r\n          }\r\n        });\r\n        return self;\r\n      },\r\n      remove: function () {\r\n        var i = this.length;\r\n        while (i--) {\r\n          this[i].remove();\r\n        }\r\n        return this;\r\n      },\r\n      addClass: function (cls) {\r\n        return this.each(function (item) {\r\n          item.classes.add(cls);\r\n        });\r\n      },\r\n      removeClass: function (cls) {\r\n        return this.each(function (item) {\r\n          item.classes.remove(cls);\r\n        });\r\n      }\r\n    };\r\n    global$2.each('fire on off show hide append prepend before after reflow'.split(' '), function (name) {\r\n      proto[name] = function () {\r\n        var args = global$2.toArray(arguments);\r\n        this.each(function (ctrl) {\r\n          if (name in ctrl) {\r\n            ctrl[name].apply(ctrl, args);\r\n          }\r\n        });\r\n        return this;\r\n      };\r\n    });\r\n    global$2.each('text name disabled active selected checked visible parent value data'.split(' '), function (name) {\r\n      proto[name] = function (value) {\r\n        return this.prop(name, value);\r\n      };\r\n    });\r\n    Collection$1 = global$a.extend(proto);\r\n    Selector.Collection = Collection$1;\r\n    var Collection$2 = Collection$1;\r\n\r\n    var Binding = function (settings) {\r\n      this.create = settings.create;\r\n    };\r\n    Binding.create = function (model, name) {\r\n      return new Binding({\r\n        create: function (otherModel, otherName) {\r\n          var bindings;\r\n          var fromSelfToOther = function (e) {\r\n            otherModel.set(otherName, e.value);\r\n          };\r\n          var fromOtherToSelf = function (e) {\r\n            model.set(name, e.value);\r\n          };\r\n          otherModel.on('change:' + otherName, fromOtherToSelf);\r\n          model.on('change:' + name, fromSelfToOther);\r\n          bindings = otherModel._bindings;\r\n          if (!bindings) {\r\n            bindings = otherModel._bindings = [];\r\n            otherModel.on('destroy', function () {\r\n              var i = bindings.length;\r\n              while (i--) {\r\n                bindings[i]();\r\n              }\r\n            });\r\n          }\r\n          bindings.push(function () {\r\n            model.off('change:' + name, fromSelfToOther);\r\n          });\r\n          return model.get(name);\r\n        }\r\n      });\r\n    };\r\n\r\n    var global$c = tinymce.util.Tools.resolve('tinymce.util.Observable');\r\n\r\n    function isNode(node) {\r\n      return node.nodeType > 0;\r\n    }\r\n    function isEqual(a, b) {\r\n      var k, checked;\r\n      if (a === b) {\r\n        return true;\r\n      }\r\n      if (a === null || b === null) {\r\n        return a === b;\r\n      }\r\n      if (typeof a !== 'object' || typeof b !== 'object') {\r\n        return a === b;\r\n      }\r\n      if (global$2.isArray(b)) {\r\n        if (a.length !== b.length) {\r\n          return false;\r\n        }\r\n        k = a.length;\r\n        while (k--) {\r\n          if (!isEqual(a[k], b[k])) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      if (isNode(a) || isNode(b)) {\r\n        return a === b;\r\n      }\r\n      checked = {};\r\n      for (k in b) {\r\n        if (!isEqual(a[k], b[k])) {\r\n          return false;\r\n        }\r\n        checked[k] = true;\r\n      }\r\n      for (k in a) {\r\n        if (!checked[k] && !isEqual(a[k], b[k])) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n    var ObservableObject = global$a.extend({\r\n      Mixins: [global$c],\r\n      init: function (data) {\r\n        var name, value;\r\n        data = data || {};\r\n        for (name in data) {\r\n          value = data[name];\r\n          if (value instanceof Binding) {\r\n            data[name] = value.create(this, name);\r\n          }\r\n        }\r\n        this.data = data;\r\n      },\r\n      set: function (name, value) {\r\n        var key, args;\r\n        var oldValue = this.data[name];\r\n        if (value instanceof Binding) {\r\n          value = value.create(this, name);\r\n        }\r\n        if (typeof name === 'object') {\r\n          for (key in name) {\r\n            this.set(key, name[key]);\r\n          }\r\n          return this;\r\n        }\r\n        if (!isEqual(oldValue, value)) {\r\n          this.data[name] = value;\r\n          args = {\r\n            target: this,\r\n            name: name,\r\n            value: value,\r\n            oldValue: oldValue\r\n          };\r\n          this.fire('change:' + name, args);\r\n          this.fire('change', args);\r\n        }\r\n        return this;\r\n      },\r\n      get: function (name) {\r\n        return this.data[name];\r\n      },\r\n      has: function (name) {\r\n        return name in this.data;\r\n      },\r\n      bind: function (name) {\r\n        return Binding.create(this, name);\r\n      },\r\n      destroy: function () {\r\n        this.fire('destroy');\r\n      }\r\n    });\r\n\r\n    var dirtyCtrls = {}, animationFrameRequested;\r\n    var ReflowQueue = {\r\n      add: function (ctrl) {\r\n        var parent$$1 = ctrl.parent();\r\n        if (parent$$1) {\r\n          if (!parent$$1._layout || parent$$1._layout.isNative()) {\r\n            return;\r\n          }\r\n          if (!dirtyCtrls[parent$$1._id]) {\r\n            dirtyCtrls[parent$$1._id] = parent$$1;\r\n          }\r\n          if (!animationFrameRequested) {\r\n            animationFrameRequested = true;\r\n            global$7.requestAnimationFrame(function () {\r\n              var id, ctrl;\r\n              animationFrameRequested = false;\r\n              for (id in dirtyCtrls) {\r\n                ctrl = dirtyCtrls[id];\r\n                if (ctrl.state.get('rendered')) {\r\n                  ctrl.reflow();\r\n                }\r\n              }\r\n              dirtyCtrls = {};\r\n            }, document.body);\r\n          }\r\n        }\r\n      },\r\n      remove: function (ctrl) {\r\n        if (dirtyCtrls[ctrl._id]) {\r\n          delete dirtyCtrls[ctrl._id];\r\n        }\r\n      }\r\n    };\r\n\r\n    var hasMouseWheelEventSupport = 'onmousewheel' in document;\r\n    var hasWheelEventSupport = false;\r\n    var classPrefix = 'mce-';\r\n    var Control, idCounter = 0;\r\n    var proto$1 = {\r\n      Statics: { classPrefix: classPrefix },\r\n      isRtl: function () {\r\n        return Control.rtl;\r\n      },\r\n      classPrefix: classPrefix,\r\n      init: function (settings) {\r\n        var self$$1 = this;\r\n        var classes, defaultClasses;\r\n        function applyClasses(classes) {\r\n          var i;\r\n          classes = classes.split(' ');\r\n          for (i = 0; i < classes.length; i++) {\r\n            self$$1.classes.add(classes[i]);\r\n          }\r\n        }\r\n        self$$1.settings = settings = global$2.extend({}, self$$1.Defaults, settings);\r\n        self$$1._id = settings.id || 'mceu_' + idCounter++;\r\n        self$$1._aria = { role: settings.role };\r\n        self$$1._elmCache = {};\r\n        self$$1.$ = global$9;\r\n        self$$1.state = new ObservableObject({\r\n          visible: true,\r\n          active: false,\r\n          disabled: false,\r\n          value: ''\r\n        });\r\n        self$$1.data = new ObservableObject(settings.data);\r\n        self$$1.classes = new ClassList(function () {\r\n          if (self$$1.state.get('rendered')) {\r\n            self$$1.getEl().className = this.toString();\r\n          }\r\n        });\r\n        self$$1.classes.prefix = self$$1.classPrefix;\r\n        classes = settings.classes;\r\n        if (classes) {\r\n          if (self$$1.Defaults) {\r\n            defaultClasses = self$$1.Defaults.classes;\r\n            if (defaultClasses && classes !== defaultClasses) {\r\n              applyClasses(defaultClasses);\r\n            }\r\n          }\r\n          applyClasses(classes);\r\n        }\r\n        global$2.each('title text name visible disabled active value'.split(' '), function (name$$1) {\r\n          if (name$$1 in settings) {\r\n            self$$1[name$$1](settings[name$$1]);\r\n          }\r\n        });\r\n        self$$1.on('click', function () {\r\n          if (self$$1.disabled()) {\r\n            return false;\r\n          }\r\n        });\r\n        self$$1.settings = settings;\r\n        self$$1.borderBox = BoxUtils.parseBox(settings.border);\r\n        self$$1.paddingBox = BoxUtils.parseBox(settings.padding);\r\n        self$$1.marginBox = BoxUtils.parseBox(settings.margin);\r\n        if (settings.hidden) {\r\n          self$$1.hide();\r\n        }\r\n      },\r\n      Properties: 'parent,name',\r\n      getContainerElm: function () {\r\n        var uiContainer = UiContainer.getUiContainer(this);\r\n        return uiContainer ? uiContainer : funcs.getContainer();\r\n      },\r\n      getParentCtrl: function (elm) {\r\n        var ctrl;\r\n        var lookup = this.getRoot().controlIdLookup;\r\n        while (elm && lookup) {\r\n          ctrl = lookup[elm.id];\r\n          if (ctrl) {\r\n            break;\r\n          }\r\n          elm = elm.parentNode;\r\n        }\r\n        return ctrl;\r\n      },\r\n      initLayoutRect: function () {\r\n        var self$$1 = this;\r\n        var settings = self$$1.settings;\r\n        var borderBox, layoutRect;\r\n        var elm = self$$1.getEl();\r\n        var width, height, minWidth, minHeight, autoResize;\r\n        var startMinWidth, startMinHeight, initialSize;\r\n        borderBox = self$$1.borderBox = self$$1.borderBox || BoxUtils.measureBox(elm, 'border');\r\n        self$$1.paddingBox = self$$1.paddingBox || BoxUtils.measureBox(elm, 'padding');\r\n        self$$1.marginBox = self$$1.marginBox || BoxUtils.measureBox(elm, 'margin');\r\n        initialSize = funcs.getSize(elm);\r\n        startMinWidth = settings.minWidth;\r\n        startMinHeight = settings.minHeight;\r\n        minWidth = startMinWidth || initialSize.width;\r\n        minHeight = startMinHeight || initialSize.height;\r\n        width = settings.width;\r\n        height = settings.height;\r\n        autoResize = settings.autoResize;\r\n        autoResize = typeof autoResize !== 'undefined' ? autoResize : !width && !height;\r\n        width = width || minWidth;\r\n        height = height || minHeight;\r\n        var deltaW = borderBox.left + borderBox.right;\r\n        var deltaH = borderBox.top + borderBox.bottom;\r\n        var maxW = settings.maxWidth || 65535;\r\n        var maxH = settings.maxHeight || 65535;\r\n        self$$1._layoutRect = layoutRect = {\r\n          x: settings.x || 0,\r\n          y: settings.y || 0,\r\n          w: width,\r\n          h: height,\r\n          deltaW: deltaW,\r\n          deltaH: deltaH,\r\n          contentW: width - deltaW,\r\n          contentH: height - deltaH,\r\n          innerW: width - deltaW,\r\n          innerH: height - deltaH,\r\n          startMinWidth: startMinWidth || 0,\r\n          startMinHeight: startMinHeight || 0,\r\n          minW: Math.min(minWidth, maxW),\r\n          minH: Math.min(minHeight, maxH),\r\n          maxW: maxW,\r\n          maxH: maxH,\r\n          autoResize: autoResize,\r\n          scrollW: 0\r\n        };\r\n        self$$1._lastLayoutRect = {};\r\n        return layoutRect;\r\n      },\r\n      layoutRect: function (newRect) {\r\n        var self$$1 = this;\r\n        var curRect = self$$1._layoutRect, lastLayoutRect, size, deltaWidth, deltaHeight, repaintControls;\r\n        if (!curRect) {\r\n          curRect = self$$1.initLayoutRect();\r\n        }\r\n        if (newRect) {\r\n          deltaWidth = curRect.deltaW;\r\n          deltaHeight = curRect.deltaH;\r\n          if (newRect.x !== undefined) {\r\n            curRect.x = newRect.x;\r\n          }\r\n          if (newRect.y !== undefined) {\r\n            curRect.y = newRect.y;\r\n          }\r\n          if (newRect.minW !== undefined) {\r\n            curRect.minW = newRect.minW;\r\n          }\r\n          if (newRect.minH !== undefined) {\r\n            curRect.minH = newRect.minH;\r\n          }\r\n          size = newRect.w;\r\n          if (size !== undefined) {\r\n            size = size < curRect.minW ? curRect.minW : size;\r\n            size = size > curRect.maxW ? curRect.maxW : size;\r\n            curRect.w = size;\r\n            curRect.innerW = size - deltaWidth;\r\n          }\r\n          size = newRect.h;\r\n          if (size !== undefined) {\r\n            size = size < curRect.minH ? curRect.minH : size;\r\n            size = size > curRect.maxH ? curRect.maxH : size;\r\n            curRect.h = size;\r\n            curRect.innerH = size - deltaHeight;\r\n          }\r\n          size = newRect.innerW;\r\n          if (size !== undefined) {\r\n            size = size < curRect.minW - deltaWidth ? curRect.minW - deltaWidth : size;\r\n            size = size > curRect.maxW - deltaWidth ? curRect.maxW - deltaWidth : size;\r\n            curRect.innerW = size;\r\n            curRect.w = size + deltaWidth;\r\n          }\r\n          size = newRect.innerH;\r\n          if (size !== undefined) {\r\n            size = size < curRect.minH - deltaHeight ? curRect.minH - deltaHeight : size;\r\n            size = size > curRect.maxH - deltaHeight ? curRect.maxH - deltaHeight : size;\r\n            curRect.innerH = size;\r\n            curRect.h = size + deltaHeight;\r\n          }\r\n          if (newRect.contentW !== undefined) {\r\n            curRect.contentW = newRect.contentW;\r\n          }\r\n          if (newRect.contentH !== undefined) {\r\n            curRect.contentH = newRect.contentH;\r\n          }\r\n          lastLayoutRect = self$$1._lastLayoutRect;\r\n          if (lastLayoutRect.x !== curRect.x || lastLayoutRect.y !== curRect.y || lastLayoutRect.w !== curRect.w || lastLayoutRect.h !== curRect.h) {\r\n            repaintControls = Control.repaintControls;\r\n            if (repaintControls) {\r\n              if (repaintControls.map && !repaintControls.map[self$$1._id]) {\r\n                repaintControls.push(self$$1);\r\n                repaintControls.map[self$$1._id] = true;\r\n              }\r\n            }\r\n            lastLayoutRect.x = curRect.x;\r\n            lastLayoutRect.y = curRect.y;\r\n            lastLayoutRect.w = curRect.w;\r\n            lastLayoutRect.h = curRect.h;\r\n          }\r\n          return self$$1;\r\n        }\r\n        return curRect;\r\n      },\r\n      repaint: function () {\r\n        var self$$1 = this;\r\n        var style, bodyStyle, bodyElm, rect, borderBox;\r\n        var borderW, borderH, lastRepaintRect, round, value;\r\n        round = !document.createRange ? Math.round : function (value) {\r\n          return value;\r\n        };\r\n        style = self$$1.getEl().style;\r\n        rect = self$$1._layoutRect;\r\n        lastRepaintRect = self$$1._lastRepaintRect || {};\r\n        borderBox = self$$1.borderBox;\r\n        borderW = borderBox.left + borderBox.right;\r\n        borderH = borderBox.top + borderBox.bottom;\r\n        if (rect.x !== lastRepaintRect.x) {\r\n          style.left = round(rect.x) + 'px';\r\n          lastRepaintRect.x = rect.x;\r\n        }\r\n        if (rect.y !== lastRepaintRect.y) {\r\n          style.top = round(rect.y) + 'px';\r\n          lastRepaintRect.y = rect.y;\r\n        }\r\n        if (rect.w !== lastRepaintRect.w) {\r\n          value = round(rect.w - borderW);\r\n          style.width = (value >= 0 ? value : 0) + 'px';\r\n          lastRepaintRect.w = rect.w;\r\n        }\r\n        if (rect.h !== lastRepaintRect.h) {\r\n          value = round(rect.h - borderH);\r\n          style.height = (value >= 0 ? value : 0) + 'px';\r\n          lastRepaintRect.h = rect.h;\r\n        }\r\n        if (self$$1._hasBody && rect.innerW !== lastRepaintRect.innerW) {\r\n          value = round(rect.innerW);\r\n          bodyElm = self$$1.getEl('body');\r\n          if (bodyElm) {\r\n            bodyStyle = bodyElm.style;\r\n            bodyStyle.width = (value >= 0 ? value : 0) + 'px';\r\n          }\r\n          lastRepaintRect.innerW = rect.innerW;\r\n        }\r\n        if (self$$1._hasBody && rect.innerH !== lastRepaintRect.innerH) {\r\n          value = round(rect.innerH);\r\n          bodyElm = bodyElm || self$$1.getEl('body');\r\n          if (bodyElm) {\r\n            bodyStyle = bodyStyle || bodyElm.style;\r\n            bodyStyle.height = (value >= 0 ? value : 0) + 'px';\r\n          }\r\n          lastRepaintRect.innerH = rect.innerH;\r\n        }\r\n        self$$1._lastRepaintRect = lastRepaintRect;\r\n        self$$1.fire('repaint', {}, false);\r\n      },\r\n      updateLayoutRect: function () {\r\n        var self$$1 = this;\r\n        self$$1.parent()._lastRect = null;\r\n        funcs.css(self$$1.getEl(), {\r\n          width: '',\r\n          height: ''\r\n        });\r\n        self$$1._layoutRect = self$$1._lastRepaintRect = self$$1._lastLayoutRect = null;\r\n        self$$1.initLayoutRect();\r\n      },\r\n      on: function (name$$1, callback) {\r\n        var self$$1 = this;\r\n        function resolveCallbackName(name$$1) {\r\n          var callback, scope;\r\n          if (typeof name$$1 !== 'string') {\r\n            return name$$1;\r\n          }\r\n          return function (e) {\r\n            if (!callback) {\r\n              self$$1.parentsAndSelf().each(function (ctrl) {\r\n                var callbacks = ctrl.settings.callbacks;\r\n                if (callbacks && (callback = callbacks[name$$1])) {\r\n                  scope = ctrl;\r\n                  return false;\r\n                }\r\n              });\r\n            }\r\n            if (!callback) {\r\n              e.action = name$$1;\r\n              this.fire('execute', e);\r\n              return;\r\n            }\r\n            return callback.call(scope, e);\r\n          };\r\n        }\r\n        getEventDispatcher(self$$1).on(name$$1, resolveCallbackName(callback));\r\n        return self$$1;\r\n      },\r\n      off: function (name$$1, callback) {\r\n        getEventDispatcher(this).off(name$$1, callback);\r\n        return this;\r\n      },\r\n      fire: function (name$$1, args, bubble) {\r\n        var self$$1 = this;\r\n        args = args || {};\r\n        if (!args.control) {\r\n          args.control = self$$1;\r\n        }\r\n        args = getEventDispatcher(self$$1).fire(name$$1, args);\r\n        if (bubble !== false && self$$1.parent) {\r\n          var parent$$1 = self$$1.parent();\r\n          while (parent$$1 && !args.isPropagationStopped()) {\r\n            parent$$1.fire(name$$1, args, false);\r\n            parent$$1 = parent$$1.parent();\r\n          }\r\n        }\r\n        return args;\r\n      },\r\n      hasEventListeners: function (name$$1) {\r\n        return getEventDispatcher(this).has(name$$1);\r\n      },\r\n      parents: function (selector) {\r\n        var self$$1 = this;\r\n        var ctrl, parents = new Collection$2();\r\n        for (ctrl = self$$1.parent(); ctrl; ctrl = ctrl.parent()) {\r\n          parents.add(ctrl);\r\n        }\r\n        if (selector) {\r\n          parents = parents.filter(selector);\r\n        }\r\n        return parents;\r\n      },\r\n      parentsAndSelf: function (selector) {\r\n        return new Collection$2(this).add(this.parents(selector));\r\n      },\r\n      next: function () {\r\n        var parentControls = this.parent().items();\r\n        return parentControls[parentControls.indexOf(this) + 1];\r\n      },\r\n      prev: function () {\r\n        var parentControls = this.parent().items();\r\n        return parentControls[parentControls.indexOf(this) - 1];\r\n      },\r\n      innerHtml: function (html) {\r\n        this.$el.html(html);\r\n        return this;\r\n      },\r\n      getEl: function (suffix) {\r\n        var id = suffix ? this._id + '-' + suffix : this._id;\r\n        if (!this._elmCache[id]) {\r\n          this._elmCache[id] = global$9('#' + id)[0];\r\n        }\r\n        return this._elmCache[id];\r\n      },\r\n      show: function () {\r\n        return this.visible(true);\r\n      },\r\n      hide: function () {\r\n        return this.visible(false);\r\n      },\r\n      focus: function () {\r\n        try {\r\n          this.getEl().focus();\r\n        } catch (ex) {\r\n        }\r\n        return this;\r\n      },\r\n      blur: function () {\r\n        this.getEl().blur();\r\n        return this;\r\n      },\r\n      aria: function (name$$1, value) {\r\n        var self$$1 = this, elm = self$$1.getEl(self$$1.ariaTarget);\r\n        if (typeof value === 'undefined') {\r\n          return self$$1._aria[name$$1];\r\n        }\r\n        self$$1._aria[name$$1] = value;\r\n        if (self$$1.state.get('rendered')) {\r\n          elm.setAttribute(name$$1 === 'role' ? name$$1 : 'aria-' + name$$1, value);\r\n        }\r\n        return self$$1;\r\n      },\r\n      encode: function (text, translate) {\r\n        if (translate !== false) {\r\n          text = this.translate(text);\r\n        }\r\n        return (text || '').replace(/[&<>\"]/g, function (match) {\r\n          return '&#' + match.charCodeAt(0) + ';';\r\n        });\r\n      },\r\n      translate: function (text) {\r\n        return Control.translate ? Control.translate(text) : text;\r\n      },\r\n      before: function (items) {\r\n        var self$$1 = this, parent$$1 = self$$1.parent();\r\n        if (parent$$1) {\r\n          parent$$1.insert(items, parent$$1.items().indexOf(self$$1), true);\r\n        }\r\n        return self$$1;\r\n      },\r\n      after: function (items) {\r\n        var self$$1 = this, parent$$1 = self$$1.parent();\r\n        if (parent$$1) {\r\n          parent$$1.insert(items, parent$$1.items().indexOf(self$$1));\r\n        }\r\n        return self$$1;\r\n      },\r\n      remove: function () {\r\n        var self$$1 = this;\r\n        var elm = self$$1.getEl();\r\n        var parent$$1 = self$$1.parent();\r\n        var newItems, i;\r\n        if (self$$1.items) {\r\n          var controls = self$$1.items().toArray();\r\n          i = controls.length;\r\n          while (i--) {\r\n            controls[i].remove();\r\n          }\r\n        }\r\n        if (parent$$1 && parent$$1.items) {\r\n          newItems = [];\r\n          parent$$1.items().each(function (item) {\r\n            if (item !== self$$1) {\r\n              newItems.push(item);\r\n            }\r\n          });\r\n          parent$$1.items().set(newItems);\r\n          parent$$1._lastRect = null;\r\n        }\r\n        if (self$$1._eventsRoot && self$$1._eventsRoot === self$$1) {\r\n          global$9(elm).off();\r\n        }\r\n        var lookup = self$$1.getRoot().controlIdLookup;\r\n        if (lookup) {\r\n          delete lookup[self$$1._id];\r\n        }\r\n        if (elm && elm.parentNode) {\r\n          elm.parentNode.removeChild(elm);\r\n        }\r\n        self$$1.state.set('rendered', false);\r\n        self$$1.state.destroy();\r\n        self$$1.fire('remove');\r\n        return self$$1;\r\n      },\r\n      renderBefore: function (elm) {\r\n        global$9(elm).before(this.renderHtml());\r\n        this.postRender();\r\n        return this;\r\n      },\r\n      renderTo: function (elm) {\r\n        global$9(elm || this.getContainerElm()).append(this.renderHtml());\r\n        this.postRender();\r\n        return this;\r\n      },\r\n      preRender: function () {\r\n      },\r\n      render: function () {\r\n      },\r\n      renderHtml: function () {\r\n        return '<div id=\"' + this._id + '\" class=\"' + this.classes + '\"></div>';\r\n      },\r\n      postRender: function () {\r\n        var self$$1 = this;\r\n        var settings = self$$1.settings;\r\n        var elm, box, parent$$1, name$$1, parentEventsRoot;\r\n        self$$1.$el = global$9(self$$1.getEl());\r\n        self$$1.state.set('rendered', true);\r\n        for (name$$1 in settings) {\r\n          if (name$$1.indexOf('on') === 0) {\r\n            self$$1.on(name$$1.substr(2), settings[name$$1]);\r\n          }\r\n        }\r\n        if (self$$1._eventsRoot) {\r\n          for (parent$$1 = self$$1.parent(); !parentEventsRoot && parent$$1; parent$$1 = parent$$1.parent()) {\r\n            parentEventsRoot = parent$$1._eventsRoot;\r\n          }\r\n          if (parentEventsRoot) {\r\n            for (name$$1 in parentEventsRoot._nativeEvents) {\r\n              self$$1._nativeEvents[name$$1] = true;\r\n            }\r\n          }\r\n        }\r\n        bindPendingEvents(self$$1);\r\n        if (settings.style) {\r\n          elm = self$$1.getEl();\r\n          if (elm) {\r\n            elm.setAttribute('style', settings.style);\r\n            elm.style.cssText = settings.style;\r\n          }\r\n        }\r\n        if (self$$1.settings.border) {\r\n          box = self$$1.borderBox;\r\n          self$$1.$el.css({\r\n            'border-top-width': box.top,\r\n            'border-right-width': box.right,\r\n            'border-bottom-width': box.bottom,\r\n            'border-left-width': box.left\r\n          });\r\n        }\r\n        var root = self$$1.getRoot();\r\n        if (!root.controlIdLookup) {\r\n          root.controlIdLookup = {};\r\n        }\r\n        root.controlIdLookup[self$$1._id] = self$$1;\r\n        for (var key in self$$1._aria) {\r\n          self$$1.aria(key, self$$1._aria[key]);\r\n        }\r\n        if (self$$1.state.get('visible') === false) {\r\n          self$$1.getEl().style.display = 'none';\r\n        }\r\n        self$$1.bindStates();\r\n        self$$1.state.on('change:visible', function (e) {\r\n          var state = e.value;\r\n          var parentCtrl;\r\n          if (self$$1.state.get('rendered')) {\r\n            self$$1.getEl().style.display = state === false ? 'none' : '';\r\n            self$$1.getEl().getBoundingClientRect();\r\n          }\r\n          parentCtrl = self$$1.parent();\r\n          if (parentCtrl) {\r\n            parentCtrl._lastRect = null;\r\n          }\r\n          self$$1.fire(state ? 'show' : 'hide');\r\n          ReflowQueue.add(self$$1);\r\n        });\r\n        self$$1.fire('postrender', {}, false);\r\n      },\r\n      bindStates: function () {\r\n      },\r\n      scrollIntoView: function (align) {\r\n        function getOffset(elm, rootElm) {\r\n          var x, y, parent$$1 = elm;\r\n          x = y = 0;\r\n          while (parent$$1 && parent$$1 !== rootElm && parent$$1.nodeType) {\r\n            x += parent$$1.offsetLeft || 0;\r\n            y += parent$$1.offsetTop || 0;\r\n            parent$$1 = parent$$1.offsetParent;\r\n          }\r\n          return {\r\n            x: x,\r\n            y: y\r\n          };\r\n        }\r\n        var elm = this.getEl(), parentElm = elm.parentNode;\r\n        var x, y, width, height, parentWidth, parentHeight;\r\n        var pos = getOffset(elm, parentElm);\r\n        x = pos.x;\r\n        y = pos.y;\r\n        width = elm.offsetWidth;\r\n        height = elm.offsetHeight;\r\n        parentWidth = parentElm.clientWidth;\r\n        parentHeight = parentElm.clientHeight;\r\n        if (align === 'end') {\r\n          x -= parentWidth - width;\r\n          y -= parentHeight - height;\r\n        } else if (align === 'center') {\r\n          x -= parentWidth / 2 - width / 2;\r\n          y -= parentHeight / 2 - height / 2;\r\n        }\r\n        parentElm.scrollLeft = x;\r\n        parentElm.scrollTop = y;\r\n        return this;\r\n      },\r\n      getRoot: function () {\r\n        var ctrl = this, rootControl;\r\n        var parents = [];\r\n        while (ctrl) {\r\n          if (ctrl.rootControl) {\r\n            rootControl = ctrl.rootControl;\r\n            break;\r\n          }\r\n          parents.push(ctrl);\r\n          rootControl = ctrl;\r\n          ctrl = ctrl.parent();\r\n        }\r\n        if (!rootControl) {\r\n          rootControl = this;\r\n        }\r\n        var i = parents.length;\r\n        while (i--) {\r\n          parents[i].rootControl = rootControl;\r\n        }\r\n        return rootControl;\r\n      },\r\n      reflow: function () {\r\n        ReflowQueue.remove(this);\r\n        var parent$$1 = this.parent();\r\n        if (parent$$1 && parent$$1._layout && !parent$$1._layout.isNative()) {\r\n          parent$$1.reflow();\r\n        }\r\n        return this;\r\n      }\r\n    };\r\n    global$2.each('text title visible disabled active value'.split(' '), function (name$$1) {\r\n      proto$1[name$$1] = function (value) {\r\n        if (arguments.length === 0) {\r\n          return this.state.get(name$$1);\r\n        }\r\n        if (typeof value !== 'undefined') {\r\n          this.state.set(name$$1, value);\r\n        }\r\n        return this;\r\n      };\r\n    });\r\n    Control = global$a.extend(proto$1);\r\n    function getEventDispatcher(obj) {\r\n      if (!obj._eventDispatcher) {\r\n        obj._eventDispatcher = new global$b({\r\n          scope: obj,\r\n          toggleEvent: function (name$$1, state) {\r\n            if (state && global$b.isNative(name$$1)) {\r\n              if (!obj._nativeEvents) {\r\n                obj._nativeEvents = {};\r\n              }\r\n              obj._nativeEvents[name$$1] = true;\r\n              if (obj.state.get('rendered')) {\r\n                bindPendingEvents(obj);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n      return obj._eventDispatcher;\r\n    }\r\n    function bindPendingEvents(eventCtrl) {\r\n      var i, l, parents, eventRootCtrl, nativeEvents, name$$1;\r\n      function delegate(e) {\r\n        var control = eventCtrl.getParentCtrl(e.target);\r\n        if (control) {\r\n          control.fire(e.type, e);\r\n        }\r\n      }\r\n      function mouseLeaveHandler() {\r\n        var ctrl = eventRootCtrl._lastHoverCtrl;\r\n        if (ctrl) {\r\n          ctrl.fire('mouseleave', { target: ctrl.getEl() });\r\n          ctrl.parents().each(function (ctrl) {\r\n            ctrl.fire('mouseleave', { target: ctrl.getEl() });\r\n          });\r\n          eventRootCtrl._lastHoverCtrl = null;\r\n        }\r\n      }\r\n      function mouseEnterHandler(e) {\r\n        var ctrl = eventCtrl.getParentCtrl(e.target), lastCtrl = eventRootCtrl._lastHoverCtrl, idx = 0, i, parents, lastParents;\r\n        if (ctrl !== lastCtrl) {\r\n          eventRootCtrl._lastHoverCtrl = ctrl;\r\n          parents = ctrl.parents().toArray().reverse();\r\n          parents.push(ctrl);\r\n          if (lastCtrl) {\r\n            lastParents = lastCtrl.parents().toArray().reverse();\r\n            lastParents.push(lastCtrl);\r\n            for (idx = 0; idx < lastParents.length; idx++) {\r\n              if (parents[idx] !== lastParents[idx]) {\r\n                break;\r\n              }\r\n            }\r\n            for (i = lastParents.length - 1; i >= idx; i--) {\r\n              lastCtrl = lastParents[i];\r\n              lastCtrl.fire('mouseleave', { target: lastCtrl.getEl() });\r\n            }\r\n          }\r\n          for (i = idx; i < parents.length; i++) {\r\n            ctrl = parents[i];\r\n            ctrl.fire('mouseenter', { target: ctrl.getEl() });\r\n          }\r\n        }\r\n      }\r\n      function fixWheelEvent(e) {\r\n        e.preventDefault();\r\n        if (e.type === 'mousewheel') {\r\n          e.deltaY = -1 / 40 * e.wheelDelta;\r\n          if (e.wheelDeltaX) {\r\n            e.deltaX = -1 / 40 * e.wheelDeltaX;\r\n          }\r\n        } else {\r\n          e.deltaX = 0;\r\n          e.deltaY = e.detail;\r\n        }\r\n        e = eventCtrl.fire('wheel', e);\r\n      }\r\n      nativeEvents = eventCtrl._nativeEvents;\r\n      if (nativeEvents) {\r\n        parents = eventCtrl.parents().toArray();\r\n        parents.unshift(eventCtrl);\r\n        for (i = 0, l = parents.length; !eventRootCtrl && i < l; i++) {\r\n          eventRootCtrl = parents[i]._eventsRoot;\r\n        }\r\n        if (!eventRootCtrl) {\r\n          eventRootCtrl = parents[parents.length - 1] || eventCtrl;\r\n        }\r\n        eventCtrl._eventsRoot = eventRootCtrl;\r\n        for (l = i, i = 0; i < l; i++) {\r\n          parents[i]._eventsRoot = eventRootCtrl;\r\n        }\r\n        var eventRootDelegates = eventRootCtrl._delegates;\r\n        if (!eventRootDelegates) {\r\n          eventRootDelegates = eventRootCtrl._delegates = {};\r\n        }\r\n        for (name$$1 in nativeEvents) {\r\n          if (!nativeEvents) {\r\n            return false;\r\n          }\r\n          if (name$$1 === 'wheel' && !hasWheelEventSupport) {\r\n            if (hasMouseWheelEventSupport) {\r\n              global$9(eventCtrl.getEl()).on('mousewheel', fixWheelEvent);\r\n            } else {\r\n              global$9(eventCtrl.getEl()).on('DOMMouseScroll', fixWheelEvent);\r\n            }\r\n            continue;\r\n          }\r\n          if (name$$1 === 'mouseenter' || name$$1 === 'mouseleave') {\r\n            if (!eventRootCtrl._hasMouseEnter) {\r\n              global$9(eventRootCtrl.getEl()).on('mouseleave', mouseLeaveHandler).on('mouseover', mouseEnterHandler);\r\n              eventRootCtrl._hasMouseEnter = 1;\r\n            }\r\n          } else if (!eventRootDelegates[name$$1]) {\r\n            global$9(eventRootCtrl.getEl()).on(name$$1, delegate);\r\n            eventRootDelegates[name$$1] = true;\r\n          }\r\n          nativeEvents[name$$1] = false;\r\n        }\r\n      }\r\n    }\r\n    var Control$1 = Control;\r\n\r\n    var hasTabstopData = function (elm) {\r\n      return elm.getAttribute('data-mce-tabstop') ? true : false;\r\n    };\r\n    function KeyboardNavigation (settings) {\r\n      var root = settings.root;\r\n      var focusedElement, focusedControl;\r\n      function isElement(node) {\r\n        return node && node.nodeType === 1;\r\n      }\r\n      try {\r\n        focusedElement = document.activeElement;\r\n      } catch (ex) {\r\n        focusedElement = document.body;\r\n      }\r\n      focusedControl = root.getParentCtrl(focusedElement);\r\n      function getRole(elm) {\r\n        elm = elm || focusedElement;\r\n        if (isElement(elm)) {\r\n          return elm.getAttribute('role');\r\n        }\r\n        return null;\r\n      }\r\n      function getParentRole(elm) {\r\n        var role, parent$$1 = elm || focusedElement;\r\n        while (parent$$1 = parent$$1.parentNode) {\r\n          if (role = getRole(parent$$1)) {\r\n            return role;\r\n          }\r\n        }\r\n      }\r\n      function getAriaProp(name$$1) {\r\n        var elm = focusedElement;\r\n        if (isElement(elm)) {\r\n          return elm.getAttribute('aria-' + name$$1);\r\n        }\r\n      }\r\n      function isTextInputElement(elm) {\r\n        var tagName = elm.tagName.toUpperCase();\r\n        return tagName === 'INPUT' || tagName === 'TEXTAREA' || tagName === 'SELECT';\r\n      }\r\n      function canFocus(elm) {\r\n        if (isTextInputElement(elm) && !elm.hidden) {\r\n          return true;\r\n        }\r\n        if (hasTabstopData(elm)) {\r\n          return true;\r\n        }\r\n        if (/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(getRole(elm))) {\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n      function getFocusElements(elm) {\r\n        var elements = [];\r\n        function collect(elm) {\r\n          if (elm.nodeType !== 1 || elm.style.display === 'none' || elm.disabled) {\r\n            return;\r\n          }\r\n          if (canFocus(elm)) {\r\n            elements.push(elm);\r\n          }\r\n          for (var i = 0; i < elm.childNodes.length; i++) {\r\n            collect(elm.childNodes[i]);\r\n          }\r\n        }\r\n        collect(elm || root.getEl());\r\n        return elements;\r\n      }\r\n      function getNavigationRoot(targetControl) {\r\n        var navigationRoot, controls;\r\n        targetControl = targetControl || focusedControl;\r\n        controls = targetControl.parents().toArray();\r\n        controls.unshift(targetControl);\r\n        for (var i = 0; i < controls.length; i++) {\r\n          navigationRoot = controls[i];\r\n          if (navigationRoot.settings.ariaRoot) {\r\n            break;\r\n          }\r\n        }\r\n        return navigationRoot;\r\n      }\r\n      function focusFirst(targetControl) {\r\n        var navigationRoot = getNavigationRoot(targetControl);\r\n        var focusElements = getFocusElements(navigationRoot.getEl());\r\n        if (navigationRoot.settings.ariaRemember && 'lastAriaIndex' in navigationRoot) {\r\n          moveFocusToIndex(navigationRoot.lastAriaIndex, focusElements);\r\n        } else {\r\n          moveFocusToIndex(0, focusElements);\r\n        }\r\n      }\r\n      function moveFocusToIndex(idx, elements) {\r\n        if (idx < 0) {\r\n          idx = elements.length - 1;\r\n        } else if (idx >= elements.length) {\r\n          idx = 0;\r\n        }\r\n        if (elements[idx]) {\r\n          elements[idx].focus();\r\n        }\r\n        return idx;\r\n      }\r\n      function moveFocus(dir, elements) {\r\n        var idx = -1;\r\n        var navigationRoot = getNavigationRoot();\r\n        elements = elements || getFocusElements(navigationRoot.getEl());\r\n        for (var i = 0; i < elements.length; i++) {\r\n          if (elements[i] === focusedElement) {\r\n            idx = i;\r\n          }\r\n        }\r\n        idx += dir;\r\n        navigationRoot.lastAriaIndex = moveFocusToIndex(idx, elements);\r\n      }\r\n      function left() {\r\n        var parentRole = getParentRole();\r\n        if (parentRole === 'tablist') {\r\n          moveFocus(-1, getFocusElements(focusedElement.parentNode));\r\n        } else if (focusedControl.parent().submenu) {\r\n          cancel();\r\n        } else {\r\n          moveFocus(-1);\r\n        }\r\n      }\r\n      function right() {\r\n        var role = getRole(), parentRole = getParentRole();\r\n        if (parentRole === 'tablist') {\r\n          moveFocus(1, getFocusElements(focusedElement.parentNode));\r\n        } else if (role === 'menuitem' && parentRole === 'menu' && getAriaProp('haspopup')) {\r\n          enter();\r\n        } else {\r\n          moveFocus(1);\r\n        }\r\n      }\r\n      function up() {\r\n        moveFocus(-1);\r\n      }\r\n      function down() {\r\n        var role = getRole(), parentRole = getParentRole();\r\n        if (role === 'menuitem' && parentRole === 'menubar') {\r\n          enter();\r\n        } else if (role === 'button' && getAriaProp('haspopup')) {\r\n          enter({ key: 'down' });\r\n        } else {\r\n          moveFocus(1);\r\n        }\r\n      }\r\n      function tab(e) {\r\n        var parentRole = getParentRole();\r\n        if (parentRole === 'tablist') {\r\n          var elm = getFocusElements(focusedControl.getEl('body'))[0];\r\n          if (elm) {\r\n            elm.focus();\r\n          }\r\n        } else {\r\n          moveFocus(e.shiftKey ? -1 : 1);\r\n        }\r\n      }\r\n      function cancel() {\r\n        focusedControl.fire('cancel');\r\n      }\r\n      function enter(aria) {\r\n        aria = aria || {};\r\n        focusedControl.fire('click', {\r\n          target: focusedElement,\r\n          aria: aria\r\n        });\r\n      }\r\n      root.on('keydown', function (e) {\r\n        function handleNonTabOrEscEvent(e, handler) {\r\n          if (isTextInputElement(focusedElement) || hasTabstopData(focusedElement)) {\r\n            return;\r\n          }\r\n          if (getRole(focusedElement) === 'slider') {\r\n            return;\r\n          }\r\n          if (handler(e) !== false) {\r\n            e.preventDefault();\r\n          }\r\n        }\r\n        if (e.isDefaultPrevented()) {\r\n          return;\r\n        }\r\n        switch (e.keyCode) {\r\n        case 37:\r\n          handleNonTabOrEscEvent(e, left);\r\n          break;\r\n        case 39:\r\n          handleNonTabOrEscEvent(e, right);\r\n          break;\r\n        case 38:\r\n          handleNonTabOrEscEvent(e, up);\r\n          break;\r\n        case 40:\r\n          handleNonTabOrEscEvent(e, down);\r\n          break;\r\n        case 27:\r\n          cancel();\r\n          break;\r\n        case 14:\r\n        case 13:\r\n        case 32:\r\n          handleNonTabOrEscEvent(e, enter);\r\n          break;\r\n        case 9:\r\n          tab(e);\r\n          e.preventDefault();\r\n          break;\r\n        }\r\n      });\r\n      root.on('focusin', function (e) {\r\n        focusedElement = e.target;\r\n        focusedControl = e.control;\r\n      });\r\n      return { focusFirst: focusFirst };\r\n    }\r\n\r\n    var selectorCache = {};\r\n    var Container = Control$1.extend({\r\n      init: function (settings) {\r\n        var self = this;\r\n        self._super(settings);\r\n        settings = self.settings;\r\n        if (settings.fixed) {\r\n          self.state.set('fixed', true);\r\n        }\r\n        self._items = new Collection$2();\r\n        if (self.isRtl()) {\r\n          self.classes.add('rtl');\r\n        }\r\n        self.bodyClasses = new ClassList(function () {\r\n          if (self.state.get('rendered')) {\r\n            self.getEl('body').className = this.toString();\r\n          }\r\n        });\r\n        self.bodyClasses.prefix = self.classPrefix;\r\n        self.classes.add('container');\r\n        self.bodyClasses.add('container-body');\r\n        if (settings.containerCls) {\r\n          self.classes.add(settings.containerCls);\r\n        }\r\n        self._layout = global$4.create((settings.layout || '') + 'layout');\r\n        if (self.settings.items) {\r\n          self.add(self.settings.items);\r\n        } else {\r\n          self.add(self.render());\r\n        }\r\n        self._hasBody = true;\r\n      },\r\n      items: function () {\r\n        return this._items;\r\n      },\r\n      find: function (selector) {\r\n        selector = selectorCache[selector] = selectorCache[selector] || new Selector(selector);\r\n        return selector.find(this);\r\n      },\r\n      add: function (items) {\r\n        var self = this;\r\n        self.items().add(self.create(items)).parent(self);\r\n        return self;\r\n      },\r\n      focus: function (keyboard) {\r\n        var self = this;\r\n        var focusCtrl, keyboardNav, items;\r\n        if (keyboard) {\r\n          keyboardNav = self.keyboardNav || self.parents().eq(-1)[0].keyboardNav;\r\n          if (keyboardNav) {\r\n            keyboardNav.focusFirst(self);\r\n            return;\r\n          }\r\n        }\r\n        items = self.find('*');\r\n        if (self.statusbar) {\r\n          items.add(self.statusbar.items());\r\n        }\r\n        items.each(function (ctrl) {\r\n          if (ctrl.settings.autofocus) {\r\n            focusCtrl = null;\r\n            return false;\r\n          }\r\n          if (ctrl.canFocus) {\r\n            focusCtrl = focusCtrl || ctrl;\r\n          }\r\n        });\r\n        if (focusCtrl) {\r\n          focusCtrl.focus();\r\n        }\r\n        return self;\r\n      },\r\n      replace: function (oldItem, newItem) {\r\n        var ctrlElm;\r\n        var items = this.items();\r\n        var i = items.length;\r\n        while (i--) {\r\n          if (items[i] === oldItem) {\r\n            items[i] = newItem;\r\n            break;\r\n          }\r\n        }\r\n        if (i >= 0) {\r\n          ctrlElm = newItem.getEl();\r\n          if (ctrlElm) {\r\n            ctrlElm.parentNode.removeChild(ctrlElm);\r\n          }\r\n          ctrlElm = oldItem.getEl();\r\n          if (ctrlElm) {\r\n            ctrlElm.parentNode.removeChild(ctrlElm);\r\n          }\r\n        }\r\n        newItem.parent(this);\r\n      },\r\n      create: function (items) {\r\n        var self = this;\r\n        var settings;\r\n        var ctrlItems = [];\r\n        if (!global$2.isArray(items)) {\r\n          items = [items];\r\n        }\r\n        global$2.each(items, function (item) {\r\n          if (item) {\r\n            if (!(item instanceof Control$1)) {\r\n              if (typeof item === 'string') {\r\n                item = { type: item };\r\n              }\r\n              settings = global$2.extend({}, self.settings.defaults, item);\r\n              item.type = settings.type = settings.type || item.type || self.settings.defaultType || (settings.defaults ? settings.defaults.type : null);\r\n              item = global$4.create(settings);\r\n            }\r\n            ctrlItems.push(item);\r\n          }\r\n        });\r\n        return ctrlItems;\r\n      },\r\n      renderNew: function () {\r\n        var self = this;\r\n        self.items().each(function (ctrl, index) {\r\n          var containerElm;\r\n          ctrl.parent(self);\r\n          if (!ctrl.state.get('rendered')) {\r\n            containerElm = self.getEl('body');\r\n            if (containerElm.hasChildNodes() && index <= containerElm.childNodes.length - 1) {\r\n              global$9(containerElm.childNodes[index]).before(ctrl.renderHtml());\r\n            } else {\r\n              global$9(containerElm).append(ctrl.renderHtml());\r\n            }\r\n            ctrl.postRender();\r\n            ReflowQueue.add(ctrl);\r\n          }\r\n        });\r\n        self._layout.applyClasses(self.items().filter(':visible'));\r\n        self._lastRect = null;\r\n        return self;\r\n      },\r\n      append: function (items) {\r\n        return this.add(items).renderNew();\r\n      },\r\n      prepend: function (items) {\r\n        var self = this;\r\n        self.items().set(self.create(items).concat(self.items().toArray()));\r\n        return self.renderNew();\r\n      },\r\n      insert: function (items, index, before) {\r\n        var self = this;\r\n        var curItems, beforeItems, afterItems;\r\n        items = self.create(items);\r\n        curItems = self.items();\r\n        if (!before && index < curItems.length - 1) {\r\n          index += 1;\r\n        }\r\n        if (index >= 0 && index < curItems.length) {\r\n          beforeItems = curItems.slice(0, index).toArray();\r\n          afterItems = curItems.slice(index).toArray();\r\n          curItems.set(beforeItems.concat(items, afterItems));\r\n        }\r\n        return self.renderNew();\r\n      },\r\n      fromJSON: function (data) {\r\n        var self = this;\r\n        for (var name in data) {\r\n          self.find('#' + name).value(data[name]);\r\n        }\r\n        return self;\r\n      },\r\n      toJSON: function () {\r\n        var self = this, data = {};\r\n        self.find('*').each(function (ctrl) {\r\n          var name = ctrl.name(), value = ctrl.value();\r\n          if (name && typeof value !== 'undefined') {\r\n            data[name] = value;\r\n          }\r\n        });\r\n        return data;\r\n      },\r\n      renderHtml: function () {\r\n        var self = this, layout = self._layout, role = this.settings.role;\r\n        self.preRender();\r\n        layout.preRender(self);\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"' + (role ? ' role=\"' + this.settings.role + '\"' : '') + '>' + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        var box;\r\n        self.items().exec('postRender');\r\n        self._super();\r\n        self._layout.postRender(self);\r\n        self.state.set('rendered', true);\r\n        if (self.settings.style) {\r\n          self.$el.css(self.settings.style);\r\n        }\r\n        if (self.settings.border) {\r\n          box = self.borderBox;\r\n          self.$el.css({\r\n            'border-top-width': box.top,\r\n            'border-right-width': box.right,\r\n            'border-bottom-width': box.bottom,\r\n            'border-left-width': box.left\r\n          });\r\n        }\r\n        if (!self.parent()) {\r\n          self.keyboardNav = KeyboardNavigation({ root: self });\r\n        }\r\n        return self;\r\n      },\r\n      initLayoutRect: function () {\r\n        var self = this, layoutRect = self._super();\r\n        self._layout.recalc(self);\r\n        return layoutRect;\r\n      },\r\n      recalc: function () {\r\n        var self = this;\r\n        var rect = self._layoutRect;\r\n        var lastRect = self._lastRect;\r\n        if (!lastRect || lastRect.w !== rect.w || lastRect.h !== rect.h) {\r\n          self._layout.recalc(self);\r\n          rect = self.layoutRect();\r\n          self._lastRect = {\r\n            x: rect.x,\r\n            y: rect.y,\r\n            w: rect.w,\r\n            h: rect.h\r\n          };\r\n          return true;\r\n        }\r\n      },\r\n      reflow: function () {\r\n        var i;\r\n        ReflowQueue.remove(this);\r\n        if (this.visible()) {\r\n          Control$1.repaintControls = [];\r\n          Control$1.repaintControls.map = {};\r\n          this.recalc();\r\n          i = Control$1.repaintControls.length;\r\n          while (i--) {\r\n            Control$1.repaintControls[i].repaint();\r\n          }\r\n          if (this.settings.layout !== 'flow' && this.settings.layout !== 'stack') {\r\n            this.repaint();\r\n          }\r\n          Control$1.repaintControls = [];\r\n        }\r\n        return this;\r\n      }\r\n    });\r\n\r\n    function getDocumentSize(doc) {\r\n      var documentElement, body, scrollWidth, clientWidth;\r\n      var offsetWidth, scrollHeight, clientHeight, offsetHeight;\r\n      var max = Math.max;\r\n      documentElement = doc.documentElement;\r\n      body = doc.body;\r\n      scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\r\n      clientWidth = max(documentElement.clientWidth, body.clientWidth);\r\n      offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\r\n      scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\r\n      clientHeight = max(documentElement.clientHeight, body.clientHeight);\r\n      offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\r\n      return {\r\n        width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\r\n        height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\r\n      };\r\n    }\r\n    function updateWithTouchData(e) {\r\n      var keys, i;\r\n      if (e.changedTouches) {\r\n        keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\r\n        for (i = 0; i < keys.length; i++) {\r\n          e[keys[i]] = e.changedTouches[0][keys[i]];\r\n        }\r\n      }\r\n    }\r\n    function DragHelper (id, settings) {\r\n      var $eventOverlay;\r\n      var doc = settings.document || document;\r\n      var downButton;\r\n      var start, stop$$1, drag, startX, startY;\r\n      settings = settings || {};\r\n      var handleElement = doc.getElementById(settings.handle || id);\r\n      start = function (e) {\r\n        var docSize = getDocumentSize(doc);\r\n        var handleElm, cursor;\r\n        updateWithTouchData(e);\r\n        e.preventDefault();\r\n        downButton = e.button;\r\n        handleElm = handleElement;\r\n        startX = e.screenX;\r\n        startY = e.screenY;\r\n        if (window.getComputedStyle) {\r\n          cursor = window.getComputedStyle(handleElm, null).getPropertyValue('cursor');\r\n        } else {\r\n          cursor = handleElm.runtimeStyle.cursor;\r\n        }\r\n        $eventOverlay = global$9('<div></div>').css({\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          width: docSize.width,\r\n          height: docSize.height,\r\n          zIndex: 2147483647,\r\n          opacity: 0.0001,\r\n          cursor: cursor\r\n        }).appendTo(doc.body);\r\n        global$9(doc).on('mousemove touchmove', drag).on('mouseup touchend', stop$$1);\r\n        settings.start(e);\r\n      };\r\n      drag = function (e) {\r\n        updateWithTouchData(e);\r\n        if (e.button !== downButton) {\r\n          return stop$$1(e);\r\n        }\r\n        e.deltaX = e.screenX - startX;\r\n        e.deltaY = e.screenY - startY;\r\n        e.preventDefault();\r\n        settings.drag(e);\r\n      };\r\n      stop$$1 = function (e) {\r\n        updateWithTouchData(e);\r\n        global$9(doc).off('mousemove touchmove', drag).off('mouseup touchend', stop$$1);\r\n        $eventOverlay.remove();\r\n        if (settings.stop) {\r\n          settings.stop(e);\r\n        }\r\n      };\r\n      this.destroy = function () {\r\n        global$9(handleElement).off();\r\n      };\r\n      global$9(handleElement).on('mousedown touchstart', start);\r\n    }\r\n\r\n    var Scrollable = {\r\n      init: function () {\r\n        var self = this;\r\n        self.on('repaint', self.renderScroll);\r\n      },\r\n      renderScroll: function () {\r\n        var self = this, margin = 2;\r\n        function repaintScroll() {\r\n          var hasScrollH, hasScrollV, bodyElm;\r\n          function repaintAxis(axisName, posName, sizeName, contentSizeName, hasScroll, ax) {\r\n            var containerElm, scrollBarElm, scrollThumbElm;\r\n            var containerSize, scrollSize, ratio, rect;\r\n            var posNameLower, sizeNameLower;\r\n            scrollBarElm = self.getEl('scroll' + axisName);\r\n            if (scrollBarElm) {\r\n              posNameLower = posName.toLowerCase();\r\n              sizeNameLower = sizeName.toLowerCase();\r\n              global$9(self.getEl('absend')).css(posNameLower, self.layoutRect()[contentSizeName] - 1);\r\n              if (!hasScroll) {\r\n                global$9(scrollBarElm).css('display', 'none');\r\n                return;\r\n              }\r\n              global$9(scrollBarElm).css('display', 'block');\r\n              containerElm = self.getEl('body');\r\n              scrollThumbElm = self.getEl('scroll' + axisName + 't');\r\n              containerSize = containerElm['client' + sizeName] - margin * 2;\r\n              containerSize -= hasScrollH && hasScrollV ? scrollBarElm['client' + ax] : 0;\r\n              scrollSize = containerElm['scroll' + sizeName];\r\n              ratio = containerSize / scrollSize;\r\n              rect = {};\r\n              rect[posNameLower] = containerElm['offset' + posName] + margin;\r\n              rect[sizeNameLower] = containerSize;\r\n              global$9(scrollBarElm).css(rect);\r\n              rect = {};\r\n              rect[posNameLower] = containerElm['scroll' + posName] * ratio;\r\n              rect[sizeNameLower] = containerSize * ratio;\r\n              global$9(scrollThumbElm).css(rect);\r\n            }\r\n          }\r\n          bodyElm = self.getEl('body');\r\n          hasScrollH = bodyElm.scrollWidth > bodyElm.clientWidth;\r\n          hasScrollV = bodyElm.scrollHeight > bodyElm.clientHeight;\r\n          repaintAxis('h', 'Left', 'Width', 'contentW', hasScrollH, 'Height');\r\n          repaintAxis('v', 'Top', 'Height', 'contentH', hasScrollV, 'Width');\r\n        }\r\n        function addScroll() {\r\n          function addScrollAxis(axisName, posName, sizeName, deltaPosName, ax) {\r\n            var scrollStart;\r\n            var axisId = self._id + '-scroll' + axisName, prefix = self.classPrefix;\r\n            global$9(self.getEl()).append('<div id=\"' + axisId + '\" class=\"' + prefix + 'scrollbar ' + prefix + 'scrollbar-' + axisName + '\">' + '<div id=\"' + axisId + 't\" class=\"' + prefix + 'scrollbar-thumb\"></div>' + '</div>');\r\n            self.draghelper = new DragHelper(axisId + 't', {\r\n              start: function () {\r\n                scrollStart = self.getEl('body')['scroll' + posName];\r\n                global$9('#' + axisId).addClass(prefix + 'active');\r\n              },\r\n              drag: function (e) {\r\n                var ratio, hasScrollH, hasScrollV, containerSize;\r\n                var layoutRect = self.layoutRect();\r\n                hasScrollH = layoutRect.contentW > layoutRect.innerW;\r\n                hasScrollV = layoutRect.contentH > layoutRect.innerH;\r\n                containerSize = self.getEl('body')['client' + sizeName] - margin * 2;\r\n                containerSize -= hasScrollH && hasScrollV ? self.getEl('scroll' + axisName)['client' + ax] : 0;\r\n                ratio = containerSize / self.getEl('body')['scroll' + sizeName];\r\n                self.getEl('body')['scroll' + posName] = scrollStart + e['delta' + deltaPosName] / ratio;\r\n              },\r\n              stop: function () {\r\n                global$9('#' + axisId).removeClass(prefix + 'active');\r\n              }\r\n            });\r\n          }\r\n          self.classes.add('scroll');\r\n          addScrollAxis('v', 'Top', 'Height', 'Y', 'Width');\r\n          addScrollAxis('h', 'Left', 'Width', 'X', 'Height');\r\n        }\r\n        if (self.settings.autoScroll) {\r\n          if (!self._hasScroll) {\r\n            self._hasScroll = true;\r\n            addScroll();\r\n            self.on('wheel', function (e) {\r\n              var bodyEl = self.getEl('body');\r\n              bodyEl.scrollLeft += (e.deltaX || 0) * 10;\r\n              bodyEl.scrollTop += e.deltaY * 10;\r\n              repaintScroll();\r\n            });\r\n            global$9(self.getEl('body')).on('scroll', repaintScroll);\r\n          }\r\n          repaintScroll();\r\n        }\r\n      }\r\n    };\r\n\r\n    var Panel = Container.extend({\r\n      Defaults: {\r\n        layout: 'fit',\r\n        containerCls: 'panel'\r\n      },\r\n      Mixins: [Scrollable],\r\n      renderHtml: function () {\r\n        var self = this;\r\n        var layout = self._layout;\r\n        var innerHtml = self.settings.html;\r\n        self.preRender();\r\n        layout.preRender(self);\r\n        if (typeof innerHtml === 'undefined') {\r\n          innerHtml = '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + layout.renderHtml(self) + '</div>';\r\n        } else {\r\n          if (typeof innerHtml === 'function') {\r\n            innerHtml = innerHtml.call(self);\r\n          }\r\n          self._hasBody = false;\r\n        }\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\" role=\"group\">' + (self._preBodyHtml || '') + innerHtml + '</div>';\r\n      }\r\n    });\r\n\r\n    var Resizable = {\r\n      resizeToContent: function () {\r\n        this._layoutRect.autoResize = true;\r\n        this._lastRect = null;\r\n        this.reflow();\r\n      },\r\n      resizeTo: function (w, h) {\r\n        if (w <= 1 || h <= 1) {\r\n          var rect = funcs.getWindowSize();\r\n          w = w <= 1 ? w * rect.w : w;\r\n          h = h <= 1 ? h * rect.h : h;\r\n        }\r\n        this._layoutRect.autoResize = false;\r\n        return this.layoutRect({\r\n          minW: w,\r\n          minH: h,\r\n          w: w,\r\n          h: h\r\n        }).reflow();\r\n      },\r\n      resizeBy: function (dw, dh) {\r\n        var self = this, rect = self.layoutRect();\r\n        return self.resizeTo(rect.w + dw, rect.h + dh);\r\n      }\r\n    };\r\n\r\n    var documentClickHandler, documentScrollHandler, windowResizeHandler;\r\n    var visiblePanels = [];\r\n    var zOrder = [];\r\n    var hasModal;\r\n    function isChildOf(ctrl, parent$$1) {\r\n      while (ctrl) {\r\n        if (ctrl === parent$$1) {\r\n          return true;\r\n        }\r\n        ctrl = ctrl.parent();\r\n      }\r\n    }\r\n    function skipOrHidePanels(e) {\r\n      var i = visiblePanels.length;\r\n      while (i--) {\r\n        var panel = visiblePanels[i], clickCtrl = panel.getParentCtrl(e.target);\r\n        if (panel.settings.autohide) {\r\n          if (clickCtrl) {\r\n            if (isChildOf(clickCtrl, panel) || panel.parent() === clickCtrl) {\r\n              continue;\r\n            }\r\n          }\r\n          e = panel.fire('autohide', { target: e.target });\r\n          if (!e.isDefaultPrevented()) {\r\n            panel.hide();\r\n          }\r\n        }\r\n      }\r\n    }\r\n    function bindDocumentClickHandler() {\r\n      if (!documentClickHandler) {\r\n        documentClickHandler = function (e) {\r\n          if (e.button === 2) {\r\n            return;\r\n          }\r\n          skipOrHidePanels(e);\r\n        };\r\n        global$9(document).on('click touchstart', documentClickHandler);\r\n      }\r\n    }\r\n    function bindDocumentScrollHandler() {\r\n      if (!documentScrollHandler) {\r\n        documentScrollHandler = function () {\r\n          var i;\r\n          i = visiblePanels.length;\r\n          while (i--) {\r\n            repositionPanel(visiblePanels[i]);\r\n          }\r\n        };\r\n        global$9(window).on('scroll', documentScrollHandler);\r\n      }\r\n    }\r\n    function bindWindowResizeHandler() {\r\n      if (!windowResizeHandler) {\r\n        var docElm_1 = document.documentElement;\r\n        var clientWidth_1 = docElm_1.clientWidth, clientHeight_1 = docElm_1.clientHeight;\r\n        windowResizeHandler = function () {\r\n          if (!document.all || clientWidth_1 !== docElm_1.clientWidth || clientHeight_1 !== docElm_1.clientHeight) {\r\n            clientWidth_1 = docElm_1.clientWidth;\r\n            clientHeight_1 = docElm_1.clientHeight;\r\n            FloatPanel.hideAll();\r\n          }\r\n        };\r\n        global$9(window).on('resize', windowResizeHandler);\r\n      }\r\n    }\r\n    function repositionPanel(panel) {\r\n      var scrollY$$1 = funcs.getViewPort().y;\r\n      function toggleFixedChildPanels(fixed, deltaY) {\r\n        var parent$$1;\r\n        for (var i = 0; i < visiblePanels.length; i++) {\r\n          if (visiblePanels[i] !== panel) {\r\n            parent$$1 = visiblePanels[i].parent();\r\n            while (parent$$1 && (parent$$1 = parent$$1.parent())) {\r\n              if (parent$$1 === panel) {\r\n                visiblePanels[i].fixed(fixed).moveBy(0, deltaY).repaint();\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (panel.settings.autofix) {\r\n        if (!panel.state.get('fixed')) {\r\n          panel._autoFixY = panel.layoutRect().y;\r\n          if (panel._autoFixY < scrollY$$1) {\r\n            panel.fixed(true).layoutRect({ y: 0 }).repaint();\r\n            toggleFixedChildPanels(true, scrollY$$1 - panel._autoFixY);\r\n          }\r\n        } else {\r\n          if (panel._autoFixY > scrollY$$1) {\r\n            panel.fixed(false).layoutRect({ y: panel._autoFixY }).repaint();\r\n            toggleFixedChildPanels(false, panel._autoFixY - scrollY$$1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    function addRemove(add, ctrl) {\r\n      var i, zIndex = FloatPanel.zIndex || 65535, topModal;\r\n      if (add) {\r\n        zOrder.push(ctrl);\r\n      } else {\r\n        i = zOrder.length;\r\n        while (i--) {\r\n          if (zOrder[i] === ctrl) {\r\n            zOrder.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n      if (zOrder.length) {\r\n        for (i = 0; i < zOrder.length; i++) {\r\n          if (zOrder[i].modal) {\r\n            zIndex++;\r\n            topModal = zOrder[i];\r\n          }\r\n          zOrder[i].getEl().style.zIndex = zIndex;\r\n          zOrder[i].zIndex = zIndex;\r\n          zIndex++;\r\n        }\r\n      }\r\n      var modalBlockEl = global$9('#' + ctrl.classPrefix + 'modal-block', ctrl.getContainerElm())[0];\r\n      if (topModal) {\r\n        global$9(modalBlockEl).css('z-index', topModal.zIndex - 1);\r\n      } else if (modalBlockEl) {\r\n        modalBlockEl.parentNode.removeChild(modalBlockEl);\r\n        hasModal = false;\r\n      }\r\n      FloatPanel.currentZIndex = zIndex;\r\n    }\r\n    var FloatPanel = Panel.extend({\r\n      Mixins: [\r\n        Movable,\r\n        Resizable\r\n      ],\r\n      init: function (settings) {\r\n        var self$$1 = this;\r\n        self$$1._super(settings);\r\n        self$$1._eventsRoot = self$$1;\r\n        self$$1.classes.add('floatpanel');\r\n        if (settings.autohide) {\r\n          bindDocumentClickHandler();\r\n          bindWindowResizeHandler();\r\n          visiblePanels.push(self$$1);\r\n        }\r\n        if (settings.autofix) {\r\n          bindDocumentScrollHandler();\r\n          self$$1.on('move', function () {\r\n            repositionPanel(this);\r\n          });\r\n        }\r\n        self$$1.on('postrender show', function (e) {\r\n          if (e.control === self$$1) {\r\n            var $modalBlockEl_1;\r\n            var prefix_1 = self$$1.classPrefix;\r\n            if (self$$1.modal && !hasModal) {\r\n              $modalBlockEl_1 = global$9('#' + prefix_1 + 'modal-block', self$$1.getContainerElm());\r\n              if (!$modalBlockEl_1[0]) {\r\n                $modalBlockEl_1 = global$9('<div id=\"' + prefix_1 + 'modal-block\" class=\"' + prefix_1 + 'reset ' + prefix_1 + 'fade\"></div>').appendTo(self$$1.getContainerElm());\r\n              }\r\n              global$7.setTimeout(function () {\r\n                $modalBlockEl_1.addClass(prefix_1 + 'in');\r\n                global$9(self$$1.getEl()).addClass(prefix_1 + 'in');\r\n              });\r\n              hasModal = true;\r\n            }\r\n            addRemove(true, self$$1);\r\n          }\r\n        });\r\n        self$$1.on('show', function () {\r\n          self$$1.parents().each(function (ctrl) {\r\n            if (ctrl.state.get('fixed')) {\r\n              self$$1.fixed(true);\r\n              return false;\r\n            }\r\n          });\r\n        });\r\n        if (settings.popover) {\r\n          self$$1._preBodyHtml = '<div class=\"' + self$$1.classPrefix + 'arrow\"></div>';\r\n          self$$1.classes.add('popover').add('bottom').add(self$$1.isRtl() ? 'end' : 'start');\r\n        }\r\n        self$$1.aria('label', settings.ariaLabel);\r\n        self$$1.aria('labelledby', self$$1._id);\r\n        self$$1.aria('describedby', self$$1.describedBy || self$$1._id + '-none');\r\n      },\r\n      fixed: function (state) {\r\n        var self$$1 = this;\r\n        if (self$$1.state.get('fixed') !== state) {\r\n          if (self$$1.state.get('rendered')) {\r\n            var viewport = funcs.getViewPort();\r\n            if (state) {\r\n              self$$1.layoutRect().y -= viewport.y;\r\n            } else {\r\n              self$$1.layoutRect().y += viewport.y;\r\n            }\r\n          }\r\n          self$$1.classes.toggle('fixed', state);\r\n          self$$1.state.set('fixed', state);\r\n        }\r\n        return self$$1;\r\n      },\r\n      show: function () {\r\n        var self$$1 = this;\r\n        var i;\r\n        var state = self$$1._super();\r\n        i = visiblePanels.length;\r\n        while (i--) {\r\n          if (visiblePanels[i] === self$$1) {\r\n            break;\r\n          }\r\n        }\r\n        if (i === -1) {\r\n          visiblePanels.push(self$$1);\r\n        }\r\n        return state;\r\n      },\r\n      hide: function () {\r\n        removeVisiblePanel(this);\r\n        addRemove(false, this);\r\n        return this._super();\r\n      },\r\n      hideAll: function () {\r\n        FloatPanel.hideAll();\r\n      },\r\n      close: function () {\r\n        var self$$1 = this;\r\n        if (!self$$1.fire('close').isDefaultPrevented()) {\r\n          self$$1.remove();\r\n          addRemove(false, self$$1);\r\n        }\r\n        return self$$1;\r\n      },\r\n      remove: function () {\r\n        removeVisiblePanel(this);\r\n        this._super();\r\n      },\r\n      postRender: function () {\r\n        var self$$1 = this;\r\n        if (self$$1.settings.bodyRole) {\r\n          this.getEl('body').setAttribute('role', self$$1.settings.bodyRole);\r\n        }\r\n        return self$$1._super();\r\n      }\r\n    });\r\n    FloatPanel.hideAll = function () {\r\n      var i = visiblePanels.length;\r\n      while (i--) {\r\n        var panel = visiblePanels[i];\r\n        if (panel && panel.settings.autohide) {\r\n          panel.hide();\r\n          visiblePanels.splice(i, 1);\r\n        }\r\n      }\r\n    };\r\n    function removeVisiblePanel(panel) {\r\n      var i;\r\n      i = visiblePanels.length;\r\n      while (i--) {\r\n        if (visiblePanels[i] === panel) {\r\n          visiblePanels.splice(i, 1);\r\n        }\r\n      }\r\n      i = zOrder.length;\r\n      while (i--) {\r\n        if (zOrder[i] === panel) {\r\n          zOrder.splice(i, 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    var isFixed$1 = function (inlineToolbarContainer, editor) {\r\n      return !!(inlineToolbarContainer && !editor.settings.ui_container);\r\n    };\r\n    var render$1 = function (editor, theme, args) {\r\n      var panel, inlineToolbarContainer;\r\n      var DOM = global$3.DOM;\r\n      var fixedToolbarContainer = getFixedToolbarContainer(editor);\r\n      if (fixedToolbarContainer) {\r\n        inlineToolbarContainer = DOM.select(fixedToolbarContainer)[0];\r\n      }\r\n      var reposition = function () {\r\n        if (panel && panel.moveRel && panel.visible() && !panel._fixed) {\r\n          var scrollContainer = editor.selection.getScrollContainer(), body = editor.getBody();\r\n          var deltaX = 0, deltaY = 0;\r\n          if (scrollContainer) {\r\n            var bodyPos = DOM.getPos(body), scrollContainerPos = DOM.getPos(scrollContainer);\r\n            deltaX = Math.max(0, scrollContainerPos.x - bodyPos.x);\r\n            deltaY = Math.max(0, scrollContainerPos.y - bodyPos.y);\r\n          }\r\n          panel.fixed(false).moveRel(body, editor.rtl ? [\r\n            'tr-br',\r\n            'br-tr'\r\n          ] : [\r\n            'tl-bl',\r\n            'bl-tl',\r\n            'tr-br'\r\n          ]).moveBy(deltaX, deltaY);\r\n        }\r\n      };\r\n      var show = function () {\r\n        if (panel) {\r\n          panel.show();\r\n          reposition();\r\n          DOM.addClass(editor.getBody(), 'mce-edit-focus');\r\n        }\r\n      };\r\n      var hide = function () {\r\n        if (panel) {\r\n          panel.hide();\r\n          FloatPanel.hideAll();\r\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\r\n        }\r\n      };\r\n      var render = function () {\r\n        if (panel) {\r\n          if (!panel.visible()) {\r\n            show();\r\n          }\r\n          return;\r\n        }\r\n        panel = theme.panel = global$4.create({\r\n          type: inlineToolbarContainer ? 'panel' : 'floatpanel',\r\n          role: 'application',\r\n          classes: 'tinymce tinymce-inline',\r\n          layout: 'flex',\r\n          direction: 'column',\r\n          align: 'stretch',\r\n          autohide: false,\r\n          autofix: true,\r\n          fixed: isFixed$1(inlineToolbarContainer, editor),\r\n          border: 1,\r\n          items: [\r\n            hasMenubar(editor) === false ? null : {\r\n              type: 'menubar',\r\n              border: '0 0 1 0',\r\n              items: Menubar.createMenuButtons(editor)\r\n            },\r\n            Toolbar.createToolbars(editor, getToolbarSize(editor))\r\n          ]\r\n        });\r\n        UiContainer.setUiContainer(editor, panel);\r\n        Events.fireBeforeRenderUI(editor);\r\n        if (inlineToolbarContainer) {\r\n          panel.renderTo(inlineToolbarContainer).reflow();\r\n        } else {\r\n          panel.renderTo().reflow();\r\n        }\r\n        A11y.addKeys(editor, panel);\r\n        show();\r\n        ContextToolbars.addContextualToolbars(editor);\r\n        editor.on('nodeChange', reposition);\r\n        editor.on('ResizeWindow', reposition);\r\n        editor.on('activate', show);\r\n        editor.on('deactivate', hide);\r\n        editor.nodeChanged();\r\n      };\r\n      editor.settings.content_editable = true;\r\n      editor.on('focus', function () {\r\n        if (isSkinDisabled(editor) === false && args.skinUiCss) {\r\n          DOM.styleSheetLoader.load(args.skinUiCss, render, render);\r\n        } else {\r\n          render();\r\n        }\r\n      });\r\n      editor.on('blur hide', hide);\r\n      editor.on('remove', function () {\r\n        if (panel) {\r\n          panel.remove();\r\n          panel = null;\r\n        }\r\n      });\r\n      if (isSkinDisabled(editor) === false && args.skinUiCss) {\r\n        DOM.styleSheetLoader.load(args.skinUiCss, SkinLoaded.fireSkinLoaded(editor));\r\n      } else {\r\n        SkinLoaded.fireSkinLoaded(editor)();\r\n      }\r\n      return {};\r\n    };\r\n    var Inline = { render: render$1 };\r\n\r\n    function Throbber (elm, inline) {\r\n      var self = this;\r\n      var state;\r\n      var classPrefix = Control$1.classPrefix;\r\n      var timer;\r\n      self.show = function (time, callback) {\r\n        function render() {\r\n          if (state) {\r\n            global$9(elm).append('<div class=\"' + classPrefix + 'throbber' + (inline ? ' ' + classPrefix + 'throbber-inline' : '') + '\"></div>');\r\n            if (callback) {\r\n              callback();\r\n            }\r\n          }\r\n        }\r\n        self.hide();\r\n        state = true;\r\n        if (time) {\r\n          timer = global$7.setTimeout(render, time);\r\n        } else {\r\n          render();\r\n        }\r\n        return self;\r\n      };\r\n      self.hide = function () {\r\n        var child = elm.lastChild;\r\n        global$7.clearTimeout(timer);\r\n        if (child && child.className.indexOf('throbber') !== -1) {\r\n          child.parentNode.removeChild(child);\r\n        }\r\n        state = false;\r\n        return self;\r\n      };\r\n    }\r\n\r\n    var setup = function (editor, theme) {\r\n      var throbber;\r\n      editor.on('ProgressState', function (e) {\r\n        throbber = throbber || new Throbber(theme.panel.getEl('body'));\r\n        if (e.state) {\r\n          throbber.show(e.time);\r\n        } else {\r\n          throbber.hide();\r\n        }\r\n      });\r\n    };\r\n    var ProgressState = { setup: setup };\r\n\r\n    var renderUI = function (editor, theme, args) {\r\n      var skinUrl = getSkinUrl(editor);\r\n      if (skinUrl) {\r\n        args.skinUiCss = skinUrl + '/skin.min.css';\r\n        editor.contentCSS.push(skinUrl + '/content' + (editor.inline ? '.inline' : '') + '.min.css');\r\n      }\r\n      ProgressState.setup(editor, theme);\r\n      return isInline(editor) ? Inline.render(editor, theme, args) : Iframe.render(editor, theme, args);\r\n    };\r\n    var Render = { renderUI: renderUI };\r\n\r\n    var Tooltip = Control$1.extend({\r\n      Mixins: [Movable],\r\n      Defaults: { classes: 'widget tooltip tooltip-n' },\r\n      renderHtml: function () {\r\n        var self = this, prefix = self.classPrefix;\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" role=\"presentation\">' + '<div class=\"' + prefix + 'tooltip-arrow\"></div>' + '<div class=\"' + prefix + 'tooltip-inner\">' + self.encode(self.state.get('text')) + '</div>' + '</div>';\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        self.state.on('change:text', function (e) {\r\n          self.getEl().lastChild.innerHTML = self.encode(e.value);\r\n        });\r\n        return self._super();\r\n      },\r\n      repaint: function () {\r\n        var self = this;\r\n        var style, rect;\r\n        style = self.getEl().style;\r\n        rect = self._layoutRect;\r\n        style.left = rect.x + 'px';\r\n        style.top = rect.y + 'px';\r\n        style.zIndex = 65535 + 65535;\r\n      }\r\n    });\r\n\r\n    var Widget = Control$1.extend({\r\n      init: function (settings) {\r\n        var self = this;\r\n        self._super(settings);\r\n        settings = self.settings;\r\n        self.canFocus = true;\r\n        if (settings.tooltip && Widget.tooltips !== false) {\r\n          self.on('mouseenter', function (e) {\r\n            var tooltip = self.tooltip().moveTo(-65535);\r\n            if (e.control === self) {\r\n              var rel = tooltip.text(settings.tooltip).show().testMoveRel(self.getEl(), [\r\n                'bc-tc',\r\n                'bc-tl',\r\n                'bc-tr'\r\n              ]);\r\n              tooltip.classes.toggle('tooltip-n', rel === 'bc-tc');\r\n              tooltip.classes.toggle('tooltip-nw', rel === 'bc-tl');\r\n              tooltip.classes.toggle('tooltip-ne', rel === 'bc-tr');\r\n              tooltip.moveRel(self.getEl(), rel);\r\n            } else {\r\n              tooltip.hide();\r\n            }\r\n          });\r\n          self.on('mouseleave mousedown click', function () {\r\n            self.tooltip().remove();\r\n            self._tooltip = null;\r\n          });\r\n        }\r\n        self.aria('label', settings.ariaLabel || settings.tooltip);\r\n      },\r\n      tooltip: function () {\r\n        if (!this._tooltip) {\r\n          this._tooltip = new Tooltip({ type: 'tooltip' });\r\n          UiContainer.inheritUiContainer(this, this._tooltip);\r\n          this._tooltip.renderTo();\r\n        }\r\n        return this._tooltip;\r\n      },\r\n      postRender: function () {\r\n        var self = this, settings = self.settings;\r\n        self._super();\r\n        if (!self.parent() && (settings.width || settings.height)) {\r\n          self.initLayoutRect();\r\n          self.repaint();\r\n        }\r\n        if (settings.autofocus) {\r\n          self.focus();\r\n        }\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        function disable(state) {\r\n          self.aria('disabled', state);\r\n          self.classes.toggle('disabled', state);\r\n        }\r\n        function active(state) {\r\n          self.aria('pressed', state);\r\n          self.classes.toggle('active', state);\r\n        }\r\n        self.state.on('change:disabled', function (e) {\r\n          disable(e.value);\r\n        });\r\n        self.state.on('change:active', function (e) {\r\n          active(e.value);\r\n        });\r\n        if (self.state.get('disabled')) {\r\n          disable(true);\r\n        }\r\n        if (self.state.get('active')) {\r\n          active(true);\r\n        }\r\n        return self._super();\r\n      },\r\n      remove: function () {\r\n        this._super();\r\n        if (this._tooltip) {\r\n          this._tooltip.remove();\r\n          this._tooltip = null;\r\n        }\r\n      }\r\n    });\r\n\r\n    var Progress = Widget.extend({\r\n      Defaults: { value: 0 },\r\n      init: function (settings) {\r\n        var self = this;\r\n        self._super(settings);\r\n        self.classes.add('progress');\r\n        if (!self.settings.filter) {\r\n          self.settings.filter = function (value) {\r\n            return Math.round(value);\r\n          };\r\n        }\r\n      },\r\n      renderHtml: function () {\r\n        var self = this, id = self._id, prefix = this.classPrefix;\r\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div class=\"' + prefix + 'bar-container\">' + '<div class=\"' + prefix + 'bar\"></div>' + '</div>' + '<div class=\"' + prefix + 'text\">0%</div>' + '</div>';\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        self._super();\r\n        self.value(self.settings.value);\r\n        return self;\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        function setValue(value) {\r\n          value = self.settings.filter(value);\r\n          self.getEl().lastChild.innerHTML = value + '%';\r\n          self.getEl().firstChild.firstChild.style.width = value + '%';\r\n        }\r\n        self.state.on('change:value', function (e) {\r\n          setValue(e.value);\r\n        });\r\n        setValue(self.state.get('value'));\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    var updateLiveRegion = function (ctx, text) {\r\n      ctx.getEl().lastChild.textContent = text + (ctx.progressBar ? ' ' + ctx.progressBar.value() + '%' : '');\r\n    };\r\n    var Notification = Control$1.extend({\r\n      Mixins: [Movable],\r\n      Defaults: { classes: 'widget notification' },\r\n      init: function (settings) {\r\n        var self = this;\r\n        self._super(settings);\r\n        self.maxWidth = settings.maxWidth;\r\n        if (settings.text) {\r\n          self.text(settings.text);\r\n        }\r\n        if (settings.icon) {\r\n          self.icon = settings.icon;\r\n        }\r\n        if (settings.color) {\r\n          self.color = settings.color;\r\n        }\r\n        if (settings.type) {\r\n          self.classes.add('notification-' + settings.type);\r\n        }\r\n        if (settings.timeout && (settings.timeout < 0 || settings.timeout > 0) && !settings.closeButton) {\r\n          self.closeButton = false;\r\n        } else {\r\n          self.classes.add('has-close');\r\n          self.closeButton = true;\r\n        }\r\n        if (settings.progressBar) {\r\n          self.progressBar = new Progress();\r\n        }\r\n        self.on('click', function (e) {\r\n          if (e.target.className.indexOf(self.classPrefix + 'close') !== -1) {\r\n            self.close();\r\n          }\r\n        });\r\n      },\r\n      renderHtml: function () {\r\n        var self = this;\r\n        var prefix = self.classPrefix;\r\n        var icon = '', closeButton = '', progressBar = '', notificationStyle = '';\r\n        if (self.icon) {\r\n          icon = '<i class=\"' + prefix + 'ico' + ' ' + prefix + 'i-' + self.icon + '\"></i>';\r\n        }\r\n        notificationStyle = ' style=\"max-width: ' + self.maxWidth + 'px;' + (self.color ? 'background-color: ' + self.color + ';\"' : '\"');\r\n        if (self.closeButton) {\r\n          closeButton = '<button type=\"button\" class=\"' + prefix + 'close\" aria-hidden=\"true\">\\xD7</button>';\r\n        }\r\n        if (self.progressBar) {\r\n          progressBar = self.progressBar.renderHtml();\r\n        }\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"' + notificationStyle + ' role=\"presentation\">' + icon + '<div class=\"' + prefix + 'notification-inner\">' + self.state.get('text') + '</div>' + progressBar + closeButton + '<div style=\"clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;\"' + ' aria-live=\"assertive\" aria-relevant=\"additions\" aria-atomic=\"true\"></div>' + '</div>';\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        global$7.setTimeout(function () {\r\n          self.$el.addClass(self.classPrefix + 'in');\r\n          updateLiveRegion(self, self.state.get('text'));\r\n        }, 100);\r\n        return self._super();\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        self.state.on('change:text', function (e) {\r\n          self.getEl().firstChild.innerHTML = e.value;\r\n          updateLiveRegion(self, e.value);\r\n        });\r\n        if (self.progressBar) {\r\n          self.progressBar.bindStates();\r\n          self.progressBar.state.on('change:value', function (e) {\r\n            updateLiveRegion(self, self.state.get('text'));\r\n          });\r\n        }\r\n        return self._super();\r\n      },\r\n      close: function () {\r\n        var self = this;\r\n        if (!self.fire('close').isDefaultPrevented()) {\r\n          self.remove();\r\n        }\r\n        return self;\r\n      },\r\n      repaint: function () {\r\n        var self = this;\r\n        var style, rect;\r\n        style = self.getEl().style;\r\n        rect = self._layoutRect;\r\n        style.left = rect.x + 'px';\r\n        style.top = rect.y + 'px';\r\n        style.zIndex = 65535 - 1;\r\n      }\r\n    });\r\n\r\n    function NotificationManagerImpl (editor) {\r\n      var getEditorContainer = function (editor) {\r\n        return editor.inline ? editor.getElement() : editor.getContentAreaContainer();\r\n      };\r\n      var getContainerWidth = function () {\r\n        var container = getEditorContainer(editor);\r\n        return funcs.getSize(container).width;\r\n      };\r\n      var prePositionNotifications = function (notifications) {\r\n        each(notifications, function (notification) {\r\n          notification.moveTo(0, 0);\r\n        });\r\n      };\r\n      var positionNotifications = function (notifications) {\r\n        if (notifications.length > 0) {\r\n          var firstItem = notifications.slice(0, 1)[0];\r\n          var container = getEditorContainer(editor);\r\n          firstItem.moveRel(container, 'tc-tc');\r\n          each(notifications, function (notification, index) {\r\n            if (index > 0) {\r\n              notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\r\n            }\r\n          });\r\n        }\r\n      };\r\n      var reposition = function (notifications) {\r\n        prePositionNotifications(notifications);\r\n        positionNotifications(notifications);\r\n      };\r\n      var open = function (args, closeCallback) {\r\n        var extendedArgs = global$2.extend(args, { maxWidth: getContainerWidth() });\r\n        var notif = new Notification(extendedArgs);\r\n        notif.args = extendedArgs;\r\n        if (extendedArgs.timeout > 0) {\r\n          notif.timer = setTimeout(function () {\r\n            notif.close();\r\n            closeCallback();\r\n          }, extendedArgs.timeout);\r\n        }\r\n        notif.on('close', function () {\r\n          closeCallback();\r\n        });\r\n        notif.renderTo();\r\n        return notif;\r\n      };\r\n      var close = function (notification) {\r\n        notification.close();\r\n      };\r\n      var getArgs = function (notification) {\r\n        return notification.args;\r\n      };\r\n      return {\r\n        open: open,\r\n        close: close,\r\n        reposition: reposition,\r\n        getArgs: getArgs\r\n      };\r\n    }\r\n\r\n    var windows = [];\r\n    var oldMetaValue = '';\r\n    function toggleFullScreenState(state) {\r\n      var noScaleMetaValue = 'width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0';\r\n      var viewport = global$9('meta[name=viewport]')[0], contentValue;\r\n      if (global$8.overrideViewPort === false) {\r\n        return;\r\n      }\r\n      if (!viewport) {\r\n        viewport = document.createElement('meta');\r\n        viewport.setAttribute('name', 'viewport');\r\n        document.getElementsByTagName('head')[0].appendChild(viewport);\r\n      }\r\n      contentValue = viewport.getAttribute('content');\r\n      if (contentValue && typeof oldMetaValue !== 'undefined') {\r\n        oldMetaValue = contentValue;\r\n      }\r\n      viewport.setAttribute('content', state ? noScaleMetaValue : oldMetaValue);\r\n    }\r\n    function toggleBodyFullScreenClasses(classPrefix, state) {\r\n      if (checkFullscreenWindows() && state === false) {\r\n        global$9([\r\n          document.documentElement,\r\n          document.body\r\n        ]).removeClass(classPrefix + 'fullscreen');\r\n      }\r\n    }\r\n    function checkFullscreenWindows() {\r\n      for (var i = 0; i < windows.length; i++) {\r\n        if (windows[i]._fullscreen) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    function handleWindowResize() {\r\n      if (!global$8.desktop) {\r\n        var lastSize_1 = {\r\n          w: window.innerWidth,\r\n          h: window.innerHeight\r\n        };\r\n        global$7.setInterval(function () {\r\n          var w = window.innerWidth, h = window.innerHeight;\r\n          if (lastSize_1.w !== w || lastSize_1.h !== h) {\r\n            lastSize_1 = {\r\n              w: w,\r\n              h: h\r\n            };\r\n            global$9(window).trigger('resize');\r\n          }\r\n        }, 100);\r\n      }\r\n      function reposition() {\r\n        var i;\r\n        var rect = funcs.getWindowSize();\r\n        var layoutRect;\r\n        for (i = 0; i < windows.length; i++) {\r\n          layoutRect = windows[i].layoutRect();\r\n          windows[i].moveTo(windows[i].settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2), windows[i].settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2));\r\n        }\r\n      }\r\n      global$9(window).on('resize', reposition);\r\n    }\r\n    var Window$$1 = FloatPanel.extend({\r\n      modal: true,\r\n      Defaults: {\r\n        border: 1,\r\n        layout: 'flex',\r\n        containerCls: 'panel',\r\n        role: 'dialog',\r\n        callbacks: {\r\n          submit: function () {\r\n            this.fire('submit', { data: this.toJSON() });\r\n          },\r\n          close: function () {\r\n            this.close();\r\n          }\r\n        }\r\n      },\r\n      init: function (settings) {\r\n        var self$$1 = this;\r\n        self$$1._super(settings);\r\n        if (self$$1.isRtl()) {\r\n          self$$1.classes.add('rtl');\r\n        }\r\n        self$$1.classes.add('window');\r\n        self$$1.bodyClasses.add('window-body');\r\n        self$$1.state.set('fixed', true);\r\n        if (settings.buttons) {\r\n          self$$1.statusbar = new Panel({\r\n            layout: 'flex',\r\n            border: '1 0 0 0',\r\n            spacing: 3,\r\n            padding: 10,\r\n            align: 'center',\r\n            pack: self$$1.isRtl() ? 'start' : 'end',\r\n            defaults: { type: 'button' },\r\n            items: settings.buttons\r\n          });\r\n          self$$1.statusbar.classes.add('foot');\r\n          self$$1.statusbar.parent(self$$1);\r\n        }\r\n        self$$1.on('click', function (e) {\r\n          var closeClass = self$$1.classPrefix + 'close';\r\n          if (funcs.hasClass(e.target, closeClass) || funcs.hasClass(e.target.parentNode, closeClass)) {\r\n            self$$1.close();\r\n          }\r\n        });\r\n        self$$1.on('cancel', function () {\r\n          self$$1.close();\r\n        });\r\n        self$$1.on('move', function (e) {\r\n          if (e.control === self$$1) {\r\n            FloatPanel.hideAll();\r\n          }\r\n        });\r\n        self$$1.aria('describedby', self$$1.describedBy || self$$1._id + '-none');\r\n        self$$1.aria('label', settings.title);\r\n        self$$1._fullscreen = false;\r\n      },\r\n      recalc: function () {\r\n        var self$$1 = this;\r\n        var statusbar$$1 = self$$1.statusbar;\r\n        var layoutRect, width, x, needsRecalc;\r\n        if (self$$1._fullscreen) {\r\n          self$$1.layoutRect(funcs.getWindowSize());\r\n          self$$1.layoutRect().contentH = self$$1.layoutRect().innerH;\r\n        }\r\n        self$$1._super();\r\n        layoutRect = self$$1.layoutRect();\r\n        if (self$$1.settings.title && !self$$1._fullscreen) {\r\n          width = layoutRect.headerW;\r\n          if (width > layoutRect.w) {\r\n            x = layoutRect.x - Math.max(0, width / 2);\r\n            self$$1.layoutRect({\r\n              w: width,\r\n              x: x\r\n            });\r\n            needsRecalc = true;\r\n          }\r\n        }\r\n        if (statusbar$$1) {\r\n          statusbar$$1.layoutRect({ w: self$$1.layoutRect().innerW }).recalc();\r\n          width = statusbar$$1.layoutRect().minW + layoutRect.deltaW;\r\n          if (width > layoutRect.w) {\r\n            x = layoutRect.x - Math.max(0, width - layoutRect.w);\r\n            self$$1.layoutRect({\r\n              w: width,\r\n              x: x\r\n            });\r\n            needsRecalc = true;\r\n          }\r\n        }\r\n        if (needsRecalc) {\r\n          self$$1.recalc();\r\n        }\r\n      },\r\n      initLayoutRect: function () {\r\n        var self$$1 = this;\r\n        var layoutRect = self$$1._super();\r\n        var deltaH = 0, headEl;\r\n        if (self$$1.settings.title && !self$$1._fullscreen) {\r\n          headEl = self$$1.getEl('head');\r\n          var size = funcs.getSize(headEl);\r\n          layoutRect.headerW = size.width;\r\n          layoutRect.headerH = size.height;\r\n          deltaH += layoutRect.headerH;\r\n        }\r\n        if (self$$1.statusbar) {\r\n          deltaH += self$$1.statusbar.layoutRect().h;\r\n        }\r\n        layoutRect.deltaH += deltaH;\r\n        layoutRect.minH += deltaH;\r\n        layoutRect.h += deltaH;\r\n        var rect = funcs.getWindowSize();\r\n        layoutRect.x = self$$1.settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2);\r\n        layoutRect.y = self$$1.settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2);\r\n        return layoutRect;\r\n      },\r\n      renderHtml: function () {\r\n        var self$$1 = this, layout = self$$1._layout, id = self$$1._id, prefix = self$$1.classPrefix;\r\n        var settings = self$$1.settings;\r\n        var headerHtml = '', footerHtml = '', html = settings.html;\r\n        self$$1.preRender();\r\n        layout.preRender(self$$1);\r\n        if (settings.title) {\r\n          headerHtml = '<div id=\"' + id + '-head\" class=\"' + prefix + 'window-head\">' + '<div id=\"' + id + '-title\" class=\"' + prefix + 'title\">' + self$$1.encode(settings.title) + '</div>' + '<div id=\"' + id + '-dragh\" class=\"' + prefix + 'dragh\"></div>' + '<button type=\"button\" class=\"' + prefix + 'close\" aria-hidden=\"true\">' + '<i class=\"mce-ico mce-i-remove\"></i>' + '</button>' + '</div>';\r\n        }\r\n        if (settings.url) {\r\n          html = '<iframe src=\"' + settings.url + '\" tabindex=\"-1\"></iframe>';\r\n        }\r\n        if (typeof html === 'undefined') {\r\n          html = layout.renderHtml(self$$1);\r\n        }\r\n        if (self$$1.statusbar) {\r\n          footerHtml = self$$1.statusbar.renderHtml();\r\n        }\r\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" hidefocus=\"1\">' + '<div class=\"' + self$$1.classPrefix + 'reset\" role=\"application\">' + headerHtml + '<div id=\"' + id + '-body\" class=\"' + self$$1.bodyClasses + '\">' + html + '</div>' + footerHtml + '</div>' + '</div>';\r\n      },\r\n      fullscreen: function (state) {\r\n        var self$$1 = this;\r\n        var documentElement = document.documentElement;\r\n        var slowRendering;\r\n        var prefix = self$$1.classPrefix;\r\n        var layoutRect;\r\n        if (state !== self$$1._fullscreen) {\r\n          global$9(window).on('resize', function () {\r\n            var time;\r\n            if (self$$1._fullscreen) {\r\n              if (!slowRendering) {\r\n                time = new Date().getTime();\r\n                var rect = funcs.getWindowSize();\r\n                self$$1.moveTo(0, 0).resizeTo(rect.w, rect.h);\r\n                if (new Date().getTime() - time > 50) {\r\n                  slowRendering = true;\r\n                }\r\n              } else {\r\n                if (!self$$1._timer) {\r\n                  self$$1._timer = global$7.setTimeout(function () {\r\n                    var rect = funcs.getWindowSize();\r\n                    self$$1.moveTo(0, 0).resizeTo(rect.w, rect.h);\r\n                    self$$1._timer = 0;\r\n                  }, 50);\r\n                }\r\n              }\r\n            }\r\n          });\r\n          layoutRect = self$$1.layoutRect();\r\n          self$$1._fullscreen = state;\r\n          if (!state) {\r\n            self$$1.borderBox = BoxUtils.parseBox(self$$1.settings.border);\r\n            self$$1.getEl('head').style.display = '';\r\n            layoutRect.deltaH += layoutRect.headerH;\r\n            global$9([\r\n              documentElement,\r\n              document.body\r\n            ]).removeClass(prefix + 'fullscreen');\r\n            self$$1.classes.remove('fullscreen');\r\n            self$$1.moveTo(self$$1._initial.x, self$$1._initial.y).resizeTo(self$$1._initial.w, self$$1._initial.h);\r\n          } else {\r\n            self$$1._initial = {\r\n              x: layoutRect.x,\r\n              y: layoutRect.y,\r\n              w: layoutRect.w,\r\n              h: layoutRect.h\r\n            };\r\n            self$$1.borderBox = BoxUtils.parseBox('0');\r\n            self$$1.getEl('head').style.display = 'none';\r\n            layoutRect.deltaH -= layoutRect.headerH + 2;\r\n            global$9([\r\n              documentElement,\r\n              document.body\r\n            ]).addClass(prefix + 'fullscreen');\r\n            self$$1.classes.add('fullscreen');\r\n            var rect = funcs.getWindowSize();\r\n            self$$1.moveTo(0, 0).resizeTo(rect.w, rect.h);\r\n          }\r\n        }\r\n        return self$$1.reflow();\r\n      },\r\n      postRender: function () {\r\n        var self$$1 = this;\r\n        var startPos;\r\n        setTimeout(function () {\r\n          self$$1.classes.add('in');\r\n          self$$1.fire('open');\r\n        }, 0);\r\n        self$$1._super();\r\n        if (self$$1.statusbar) {\r\n          self$$1.statusbar.postRender();\r\n        }\r\n        self$$1.focus();\r\n        this.dragHelper = new DragHelper(self$$1._id + '-dragh', {\r\n          start: function () {\r\n            startPos = {\r\n              x: self$$1.layoutRect().x,\r\n              y: self$$1.layoutRect().y\r\n            };\r\n          },\r\n          drag: function (e) {\r\n            self$$1.moveTo(startPos.x + e.deltaX, startPos.y + e.deltaY);\r\n          }\r\n        });\r\n        self$$1.on('submit', function (e) {\r\n          if (!e.isDefaultPrevented()) {\r\n            self$$1.close();\r\n          }\r\n        });\r\n        windows.push(self$$1);\r\n        toggleFullScreenState(true);\r\n      },\r\n      submit: function () {\r\n        return this.fire('submit', { data: this.toJSON() });\r\n      },\r\n      remove: function () {\r\n        var self$$1 = this;\r\n        var i;\r\n        self$$1.dragHelper.destroy();\r\n        self$$1._super();\r\n        if (self$$1.statusbar) {\r\n          this.statusbar.remove();\r\n        }\r\n        toggleBodyFullScreenClasses(self$$1.classPrefix, false);\r\n        i = windows.length;\r\n        while (i--) {\r\n          if (windows[i] === self$$1) {\r\n            windows.splice(i, 1);\r\n          }\r\n        }\r\n        toggleFullScreenState(windows.length > 0);\r\n      },\r\n      getContentWindow: function () {\r\n        var ifr = this.getEl().getElementsByTagName('iframe')[0];\r\n        return ifr ? ifr.contentWindow : null;\r\n      }\r\n    });\r\n    handleWindowResize();\r\n\r\n    var MessageBox = Window$$1.extend({\r\n      init: function (settings) {\r\n        settings = {\r\n          border: 1,\r\n          padding: 20,\r\n          layout: 'flex',\r\n          pack: 'center',\r\n          align: 'center',\r\n          containerCls: 'panel',\r\n          autoScroll: true,\r\n          buttons: {\r\n            type: 'button',\r\n            text: 'Ok',\r\n            action: 'ok'\r\n          },\r\n          items: {\r\n            type: 'label',\r\n            multiline: true,\r\n            maxWidth: 500,\r\n            maxHeight: 200\r\n          }\r\n        };\r\n        this._super(settings);\r\n      },\r\n      Statics: {\r\n        OK: 1,\r\n        OK_CANCEL: 2,\r\n        YES_NO: 3,\r\n        YES_NO_CANCEL: 4,\r\n        msgBox: function (settings) {\r\n          var buttons;\r\n          var callback = settings.callback || function () {\r\n          };\r\n          function createButton(text, status$$1, primary) {\r\n            return {\r\n              type: 'button',\r\n              text: text,\r\n              subtype: primary ? 'primary' : '',\r\n              onClick: function (e) {\r\n                e.control.parents()[1].close();\r\n                callback(status$$1);\r\n              }\r\n            };\r\n          }\r\n          switch (settings.buttons) {\r\n          case MessageBox.OK_CANCEL:\r\n            buttons = [\r\n              createButton('Ok', true, true),\r\n              createButton('Cancel', false)\r\n            ];\r\n            break;\r\n          case MessageBox.YES_NO:\r\n          case MessageBox.YES_NO_CANCEL:\r\n            buttons = [\r\n              createButton('Yes', 1, true),\r\n              createButton('No', 0)\r\n            ];\r\n            if (settings.buttons === MessageBox.YES_NO_CANCEL) {\r\n              buttons.push(createButton('Cancel', -1));\r\n            }\r\n            break;\r\n          default:\r\n            buttons = [createButton('Ok', true, true)];\r\n            break;\r\n          }\r\n          return new Window$$1({\r\n            padding: 20,\r\n            x: settings.x,\r\n            y: settings.y,\r\n            minWidth: 300,\r\n            minHeight: 100,\r\n            layout: 'flex',\r\n            pack: 'center',\r\n            align: 'center',\r\n            buttons: buttons,\r\n            title: settings.title,\r\n            role: 'alertdialog',\r\n            items: {\r\n              type: 'label',\r\n              multiline: true,\r\n              maxWidth: 500,\r\n              maxHeight: 200,\r\n              text: settings.text\r\n            },\r\n            onPostRender: function () {\r\n              this.aria('describedby', this.items()[0]._id);\r\n            },\r\n            onClose: settings.onClose,\r\n            onCancel: function () {\r\n              callback(false);\r\n            }\r\n          }).renderTo(document.body).reflow();\r\n        },\r\n        alert: function (settings, callback) {\r\n          if (typeof settings === 'string') {\r\n            settings = { text: settings };\r\n          }\r\n          settings.callback = callback;\r\n          return MessageBox.msgBox(settings);\r\n        },\r\n        confirm: function (settings, callback) {\r\n          if (typeof settings === 'string') {\r\n            settings = { text: settings };\r\n          }\r\n          settings.callback = callback;\r\n          settings.buttons = MessageBox.OK_CANCEL;\r\n          return MessageBox.msgBox(settings);\r\n        }\r\n      }\r\n    });\r\n\r\n    function WindowManagerImpl (editor) {\r\n      var open$$1 = function (args, params, closeCallback) {\r\n        var win;\r\n        args.title = args.title || ' ';\r\n        args.url = args.url || args.file;\r\n        if (args.url) {\r\n          args.width = parseInt(args.width || 320, 10);\r\n          args.height = parseInt(args.height || 240, 10);\r\n        }\r\n        if (args.body) {\r\n          args.items = {\r\n            defaults: args.defaults,\r\n            type: args.bodyType || 'form',\r\n            items: args.body,\r\n            data: args.data,\r\n            callbacks: args.commands\r\n          };\r\n        }\r\n        if (!args.url && !args.buttons) {\r\n          args.buttons = [\r\n            {\r\n              text: 'Ok',\r\n              subtype: 'primary',\r\n              onclick: function () {\r\n                win.find('form')[0].submit();\r\n              }\r\n            },\r\n            {\r\n              text: 'Cancel',\r\n              onclick: function () {\r\n                win.close();\r\n              }\r\n            }\r\n          ];\r\n        }\r\n        win = new Window$$1(args);\r\n        win.on('close', function () {\r\n          closeCallback(win);\r\n        });\r\n        if (args.data) {\r\n          win.on('postRender', function () {\r\n            this.find('*').each(function (ctrl) {\r\n              var name$$1 = ctrl.name();\r\n              if (name$$1 in args.data) {\r\n                ctrl.value(args.data[name$$1]);\r\n              }\r\n            });\r\n          });\r\n        }\r\n        win.features = args || {};\r\n        win.params = params || {};\r\n        win = win.renderTo(document.body).reflow();\r\n        return win;\r\n      };\r\n      var alert$$1 = function (message, choiceCallback, closeCallback) {\r\n        var win;\r\n        win = MessageBox.alert(message, function () {\r\n          choiceCallback();\r\n        });\r\n        win.on('close', function () {\r\n          closeCallback(win);\r\n        });\r\n        return win;\r\n      };\r\n      var confirm$$1 = function (message, choiceCallback, closeCallback) {\r\n        var win;\r\n        win = MessageBox.confirm(message, function (state) {\r\n          choiceCallback(state);\r\n        });\r\n        win.on('close', function () {\r\n          closeCallback(win);\r\n        });\r\n        return win;\r\n      };\r\n      var close$$1 = function (window$$1) {\r\n        window$$1.close();\r\n      };\r\n      var getParams = function (window$$1) {\r\n        return window$$1.params;\r\n      };\r\n      var setParams = function (window$$1, params) {\r\n        window$$1.params = params;\r\n      };\r\n      return {\r\n        open: open$$1,\r\n        alert: alert$$1,\r\n        confirm: confirm$$1,\r\n        close: close$$1,\r\n        getParams: getParams,\r\n        setParams: setParams\r\n      };\r\n    }\r\n\r\n    var get = function (editor) {\r\n      var renderUI = function (args) {\r\n        return Render.renderUI(editor, this, args);\r\n      };\r\n      var resizeTo = function (w, h) {\r\n        return Resize.resizeTo(editor, w, h);\r\n      };\r\n      var resizeBy = function (dw, dh) {\r\n        return Resize.resizeBy(editor, dw, dh);\r\n      };\r\n      var getNotificationManagerImpl = function () {\r\n        return NotificationManagerImpl(editor);\r\n      };\r\n      var getWindowManagerImpl = function () {\r\n        return WindowManagerImpl(editor);\r\n      };\r\n      return {\r\n        renderUI: renderUI,\r\n        resizeTo: resizeTo,\r\n        resizeBy: resizeBy,\r\n        getNotificationManagerImpl: getNotificationManagerImpl,\r\n        getWindowManagerImpl: getWindowManagerImpl\r\n      };\r\n    };\r\n    var ThemeApi = { get: get };\r\n\r\n    var Layout = global$a.extend({\r\n      Defaults: {\r\n        firstControlClass: 'first',\r\n        lastControlClass: 'last'\r\n      },\r\n      init: function (settings) {\r\n        this.settings = global$2.extend({}, this.Defaults, settings);\r\n      },\r\n      preRender: function (container) {\r\n        container.bodyClasses.add(this.settings.containerClass);\r\n      },\r\n      applyClasses: function (items) {\r\n        var self = this;\r\n        var settings = self.settings;\r\n        var firstClass, lastClass, firstItem, lastItem;\r\n        firstClass = settings.firstControlClass;\r\n        lastClass = settings.lastControlClass;\r\n        items.each(function (item) {\r\n          item.classes.remove(firstClass).remove(lastClass).add(settings.controlClass);\r\n          if (item.visible()) {\r\n            if (!firstItem) {\r\n              firstItem = item;\r\n            }\r\n            lastItem = item;\r\n          }\r\n        });\r\n        if (firstItem) {\r\n          firstItem.classes.add(firstClass);\r\n        }\r\n        if (lastItem) {\r\n          lastItem.classes.add(lastClass);\r\n        }\r\n      },\r\n      renderHtml: function (container) {\r\n        var self = this;\r\n        var html = '';\r\n        self.applyClasses(container.items());\r\n        container.items().each(function (item) {\r\n          html += item.renderHtml();\r\n        });\r\n        return html;\r\n      },\r\n      recalc: function () {\r\n      },\r\n      postRender: function () {\r\n      },\r\n      isNative: function () {\r\n        return false;\r\n      }\r\n    });\r\n\r\n    var AbsoluteLayout = Layout.extend({\r\n      Defaults: {\r\n        containerClass: 'abs-layout',\r\n        controlClass: 'abs-layout-item'\r\n      },\r\n      recalc: function (container) {\r\n        container.items().filter(':visible').each(function (ctrl) {\r\n          var settings = ctrl.settings;\r\n          ctrl.layoutRect({\r\n            x: settings.x,\r\n            y: settings.y,\r\n            w: settings.w,\r\n            h: settings.h\r\n          });\r\n          if (ctrl.recalc) {\r\n            ctrl.recalc();\r\n          }\r\n        });\r\n      },\r\n      renderHtml: function (container) {\r\n        return '<div id=\"' + container._id + '-absend\" class=\"' + container.classPrefix + 'abs-end\"></div>' + this._super(container);\r\n      }\r\n    });\r\n\r\n    var Button = Widget.extend({\r\n      Defaults: {\r\n        classes: 'widget btn',\r\n        role: 'button'\r\n      },\r\n      init: function (settings) {\r\n        var self$$1 = this;\r\n        var size;\r\n        self$$1._super(settings);\r\n        settings = self$$1.settings;\r\n        size = self$$1.settings.size;\r\n        self$$1.on('click mousedown', function (e) {\r\n          e.preventDefault();\r\n        });\r\n        self$$1.on('touchstart', function (e) {\r\n          self$$1.fire('click', e);\r\n          e.preventDefault();\r\n        });\r\n        if (settings.subtype) {\r\n          self$$1.classes.add(settings.subtype);\r\n        }\r\n        if (size) {\r\n          self$$1.classes.add('btn-' + size);\r\n        }\r\n        if (settings.icon) {\r\n          self$$1.icon(settings.icon);\r\n        }\r\n      },\r\n      icon: function (icon) {\r\n        if (!arguments.length) {\r\n          return this.state.get('icon');\r\n        }\r\n        this.state.set('icon', icon);\r\n        return this;\r\n      },\r\n      repaint: function () {\r\n        var btnElm = this.getEl().firstChild;\r\n        var btnStyle;\r\n        if (btnElm) {\r\n          btnStyle = btnElm.style;\r\n          btnStyle.width = btnStyle.height = '100%';\r\n        }\r\n        this._super();\r\n      },\r\n      renderHtml: function () {\r\n        var self$$1 = this, id = self$$1._id, prefix = self$$1.classPrefix;\r\n        var icon = self$$1.state.get('icon'), image;\r\n        var text = self$$1.state.get('text');\r\n        var textHtml = '';\r\n        var ariaPressed;\r\n        var settings = self$$1.settings;\r\n        image = settings.image;\r\n        if (image) {\r\n          icon = 'none';\r\n          if (typeof image !== 'string') {\r\n            image = window.getSelection ? image[0] : image[1];\r\n          }\r\n          image = ' style=\"background-image: url(\\'' + image + '\\')\"';\r\n        } else {\r\n          image = '';\r\n        }\r\n        if (text) {\r\n          self$$1.classes.add('btn-has-text');\r\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self$$1.encode(text) + '</span>';\r\n        }\r\n        icon = icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\r\n        ariaPressed = typeof settings.active === 'boolean' ? ' aria-pressed=\"' + settings.active + '\"' : '';\r\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" tabindex=\"-1\"' + ariaPressed + '>' + '<button id=\"' + id + '-button\" role=\"presentation\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + '</button>' + '</div>';\r\n      },\r\n      bindStates: function () {\r\n        var self$$1 = this, $ = self$$1.$, textCls = self$$1.classPrefix + 'txt';\r\n        function setButtonText(text) {\r\n          var $span = $('span.' + textCls, self$$1.getEl());\r\n          if (text) {\r\n            if (!$span[0]) {\r\n              $('button:first', self$$1.getEl()).append('<span class=\"' + textCls + '\"></span>');\r\n              $span = $('span.' + textCls, self$$1.getEl());\r\n            }\r\n            $span.html(self$$1.encode(text));\r\n          } else {\r\n            $span.remove();\r\n          }\r\n          self$$1.classes.toggle('btn-has-text', !!text);\r\n        }\r\n        self$$1.state.on('change:text', function (e) {\r\n          setButtonText(e.value);\r\n        });\r\n        self$$1.state.on('change:icon', function (e) {\r\n          var icon = e.value;\r\n          var prefix = self$$1.classPrefix;\r\n          self$$1.settings.icon = icon;\r\n          icon = icon ? prefix + 'ico ' + prefix + 'i-' + self$$1.settings.icon : '';\r\n          var btnElm = self$$1.getEl().firstChild;\r\n          var iconElm = btnElm.getElementsByTagName('i')[0];\r\n          if (icon) {\r\n            if (!iconElm || iconElm !== btnElm.firstChild) {\r\n              iconElm = document.createElement('i');\r\n              btnElm.insertBefore(iconElm, btnElm.firstChild);\r\n            }\r\n            iconElm.className = icon;\r\n          } else if (iconElm) {\r\n            btnElm.removeChild(iconElm);\r\n          }\r\n          setButtonText(self$$1.state.get('text'));\r\n        });\r\n        return self$$1._super();\r\n      }\r\n    });\r\n\r\n    var BrowseButton = Button.extend({\r\n      init: function (settings) {\r\n        var self = this;\r\n        settings = global$2.extend({\r\n          text: 'Browse...',\r\n          multiple: false,\r\n          accept: null\r\n        }, settings);\r\n        self._super(settings);\r\n        self.classes.add('browsebutton');\r\n        if (settings.multiple) {\r\n          self.classes.add('multiple');\r\n        }\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        var input = funcs.create('input', {\r\n          type: 'file',\r\n          id: self._id + '-browse',\r\n          accept: self.settings.accept\r\n        });\r\n        self._super();\r\n        global$9(input).on('change', function (e) {\r\n          var files = e.target.files;\r\n          self.value = function () {\r\n            if (!files.length) {\r\n              return null;\r\n            } else if (self.settings.multiple) {\r\n              return files;\r\n            } else {\r\n              return files[0];\r\n            }\r\n          };\r\n          e.preventDefault();\r\n          if (files.length) {\r\n            self.fire('change', e);\r\n          }\r\n        });\r\n        global$9(input).on('click', function (e) {\r\n          e.stopPropagation();\r\n        });\r\n        global$9(self.getEl('button')).on('click', function (e) {\r\n          e.stopPropagation();\r\n          input.click();\r\n        });\r\n        self.getEl().appendChild(input);\r\n      },\r\n      remove: function () {\r\n        global$9(this.getEl('button')).off();\r\n        global$9(this.getEl('input')).off();\r\n        this._super();\r\n      }\r\n    });\r\n\r\n    var ButtonGroup = Container.extend({\r\n      Defaults: {\r\n        defaultType: 'button',\r\n        role: 'group'\r\n      },\r\n      renderHtml: function () {\r\n        var self = this, layout = self._layout;\r\n        self.classes.add('btn-group');\r\n        self.preRender();\r\n        layout.preRender(self);\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + self._id + '-body\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\r\n      }\r\n    });\r\n\r\n    var Checkbox = Widget.extend({\r\n      Defaults: {\r\n        classes: 'checkbox',\r\n        role: 'checkbox',\r\n        checked: false\r\n      },\r\n      init: function (settings) {\r\n        var self$$1 = this;\r\n        self$$1._super(settings);\r\n        self$$1.on('click mousedown', function (e) {\r\n          e.preventDefault();\r\n        });\r\n        self$$1.on('click', function (e) {\r\n          e.preventDefault();\r\n          if (!self$$1.disabled()) {\r\n            self$$1.checked(!self$$1.checked());\r\n          }\r\n        });\r\n        self$$1.checked(self$$1.settings.checked);\r\n      },\r\n      checked: function (state) {\r\n        if (!arguments.length) {\r\n          return this.state.get('checked');\r\n        }\r\n        this.state.set('checked', state);\r\n        return this;\r\n      },\r\n      value: function (state) {\r\n        if (!arguments.length) {\r\n          return this.checked();\r\n        }\r\n        return this.checked(state);\r\n      },\r\n      renderHtml: function () {\r\n        var self$$1 = this, id = self$$1._id, prefix = self$$1.classPrefix;\r\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" unselectable=\"on\" aria-labelledby=\"' + id + '-al\" tabindex=\"-1\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-checkbox\"></i>' + '<span id=\"' + id + '-al\" class=\"' + prefix + 'label\">' + self$$1.encode(self$$1.state.get('text')) + '</span>' + '</div>';\r\n      },\r\n      bindStates: function () {\r\n        var self$$1 = this;\r\n        function checked(state) {\r\n          self$$1.classes.toggle('checked', state);\r\n          self$$1.aria('checked', state);\r\n        }\r\n        self$$1.state.on('change:text', function (e) {\r\n          self$$1.getEl('al').firstChild.data = self$$1.translate(e.value);\r\n        });\r\n        self$$1.state.on('change:checked change:value', function (e) {\r\n          self$$1.fire('change');\r\n          checked(e.value);\r\n        });\r\n        self$$1.state.on('change:icon', function (e) {\r\n          var icon = e.value;\r\n          var prefix = self$$1.classPrefix;\r\n          if (typeof icon === 'undefined') {\r\n            return self$$1.settings.icon;\r\n          }\r\n          self$$1.settings.icon = icon;\r\n          icon = icon ? prefix + 'ico ' + prefix + 'i-' + self$$1.settings.icon : '';\r\n          var btnElm = self$$1.getEl().firstChild;\r\n          var iconElm = btnElm.getElementsByTagName('i')[0];\r\n          if (icon) {\r\n            if (!iconElm || iconElm !== btnElm.firstChild) {\r\n              iconElm = document.createElement('i');\r\n              btnElm.insertBefore(iconElm, btnElm.firstChild);\r\n            }\r\n            iconElm.className = icon;\r\n          } else if (iconElm) {\r\n            btnElm.removeChild(iconElm);\r\n          }\r\n        });\r\n        if (self$$1.state.get('checked')) {\r\n          checked(true);\r\n        }\r\n        return self$$1._super();\r\n      }\r\n    });\r\n\r\n    var global$d = tinymce.util.Tools.resolve('tinymce.util.VK');\r\n\r\n    var ComboBox = Widget.extend({\r\n      init: function (settings) {\r\n        var self$$1 = this;\r\n        self$$1._super(settings);\r\n        settings = self$$1.settings;\r\n        self$$1.classes.add('combobox');\r\n        self$$1.subinput = true;\r\n        self$$1.ariaTarget = 'inp';\r\n        settings.menu = settings.menu || settings.values;\r\n        if (settings.menu) {\r\n          settings.icon = 'caret';\r\n        }\r\n        self$$1.on('click', function (e) {\r\n          var elm = e.target;\r\n          var root = self$$1.getEl();\r\n          if (!global$9.contains(root, elm) && elm !== root) {\r\n            return;\r\n          }\r\n          while (elm && elm !== root) {\r\n            if (elm.id && elm.id.indexOf('-open') !== -1) {\r\n              self$$1.fire('action');\r\n              if (settings.menu) {\r\n                self$$1.showMenu();\r\n                if (e.aria) {\r\n                  self$$1.menu.items()[0].focus();\r\n                }\r\n              }\r\n            }\r\n            elm = elm.parentNode;\r\n          }\r\n        });\r\n        self$$1.on('keydown', function (e) {\r\n          var rootControl;\r\n          if (e.keyCode === 13 && e.target.nodeName === 'INPUT') {\r\n            e.preventDefault();\r\n            self$$1.parents().reverse().each(function (ctrl) {\r\n              if (ctrl.toJSON) {\r\n                rootControl = ctrl;\r\n                return false;\r\n              }\r\n            });\r\n            self$$1.fire('submit', { data: rootControl.toJSON() });\r\n          }\r\n        });\r\n        self$$1.on('keyup', function (e) {\r\n          if (e.target.nodeName === 'INPUT') {\r\n            var oldValue = self$$1.state.get('value');\r\n            var newValue = e.target.value;\r\n            if (newValue !== oldValue) {\r\n              self$$1.state.set('value', newValue);\r\n              self$$1.fire('autocomplete', e);\r\n            }\r\n          }\r\n        });\r\n        self$$1.on('mouseover', function (e) {\r\n          var tooltip = self$$1.tooltip().moveTo(-65535);\r\n          if (self$$1.statusLevel() && e.target.className.indexOf(self$$1.classPrefix + 'status') !== -1) {\r\n            var statusMessage = self$$1.statusMessage() || 'Ok';\r\n            var rel = tooltip.text(statusMessage).show().testMoveRel(e.target, [\r\n              'bc-tc',\r\n              'bc-tl',\r\n              'bc-tr'\r\n            ]);\r\n            tooltip.classes.toggle('tooltip-n', rel === 'bc-tc');\r\n            tooltip.classes.toggle('tooltip-nw', rel === 'bc-tl');\r\n            tooltip.classes.toggle('tooltip-ne', rel === 'bc-tr');\r\n            tooltip.moveRel(e.target, rel);\r\n          }\r\n        });\r\n      },\r\n      statusLevel: function (value) {\r\n        if (arguments.length > 0) {\r\n          this.state.set('statusLevel', value);\r\n        }\r\n        return this.state.get('statusLevel');\r\n      },\r\n      statusMessage: function (value) {\r\n        if (arguments.length > 0) {\r\n          this.state.set('statusMessage', value);\r\n        }\r\n        return this.state.get('statusMessage');\r\n      },\r\n      showMenu: function () {\r\n        var self$$1 = this;\r\n        var settings = self$$1.settings;\r\n        var menu;\r\n        if (!self$$1.menu) {\r\n          menu = settings.menu || [];\r\n          if (menu.length) {\r\n            menu = {\r\n              type: 'menu',\r\n              items: menu\r\n            };\r\n          } else {\r\n            menu.type = menu.type || 'menu';\r\n          }\r\n          self$$1.menu = global$4.create(menu).parent(self$$1).renderTo(self$$1.getContainerElm());\r\n          self$$1.fire('createmenu');\r\n          self$$1.menu.reflow();\r\n          self$$1.menu.on('cancel', function (e) {\r\n            if (e.control === self$$1.menu) {\r\n              self$$1.focus();\r\n            }\r\n          });\r\n          self$$1.menu.on('show hide', function (e) {\r\n            e.control.items().each(function (ctrl) {\r\n              ctrl.active(ctrl.value() === self$$1.value());\r\n            });\r\n          }).fire('show');\r\n          self$$1.menu.on('select', function (e) {\r\n            self$$1.value(e.control.value());\r\n          });\r\n          self$$1.on('focusin', function (e) {\r\n            if (e.target.tagName.toUpperCase() === 'INPUT') {\r\n              self$$1.menu.hide();\r\n            }\r\n          });\r\n          self$$1.aria('expanded', true);\r\n        }\r\n        self$$1.menu.show();\r\n        self$$1.menu.layoutRect({ w: self$$1.layoutRect().w });\r\n        self$$1.menu.moveRel(self$$1.getEl(), self$$1.isRtl() ? [\r\n          'br-tr',\r\n          'tr-br'\r\n        ] : [\r\n          'bl-tl',\r\n          'tl-bl'\r\n        ]);\r\n      },\r\n      focus: function () {\r\n        this.getEl('inp').focus();\r\n      },\r\n      repaint: function () {\r\n        var self$$1 = this, elm = self$$1.getEl(), openElm = self$$1.getEl('open'), rect = self$$1.layoutRect();\r\n        var width, lineHeight, innerPadding = 0;\r\n        var inputElm = elm.firstChild;\r\n        if (self$$1.statusLevel() && self$$1.statusLevel() !== 'none') {\r\n          innerPadding = parseInt(funcs.getRuntimeStyle(inputElm, 'padding-right'), 10) - parseInt(funcs.getRuntimeStyle(inputElm, 'padding-left'), 10);\r\n        }\r\n        if (openElm) {\r\n          width = rect.w - funcs.getSize(openElm).width - 10;\r\n        } else {\r\n          width = rect.w - 10;\r\n        }\r\n        var doc = document;\r\n        if (doc.all && (!doc.documentMode || doc.documentMode <= 8)) {\r\n          lineHeight = self$$1.layoutRect().h - 2 + 'px';\r\n        }\r\n        global$9(inputElm).css({\r\n          width: width - innerPadding,\r\n          lineHeight: lineHeight\r\n        });\r\n        self$$1._super();\r\n        return self$$1;\r\n      },\r\n      postRender: function () {\r\n        var self$$1 = this;\r\n        global$9(this.getEl('inp')).on('change', function (e) {\r\n          self$$1.state.set('value', e.target.value);\r\n          self$$1.fire('change', e);\r\n        });\r\n        return self$$1._super();\r\n      },\r\n      renderHtml: function () {\r\n        var self$$1 = this, id = self$$1._id, settings = self$$1.settings, prefix = self$$1.classPrefix;\r\n        var value = self$$1.state.get('value') || '';\r\n        var icon, text, openBtnHtml = '', extraAttrs = '', statusHtml = '';\r\n        if ('spellcheck' in settings) {\r\n          extraAttrs += ' spellcheck=\"' + settings.spellcheck + '\"';\r\n        }\r\n        if (settings.maxLength) {\r\n          extraAttrs += ' maxlength=\"' + settings.maxLength + '\"';\r\n        }\r\n        if (settings.size) {\r\n          extraAttrs += ' size=\"' + settings.size + '\"';\r\n        }\r\n        if (settings.subtype) {\r\n          extraAttrs += ' type=\"' + settings.subtype + '\"';\r\n        }\r\n        statusHtml = '<i id=\"' + id + '-status\" class=\"mce-status mce-ico\" style=\"display: none\"></i>';\r\n        if (self$$1.disabled()) {\r\n          extraAttrs += ' disabled=\"disabled\"';\r\n        }\r\n        icon = settings.icon;\r\n        if (icon && icon !== 'caret') {\r\n          icon = prefix + 'ico ' + prefix + 'i-' + settings.icon;\r\n        }\r\n        text = self$$1.state.get('text');\r\n        if (icon || text) {\r\n          openBtnHtml = '<div id=\"' + id + '-open\" class=\"' + prefix + 'btn ' + prefix + 'open\" tabIndex=\"-1\" role=\"button\">' + '<button id=\"' + id + '-action\" type=\"button\" hidefocus=\"1\" tabindex=\"-1\">' + (icon !== 'caret' ? '<i class=\"' + icon + '\"></i>' : '<i class=\"' + prefix + 'caret\"></i>') + (text ? (icon ? ' ' : '') + text : '') + '</button>' + '</div>';\r\n          self$$1.classes.add('has-open');\r\n        }\r\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\">' + '<input id=\"' + id + '-inp\" class=\"' + prefix + 'textbox\" value=\"' + self$$1.encode(value, false) + '\" hidefocus=\"1\"' + extraAttrs + ' placeholder=\"' + self$$1.encode(settings.placeholder) + '\" />' + statusHtml + openBtnHtml + '</div>';\r\n      },\r\n      value: function (value) {\r\n        if (arguments.length) {\r\n          this.state.set('value', value);\r\n          return this;\r\n        }\r\n        if (this.state.get('rendered')) {\r\n          this.state.set('value', this.getEl('inp').value);\r\n        }\r\n        return this.state.get('value');\r\n      },\r\n      showAutoComplete: function (items, term) {\r\n        var self$$1 = this;\r\n        if (items.length === 0) {\r\n          self$$1.hideMenu();\r\n          return;\r\n        }\r\n        var insert = function (value, title) {\r\n          return function () {\r\n            self$$1.fire('selectitem', {\r\n              title: title,\r\n              value: value\r\n            });\r\n          };\r\n        };\r\n        if (self$$1.menu) {\r\n          self$$1.menu.items().remove();\r\n        } else {\r\n          self$$1.menu = global$4.create({\r\n            type: 'menu',\r\n            classes: 'combobox-menu',\r\n            layout: 'flow'\r\n          }).parent(self$$1).renderTo();\r\n        }\r\n        global$2.each(items, function (item) {\r\n          self$$1.menu.add({\r\n            text: item.title,\r\n            url: item.previewUrl,\r\n            match: term,\r\n            classes: 'menu-item-ellipsis',\r\n            onclick: insert(item.value, item.title)\r\n          });\r\n        });\r\n        self$$1.menu.renderNew();\r\n        self$$1.hideMenu();\r\n        self$$1.menu.on('cancel', function (e) {\r\n          if (e.control.parent() === self$$1.menu) {\r\n            e.stopPropagation();\r\n            self$$1.focus();\r\n            self$$1.hideMenu();\r\n          }\r\n        });\r\n        self$$1.menu.on('select', function () {\r\n          self$$1.focus();\r\n        });\r\n        var maxW = self$$1.layoutRect().w;\r\n        self$$1.menu.layoutRect({\r\n          w: maxW,\r\n          minW: 0,\r\n          maxW: maxW\r\n        });\r\n        self$$1.menu.repaint();\r\n        self$$1.menu.reflow();\r\n        self$$1.menu.show();\r\n        self$$1.menu.moveRel(self$$1.getEl(), self$$1.isRtl() ? [\r\n          'br-tr',\r\n          'tr-br'\r\n        ] : [\r\n          'bl-tl',\r\n          'tl-bl'\r\n        ]);\r\n      },\r\n      hideMenu: function () {\r\n        if (this.menu) {\r\n          this.menu.hide();\r\n        }\r\n      },\r\n      bindStates: function () {\r\n        var self$$1 = this;\r\n        self$$1.state.on('change:value', function (e) {\r\n          if (self$$1.getEl('inp').value !== e.value) {\r\n            self$$1.getEl('inp').value = e.value;\r\n          }\r\n        });\r\n        self$$1.state.on('change:disabled', function (e) {\r\n          self$$1.getEl('inp').disabled = e.value;\r\n        });\r\n        self$$1.state.on('change:statusLevel', function (e) {\r\n          var statusIconElm = self$$1.getEl('status');\r\n          var prefix = self$$1.classPrefix, value = e.value;\r\n          funcs.css(statusIconElm, 'display', value === 'none' ? 'none' : '');\r\n          funcs.toggleClass(statusIconElm, prefix + 'i-checkmark', value === 'ok');\r\n          funcs.toggleClass(statusIconElm, prefix + 'i-warning', value === 'warn');\r\n          funcs.toggleClass(statusIconElm, prefix + 'i-error', value === 'error');\r\n          self$$1.classes.toggle('has-status', value !== 'none');\r\n          self$$1.repaint();\r\n        });\r\n        funcs.on(self$$1.getEl('status'), 'mouseleave', function () {\r\n          self$$1.tooltip().hide();\r\n        });\r\n        self$$1.on('cancel', function (e) {\r\n          if (self$$1.menu && self$$1.menu.visible()) {\r\n            e.stopPropagation();\r\n            self$$1.hideMenu();\r\n          }\r\n        });\r\n        var focusIdx = function (idx, menu) {\r\n          if (menu && menu.items().length > 0) {\r\n            menu.items().eq(idx)[0].focus();\r\n          }\r\n        };\r\n        self$$1.on('keydown', function (e) {\r\n          var keyCode = e.keyCode;\r\n          if (e.target.nodeName === 'INPUT') {\r\n            if (keyCode === global$d.DOWN) {\r\n              e.preventDefault();\r\n              self$$1.fire('autocomplete');\r\n              focusIdx(0, self$$1.menu);\r\n            } else if (keyCode === global$d.UP) {\r\n              e.preventDefault();\r\n              focusIdx(-1, self$$1.menu);\r\n            }\r\n          }\r\n        });\r\n        return self$$1._super();\r\n      },\r\n      remove: function () {\r\n        global$9(this.getEl('inp')).off();\r\n        if (this.menu) {\r\n          this.menu.remove();\r\n        }\r\n        this._super();\r\n      }\r\n    });\r\n\r\n    var ColorBox = ComboBox.extend({\r\n      init: function (settings) {\r\n        var self = this;\r\n        settings.spellcheck = false;\r\n        if (settings.onaction) {\r\n          settings.icon = 'none';\r\n        }\r\n        self._super(settings);\r\n        self.classes.add('colorbox');\r\n        self.on('change keyup postrender', function () {\r\n          self.repaintColor(self.value());\r\n        });\r\n      },\r\n      repaintColor: function (value) {\r\n        var openElm = this.getEl('open');\r\n        var elm = openElm ? openElm.getElementsByTagName('i')[0] : null;\r\n        if (elm) {\r\n          try {\r\n            elm.style.background = value;\r\n          } catch (ex) {\r\n          }\r\n        }\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        self.state.on('change:value', function (e) {\r\n          if (self.state.get('rendered')) {\r\n            self.repaintColor(e.value);\r\n          }\r\n        });\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    var PanelButton = Button.extend({\r\n      showPanel: function () {\r\n        var self = this, settings = self.settings;\r\n        self.classes.add('opened');\r\n        if (!self.panel) {\r\n          var panelSettings = settings.panel;\r\n          if (panelSettings.type) {\r\n            panelSettings = {\r\n              layout: 'grid',\r\n              items: panelSettings\r\n            };\r\n          }\r\n          panelSettings.role = panelSettings.role || 'dialog';\r\n          panelSettings.popover = true;\r\n          panelSettings.autohide = true;\r\n          panelSettings.ariaRoot = true;\r\n          self.panel = new FloatPanel(panelSettings).on('hide', function () {\r\n            self.classes.remove('opened');\r\n          }).on('cancel', function (e) {\r\n            e.stopPropagation();\r\n            self.focus();\r\n            self.hidePanel();\r\n          }).parent(self).renderTo(self.getContainerElm());\r\n          self.panel.fire('show');\r\n          self.panel.reflow();\r\n        } else {\r\n          self.panel.show();\r\n        }\r\n        var rtlRels = [\r\n          'bc-tc',\r\n          'bc-tl',\r\n          'bc-tr'\r\n        ];\r\n        var ltrRels = [\r\n          'bc-tc',\r\n          'bc-tr',\r\n          'bc-tl',\r\n          'tc-bc',\r\n          'tc-br',\r\n          'tc-bl'\r\n        ];\r\n        var rel = self.panel.testMoveRel(self.getEl(), settings.popoverAlign || (self.isRtl() ? rtlRels : ltrRels));\r\n        self.panel.classes.toggle('start', rel.substr(-1) === 'l');\r\n        self.panel.classes.toggle('end', rel.substr(-1) === 'r');\r\n        var isTop = rel.substr(0, 1) === 't';\r\n        self.panel.classes.toggle('bottom', !isTop);\r\n        self.panel.classes.toggle('top', isTop);\r\n        self.panel.moveRel(self.getEl(), rel);\r\n      },\r\n      hidePanel: function () {\r\n        var self = this;\r\n        if (self.panel) {\r\n          self.panel.hide();\r\n        }\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        self.aria('haspopup', true);\r\n        self.on('click', function (e) {\r\n          if (e.control === self) {\r\n            if (self.panel && self.panel.visible()) {\r\n              self.hidePanel();\r\n            } else {\r\n              self.showPanel();\r\n              self.panel.focus(!!e.aria);\r\n            }\r\n          }\r\n        });\r\n        return self._super();\r\n      },\r\n      remove: function () {\r\n        if (this.panel) {\r\n          this.panel.remove();\r\n          this.panel = null;\r\n        }\r\n        return this._super();\r\n      }\r\n    });\r\n\r\n    var DOM$3 = global$3.DOM;\r\n    var ColorButton = PanelButton.extend({\r\n      init: function (settings) {\r\n        this._super(settings);\r\n        this.classes.add('splitbtn');\r\n        this.classes.add('colorbutton');\r\n      },\r\n      color: function (color) {\r\n        if (color) {\r\n          this._color = color;\r\n          this.getEl('preview').style.backgroundColor = color;\r\n          return this;\r\n        }\r\n        return this._color;\r\n      },\r\n      resetColor: function () {\r\n        this._color = null;\r\n        this.getEl('preview').style.backgroundColor = null;\r\n        return this;\r\n      },\r\n      renderHtml: function () {\r\n        var self = this, id = self._id, prefix = self.classPrefix, text = self.state.get('text');\r\n        var icon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';\r\n        var image = self.settings.image ? ' style=\"background-image: url(\\'' + self.settings.image + '\\')\"' : '';\r\n        var textHtml = '';\r\n        if (text) {\r\n          self.classes.add('btn-has-text');\r\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self.encode(text) + '</span>';\r\n        }\r\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" role=\"button\" tabindex=\"-1\" aria-haspopup=\"true\">' + '<button role=\"presentation\" hidefocus=\"1\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + '<span id=\"' + id + '-preview\" class=\"' + prefix + 'preview\"></span>' + textHtml + '</button>' + '<button type=\"button\" class=\"' + prefix + 'open\" hidefocus=\"1\" tabindex=\"-1\">' + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\r\n      },\r\n      postRender: function () {\r\n        var self = this, onClickHandler = self.settings.onclick;\r\n        self.on('click', function (e) {\r\n          if (e.aria && e.aria.key === 'down') {\r\n            return;\r\n          }\r\n          if (e.control === self && !DOM$3.getParent(e.target, '.' + self.classPrefix + 'open')) {\r\n            e.stopImmediatePropagation();\r\n            onClickHandler.call(self, e);\r\n          }\r\n        });\r\n        delete self.settings.onclick;\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    var global$e = tinymce.util.Tools.resolve('tinymce.util.Color');\r\n\r\n    var ColorPicker = Widget.extend({\r\n      Defaults: { classes: 'widget colorpicker' },\r\n      init: function (settings) {\r\n        this._super(settings);\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        var color = self.color();\r\n        var hsv, hueRootElm, huePointElm, svRootElm, svPointElm;\r\n        hueRootElm = self.getEl('h');\r\n        huePointElm = self.getEl('hp');\r\n        svRootElm = self.getEl('sv');\r\n        svPointElm = self.getEl('svp');\r\n        function getPos(elm, event) {\r\n          var pos = funcs.getPos(elm);\r\n          var x, y;\r\n          x = event.pageX - pos.x;\r\n          y = event.pageY - pos.y;\r\n          x = Math.max(0, Math.min(x / elm.clientWidth, 1));\r\n          y = Math.max(0, Math.min(y / elm.clientHeight, 1));\r\n          return {\r\n            x: x,\r\n            y: y\r\n          };\r\n        }\r\n        function updateColor(hsv, hueUpdate) {\r\n          var hue = (360 - hsv.h) / 360;\r\n          funcs.css(huePointElm, { top: hue * 100 + '%' });\r\n          if (!hueUpdate) {\r\n            funcs.css(svPointElm, {\r\n              left: hsv.s + '%',\r\n              top: 100 - hsv.v + '%'\r\n            });\r\n          }\r\n          svRootElm.style.background = global$e({\r\n            s: 100,\r\n            v: 100,\r\n            h: hsv.h\r\n          }).toHex();\r\n          self.color().parse({\r\n            s: hsv.s,\r\n            v: hsv.v,\r\n            h: hsv.h\r\n          });\r\n        }\r\n        function updateSaturationAndValue(e) {\r\n          var pos;\r\n          pos = getPos(svRootElm, e);\r\n          hsv.s = pos.x * 100;\r\n          hsv.v = (1 - pos.y) * 100;\r\n          updateColor(hsv);\r\n          self.fire('change');\r\n        }\r\n        function updateHue(e) {\r\n          var pos;\r\n          pos = getPos(hueRootElm, e);\r\n          hsv = color.toHsv();\r\n          hsv.h = (1 - pos.y) * 360;\r\n          updateColor(hsv, true);\r\n          self.fire('change');\r\n        }\r\n        self._repaint = function () {\r\n          hsv = color.toHsv();\r\n          updateColor(hsv);\r\n        };\r\n        self._super();\r\n        self._svdraghelper = new DragHelper(self._id + '-sv', {\r\n          start: updateSaturationAndValue,\r\n          drag: updateSaturationAndValue\r\n        });\r\n        self._hdraghelper = new DragHelper(self._id + '-h', {\r\n          start: updateHue,\r\n          drag: updateHue\r\n        });\r\n        self._repaint();\r\n      },\r\n      rgb: function () {\r\n        return this.color().toRgb();\r\n      },\r\n      value: function (value) {\r\n        var self = this;\r\n        if (arguments.length) {\r\n          self.color().parse(value);\r\n          if (self._rendered) {\r\n            self._repaint();\r\n          }\r\n        } else {\r\n          return self.color().toHex();\r\n        }\r\n      },\r\n      color: function () {\r\n        if (!this._color) {\r\n          this._color = global$e();\r\n        }\r\n        return this._color;\r\n      },\r\n      renderHtml: function () {\r\n        var self = this;\r\n        var id = self._id;\r\n        var prefix = self.classPrefix;\r\n        var hueHtml;\r\n        var stops = '#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000';\r\n        function getOldIeFallbackHtml() {\r\n          var i, l, html = '', gradientPrefix, stopsList;\r\n          gradientPrefix = 'filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=';\r\n          stopsList = stops.split(',');\r\n          for (i = 0, l = stopsList.length - 1; i < l; i++) {\r\n            html += '<div class=\"' + prefix + 'colorpicker-h-chunk\" style=\"' + 'height:' + 100 / l + '%;' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ');' + '-ms-' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ')' + '\"></div>';\r\n          }\r\n          return html;\r\n        }\r\n        var gradientCssText = 'background: -ms-linear-gradient(top,' + stops + ');' + 'background: linear-gradient(to bottom,' + stops + ');';\r\n        hueHtml = '<div id=\"' + id + '-h\" class=\"' + prefix + 'colorpicker-h\" style=\"' + gradientCssText + '\">' + getOldIeFallbackHtml() + '<div id=\"' + id + '-hp\" class=\"' + prefix + 'colorpicker-h-marker\"></div>' + '</div>';\r\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + id + '-sv\" class=\"' + prefix + 'colorpicker-sv\">' + '<div class=\"' + prefix + 'colorpicker-overlay1\">' + '<div class=\"' + prefix + 'colorpicker-overlay2\">' + '<div id=\"' + id + '-svp\" class=\"' + prefix + 'colorpicker-selector1\">' + '<div class=\"' + prefix + 'colorpicker-selector2\"></div>' + '</div>' + '</div>' + '</div>' + '</div>' + hueHtml + '</div>';\r\n      }\r\n    });\r\n\r\n    var DropZone = Widget.extend({\r\n      init: function (settings) {\r\n        var self = this;\r\n        settings = global$2.extend({\r\n          height: 100,\r\n          text: 'Drop an image here',\r\n          multiple: false,\r\n          accept: null\r\n        }, settings);\r\n        self._super(settings);\r\n        self.classes.add('dropzone');\r\n        if (settings.multiple) {\r\n          self.classes.add('multiple');\r\n        }\r\n      },\r\n      renderHtml: function () {\r\n        var self = this;\r\n        var attrs, elm;\r\n        var cfg = self.settings;\r\n        attrs = {\r\n          id: self._id,\r\n          hidefocus: '1'\r\n        };\r\n        elm = funcs.create('div', attrs, '<span>' + this.translate(cfg.text) + '</span>');\r\n        if (cfg.height) {\r\n          funcs.css(elm, 'height', cfg.height + 'px');\r\n        }\r\n        if (cfg.width) {\r\n          funcs.css(elm, 'width', cfg.width + 'px');\r\n        }\r\n        elm.className = self.classes;\r\n        return elm.outerHTML;\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        var toggleDragClass = function (e) {\r\n          e.preventDefault();\r\n          self.classes.toggle('dragenter');\r\n          self.getEl().className = self.classes;\r\n        };\r\n        var filter = function (files) {\r\n          var accept = self.settings.accept;\r\n          if (typeof accept !== 'string') {\r\n            return files;\r\n          }\r\n          var re = new RegExp('(' + accept.split(/\\s*,\\s*/).join('|') + ')$', 'i');\r\n          return global$2.grep(files, function (file) {\r\n            return re.test(file.name);\r\n          });\r\n        };\r\n        self._super();\r\n        self.$el.on('dragover', function (e) {\r\n          e.preventDefault();\r\n        });\r\n        self.$el.on('dragenter', toggleDragClass);\r\n        self.$el.on('dragleave', toggleDragClass);\r\n        self.$el.on('drop', function (e) {\r\n          e.preventDefault();\r\n          if (self.state.get('disabled')) {\r\n            return;\r\n          }\r\n          var files = filter(e.dataTransfer.files);\r\n          self.value = function () {\r\n            if (!files.length) {\r\n              return null;\r\n            } else if (self.settings.multiple) {\r\n              return files;\r\n            } else {\r\n              return files[0];\r\n            }\r\n          };\r\n          if (files.length) {\r\n            self.fire('change', e);\r\n          }\r\n        });\r\n      },\r\n      remove: function () {\r\n        this.$el.off();\r\n        this._super();\r\n      }\r\n    });\r\n\r\n    var Path = Widget.extend({\r\n      init: function (settings) {\r\n        var self = this;\r\n        if (!settings.delimiter) {\r\n          settings.delimiter = '\\xBB';\r\n        }\r\n        self._super(settings);\r\n        self.classes.add('path');\r\n        self.canFocus = true;\r\n        self.on('click', function (e) {\r\n          var index;\r\n          var target = e.target;\r\n          if (index = target.getAttribute('data-index')) {\r\n            self.fire('select', {\r\n              value: self.row()[index],\r\n              index: index\r\n            });\r\n          }\r\n        });\r\n        self.row(self.settings.row);\r\n      },\r\n      focus: function () {\r\n        var self = this;\r\n        self.getEl().firstChild.focus();\r\n        return self;\r\n      },\r\n      row: function (row) {\r\n        if (!arguments.length) {\r\n          return this.state.get('row');\r\n        }\r\n        this.state.set('row', row);\r\n        return this;\r\n      },\r\n      renderHtml: function () {\r\n        var self = this;\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + self._getDataPathHtml(self.state.get('row')) + '</div>';\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        self.state.on('change:row', function (e) {\r\n          self.innerHtml(self._getDataPathHtml(e.value));\r\n        });\r\n        return self._super();\r\n      },\r\n      _getDataPathHtml: function (data) {\r\n        var self = this;\r\n        var parts = data || [];\r\n        var i, l, html = '';\r\n        var prefix = self.classPrefix;\r\n        for (i = 0, l = parts.length; i < l; i++) {\r\n          html += (i > 0 ? '<div class=\"' + prefix + 'divider\" aria-hidden=\"true\"> ' + self.settings.delimiter + ' </div>' : '') + '<div role=\"button\" class=\"' + prefix + 'path-item' + (i === l - 1 ? ' ' + prefix + 'last' : '') + '\" data-index=\"' + i + '\" tabindex=\"-1\" id=\"' + self._id + '-' + i + '\" aria-level=\"' + (i + 1) + '\">' + parts[i].name + '</div>';\r\n        }\r\n        if (!html) {\r\n          html = '<div class=\"' + prefix + 'path-item\">\\xA0</div>';\r\n        }\r\n        return html;\r\n      }\r\n    });\r\n\r\n    var ElementPath = Path.extend({\r\n      postRender: function () {\r\n        var self = this, editor = self.settings.editor;\r\n        function isHidden(elm) {\r\n          if (elm.nodeType === 1) {\r\n            if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\r\n              return true;\r\n            }\r\n            if (elm.getAttribute('data-mce-type') === 'bookmark') {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        }\r\n        if (editor.settings.elementpath !== false) {\r\n          self.on('select', function (e) {\r\n            editor.focus();\r\n            editor.selection.select(this.row()[e.index].element);\r\n            editor.nodeChanged();\r\n          });\r\n          editor.on('nodeChange', function (e) {\r\n            var outParents = [];\r\n            var parents = e.parents;\r\n            var i = parents.length;\r\n            while (i--) {\r\n              if (parents[i].nodeType === 1 && !isHidden(parents[i])) {\r\n                var args = editor.fire('ResolveName', {\r\n                  name: parents[i].nodeName.toLowerCase(),\r\n                  target: parents[i]\r\n                });\r\n                if (!args.isDefaultPrevented()) {\r\n                  outParents.push({\r\n                    name: args.name,\r\n                    element: parents[i]\r\n                  });\r\n                }\r\n                if (args.isPropagationStopped()) {\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n            self.row(outParents);\r\n          });\r\n        }\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    var FormItem = Container.extend({\r\n      Defaults: {\r\n        layout: 'flex',\r\n        align: 'center',\r\n        defaults: { flex: 1 }\r\n      },\r\n      renderHtml: function () {\r\n        var self = this, layout = self._layout, prefix = self.classPrefix;\r\n        self.classes.add('formitem');\r\n        layout.preRender(self);\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + (self.settings.title ? '<div id=\"' + self._id + '-title\" class=\"' + prefix + 'title\">' + self.settings.title + '</div>' : '') + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\r\n      }\r\n    });\r\n\r\n    var Form = Container.extend({\r\n      Defaults: {\r\n        containerCls: 'form',\r\n        layout: 'flex',\r\n        direction: 'column',\r\n        align: 'stretch',\r\n        flex: 1,\r\n        padding: 15,\r\n        labelGap: 30,\r\n        spacing: 10,\r\n        callbacks: {\r\n          submit: function () {\r\n            this.submit();\r\n          }\r\n        }\r\n      },\r\n      preRender: function () {\r\n        var self = this, items = self.items();\r\n        if (!self.settings.formItemDefaults) {\r\n          self.settings.formItemDefaults = {\r\n            layout: 'flex',\r\n            autoResize: 'overflow',\r\n            defaults: { flex: 1 }\r\n          };\r\n        }\r\n        items.each(function (ctrl) {\r\n          var formItem;\r\n          var label = ctrl.settings.label;\r\n          if (label) {\r\n            formItem = new FormItem(global$2.extend({\r\n              items: {\r\n                type: 'label',\r\n                id: ctrl._id + '-l',\r\n                text: label,\r\n                flex: 0,\r\n                forId: ctrl._id,\r\n                disabled: ctrl.disabled()\r\n              }\r\n            }, self.settings.formItemDefaults));\r\n            formItem.type = 'formitem';\r\n            ctrl.aria('labelledby', ctrl._id + '-l');\r\n            if (typeof ctrl.settings.flex === 'undefined') {\r\n              ctrl.settings.flex = 1;\r\n            }\r\n            self.replace(ctrl, formItem);\r\n            formItem.add(ctrl);\r\n          }\r\n        });\r\n      },\r\n      submit: function () {\r\n        return this.fire('submit', { data: this.toJSON() });\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        self._super();\r\n        self.fromJSON(self.settings.data);\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        self._super();\r\n        function recalcLabels() {\r\n          var maxLabelWidth = 0;\r\n          var labels = [];\r\n          var i, labelGap, items;\r\n          if (self.settings.labelGapCalc === false) {\r\n            return;\r\n          }\r\n          if (self.settings.labelGapCalc === 'children') {\r\n            items = self.find('formitem');\r\n          } else {\r\n            items = self.items();\r\n          }\r\n          items.filter('formitem').each(function (item) {\r\n            var labelCtrl = item.items()[0], labelWidth = labelCtrl.getEl().clientWidth;\r\n            maxLabelWidth = labelWidth > maxLabelWidth ? labelWidth : maxLabelWidth;\r\n            labels.push(labelCtrl);\r\n          });\r\n          labelGap = self.settings.labelGap || 0;\r\n          i = labels.length;\r\n          while (i--) {\r\n            labels[i].settings.minWidth = maxLabelWidth + labelGap;\r\n          }\r\n        }\r\n        self.on('show', recalcLabels);\r\n        recalcLabels();\r\n      }\r\n    });\r\n\r\n    var FieldSet = Form.extend({\r\n      Defaults: {\r\n        containerCls: 'fieldset',\r\n        layout: 'flex',\r\n        direction: 'column',\r\n        align: 'stretch',\r\n        flex: 1,\r\n        padding: '25 15 5 15',\r\n        labelGap: 30,\r\n        spacing: 10,\r\n        border: 1\r\n      },\r\n      renderHtml: function () {\r\n        var self = this, layout = self._layout, prefix = self.classPrefix;\r\n        self.preRender();\r\n        layout.preRender(self);\r\n        return '<fieldset id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + (self.settings.title ? '<legend id=\"' + self._id + '-title\" class=\"' + prefix + 'fieldset-title\">' + self.settings.title + '</legend>' : '') + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</fieldset>';\r\n      }\r\n    });\r\n\r\n    var unique$1 = 0;\r\n    var generate = function (prefix) {\r\n      var date = new Date();\r\n      var time = date.getTime();\r\n      var random = Math.floor(Math.random() * 1000000000);\r\n      unique$1++;\r\n      return prefix + '_' + random + unique$1 + String(time);\r\n    };\r\n\r\n    var fromHtml = function (html, scope) {\r\n      var doc = scope || document;\r\n      var div = doc.createElement('div');\r\n      div.innerHTML = html;\r\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\r\n        console.error('HTML does not have a single root node', html);\r\n        throw new Error('HTML must have a single root node');\r\n      }\r\n      return fromDom(div.childNodes[0]);\r\n    };\r\n    var fromTag = function (tag, scope) {\r\n      var doc = scope || document;\r\n      var node = doc.createElement(tag);\r\n      return fromDom(node);\r\n    };\r\n    var fromText = function (text, scope) {\r\n      var doc = scope || document;\r\n      var node = doc.createTextNode(text);\r\n      return fromDom(node);\r\n    };\r\n    var fromDom = function (node) {\r\n      if (node === null || node === undefined) {\r\n        throw new Error('Node cannot be null or undefined');\r\n      }\r\n      return { dom: constant(node) };\r\n    };\r\n    var fromPoint = function (docElm, x, y) {\r\n      var doc = docElm.dom();\r\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\r\n    };\r\n    var Element$$1 = {\r\n      fromHtml: fromHtml,\r\n      fromTag: fromTag,\r\n      fromText: fromText,\r\n      fromDom: fromDom,\r\n      fromPoint: fromPoint\r\n    };\r\n\r\n    var cached = function (f) {\r\n      var called = false;\r\n      var r;\r\n      return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          args[_i] = arguments[_i];\r\n        }\r\n        if (!called) {\r\n          called = true;\r\n          r = f.apply(null, args);\r\n        }\r\n        return r;\r\n      };\r\n    };\r\n\r\n    var ATTRIBUTE = Node.ATTRIBUTE_NODE;\r\n    var CDATA_SECTION = Node.CDATA_SECTION_NODE;\r\n    var COMMENT = Node.COMMENT_NODE;\r\n    var DOCUMENT = Node.DOCUMENT_NODE;\r\n    var DOCUMENT_TYPE = Node.DOCUMENT_TYPE_NODE;\r\n    var DOCUMENT_FRAGMENT = Node.DOCUMENT_FRAGMENT_NODE;\r\n    var ELEMENT = Node.ELEMENT_NODE;\r\n    var TEXT = Node.TEXT_NODE;\r\n    var PROCESSING_INSTRUCTION = Node.PROCESSING_INSTRUCTION_NODE;\r\n    var ENTITY_REFERENCE = Node.ENTITY_REFERENCE_NODE;\r\n    var ENTITY = Node.ENTITY_NODE;\r\n    var NOTATION = Node.NOTATION_NODE;\r\n\r\n    var Immutable = function () {\r\n      var fields = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n        fields[_i] = arguments[_i];\r\n      }\r\n      return function () {\r\n        var values = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          values[_i] = arguments[_i];\r\n        }\r\n        if (fields.length !== values.length) {\r\n          throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\r\n        }\r\n        var struct = {};\r\n        each(fields, function (name, i) {\r\n          struct[name] = constant(values[i]);\r\n        });\r\n        return struct;\r\n      };\r\n    };\r\n\r\n    var Global = typeof window !== 'undefined' ? window : Function('return this;')();\r\n\r\n    var path = function (parts, scope) {\r\n      var o = scope !== undefined && scope !== null ? scope : Global;\r\n      for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i)\r\n        o = o[parts[i]];\r\n      return o;\r\n    };\r\n    var resolve = function (p, scope) {\r\n      var parts = p.split('.');\r\n      return path(parts, scope);\r\n    };\r\n\r\n    var unsafe = function (name, scope) {\r\n      return resolve(name, scope);\r\n    };\r\n    var getOrDie = function (name, scope) {\r\n      var actual = unsafe(name, scope);\r\n      if (actual === undefined || actual === null)\r\n        throw name + ' not available on this browser';\r\n      return actual;\r\n    };\r\n    var Global$1 = { getOrDie: getOrDie };\r\n\r\n    var node = function () {\r\n      var f = Global$1.getOrDie('Node');\r\n      return f;\r\n    };\r\n    var compareDocumentPosition = function (a, b, match) {\r\n      return (a.compareDocumentPosition(b) & match) !== 0;\r\n    };\r\n    var documentPositionPreceding = function (a, b) {\r\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);\r\n    };\r\n    var documentPositionContainedBy = function (a, b) {\r\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);\r\n    };\r\n    var Node$1 = {\r\n      documentPositionPreceding: documentPositionPreceding,\r\n      documentPositionContainedBy: documentPositionContainedBy\r\n    };\r\n\r\n    var firstMatch = function (regexes, s) {\r\n      for (var i = 0; i < regexes.length; i++) {\r\n        var x = regexes[i];\r\n        if (x.test(s))\r\n          return x;\r\n      }\r\n      return undefined;\r\n    };\r\n    var find$2 = function (regexes, agent) {\r\n      var r = firstMatch(regexes, agent);\r\n      if (!r)\r\n        return {\r\n          major: 0,\r\n          minor: 0\r\n        };\r\n      var group = function (i) {\r\n        return Number(agent.replace(r, '$' + i));\r\n      };\r\n      return nu(group(1), group(2));\r\n    };\r\n    var detect = function (versionRegexes, agent) {\r\n      var cleanedAgent = String(agent).toLowerCase();\r\n      if (versionRegexes.length === 0)\r\n        return unknown();\r\n      return find$2(versionRegexes, cleanedAgent);\r\n    };\r\n    var unknown = function () {\r\n      return nu(0, 0);\r\n    };\r\n    var nu = function (major, minor) {\r\n      return {\r\n        major: major,\r\n        minor: minor\r\n      };\r\n    };\r\n    var Version = {\r\n      nu: nu,\r\n      detect: detect,\r\n      unknown: unknown\r\n    };\r\n\r\n    var edge = 'Edge';\r\n    var chrome = 'Chrome';\r\n    var ie = 'IE';\r\n    var opera = 'Opera';\r\n    var firefox = 'Firefox';\r\n    var safari = 'Safari';\r\n    var isBrowser = function (name, current) {\r\n      return function () {\r\n        return current === name;\r\n      };\r\n    };\r\n    var unknown$1 = function () {\r\n      return nu$1({\r\n        current: undefined,\r\n        version: Version.unknown()\r\n      });\r\n    };\r\n    var nu$1 = function (info) {\r\n      var current = info.current;\r\n      var version = info.version;\r\n      return {\r\n        current: current,\r\n        version: version,\r\n        isEdge: isBrowser(edge, current),\r\n        isChrome: isBrowser(chrome, current),\r\n        isIE: isBrowser(ie, current),\r\n        isOpera: isBrowser(opera, current),\r\n        isFirefox: isBrowser(firefox, current),\r\n        isSafari: isBrowser(safari, current)\r\n      };\r\n    };\r\n    var Browser = {\r\n      unknown: unknown$1,\r\n      nu: nu$1,\r\n      edge: constant(edge),\r\n      chrome: constant(chrome),\r\n      ie: constant(ie),\r\n      opera: constant(opera),\r\n      firefox: constant(firefox),\r\n      safari: constant(safari)\r\n    };\r\n\r\n    var windows$1 = 'Windows';\r\n    var ios = 'iOS';\r\n    var android = 'Android';\r\n    var linux = 'Linux';\r\n    var osx = 'OSX';\r\n    var solaris = 'Solaris';\r\n    var freebsd = 'FreeBSD';\r\n    var isOS = function (name, current) {\r\n      return function () {\r\n        return current === name;\r\n      };\r\n    };\r\n    var unknown$2 = function () {\r\n      return nu$2({\r\n        current: undefined,\r\n        version: Version.unknown()\r\n      });\r\n    };\r\n    var nu$2 = function (info) {\r\n      var current = info.current;\r\n      var version = info.version;\r\n      return {\r\n        current: current,\r\n        version: version,\r\n        isWindows: isOS(windows$1, current),\r\n        isiOS: isOS(ios, current),\r\n        isAndroid: isOS(android, current),\r\n        isOSX: isOS(osx, current),\r\n        isLinux: isOS(linux, current),\r\n        isSolaris: isOS(solaris, current),\r\n        isFreeBSD: isOS(freebsd, current)\r\n      };\r\n    };\r\n    var OperatingSystem = {\r\n      unknown: unknown$2,\r\n      nu: nu$2,\r\n      windows: constant(windows$1),\r\n      ios: constant(ios),\r\n      android: constant(android),\r\n      linux: constant(linux),\r\n      osx: constant(osx),\r\n      solaris: constant(solaris),\r\n      freebsd: constant(freebsd)\r\n    };\r\n\r\n    var DeviceType = function (os, browser, userAgent) {\r\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\r\n      var isiPhone = os.isiOS() && !isiPad;\r\n      var isAndroid3 = os.isAndroid() && os.version.major === 3;\r\n      var isAndroid4 = os.isAndroid() && os.version.major === 4;\r\n      var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\r\n      var isTouch = os.isiOS() || os.isAndroid();\r\n      var isPhone = isTouch && !isTablet;\r\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\r\n      return {\r\n        isiPad: constant(isiPad),\r\n        isiPhone: constant(isiPhone),\r\n        isTablet: constant(isTablet),\r\n        isPhone: constant(isPhone),\r\n        isTouch: constant(isTouch),\r\n        isAndroid: os.isAndroid,\r\n        isiOS: os.isiOS,\r\n        isWebView: constant(iOSwebview)\r\n      };\r\n    };\r\n\r\n    var detect$1 = function (candidates, userAgent) {\r\n      var agent = String(userAgent).toLowerCase();\r\n      return find(candidates, function (candidate) {\r\n        return candidate.search(agent);\r\n      });\r\n    };\r\n    var detectBrowser = function (browsers, userAgent) {\r\n      return detect$1(browsers, userAgent).map(function (browser) {\r\n        var version = Version.detect(browser.versionRegexes, userAgent);\r\n        return {\r\n          current: browser.name,\r\n          version: version\r\n        };\r\n      });\r\n    };\r\n    var detectOs = function (oses, userAgent) {\r\n      return detect$1(oses, userAgent).map(function (os) {\r\n        var version = Version.detect(os.versionRegexes, userAgent);\r\n        return {\r\n          current: os.name,\r\n          version: version\r\n        };\r\n      });\r\n    };\r\n    var UaString = {\r\n      detectBrowser: detectBrowser,\r\n      detectOs: detectOs\r\n    };\r\n\r\n    var contains$1 = function (str, substr) {\r\n      return str.indexOf(substr) !== -1;\r\n    };\r\n\r\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\r\n    var checkContains = function (target) {\r\n      return function (uastring) {\r\n        return contains$1(uastring, target);\r\n      };\r\n    };\r\n    var browsers = [\r\n      {\r\n        name: 'Edge',\r\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\r\n        search: function (uastring) {\r\n          var monstrosity = contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\r\n          return monstrosity;\r\n        }\r\n      },\r\n      {\r\n        name: 'Chrome',\r\n        versionRegexes: [\r\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\r\n          normalVersionRegex\r\n        ],\r\n        search: function (uastring) {\r\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\r\n        }\r\n      },\r\n      {\r\n        name: 'IE',\r\n        versionRegexes: [\r\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\r\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\r\n        ],\r\n        search: function (uastring) {\r\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\r\n        }\r\n      },\r\n      {\r\n        name: 'Opera',\r\n        versionRegexes: [\r\n          normalVersionRegex,\r\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\r\n        ],\r\n        search: checkContains('opera')\r\n      },\r\n      {\r\n        name: 'Firefox',\r\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\r\n        search: checkContains('firefox')\r\n      },\r\n      {\r\n        name: 'Safari',\r\n        versionRegexes: [\r\n          normalVersionRegex,\r\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\r\n        ],\r\n        search: function (uastring) {\r\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\r\n        }\r\n      }\r\n    ];\r\n    var oses = [\r\n      {\r\n        name: 'Windows',\r\n        search: checkContains('win'),\r\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\r\n      },\r\n      {\r\n        name: 'iOS',\r\n        search: function (uastring) {\r\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\r\n        },\r\n        versionRegexes: [\r\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\r\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\r\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\r\n        ]\r\n      },\r\n      {\r\n        name: 'Android',\r\n        search: checkContains('android'),\r\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\r\n      },\r\n      {\r\n        name: 'OSX',\r\n        search: checkContains('os x'),\r\n        versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\r\n      },\r\n      {\r\n        name: 'Linux',\r\n        search: checkContains('linux'),\r\n        versionRegexes: []\r\n      },\r\n      {\r\n        name: 'Solaris',\r\n        search: checkContains('sunos'),\r\n        versionRegexes: []\r\n      },\r\n      {\r\n        name: 'FreeBSD',\r\n        search: checkContains('freebsd'),\r\n        versionRegexes: []\r\n      }\r\n    ];\r\n    var PlatformInfo = {\r\n      browsers: constant(browsers),\r\n      oses: constant(oses)\r\n    };\r\n\r\n    var detect$2 = function (userAgent) {\r\n      var browsers = PlatformInfo.browsers();\r\n      var oses = PlatformInfo.oses();\r\n      var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\r\n      var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\r\n      var deviceType = DeviceType(os, browser, userAgent);\r\n      return {\r\n        browser: browser,\r\n        os: os,\r\n        deviceType: deviceType\r\n      };\r\n    };\r\n    var PlatformDetection = { detect: detect$2 };\r\n\r\n    var detect$3 = cached(function () {\r\n      var userAgent = navigator.userAgent;\r\n      return PlatformDetection.detect(userAgent);\r\n    });\r\n    var PlatformDetection$1 = { detect: detect$3 };\r\n\r\n    var ELEMENT$1 = ELEMENT;\r\n    var DOCUMENT$1 = DOCUMENT;\r\n    var bypassSelector = function (dom) {\r\n      return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;\r\n    };\r\n    var all = function (selector, scope) {\r\n      var base = scope === undefined ? document : scope.dom();\r\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element$$1.fromDom);\r\n    };\r\n    var one = function (selector, scope) {\r\n      var base = scope === undefined ? document : scope.dom();\r\n      return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element$$1.fromDom);\r\n    };\r\n\r\n    var regularContains = function (e1, e2) {\r\n      var d1 = e1.dom();\r\n      var d2 = e2.dom();\r\n      return d1 === d2 ? false : d1.contains(d2);\r\n    };\r\n    var ieContains = function (e1, e2) {\r\n      return Node$1.documentPositionContainedBy(e1.dom(), e2.dom());\r\n    };\r\n    var browser = PlatformDetection$1.detect().browser;\r\n    var contains$2 = browser.isIE() ? ieContains : regularContains;\r\n\r\n    var spot = Immutable('element', 'offset');\r\n\r\n    var descendants$1 = function (scope, selector) {\r\n      return all(selector, scope);\r\n    };\r\n\r\n    var trim$1 = global$2.trim;\r\n    var hasContentEditableState = function (value) {\r\n      return function (node) {\r\n        if (node && node.nodeType === 1) {\r\n          if (node.contentEditable === value) {\r\n            return true;\r\n          }\r\n          if (node.getAttribute('data-mce-contenteditable') === value) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      };\r\n    };\r\n    var isContentEditableTrue = hasContentEditableState('true');\r\n    var isContentEditableFalse = hasContentEditableState('false');\r\n    var create = function (type, title, url, level, attach) {\r\n      return {\r\n        type: type,\r\n        title: title,\r\n        url: url,\r\n        level: level,\r\n        attach: attach\r\n      };\r\n    };\r\n    var isChildOfContentEditableTrue = function (node) {\r\n      while (node = node.parentNode) {\r\n        var value = node.contentEditable;\r\n        if (value && value !== 'inherit') {\r\n          return isContentEditableTrue(node);\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    var select = function (selector, root) {\r\n      return map(descendants$1(Element$$1.fromDom(root), selector), function (element) {\r\n        return element.dom();\r\n      });\r\n    };\r\n    var getElementText = function (elm) {\r\n      return elm.innerText || elm.textContent;\r\n    };\r\n    var getOrGenerateId = function (elm) {\r\n      return elm.id ? elm.id : generate('h');\r\n    };\r\n    var isAnchor = function (elm) {\r\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name);\r\n    };\r\n    var isValidAnchor = function (elm) {\r\n      return isAnchor(elm) && isEditable(elm);\r\n    };\r\n    var isHeader = function (elm) {\r\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\r\n    };\r\n    var isEditable = function (elm) {\r\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\r\n    };\r\n    var isValidHeader = function (elm) {\r\n      return isHeader(elm) && isEditable(elm);\r\n    };\r\n    var getLevel = function (elm) {\r\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\r\n    };\r\n    var headerTarget = function (elm) {\r\n      var headerId = getOrGenerateId(elm);\r\n      var attach = function () {\r\n        elm.id = headerId;\r\n      };\r\n      return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\r\n    };\r\n    var anchorTarget = function (elm) {\r\n      var anchorId = elm.id || elm.name;\r\n      var anchorText = getElementText(elm);\r\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\r\n    };\r\n    var getHeaderTargets = function (elms) {\r\n      return map(filter(elms, isValidHeader), headerTarget);\r\n    };\r\n    var getAnchorTargets = function (elms) {\r\n      return map(filter(elms, isValidAnchor), anchorTarget);\r\n    };\r\n    var getTargetElements = function (elm) {\r\n      var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\r\n      return elms;\r\n    };\r\n    var hasTitle = function (target) {\r\n      return trim$1(target.title).length > 0;\r\n    };\r\n    var find$3 = function (elm) {\r\n      var elms = getTargetElements(elm);\r\n      return filter(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\r\n    };\r\n    var LinkTargets = { find: find$3 };\r\n\r\n    var getActiveEditor = function () {\r\n      return window.tinymce ? window.tinymce.activeEditor : global$1.activeEditor;\r\n    };\r\n    var history = {};\r\n    var HISTORY_LENGTH = 5;\r\n    var clearHistory = function () {\r\n      history = {};\r\n    };\r\n    var toMenuItem = function (target) {\r\n      return {\r\n        title: target.title,\r\n        value: {\r\n          title: { raw: target.title },\r\n          url: target.url,\r\n          attach: target.attach\r\n        }\r\n      };\r\n    };\r\n    var toMenuItems = function (targets) {\r\n      return global$2.map(targets, toMenuItem);\r\n    };\r\n    var staticMenuItem = function (title, url) {\r\n      return {\r\n        title: title,\r\n        value: {\r\n          title: title,\r\n          url: url,\r\n          attach: noop\r\n        }\r\n      };\r\n    };\r\n    var isUniqueUrl = function (url, targets) {\r\n      var foundTarget = exists(targets, function (target) {\r\n        return target.url === url;\r\n      });\r\n      return !foundTarget;\r\n    };\r\n    var getSetting = function (editorSettings, name, defaultValue) {\r\n      var value = name in editorSettings ? editorSettings[name] : defaultValue;\r\n      return value === false ? null : value;\r\n    };\r\n    var createMenuItems = function (term, targets, fileType, editorSettings) {\r\n      var separator = { title: '-' };\r\n      var fromHistoryMenuItems = function (history) {\r\n        var historyItems = history.hasOwnProperty(fileType) ? history[fileType] : [];\r\n        var uniqueHistory = filter(historyItems, function (url) {\r\n          return isUniqueUrl(url, targets);\r\n        });\r\n        return global$2.map(uniqueHistory, function (url) {\r\n          return {\r\n            title: url,\r\n            value: {\r\n              title: url,\r\n              url: url,\r\n              attach: noop\r\n            }\r\n          };\r\n        });\r\n      };\r\n      var fromMenuItems = function (type) {\r\n        var filteredTargets = filter(targets, function (target) {\r\n          return target.type === type;\r\n        });\r\n        return toMenuItems(filteredTargets);\r\n      };\r\n      var anchorMenuItems = function () {\r\n        var anchorMenuItems = fromMenuItems('anchor');\r\n        var topAnchor = getSetting(editorSettings, 'anchor_top', '#top');\r\n        var bottomAchor = getSetting(editorSettings, 'anchor_bottom', '#bottom');\r\n        if (topAnchor !== null) {\r\n          anchorMenuItems.unshift(staticMenuItem('<top>', topAnchor));\r\n        }\r\n        if (bottomAchor !== null) {\r\n          anchorMenuItems.push(staticMenuItem('<bottom>', bottomAchor));\r\n        }\r\n        return anchorMenuItems;\r\n      };\r\n      var join = function (items) {\r\n        return foldl(items, function (a, b) {\r\n          var bothEmpty = a.length === 0 || b.length === 0;\r\n          return bothEmpty ? a.concat(b) : a.concat(separator, b);\r\n        }, []);\r\n      };\r\n      if (editorSettings.typeahead_urls === false) {\r\n        return [];\r\n      }\r\n      return fileType === 'file' ? join([\r\n        filterByQuery(term, fromHistoryMenuItems(history)),\r\n        filterByQuery(term, fromMenuItems('header')),\r\n        filterByQuery(term, anchorMenuItems())\r\n      ]) : filterByQuery(term, fromHistoryMenuItems(history));\r\n    };\r\n    var addToHistory = function (url, fileType) {\r\n      var items = history[fileType];\r\n      if (!/^https?/.test(url)) {\r\n        return;\r\n      }\r\n      if (items) {\r\n        if (indexOf(items, url).isNone()) {\r\n          history[fileType] = items.slice(0, HISTORY_LENGTH).concat(url);\r\n        }\r\n      } else {\r\n        history[fileType] = [url];\r\n      }\r\n    };\r\n    var filterByQuery = function (term, menuItems) {\r\n      var lowerCaseTerm = term.toLowerCase();\r\n      var result = global$2.grep(menuItems, function (item) {\r\n        return item.title.toLowerCase().indexOf(lowerCaseTerm) !== -1;\r\n      });\r\n      return result.length === 1 && result[0].title === term ? [] : result;\r\n    };\r\n    var getTitle = function (linkDetails) {\r\n      var title = linkDetails.title;\r\n      return title.raw ? title.raw : title;\r\n    };\r\n    var setupAutoCompleteHandler = function (ctrl, editorSettings, bodyElm, fileType) {\r\n      var autocomplete = function (term) {\r\n        var linkTargets = LinkTargets.find(bodyElm);\r\n        var menuItems = createMenuItems(term, linkTargets, fileType, editorSettings);\r\n        ctrl.showAutoComplete(menuItems, term);\r\n      };\r\n      ctrl.on('autocomplete', function () {\r\n        autocomplete(ctrl.value());\r\n      });\r\n      ctrl.on('selectitem', function (e) {\r\n        var linkDetails = e.value;\r\n        ctrl.value(linkDetails.url);\r\n        var title = getTitle(linkDetails);\r\n        if (fileType === 'image') {\r\n          ctrl.fire('change', {\r\n            meta: {\r\n              alt: title,\r\n              attach: linkDetails.attach\r\n            }\r\n          });\r\n        } else {\r\n          ctrl.fire('change', {\r\n            meta: {\r\n              text: title,\r\n              attach: linkDetails.attach\r\n            }\r\n          });\r\n        }\r\n        ctrl.focus();\r\n      });\r\n      ctrl.on('click', function (e) {\r\n        if (ctrl.value().length === 0 && e.target.nodeName === 'INPUT') {\r\n          autocomplete('');\r\n        }\r\n      });\r\n      ctrl.on('PostRender', function () {\r\n        ctrl.getRoot().on('submit', function (e) {\r\n          if (!e.isDefaultPrevented()) {\r\n            addToHistory(ctrl.value(), fileType);\r\n          }\r\n        });\r\n      });\r\n    };\r\n    var statusToUiState = function (result) {\r\n      var status = result.status, message = result.message;\r\n      if (status === 'valid') {\r\n        return {\r\n          status: 'ok',\r\n          message: message\r\n        };\r\n      } else if (status === 'unknown') {\r\n        return {\r\n          status: 'warn',\r\n          message: message\r\n        };\r\n      } else if (status === 'invalid') {\r\n        return {\r\n          status: 'warn',\r\n          message: message\r\n        };\r\n      } else {\r\n        return {\r\n          status: 'none',\r\n          message: ''\r\n        };\r\n      }\r\n    };\r\n    var setupLinkValidatorHandler = function (ctrl, editorSettings, fileType) {\r\n      var validatorHandler = editorSettings.filepicker_validator_handler;\r\n      if (validatorHandler) {\r\n        var validateUrl_1 = function (url) {\r\n          if (url.length === 0) {\r\n            ctrl.statusLevel('none');\r\n            return;\r\n          }\r\n          validatorHandler({\r\n            url: url,\r\n            type: fileType\r\n          }, function (result) {\r\n            var uiState = statusToUiState(result);\r\n            ctrl.statusMessage(uiState.message);\r\n            ctrl.statusLevel(uiState.status);\r\n          });\r\n        };\r\n        ctrl.state.on('change:value', function (e) {\r\n          validateUrl_1(e.value);\r\n        });\r\n      }\r\n    };\r\n    var FilePicker = ComboBox.extend({\r\n      Statics: { clearHistory: clearHistory },\r\n      init: function (settings) {\r\n        var self = this, editor = getActiveEditor(), editorSettings = editor.settings;\r\n        var actionCallback, fileBrowserCallback, fileBrowserCallbackTypes;\r\n        var fileType = settings.filetype;\r\n        settings.spellcheck = false;\r\n        fileBrowserCallbackTypes = editorSettings.file_picker_types || editorSettings.file_browser_callback_types;\r\n        if (fileBrowserCallbackTypes) {\r\n          fileBrowserCallbackTypes = global$2.makeMap(fileBrowserCallbackTypes, /[, ]/);\r\n        }\r\n        if (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType]) {\r\n          fileBrowserCallback = editorSettings.file_picker_callback;\r\n          if (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {\r\n            actionCallback = function () {\r\n              var meta = self.fire('beforecall').meta;\r\n              meta = global$2.extend({ filetype: fileType }, meta);\r\n              fileBrowserCallback.call(editor, function (value, meta) {\r\n                self.value(value).fire('change', { meta: meta });\r\n              }, self.value(), meta);\r\n            };\r\n          } else {\r\n            fileBrowserCallback = editorSettings.file_browser_callback;\r\n            if (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {\r\n              actionCallback = function () {\r\n                fileBrowserCallback(self.getEl('inp').id, self.value(), fileType, window);\r\n              };\r\n            }\r\n          }\r\n        }\r\n        if (actionCallback) {\r\n          settings.icon = 'browse';\r\n          settings.onaction = actionCallback;\r\n        }\r\n        self._super(settings);\r\n        self.classes.add('filepicker');\r\n        setupAutoCompleteHandler(self, editorSettings, editor.getBody(), fileType);\r\n        setupLinkValidatorHandler(self, editorSettings, fileType);\r\n      }\r\n    });\r\n\r\n    var FitLayout = AbsoluteLayout.extend({\r\n      recalc: function (container) {\r\n        var contLayoutRect = container.layoutRect(), paddingBox = container.paddingBox;\r\n        container.items().filter(':visible').each(function (ctrl) {\r\n          ctrl.layoutRect({\r\n            x: paddingBox.left,\r\n            y: paddingBox.top,\r\n            w: contLayoutRect.innerW - paddingBox.right - paddingBox.left,\r\n            h: contLayoutRect.innerH - paddingBox.top - paddingBox.bottom\r\n          });\r\n          if (ctrl.recalc) {\r\n            ctrl.recalc();\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    var FlexLayout = AbsoluteLayout.extend({\r\n      recalc: function (container) {\r\n        var i, l, items, contLayoutRect, contPaddingBox, contSettings, align, pack, spacing, totalFlex, availableSpace, direction;\r\n        var ctrl, ctrlLayoutRect, ctrlSettings, flex;\r\n        var maxSizeItems = [];\r\n        var size, maxSize, ratio, rect, pos, maxAlignEndPos;\r\n        var sizeName, minSizeName, posName, maxSizeName, beforeName, innerSizeName, deltaSizeName, contentSizeName;\r\n        var alignAxisName, alignInnerSizeName, alignSizeName, alignMinSizeName, alignBeforeName, alignAfterName;\r\n        var alignDeltaSizeName, alignContentSizeName;\r\n        var max = Math.max, min = Math.min;\r\n        items = container.items().filter(':visible');\r\n        contLayoutRect = container.layoutRect();\r\n        contPaddingBox = container.paddingBox;\r\n        contSettings = container.settings;\r\n        direction = container.isRtl() ? contSettings.direction || 'row-reversed' : contSettings.direction;\r\n        align = contSettings.align;\r\n        pack = container.isRtl() ? contSettings.pack || 'end' : contSettings.pack;\r\n        spacing = contSettings.spacing || 0;\r\n        if (direction === 'row-reversed' || direction === 'column-reverse') {\r\n          items = items.set(items.toArray().reverse());\r\n          direction = direction.split('-')[0];\r\n        }\r\n        if (direction === 'column') {\r\n          posName = 'y';\r\n          sizeName = 'h';\r\n          minSizeName = 'minH';\r\n          maxSizeName = 'maxH';\r\n          innerSizeName = 'innerH';\r\n          beforeName = 'top';\r\n          deltaSizeName = 'deltaH';\r\n          contentSizeName = 'contentH';\r\n          alignBeforeName = 'left';\r\n          alignSizeName = 'w';\r\n          alignAxisName = 'x';\r\n          alignInnerSizeName = 'innerW';\r\n          alignMinSizeName = 'minW';\r\n          alignAfterName = 'right';\r\n          alignDeltaSizeName = 'deltaW';\r\n          alignContentSizeName = 'contentW';\r\n        } else {\r\n          posName = 'x';\r\n          sizeName = 'w';\r\n          minSizeName = 'minW';\r\n          maxSizeName = 'maxW';\r\n          innerSizeName = 'innerW';\r\n          beforeName = 'left';\r\n          deltaSizeName = 'deltaW';\r\n          contentSizeName = 'contentW';\r\n          alignBeforeName = 'top';\r\n          alignSizeName = 'h';\r\n          alignAxisName = 'y';\r\n          alignInnerSizeName = 'innerH';\r\n          alignMinSizeName = 'minH';\r\n          alignAfterName = 'bottom';\r\n          alignDeltaSizeName = 'deltaH';\r\n          alignContentSizeName = 'contentH';\r\n        }\r\n        availableSpace = contLayoutRect[innerSizeName] - contPaddingBox[beforeName] - contPaddingBox[beforeName];\r\n        maxAlignEndPos = totalFlex = 0;\r\n        for (i = 0, l = items.length; i < l; i++) {\r\n          ctrl = items[i];\r\n          ctrlLayoutRect = ctrl.layoutRect();\r\n          ctrlSettings = ctrl.settings;\r\n          flex = ctrlSettings.flex;\r\n          availableSpace -= i < l - 1 ? spacing : 0;\r\n          if (flex > 0) {\r\n            totalFlex += flex;\r\n            if (ctrlLayoutRect[maxSizeName]) {\r\n              maxSizeItems.push(ctrl);\r\n            }\r\n            ctrlLayoutRect.flex = flex;\r\n          }\r\n          availableSpace -= ctrlLayoutRect[minSizeName];\r\n          size = contPaddingBox[alignBeforeName] + ctrlLayoutRect[alignMinSizeName] + contPaddingBox[alignAfterName];\r\n          if (size > maxAlignEndPos) {\r\n            maxAlignEndPos = size;\r\n          }\r\n        }\r\n        rect = {};\r\n        if (availableSpace < 0) {\r\n          rect[minSizeName] = contLayoutRect[minSizeName] - availableSpace + contLayoutRect[deltaSizeName];\r\n        } else {\r\n          rect[minSizeName] = contLayoutRect[innerSizeName] - availableSpace + contLayoutRect[deltaSizeName];\r\n        }\r\n        rect[alignMinSizeName] = maxAlignEndPos + contLayoutRect[alignDeltaSizeName];\r\n        rect[contentSizeName] = contLayoutRect[innerSizeName] - availableSpace;\r\n        rect[alignContentSizeName] = maxAlignEndPos;\r\n        rect.minW = min(rect.minW, contLayoutRect.maxW);\r\n        rect.minH = min(rect.minH, contLayoutRect.maxH);\r\n        rect.minW = max(rect.minW, contLayoutRect.startMinWidth);\r\n        rect.minH = max(rect.minH, contLayoutRect.startMinHeight);\r\n        if (contLayoutRect.autoResize && (rect.minW !== contLayoutRect.minW || rect.minH !== contLayoutRect.minH)) {\r\n          rect.w = rect.minW;\r\n          rect.h = rect.minH;\r\n          container.layoutRect(rect);\r\n          this.recalc(container);\r\n          if (container._lastRect === null) {\r\n            var parentCtrl = container.parent();\r\n            if (parentCtrl) {\r\n              parentCtrl._lastRect = null;\r\n              parentCtrl.recalc();\r\n            }\r\n          }\r\n          return;\r\n        }\r\n        ratio = availableSpace / totalFlex;\r\n        for (i = 0, l = maxSizeItems.length; i < l; i++) {\r\n          ctrl = maxSizeItems[i];\r\n          ctrlLayoutRect = ctrl.layoutRect();\r\n          maxSize = ctrlLayoutRect[maxSizeName];\r\n          size = ctrlLayoutRect[minSizeName] + ctrlLayoutRect.flex * ratio;\r\n          if (size > maxSize) {\r\n            availableSpace -= ctrlLayoutRect[maxSizeName] - ctrlLayoutRect[minSizeName];\r\n            totalFlex -= ctrlLayoutRect.flex;\r\n            ctrlLayoutRect.flex = 0;\r\n            ctrlLayoutRect.maxFlexSize = maxSize;\r\n          } else {\r\n            ctrlLayoutRect.maxFlexSize = 0;\r\n          }\r\n        }\r\n        ratio = availableSpace / totalFlex;\r\n        pos = contPaddingBox[beforeName];\r\n        rect = {};\r\n        if (totalFlex === 0) {\r\n          if (pack === 'end') {\r\n            pos = availableSpace + contPaddingBox[beforeName];\r\n          } else if (pack === 'center') {\r\n            pos = Math.round(contLayoutRect[innerSizeName] / 2 - (contLayoutRect[innerSizeName] - availableSpace) / 2) + contPaddingBox[beforeName];\r\n            if (pos < 0) {\r\n              pos = contPaddingBox[beforeName];\r\n            }\r\n          } else if (pack === 'justify') {\r\n            pos = contPaddingBox[beforeName];\r\n            spacing = Math.floor(availableSpace / (items.length - 1));\r\n          }\r\n        }\r\n        rect[alignAxisName] = contPaddingBox[alignBeforeName];\r\n        for (i = 0, l = items.length; i < l; i++) {\r\n          ctrl = items[i];\r\n          ctrlLayoutRect = ctrl.layoutRect();\r\n          size = ctrlLayoutRect.maxFlexSize || ctrlLayoutRect[minSizeName];\r\n          if (align === 'center') {\r\n            rect[alignAxisName] = Math.round(contLayoutRect[alignInnerSizeName] / 2 - ctrlLayoutRect[alignSizeName] / 2);\r\n          } else if (align === 'stretch') {\r\n            rect[alignSizeName] = max(ctrlLayoutRect[alignMinSizeName] || 0, contLayoutRect[alignInnerSizeName] - contPaddingBox[alignBeforeName] - contPaddingBox[alignAfterName]);\r\n            rect[alignAxisName] = contPaddingBox[alignBeforeName];\r\n          } else if (align === 'end') {\r\n            rect[alignAxisName] = contLayoutRect[alignInnerSizeName] - ctrlLayoutRect[alignSizeName] - contPaddingBox.top;\r\n          }\r\n          if (ctrlLayoutRect.flex > 0) {\r\n            size += ctrlLayoutRect.flex * ratio;\r\n          }\r\n          rect[sizeName] = size;\r\n          rect[posName] = pos;\r\n          ctrl.layoutRect(rect);\r\n          if (ctrl.recalc) {\r\n            ctrl.recalc();\r\n          }\r\n          pos += size + spacing;\r\n        }\r\n      }\r\n    });\r\n\r\n    var FlowLayout = Layout.extend({\r\n      Defaults: {\r\n        containerClass: 'flow-layout',\r\n        controlClass: 'flow-layout-item',\r\n        endClass: 'break'\r\n      },\r\n      recalc: function (container) {\r\n        container.items().filter(':visible').each(function (ctrl) {\r\n          if (ctrl.recalc) {\r\n            ctrl.recalc();\r\n          }\r\n        });\r\n      },\r\n      isNative: function () {\r\n        return true;\r\n      }\r\n    });\r\n\r\n    var descendant$1 = function (scope, selector) {\r\n      return one(selector, scope);\r\n    };\r\n\r\n    var toggleFormat = function (editor, fmt) {\r\n      return function () {\r\n        editor.execCommand('mceToggleFormat', false, fmt);\r\n      };\r\n    };\r\n    var addFormatChangedListener = function (editor, name, changed) {\r\n      var handler = function (state) {\r\n        changed(state, name);\r\n      };\r\n      if (editor.formatter) {\r\n        editor.formatter.formatChanged(name, handler);\r\n      } else {\r\n        editor.on('init', function () {\r\n          editor.formatter.formatChanged(name, handler);\r\n        });\r\n      }\r\n    };\r\n    var postRenderFormatToggle = function (editor, name) {\r\n      return function (e) {\r\n        addFormatChangedListener(editor, name, function (state) {\r\n          e.control.active(state);\r\n        });\r\n      };\r\n    };\r\n\r\n    var register = function (editor) {\r\n      var alignFormats = [\r\n        'alignleft',\r\n        'aligncenter',\r\n        'alignright',\r\n        'alignjustify'\r\n      ];\r\n      var defaultAlign = 'alignleft';\r\n      var alignMenuItems = [\r\n        {\r\n          text: 'Left',\r\n          icon: 'alignleft',\r\n          onclick: toggleFormat(editor, 'alignleft')\r\n        },\r\n        {\r\n          text: 'Center',\r\n          icon: 'aligncenter',\r\n          onclick: toggleFormat(editor, 'aligncenter')\r\n        },\r\n        {\r\n          text: 'Right',\r\n          icon: 'alignright',\r\n          onclick: toggleFormat(editor, 'alignright')\r\n        },\r\n        {\r\n          text: 'Justify',\r\n          icon: 'alignjustify',\r\n          onclick: toggleFormat(editor, 'alignjustify')\r\n        }\r\n      ];\r\n      editor.addMenuItem('align', {\r\n        text: 'Align',\r\n        menu: alignMenuItems\r\n      });\r\n      editor.addButton('align', {\r\n        type: 'menubutton',\r\n        icon: defaultAlign,\r\n        menu: alignMenuItems,\r\n        onShowMenu: function (e) {\r\n          var menu = e.control.menu;\r\n          global$2.each(alignFormats, function (formatName, idx) {\r\n            menu.items().eq(idx).each(function (item) {\r\n              return item.active(editor.formatter.match(formatName));\r\n            });\r\n          });\r\n        },\r\n        onPostRender: function (e) {\r\n          var ctrl = e.control;\r\n          global$2.each(alignFormats, function (formatName, idx) {\r\n            addFormatChangedListener(editor, formatName, function (state) {\r\n              ctrl.icon(defaultAlign);\r\n              if (state) {\r\n                ctrl.icon(formatName);\r\n              }\r\n            });\r\n          });\r\n        }\r\n      });\r\n      global$2.each({\r\n        alignleft: [\r\n          'Align left',\r\n          'JustifyLeft'\r\n        ],\r\n        aligncenter: [\r\n          'Align center',\r\n          'JustifyCenter'\r\n        ],\r\n        alignright: [\r\n          'Align right',\r\n          'JustifyRight'\r\n        ],\r\n        alignjustify: [\r\n          'Justify',\r\n          'JustifyFull'\r\n        ],\r\n        alignnone: [\r\n          'No alignment',\r\n          'JustifyNone'\r\n        ]\r\n      }, function (item, name) {\r\n        editor.addButton(name, {\r\n          active: false,\r\n          tooltip: item[0],\r\n          cmd: item[1],\r\n          onPostRender: postRenderFormatToggle(editor, name)\r\n        });\r\n      });\r\n    };\r\n    var Align = { register: register };\r\n\r\n    var getFirstFont = function (fontFamily) {\r\n      return fontFamily ? fontFamily.split(',')[0] : '';\r\n    };\r\n    var findMatchingValue = function (items, fontFamily) {\r\n      var font = fontFamily ? fontFamily.toLowerCase() : '';\r\n      var value;\r\n      global$2.each(items, function (item) {\r\n        if (item.value.toLowerCase() === font) {\r\n          value = item.value;\r\n        }\r\n      });\r\n      global$2.each(items, function (item) {\r\n        if (!value && getFirstFont(item.value).toLowerCase() === getFirstFont(font).toLowerCase()) {\r\n          value = item.value;\r\n        }\r\n      });\r\n      return value;\r\n    };\r\n    var createFontNameListBoxChangeHandler = function (editor, items) {\r\n      return function () {\r\n        var self = this;\r\n        self.state.set('value', null);\r\n        editor.on('init nodeChange', function (e) {\r\n          var fontFamily = editor.queryCommandValue('FontName');\r\n          var match = findMatchingValue(items, fontFamily);\r\n          self.value(match ? match : null);\r\n          if (!match && fontFamily) {\r\n            self.text(getFirstFont(fontFamily));\r\n          }\r\n        });\r\n      };\r\n    };\r\n    var createFormats = function (formats) {\r\n      formats = formats.replace(/;$/, '').split(';');\r\n      var i = formats.length;\r\n      while (i--) {\r\n        formats[i] = formats[i].split('=');\r\n      }\r\n      return formats;\r\n    };\r\n    var getFontItems = function (editor) {\r\n      var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\r\n      var fonts = createFormats(editor.settings.font_formats || defaultFontsFormats);\r\n      return global$2.map(fonts, function (font) {\r\n        return {\r\n          text: { raw: font[0] },\r\n          value: font[1],\r\n          textStyle: font[1].indexOf('dings') === -1 ? 'font-family:' + font[1] : ''\r\n        };\r\n      });\r\n    };\r\n    var registerButtons = function (editor) {\r\n      editor.addButton('fontselect', function () {\r\n        var items = getFontItems(editor);\r\n        return {\r\n          type: 'listbox',\r\n          text: 'Font Family',\r\n          tooltip: 'Font Family',\r\n          values: items,\r\n          fixedWidth: true,\r\n          onPostRender: createFontNameListBoxChangeHandler(editor, items),\r\n          onselect: function (e) {\r\n            if (e.control.settings.value) {\r\n              editor.execCommand('FontName', false, e.control.settings.value);\r\n            }\r\n          }\r\n        };\r\n      });\r\n    };\r\n    var register$1 = function (editor) {\r\n      registerButtons(editor);\r\n    };\r\n    var FontSelect = { register: register$1 };\r\n\r\n    var round = function (number, precision) {\r\n      var factor = Math.pow(10, precision);\r\n      return Math.round(number * factor) / factor;\r\n    };\r\n    var toPt = function (fontSize, precision) {\r\n      if (/[0-9.]+px$/.test(fontSize)) {\r\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\r\n      }\r\n      return fontSize;\r\n    };\r\n    var findMatchingValue$1 = function (items, pt, px) {\r\n      var value;\r\n      global$2.each(items, function (item) {\r\n        if (item.value === px) {\r\n          value = px;\r\n        } else if (item.value === pt) {\r\n          value = pt;\r\n        }\r\n      });\r\n      return value;\r\n    };\r\n    var createFontSizeListBoxChangeHandler = function (editor, items) {\r\n      return function () {\r\n        var self = this;\r\n        editor.on('init nodeChange', function (e) {\r\n          var px, pt, precision, match;\r\n          px = editor.queryCommandValue('FontSize');\r\n          if (px) {\r\n            for (precision = 3; !match && precision >= 0; precision--) {\r\n              pt = toPt(px, precision);\r\n              match = findMatchingValue$1(items, pt, px);\r\n            }\r\n          }\r\n          self.value(match ? match : null);\r\n          if (!match) {\r\n            self.text(pt);\r\n          }\r\n        });\r\n      };\r\n    };\r\n    var getFontSizeItems = function (editor) {\r\n      var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\r\n      var fontsizeFormats = editor.settings.fontsize_formats || defaultFontsizeFormats;\r\n      return global$2.map(fontsizeFormats.split(' '), function (item) {\r\n        var text = item, value = item;\r\n        var values = item.split('=');\r\n        if (values.length > 1) {\r\n          text = values[0];\r\n          value = values[1];\r\n        }\r\n        return {\r\n          text: text,\r\n          value: value\r\n        };\r\n      });\r\n    };\r\n    var registerButtons$1 = function (editor) {\r\n      editor.addButton('fontsizeselect', function () {\r\n        var items = getFontSizeItems(editor);\r\n        return {\r\n          type: 'listbox',\r\n          text: 'Font Sizes',\r\n          tooltip: 'Font Sizes',\r\n          values: items,\r\n          fixedWidth: true,\r\n          onPostRender: createFontSizeListBoxChangeHandler(editor, items),\r\n          onclick: function (e) {\r\n            if (e.control.settings.value) {\r\n              editor.execCommand('FontSize', false, e.control.settings.value);\r\n            }\r\n          }\r\n        };\r\n      });\r\n    };\r\n    var register$2 = function (editor) {\r\n      registerButtons$1(editor);\r\n    };\r\n    var FontSizeSelect = { register: register$2 };\r\n\r\n    var hideMenuObjects = function (editor, menu) {\r\n      var count = menu.length;\r\n      global$2.each(menu, function (item) {\r\n        if (item.menu) {\r\n          item.hidden = hideMenuObjects(editor, item.menu) === 0;\r\n        }\r\n        var formatName = item.format;\r\n        if (formatName) {\r\n          item.hidden = !editor.formatter.canApply(formatName);\r\n        }\r\n        if (item.hidden) {\r\n          count--;\r\n        }\r\n      });\r\n      return count;\r\n    };\r\n    var hideFormatMenuItems = function (editor, menu) {\r\n      var count = menu.items().length;\r\n      menu.items().each(function (item) {\r\n        if (item.menu) {\r\n          item.visible(hideFormatMenuItems(editor, item.menu) > 0);\r\n        }\r\n        if (!item.menu && item.settings.menu) {\r\n          item.visible(hideMenuObjects(editor, item.settings.menu) > 0);\r\n        }\r\n        var formatName = item.settings.format;\r\n        if (formatName) {\r\n          item.visible(editor.formatter.canApply(formatName));\r\n        }\r\n        if (!item.visible()) {\r\n          count--;\r\n        }\r\n      });\r\n      return count;\r\n    };\r\n    var createFormatMenu = function (editor) {\r\n      var count = 0;\r\n      var newFormats = [];\r\n      var defaultStyleFormats = [\r\n        {\r\n          title: 'Headings',\r\n          items: [\r\n            {\r\n              title: 'Heading 1',\r\n              format: 'h1'\r\n            },\r\n            {\r\n              title: 'Heading 2',\r\n              format: 'h2'\r\n            },\r\n            {\r\n              title: 'Heading 3',\r\n              format: 'h3'\r\n            },\r\n            {\r\n              title: 'Heading 4',\r\n              format: 'h4'\r\n            },\r\n            {\r\n              title: 'Heading 5',\r\n              format: 'h5'\r\n            },\r\n            {\r\n              title: 'Heading 6',\r\n              format: 'h6'\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          title: 'Inline',\r\n          items: [\r\n            {\r\n              title: 'Bold',\r\n              icon: 'bold',\r\n              format: 'bold'\r\n            },\r\n            {\r\n              title: 'Italic',\r\n              icon: 'italic',\r\n              format: 'italic'\r\n            },\r\n            {\r\n              title: 'Underline',\r\n              icon: 'underline',\r\n              format: 'underline'\r\n            },\r\n            {\r\n              title: 'Strikethrough',\r\n              icon: 'strikethrough',\r\n              format: 'strikethrough'\r\n            },\r\n            {\r\n              title: 'Superscript',\r\n              icon: 'superscript',\r\n              format: 'superscript'\r\n            },\r\n            {\r\n              title: 'Subscript',\r\n              icon: 'subscript',\r\n              format: 'subscript'\r\n            },\r\n            {\r\n              title: 'Code',\r\n              icon: 'code',\r\n              format: 'code'\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          title: 'Blocks',\r\n          items: [\r\n            {\r\n              title: 'Paragraph',\r\n              format: 'p'\r\n            },\r\n            {\r\n              title: 'Blockquote',\r\n              format: 'blockquote'\r\n            },\r\n            {\r\n              title: 'Div',\r\n              format: 'div'\r\n            },\r\n            {\r\n              title: 'Pre',\r\n              format: 'pre'\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          title: 'Alignment',\r\n          items: [\r\n            {\r\n              title: 'Left',\r\n              icon: 'alignleft',\r\n              format: 'alignleft'\r\n            },\r\n            {\r\n              title: 'Center',\r\n              icon: 'aligncenter',\r\n              format: 'aligncenter'\r\n            },\r\n            {\r\n              title: 'Right',\r\n              icon: 'alignright',\r\n              format: 'alignright'\r\n            },\r\n            {\r\n              title: 'Justify',\r\n              icon: 'alignjustify',\r\n              format: 'alignjustify'\r\n            }\r\n          ]\r\n        }\r\n      ];\r\n      var createMenu = function (formats) {\r\n        var menu = [];\r\n        if (!formats) {\r\n          return;\r\n        }\r\n        global$2.each(formats, function (format) {\r\n          var menuItem = {\r\n            text: format.title,\r\n            icon: format.icon\r\n          };\r\n          if (format.items) {\r\n            menuItem.menu = createMenu(format.items);\r\n          } else {\r\n            var formatName = format.format || 'custom' + count++;\r\n            if (!format.format) {\r\n              format.name = formatName;\r\n              newFormats.push(format);\r\n            }\r\n            menuItem.format = formatName;\r\n            menuItem.cmd = format.cmd;\r\n          }\r\n          menu.push(menuItem);\r\n        });\r\n        return menu;\r\n      };\r\n      var createStylesMenu = function () {\r\n        var menu;\r\n        if (editor.settings.style_formats_merge) {\r\n          if (editor.settings.style_formats) {\r\n            menu = createMenu(defaultStyleFormats.concat(editor.settings.style_formats));\r\n          } else {\r\n            menu = createMenu(defaultStyleFormats);\r\n          }\r\n        } else {\r\n          menu = createMenu(editor.settings.style_formats || defaultStyleFormats);\r\n        }\r\n        return menu;\r\n      };\r\n      editor.on('init', function () {\r\n        global$2.each(newFormats, function (format) {\r\n          editor.formatter.register(format.name, format);\r\n        });\r\n      });\r\n      return {\r\n        type: 'menu',\r\n        items: createStylesMenu(),\r\n        onPostRender: function (e) {\r\n          editor.fire('renderFormatsMenu', { control: e.control });\r\n        },\r\n        itemDefaults: {\r\n          preview: true,\r\n          textStyle: function () {\r\n            if (this.settings.format) {\r\n              return editor.formatter.getCssText(this.settings.format);\r\n            }\r\n          },\r\n          onPostRender: function () {\r\n            var self = this;\r\n            self.parent().on('show', function () {\r\n              var formatName, command;\r\n              formatName = self.settings.format;\r\n              if (formatName) {\r\n                self.disabled(!editor.formatter.canApply(formatName));\r\n                self.active(editor.formatter.match(formatName));\r\n              }\r\n              command = self.settings.cmd;\r\n              if (command) {\r\n                self.active(editor.queryCommandState(command));\r\n              }\r\n            });\r\n          },\r\n          onclick: function () {\r\n            if (this.settings.format) {\r\n              toggleFormat(editor, this.settings.format)();\r\n            }\r\n            if (this.settings.cmd) {\r\n              editor.execCommand(this.settings.cmd);\r\n            }\r\n          }\r\n        }\r\n      };\r\n    };\r\n    var registerMenuItems = function (editor, formatMenu) {\r\n      editor.addMenuItem('formats', {\r\n        text: 'Formats',\r\n        menu: formatMenu\r\n      });\r\n    };\r\n    var registerButtons$2 = function (editor, formatMenu) {\r\n      editor.addButton('styleselect', {\r\n        type: 'menubutton',\r\n        text: 'Formats',\r\n        menu: formatMenu,\r\n        onShowMenu: function () {\r\n          if (editor.settings.style_formats_autohide) {\r\n            hideFormatMenuItems(editor, this.menu);\r\n          }\r\n        }\r\n      });\r\n    };\r\n    var register$3 = function (editor) {\r\n      var formatMenu = createFormatMenu(editor);\r\n      registerMenuItems(editor, formatMenu);\r\n      registerButtons$2(editor, formatMenu);\r\n    };\r\n    var Formats = { register: register$3 };\r\n\r\n    var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\r\n    var createFormats$1 = function (formats) {\r\n      formats = formats.replace(/;$/, '').split(';');\r\n      var i = formats.length;\r\n      while (i--) {\r\n        formats[i] = formats[i].split('=');\r\n      }\r\n      return formats;\r\n    };\r\n    var createListBoxChangeHandler = function (editor, items, formatName) {\r\n      return function () {\r\n        var self = this;\r\n        editor.on('nodeChange', function (e) {\r\n          var formatter = editor.formatter;\r\n          var value = null;\r\n          global$2.each(e.parents, function (node) {\r\n            global$2.each(items, function (item) {\r\n              if (formatName) {\r\n                if (formatter.matchNode(node, formatName, { value: item.value })) {\r\n                  value = item.value;\r\n                }\r\n              } else {\r\n                if (formatter.matchNode(node, item.value)) {\r\n                  value = item.value;\r\n                }\r\n              }\r\n              if (value) {\r\n                return false;\r\n              }\r\n            });\r\n            if (value) {\r\n              return false;\r\n            }\r\n          });\r\n          self.value(value);\r\n        });\r\n      };\r\n    };\r\n    var lazyFormatSelectBoxItems = function (editor, blocks) {\r\n      return function () {\r\n        var items = [];\r\n        global$2.each(blocks, function (block) {\r\n          items.push({\r\n            text: block[0],\r\n            value: block[1],\r\n            textStyle: function () {\r\n              return editor.formatter.getCssText(block[1]);\r\n            }\r\n          });\r\n        });\r\n        return {\r\n          type: 'listbox',\r\n          text: blocks[0][0],\r\n          values: items,\r\n          fixedWidth: true,\r\n          onselect: function (e) {\r\n            if (e.control) {\r\n              var fmt = e.control.value();\r\n              toggleFormat(editor, fmt)();\r\n            }\r\n          },\r\n          onPostRender: createListBoxChangeHandler(editor, items)\r\n        };\r\n      };\r\n    };\r\n    var buildMenuItems = function (editor, blocks) {\r\n      return global$2.map(blocks, function (block) {\r\n        return {\r\n          text: block[0],\r\n          onclick: toggleFormat(editor, block[1]),\r\n          textStyle: function () {\r\n            return editor.formatter.getCssText(block[1]);\r\n          }\r\n        };\r\n      });\r\n    };\r\n    var register$4 = function (editor) {\r\n      var blocks = createFormats$1(editor.settings.block_formats || defaultBlocks);\r\n      editor.addMenuItem('blockformats', {\r\n        text: 'Blocks',\r\n        menu: buildMenuItems(editor, blocks)\r\n      });\r\n      editor.addButton('formatselect', lazyFormatSelectBoxItems(editor, blocks));\r\n    };\r\n    var FormatSelect = { register: register$4 };\r\n\r\n    var createCustomMenuItems = function (editor, names) {\r\n      var items, nameList;\r\n      if (typeof names === 'string') {\r\n        nameList = names.split(' ');\r\n      } else if (global$2.isArray(names)) {\r\n        return flatten(global$2.map(names, function (names) {\r\n          return createCustomMenuItems(editor, names);\r\n        }));\r\n      }\r\n      items = global$2.grep(nameList, function (name) {\r\n        return name === '|' || name in editor.menuItems;\r\n      });\r\n      return global$2.map(items, function (name) {\r\n        return name === '|' ? { text: '-' } : editor.menuItems[name];\r\n      });\r\n    };\r\n    var isSeparator$1 = function (menuItem) {\r\n      return menuItem && menuItem.text === '-';\r\n    };\r\n    var trimMenuItems = function (menuItems) {\r\n      var menuItems2 = filter(menuItems, function (menuItem, i, menuItems) {\r\n        return !isSeparator$1(menuItem) || !isSeparator$1(menuItems[i - 1]);\r\n      });\r\n      return filter(menuItems2, function (menuItem, i, menuItems) {\r\n        return !isSeparator$1(menuItem) || i > 0 && i < menuItems.length - 1;\r\n      });\r\n    };\r\n    var createContextMenuItems = function (editor, context) {\r\n      var outputMenuItems = [{ text: '-' }];\r\n      var menuItems = global$2.grep(editor.menuItems, function (menuItem) {\r\n        return menuItem.context === context;\r\n      });\r\n      global$2.each(menuItems, function (menuItem) {\r\n        if (menuItem.separator === 'before') {\r\n          outputMenuItems.push({ text: '|' });\r\n        }\r\n        if (menuItem.prependToContext) {\r\n          outputMenuItems.unshift(menuItem);\r\n        } else {\r\n          outputMenuItems.push(menuItem);\r\n        }\r\n        if (menuItem.separator === 'after') {\r\n          outputMenuItems.push({ text: '|' });\r\n        }\r\n      });\r\n      return outputMenuItems;\r\n    };\r\n    var createInsertMenu = function (editor) {\r\n      var insertButtonItems = editor.settings.insert_button_items;\r\n      if (insertButtonItems) {\r\n        return trimMenuItems(createCustomMenuItems(editor, insertButtonItems));\r\n      } else {\r\n        return trimMenuItems(createContextMenuItems(editor, 'insert'));\r\n      }\r\n    };\r\n    var registerButtons$3 = function (editor) {\r\n      editor.addButton('insert', {\r\n        type: 'menubutton',\r\n        icon: 'insert',\r\n        menu: [],\r\n        oncreatemenu: function () {\r\n          this.menu.add(createInsertMenu(editor));\r\n          this.menu.renderNew();\r\n        }\r\n      });\r\n    };\r\n    var register$5 = function (editor) {\r\n      registerButtons$3(editor);\r\n    };\r\n    var InsertButton = { register: register$5 };\r\n\r\n    var registerFormatButtons = function (editor) {\r\n      global$2.each({\r\n        bold: 'Bold',\r\n        italic: 'Italic',\r\n        underline: 'Underline',\r\n        strikethrough: 'Strikethrough',\r\n        subscript: 'Subscript',\r\n        superscript: 'Superscript'\r\n      }, function (text, name) {\r\n        editor.addButton(name, {\r\n          active: false,\r\n          tooltip: text,\r\n          onPostRender: postRenderFormatToggle(editor, name),\r\n          onclick: toggleFormat(editor, name)\r\n        });\r\n      });\r\n    };\r\n    var registerCommandButtons = function (editor) {\r\n      global$2.each({\r\n        outdent: [\r\n          'Decrease indent',\r\n          'Outdent'\r\n        ],\r\n        indent: [\r\n          'Increase indent',\r\n          'Indent'\r\n        ],\r\n        cut: [\r\n          'Cut',\r\n          'Cut'\r\n        ],\r\n        copy: [\r\n          'Copy',\r\n          'Copy'\r\n        ],\r\n        paste: [\r\n          'Paste',\r\n          'Paste'\r\n        ],\r\n        help: [\r\n          'Help',\r\n          'mceHelp'\r\n        ],\r\n        selectall: [\r\n          'Select all',\r\n          'SelectAll'\r\n        ],\r\n        visualaid: [\r\n          'Visual aids',\r\n          'mceToggleVisualAid'\r\n        ],\r\n        newdocument: [\r\n          'New document',\r\n          'mceNewDocument'\r\n        ],\r\n        removeformat: [\r\n          'Clear formatting',\r\n          'RemoveFormat'\r\n        ],\r\n        remove: [\r\n          'Remove',\r\n          'Delete'\r\n        ]\r\n      }, function (item, name) {\r\n        editor.addButton(name, {\r\n          tooltip: item[0],\r\n          cmd: item[1]\r\n        });\r\n      });\r\n    };\r\n    var registerCommandToggleButtons = function (editor) {\r\n      global$2.each({\r\n        blockquote: [\r\n          'Blockquote',\r\n          'mceBlockQuote'\r\n        ],\r\n        subscript: [\r\n          'Subscript',\r\n          'Subscript'\r\n        ],\r\n        superscript: [\r\n          'Superscript',\r\n          'Superscript'\r\n        ]\r\n      }, function (item, name) {\r\n        editor.addButton(name, {\r\n          active: false,\r\n          tooltip: item[0],\r\n          cmd: item[1],\r\n          onPostRender: postRenderFormatToggle(editor, name)\r\n        });\r\n      });\r\n    };\r\n    var registerButtons$4 = function (editor) {\r\n      registerFormatButtons(editor);\r\n      registerCommandButtons(editor);\r\n      registerCommandToggleButtons(editor);\r\n    };\r\n    var registerMenuItems$1 = function (editor) {\r\n      global$2.each({\r\n        bold: [\r\n          'Bold',\r\n          'Bold',\r\n          'Meta+B'\r\n        ],\r\n        italic: [\r\n          'Italic',\r\n          'Italic',\r\n          'Meta+I'\r\n        ],\r\n        underline: [\r\n          'Underline',\r\n          'Underline',\r\n          'Meta+U'\r\n        ],\r\n        strikethrough: [\r\n          'Strikethrough',\r\n          'Strikethrough'\r\n        ],\r\n        subscript: [\r\n          'Subscript',\r\n          'Subscript'\r\n        ],\r\n        superscript: [\r\n          'Superscript',\r\n          'Superscript'\r\n        ],\r\n        removeformat: [\r\n          'Clear formatting',\r\n          'RemoveFormat'\r\n        ],\r\n        newdocument: [\r\n          'New document',\r\n          'mceNewDocument'\r\n        ],\r\n        cut: [\r\n          'Cut',\r\n          'Cut',\r\n          'Meta+X'\r\n        ],\r\n        copy: [\r\n          'Copy',\r\n          'Copy',\r\n          'Meta+C'\r\n        ],\r\n        paste: [\r\n          'Paste',\r\n          'Paste',\r\n          'Meta+V'\r\n        ],\r\n        selectall: [\r\n          'Select all',\r\n          'SelectAll',\r\n          'Meta+A'\r\n        ]\r\n      }, function (item, name) {\r\n        editor.addMenuItem(name, {\r\n          text: item[0],\r\n          icon: name,\r\n          shortcut: item[2],\r\n          cmd: item[1]\r\n        });\r\n      });\r\n      editor.addMenuItem('codeformat', {\r\n        text: 'Code',\r\n        icon: 'code',\r\n        onclick: toggleFormat(editor, 'code')\r\n      });\r\n    };\r\n    var register$6 = function (editor) {\r\n      registerButtons$4(editor);\r\n      registerMenuItems$1(editor);\r\n    };\r\n    var SimpleControls = { register: register$6 };\r\n\r\n    var toggleUndoRedoState = function (editor, type) {\r\n      return function () {\r\n        var self = this;\r\n        var checkState = function () {\r\n          var typeFn = type === 'redo' ? 'hasRedo' : 'hasUndo';\r\n          return editor.undoManager ? editor.undoManager[typeFn]() : false;\r\n        };\r\n        self.disabled(!checkState());\r\n        editor.on('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function () {\r\n          self.disabled(editor.readonly || !checkState());\r\n        });\r\n      };\r\n    };\r\n    var registerMenuItems$2 = function (editor) {\r\n      editor.addMenuItem('undo', {\r\n        text: 'Undo',\r\n        icon: 'undo',\r\n        shortcut: 'Meta+Z',\r\n        onPostRender: toggleUndoRedoState(editor, 'undo'),\r\n        cmd: 'undo'\r\n      });\r\n      editor.addMenuItem('redo', {\r\n        text: 'Redo',\r\n        icon: 'redo',\r\n        shortcut: 'Meta+Y',\r\n        onPostRender: toggleUndoRedoState(editor, 'redo'),\r\n        cmd: 'redo'\r\n      });\r\n    };\r\n    var registerButtons$5 = function (editor) {\r\n      editor.addButton('undo', {\r\n        tooltip: 'Undo',\r\n        onPostRender: toggleUndoRedoState(editor, 'undo'),\r\n        cmd: 'undo'\r\n      });\r\n      editor.addButton('redo', {\r\n        tooltip: 'Redo',\r\n        onPostRender: toggleUndoRedoState(editor, 'redo'),\r\n        cmd: 'redo'\r\n      });\r\n    };\r\n    var register$7 = function (editor) {\r\n      registerMenuItems$2(editor);\r\n      registerButtons$5(editor);\r\n    };\r\n    var UndoRedo = { register: register$7 };\r\n\r\n    var toggleVisualAidState = function (editor) {\r\n      return function () {\r\n        var self = this;\r\n        editor.on('VisualAid', function (e) {\r\n          self.active(e.hasVisual);\r\n        });\r\n        self.active(editor.hasVisual);\r\n      };\r\n    };\r\n    var registerMenuItems$3 = function (editor) {\r\n      editor.addMenuItem('visualaid', {\r\n        text: 'Visual aids',\r\n        selectable: true,\r\n        onPostRender: toggleVisualAidState(editor),\r\n        cmd: 'mceToggleVisualAid'\r\n      });\r\n    };\r\n    var register$8 = function (editor) {\r\n      registerMenuItems$3(editor);\r\n    };\r\n    var VisualAid = { register: register$8 };\r\n\r\n    var setupEnvironment = function () {\r\n      Widget.tooltips = !global$8.iOS;\r\n      Control$1.translate = function (text) {\r\n        return global$1.translate(text);\r\n      };\r\n    };\r\n    var setupUiContainer = function (editor) {\r\n      if (editor.settings.ui_container) {\r\n        global$8.container = descendant$1(Element$$1.fromDom(document.body), editor.settings.ui_container).fold(constant(null), function (elm) {\r\n          return elm.dom();\r\n        });\r\n      }\r\n    };\r\n    var setupRtlMode = function (editor) {\r\n      if (editor.rtl) {\r\n        Control$1.rtl = true;\r\n      }\r\n    };\r\n    var setupHideFloatPanels = function (editor) {\r\n      editor.on('mousedown progressstate', function () {\r\n        FloatPanel.hideAll();\r\n      });\r\n    };\r\n    var setup$1 = function (editor) {\r\n      setupRtlMode(editor);\r\n      setupHideFloatPanels(editor);\r\n      setupUiContainer(editor);\r\n      setupEnvironment();\r\n      FormatSelect.register(editor);\r\n      Align.register(editor);\r\n      SimpleControls.register(editor);\r\n      UndoRedo.register(editor);\r\n      FontSizeSelect.register(editor);\r\n      FontSelect.register(editor);\r\n      Formats.register(editor);\r\n      VisualAid.register(editor);\r\n      InsertButton.register(editor);\r\n    };\r\n    var FormatControls = { setup: setup$1 };\r\n\r\n    var GridLayout = AbsoluteLayout.extend({\r\n      recalc: function (container) {\r\n        var settings, rows, cols, items, contLayoutRect, width, height, rect, ctrlLayoutRect, ctrl, x, y, posX, posY, ctrlSettings, contPaddingBox, align, spacingH, spacingV, alignH, alignV, maxX, maxY;\r\n        var colWidths = [];\r\n        var rowHeights = [];\r\n        var ctrlMinWidth, ctrlMinHeight, availableWidth, availableHeight, reverseRows, idx;\r\n        settings = container.settings;\r\n        items = container.items().filter(':visible');\r\n        contLayoutRect = container.layoutRect();\r\n        cols = settings.columns || Math.ceil(Math.sqrt(items.length));\r\n        rows = Math.ceil(items.length / cols);\r\n        spacingH = settings.spacingH || settings.spacing || 0;\r\n        spacingV = settings.spacingV || settings.spacing || 0;\r\n        alignH = settings.alignH || settings.align;\r\n        alignV = settings.alignV || settings.align;\r\n        contPaddingBox = container.paddingBox;\r\n        reverseRows = 'reverseRows' in settings ? settings.reverseRows : container.isRtl();\r\n        if (alignH && typeof alignH === 'string') {\r\n          alignH = [alignH];\r\n        }\r\n        if (alignV && typeof alignV === 'string') {\r\n          alignV = [alignV];\r\n        }\r\n        for (x = 0; x < cols; x++) {\r\n          colWidths.push(0);\r\n        }\r\n        for (y = 0; y < rows; y++) {\r\n          rowHeights.push(0);\r\n        }\r\n        for (y = 0; y < rows; y++) {\r\n          for (x = 0; x < cols; x++) {\r\n            ctrl = items[y * cols + x];\r\n            if (!ctrl) {\r\n              break;\r\n            }\r\n            ctrlLayoutRect = ctrl.layoutRect();\r\n            ctrlMinWidth = ctrlLayoutRect.minW;\r\n            ctrlMinHeight = ctrlLayoutRect.minH;\r\n            colWidths[x] = ctrlMinWidth > colWidths[x] ? ctrlMinWidth : colWidths[x];\r\n            rowHeights[y] = ctrlMinHeight > rowHeights[y] ? ctrlMinHeight : rowHeights[y];\r\n          }\r\n        }\r\n        availableWidth = contLayoutRect.innerW - contPaddingBox.left - contPaddingBox.right;\r\n        for (maxX = 0, x = 0; x < cols; x++) {\r\n          maxX += colWidths[x] + (x > 0 ? spacingH : 0);\r\n          availableWidth -= (x > 0 ? spacingH : 0) + colWidths[x];\r\n        }\r\n        availableHeight = contLayoutRect.innerH - contPaddingBox.top - contPaddingBox.bottom;\r\n        for (maxY = 0, y = 0; y < rows; y++) {\r\n          maxY += rowHeights[y] + (y > 0 ? spacingV : 0);\r\n          availableHeight -= (y > 0 ? spacingV : 0) + rowHeights[y];\r\n        }\r\n        maxX += contPaddingBox.left + contPaddingBox.right;\r\n        maxY += contPaddingBox.top + contPaddingBox.bottom;\r\n        rect = {};\r\n        rect.minW = maxX + (contLayoutRect.w - contLayoutRect.innerW);\r\n        rect.minH = maxY + (contLayoutRect.h - contLayoutRect.innerH);\r\n        rect.contentW = rect.minW - contLayoutRect.deltaW;\r\n        rect.contentH = rect.minH - contLayoutRect.deltaH;\r\n        rect.minW = Math.min(rect.minW, contLayoutRect.maxW);\r\n        rect.minH = Math.min(rect.minH, contLayoutRect.maxH);\r\n        rect.minW = Math.max(rect.minW, contLayoutRect.startMinWidth);\r\n        rect.minH = Math.max(rect.minH, contLayoutRect.startMinHeight);\r\n        if (contLayoutRect.autoResize && (rect.minW !== contLayoutRect.minW || rect.minH !== contLayoutRect.minH)) {\r\n          rect.w = rect.minW;\r\n          rect.h = rect.minH;\r\n          container.layoutRect(rect);\r\n          this.recalc(container);\r\n          if (container._lastRect === null) {\r\n            var parentCtrl = container.parent();\r\n            if (parentCtrl) {\r\n              parentCtrl._lastRect = null;\r\n              parentCtrl.recalc();\r\n            }\r\n          }\r\n          return;\r\n        }\r\n        if (contLayoutRect.autoResize) {\r\n          rect = container.layoutRect(rect);\r\n          rect.contentW = rect.minW - contLayoutRect.deltaW;\r\n          rect.contentH = rect.minH - contLayoutRect.deltaH;\r\n        }\r\n        var flexV;\r\n        if (settings.packV === 'start') {\r\n          flexV = 0;\r\n        } else {\r\n          flexV = availableHeight > 0 ? Math.floor(availableHeight / rows) : 0;\r\n        }\r\n        var totalFlex = 0;\r\n        var flexWidths = settings.flexWidths;\r\n        if (flexWidths) {\r\n          for (x = 0; x < flexWidths.length; x++) {\r\n            totalFlex += flexWidths[x];\r\n          }\r\n        } else {\r\n          totalFlex = cols;\r\n        }\r\n        var ratio = availableWidth / totalFlex;\r\n        for (x = 0; x < cols; x++) {\r\n          colWidths[x] += flexWidths ? flexWidths[x] * ratio : ratio;\r\n        }\r\n        posY = contPaddingBox.top;\r\n        for (y = 0; y < rows; y++) {\r\n          posX = contPaddingBox.left;\r\n          height = rowHeights[y] + flexV;\r\n          for (x = 0; x < cols; x++) {\r\n            if (reverseRows) {\r\n              idx = y * cols + cols - 1 - x;\r\n            } else {\r\n              idx = y * cols + x;\r\n            }\r\n            ctrl = items[idx];\r\n            if (!ctrl) {\r\n              break;\r\n            }\r\n            ctrlSettings = ctrl.settings;\r\n            ctrlLayoutRect = ctrl.layoutRect();\r\n            width = Math.max(colWidths[x], ctrlLayoutRect.startMinWidth);\r\n            ctrlLayoutRect.x = posX;\r\n            ctrlLayoutRect.y = posY;\r\n            align = ctrlSettings.alignH || (alignH ? alignH[x] || alignH[0] : null);\r\n            if (align === 'center') {\r\n              ctrlLayoutRect.x = posX + width / 2 - ctrlLayoutRect.w / 2;\r\n            } else if (align === 'right') {\r\n              ctrlLayoutRect.x = posX + width - ctrlLayoutRect.w;\r\n            } else if (align === 'stretch') {\r\n              ctrlLayoutRect.w = width;\r\n            }\r\n            align = ctrlSettings.alignV || (alignV ? alignV[x] || alignV[0] : null);\r\n            if (align === 'center') {\r\n              ctrlLayoutRect.y = posY + height / 2 - ctrlLayoutRect.h / 2;\r\n            } else if (align === 'bottom') {\r\n              ctrlLayoutRect.y = posY + height - ctrlLayoutRect.h;\r\n            } else if (align === 'stretch') {\r\n              ctrlLayoutRect.h = height;\r\n            }\r\n            ctrl.layoutRect(ctrlLayoutRect);\r\n            posX += width + spacingH;\r\n            if (ctrl.recalc) {\r\n              ctrl.recalc();\r\n            }\r\n          }\r\n          posY += height + spacingV;\r\n        }\r\n      }\r\n    });\r\n\r\n    var Iframe$1 = Widget.extend({\r\n      renderHtml: function () {\r\n        var self = this;\r\n        self.classes.add('iframe');\r\n        self.canFocus = false;\r\n        return '<iframe id=\"' + self._id + '\" class=\"' + self.classes + '\" tabindex=\"-1\" src=\"' + (self.settings.url || 'javascript:\\'\\'') + '\" frameborder=\"0\"></iframe>';\r\n      },\r\n      src: function (src) {\r\n        this.getEl().src = src;\r\n      },\r\n      html: function (html, callback) {\r\n        var self = this, body = this.getEl().contentWindow.document.body;\r\n        if (!body) {\r\n          global$7.setTimeout(function () {\r\n            self.html(html);\r\n          });\r\n        } else {\r\n          body.innerHTML = html;\r\n          if (callback) {\r\n            callback();\r\n          }\r\n        }\r\n        return this;\r\n      }\r\n    });\r\n\r\n    var InfoBox = Widget.extend({\r\n      init: function (settings) {\r\n        var self = this;\r\n        self._super(settings);\r\n        self.classes.add('widget').add('infobox');\r\n        self.canFocus = false;\r\n      },\r\n      severity: function (level) {\r\n        this.classes.remove('error');\r\n        this.classes.remove('warning');\r\n        this.classes.remove('success');\r\n        this.classes.add(level);\r\n      },\r\n      help: function (state) {\r\n        this.state.set('help', state);\r\n      },\r\n      renderHtml: function () {\r\n        var self = this, prefix = self.classPrefix;\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + self._id + '-body\">' + self.encode(self.state.get('text')) + '<button role=\"button\" tabindex=\"-1\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-help\"></i>' + '</button>' + '</div>' + '</div>';\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        self.state.on('change:text', function (e) {\r\n          self.getEl('body').firstChild.data = self.encode(e.value);\r\n          if (self.state.get('rendered')) {\r\n            self.updateLayoutRect();\r\n          }\r\n        });\r\n        self.state.on('change:help', function (e) {\r\n          self.classes.toggle('has-help', e.value);\r\n          if (self.state.get('rendered')) {\r\n            self.updateLayoutRect();\r\n          }\r\n        });\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    var Label = Widget.extend({\r\n      init: function (settings) {\r\n        var self = this;\r\n        self._super(settings);\r\n        self.classes.add('widget').add('label');\r\n        self.canFocus = false;\r\n        if (settings.multiline) {\r\n          self.classes.add('autoscroll');\r\n        }\r\n        if (settings.strong) {\r\n          self.classes.add('strong');\r\n        }\r\n      },\r\n      initLayoutRect: function () {\r\n        var self = this, layoutRect = self._super();\r\n        if (self.settings.multiline) {\r\n          var size = funcs.getSize(self.getEl());\r\n          if (size.width > layoutRect.maxW) {\r\n            layoutRect.minW = layoutRect.maxW;\r\n            self.classes.add('multiline');\r\n          }\r\n          self.getEl().style.width = layoutRect.minW + 'px';\r\n          layoutRect.startMinH = layoutRect.h = layoutRect.minH = Math.min(layoutRect.maxH, funcs.getSize(self.getEl()).height);\r\n        }\r\n        return layoutRect;\r\n      },\r\n      repaint: function () {\r\n        var self = this;\r\n        if (!self.settings.multiline) {\r\n          self.getEl().style.lineHeight = self.layoutRect().h + 'px';\r\n        }\r\n        return self._super();\r\n      },\r\n      severity: function (level) {\r\n        this.classes.remove('error');\r\n        this.classes.remove('warning');\r\n        this.classes.remove('success');\r\n        this.classes.add(level);\r\n      },\r\n      renderHtml: function () {\r\n        var self = this;\r\n        var targetCtrl, forName, forId = self.settings.forId;\r\n        var text = self.settings.html ? self.settings.html : self.encode(self.state.get('text'));\r\n        if (!forId && (forName = self.settings.forName)) {\r\n          targetCtrl = self.getRoot().find('#' + forName)[0];\r\n          if (targetCtrl) {\r\n            forId = targetCtrl._id;\r\n          }\r\n        }\r\n        if (forId) {\r\n          return '<label id=\"' + self._id + '\" class=\"' + self.classes + '\"' + (forId ? ' for=\"' + forId + '\"' : '') + '>' + text + '</label>';\r\n        }\r\n        return '<span id=\"' + self._id + '\" class=\"' + self.classes + '\">' + text + '</span>';\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        self.state.on('change:text', function (e) {\r\n          self.innerHtml(self.encode(e.value));\r\n          if (self.state.get('rendered')) {\r\n            self.updateLayoutRect();\r\n          }\r\n        });\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    var Toolbar$1 = Container.extend({\r\n      Defaults: {\r\n        role: 'toolbar',\r\n        layout: 'flow'\r\n      },\r\n      init: function (settings) {\r\n        var self = this;\r\n        self._super(settings);\r\n        self.classes.add('toolbar');\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        self.items().each(function (ctrl) {\r\n          ctrl.classes.add('toolbar-item');\r\n        });\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    var MenuBar = Toolbar$1.extend({\r\n      Defaults: {\r\n        role: 'menubar',\r\n        containerCls: 'menubar',\r\n        ariaRoot: true,\r\n        defaults: { type: 'menubutton' }\r\n      }\r\n    });\r\n\r\n    function isChildOf$1(node, parent$$1) {\r\n      while (node) {\r\n        if (parent$$1 === node) {\r\n          return true;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return false;\r\n    }\r\n    var MenuButton = Button.extend({\r\n      init: function (settings) {\r\n        var self$$1 = this;\r\n        self$$1._renderOpen = true;\r\n        self$$1._super(settings);\r\n        settings = self$$1.settings;\r\n        self$$1.classes.add('menubtn');\r\n        if (settings.fixedWidth) {\r\n          self$$1.classes.add('fixed-width');\r\n        }\r\n        self$$1.aria('haspopup', true);\r\n        self$$1.state.set('menu', settings.menu || self$$1.render());\r\n      },\r\n      showMenu: function (toggle) {\r\n        var self$$1 = this;\r\n        var menu;\r\n        if (self$$1.menu && self$$1.menu.visible() && toggle !== false) {\r\n          return self$$1.hideMenu();\r\n        }\r\n        if (!self$$1.menu) {\r\n          menu = self$$1.state.get('menu') || [];\r\n          self$$1.classes.add('opened');\r\n          if (menu.length) {\r\n            menu = {\r\n              type: 'menu',\r\n              animate: true,\r\n              items: menu\r\n            };\r\n          } else {\r\n            menu.type = menu.type || 'menu';\r\n            menu.animate = true;\r\n          }\r\n          if (!menu.renderTo) {\r\n            self$$1.menu = global$4.create(menu).parent(self$$1).renderTo();\r\n          } else {\r\n            self$$1.menu = menu.parent(self$$1).show().renderTo();\r\n          }\r\n          self$$1.fire('createmenu');\r\n          self$$1.menu.reflow();\r\n          self$$1.menu.on('cancel', function (e) {\r\n            if (e.control.parent() === self$$1.menu) {\r\n              e.stopPropagation();\r\n              self$$1.focus();\r\n              self$$1.hideMenu();\r\n            }\r\n          });\r\n          self$$1.menu.on('select', function () {\r\n            self$$1.focus();\r\n          });\r\n          self$$1.menu.on('show hide', function (e) {\r\n            if (e.type === 'hide' && e.control.parent() === self$$1) {\r\n              self$$1.classes.remove('opened-under');\r\n            }\r\n            if (e.control === self$$1.menu) {\r\n              self$$1.activeMenu(e.type === 'show');\r\n              self$$1.classes.toggle('opened', e.type === 'show');\r\n            }\r\n            self$$1.aria('expanded', e.type === 'show');\r\n          }).fire('show');\r\n        }\r\n        self$$1.menu.show();\r\n        self$$1.menu.layoutRect({ w: self$$1.layoutRect().w });\r\n        self$$1.menu.repaint();\r\n        self$$1.menu.moveRel(self$$1.getEl(), self$$1.isRtl() ? [\r\n          'br-tr',\r\n          'tr-br'\r\n        ] : [\r\n          'bl-tl',\r\n          'tl-bl'\r\n        ]);\r\n        var menuLayoutRect = self$$1.menu.layoutRect();\r\n        var selfBottom = self$$1.$el.offset().top + self$$1.layoutRect().h;\r\n        if (selfBottom > menuLayoutRect.y && selfBottom < menuLayoutRect.y + menuLayoutRect.h) {\r\n          self$$1.classes.add('opened-under');\r\n        }\r\n        self$$1.fire('showmenu');\r\n      },\r\n      hideMenu: function () {\r\n        var self$$1 = this;\r\n        if (self$$1.menu) {\r\n          self$$1.menu.items().each(function (item) {\r\n            if (item.hideMenu) {\r\n              item.hideMenu();\r\n            }\r\n          });\r\n          self$$1.menu.hide();\r\n        }\r\n      },\r\n      activeMenu: function (state) {\r\n        this.classes.toggle('active', state);\r\n      },\r\n      renderHtml: function () {\r\n        var self$$1 = this, id = self$$1._id, prefix = self$$1.classPrefix;\r\n        var icon = self$$1.settings.icon, image;\r\n        var text = self$$1.state.get('text');\r\n        var textHtml = '';\r\n        image = self$$1.settings.image;\r\n        if (image) {\r\n          icon = 'none';\r\n          if (typeof image !== 'string') {\r\n            image = window.getSelection ? image[0] : image[1];\r\n          }\r\n          image = ' style=\"background-image: url(\\'' + image + '\\')\"';\r\n        } else {\r\n          image = '';\r\n        }\r\n        if (text) {\r\n          self$$1.classes.add('btn-has-text');\r\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self$$1.encode(text) + '</span>';\r\n        }\r\n        icon = self$$1.settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\r\n        self$$1.aria('role', self$$1.parent() instanceof MenuBar ? 'menuitem' : 'button');\r\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" tabindex=\"-1\" aria-labelledby=\"' + id + '\">' + '<button id=\"' + id + '-open\" role=\"presentation\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\r\n      },\r\n      postRender: function () {\r\n        var self$$1 = this;\r\n        self$$1.on('click', function (e) {\r\n          if (e.control === self$$1 && isChildOf$1(e.target, self$$1.getEl())) {\r\n            self$$1.focus();\r\n            self$$1.showMenu(!e.aria);\r\n            if (e.aria) {\r\n              self$$1.menu.items().filter(':visible')[0].focus();\r\n            }\r\n          }\r\n        });\r\n        self$$1.on('mouseenter', function (e) {\r\n          var overCtrl = e.control;\r\n          var parent$$1 = self$$1.parent();\r\n          var hasVisibleSiblingMenu;\r\n          if (overCtrl && parent$$1 && overCtrl instanceof MenuButton && overCtrl.parent() === parent$$1) {\r\n            parent$$1.items().filter('MenuButton').each(function (ctrl) {\r\n              if (ctrl.hideMenu && ctrl !== overCtrl) {\r\n                if (ctrl.menu && ctrl.menu.visible()) {\r\n                  hasVisibleSiblingMenu = true;\r\n                }\r\n                ctrl.hideMenu();\r\n              }\r\n            });\r\n            if (hasVisibleSiblingMenu) {\r\n              overCtrl.focus();\r\n              overCtrl.showMenu();\r\n            }\r\n          }\r\n        });\r\n        return self$$1._super();\r\n      },\r\n      bindStates: function () {\r\n        var self$$1 = this;\r\n        self$$1.state.on('change:menu', function () {\r\n          if (self$$1.menu) {\r\n            self$$1.menu.remove();\r\n          }\r\n          self$$1.menu = null;\r\n        });\r\n        return self$$1._super();\r\n      },\r\n      remove: function () {\r\n        this._super();\r\n        if (this.menu) {\r\n          this.menu.remove();\r\n        }\r\n      }\r\n    });\r\n\r\n    var Menu = FloatPanel.extend({\r\n      Defaults: {\r\n        defaultType: 'menuitem',\r\n        border: 1,\r\n        layout: 'stack',\r\n        role: 'application',\r\n        bodyRole: 'menu',\r\n        ariaRoot: true\r\n      },\r\n      init: function (settings) {\r\n        var self = this;\r\n        settings.autohide = true;\r\n        settings.constrainToViewport = true;\r\n        if (typeof settings.items === 'function') {\r\n          settings.itemsFactory = settings.items;\r\n          settings.items = [];\r\n        }\r\n        if (settings.itemDefaults) {\r\n          var items = settings.items;\r\n          var i = items.length;\r\n          while (i--) {\r\n            items[i] = global$2.extend({}, settings.itemDefaults, items[i]);\r\n          }\r\n        }\r\n        self._super(settings);\r\n        self.classes.add('menu');\r\n        if (settings.animate && global$8.ie !== 11) {\r\n          self.classes.add('animate');\r\n        }\r\n      },\r\n      repaint: function () {\r\n        this.classes.toggle('menu-align', true);\r\n        this._super();\r\n        this.getEl().style.height = '';\r\n        this.getEl('body').style.height = '';\r\n        return this;\r\n      },\r\n      cancel: function () {\r\n        var self = this;\r\n        self.hideAll();\r\n        self.fire('select');\r\n      },\r\n      load: function () {\r\n        var self = this;\r\n        var time, factory;\r\n        function hideThrobber() {\r\n          if (self.throbber) {\r\n            self.throbber.hide();\r\n            self.throbber = null;\r\n          }\r\n        }\r\n        factory = self.settings.itemsFactory;\r\n        if (!factory) {\r\n          return;\r\n        }\r\n        if (!self.throbber) {\r\n          self.throbber = new Throbber(self.getEl('body'), true);\r\n          if (self.items().length === 0) {\r\n            self.throbber.show();\r\n            self.fire('loading');\r\n          } else {\r\n            self.throbber.show(100, function () {\r\n              self.items().remove();\r\n              self.fire('loading');\r\n            });\r\n          }\r\n          self.on('hide close', hideThrobber);\r\n        }\r\n        self.requestTime = time = new Date().getTime();\r\n        self.settings.itemsFactory(function (items) {\r\n          if (items.length === 0) {\r\n            self.hide();\r\n            return;\r\n          }\r\n          if (self.requestTime !== time) {\r\n            return;\r\n          }\r\n          self.getEl().style.width = '';\r\n          self.getEl('body').style.width = '';\r\n          hideThrobber();\r\n          self.items().remove();\r\n          self.getEl('body').innerHTML = '';\r\n          self.add(items);\r\n          self.renderNew();\r\n          self.fire('loaded');\r\n        });\r\n      },\r\n      hideAll: function () {\r\n        var self = this;\r\n        this.find('menuitem').exec('hideMenu');\r\n        return self._super();\r\n      },\r\n      preRender: function () {\r\n        var self = this;\r\n        self.items().each(function (ctrl) {\r\n          var settings = ctrl.settings;\r\n          if (settings.icon || settings.image || settings.selectable) {\r\n            self._hasIcons = true;\r\n            return false;\r\n          }\r\n        });\r\n        if (self.settings.itemsFactory) {\r\n          self.on('postrender', function () {\r\n            if (self.settings.itemsFactory) {\r\n              self.load();\r\n            }\r\n          });\r\n        }\r\n        self.on('show hide', function (e) {\r\n          if (e.control === self) {\r\n            if (e.type === 'show') {\r\n              global$7.setTimeout(function () {\r\n                self.classes.add('in');\r\n              }, 0);\r\n            } else {\r\n              self.classes.remove('in');\r\n            }\r\n          }\r\n        });\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    var ListBox = MenuButton.extend({\r\n      init: function (settings) {\r\n        var self = this;\r\n        var values, selected, selectedText, lastItemCtrl;\r\n        function setSelected(menuValues) {\r\n          for (var i = 0; i < menuValues.length; i++) {\r\n            selected = menuValues[i].selected || settings.value === menuValues[i].value;\r\n            if (selected) {\r\n              selectedText = selectedText || menuValues[i].text;\r\n              self.state.set('value', menuValues[i].value);\r\n              return true;\r\n            }\r\n            if (menuValues[i].menu) {\r\n              if (setSelected(menuValues[i].menu)) {\r\n                return true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        self._super(settings);\r\n        settings = self.settings;\r\n        self._values = values = settings.values;\r\n        if (values) {\r\n          if (typeof settings.value !== 'undefined') {\r\n            setSelected(values);\r\n          }\r\n          if (!selected && values.length > 0) {\r\n            selectedText = values[0].text;\r\n            self.state.set('value', values[0].value);\r\n          }\r\n          self.state.set('menu', values);\r\n        }\r\n        self.state.set('text', settings.text || selectedText);\r\n        self.classes.add('listbox');\r\n        self.on('select', function (e) {\r\n          var ctrl = e.control;\r\n          if (lastItemCtrl) {\r\n            e.lastControl = lastItemCtrl;\r\n          }\r\n          if (settings.multiple) {\r\n            ctrl.active(!ctrl.active());\r\n          } else {\r\n            self.value(e.control.value());\r\n          }\r\n          lastItemCtrl = ctrl;\r\n        });\r\n      },\r\n      value: function (value) {\r\n        if (arguments.length === 0) {\r\n          return this.state.get('value');\r\n        }\r\n        if (typeof value === 'undefined') {\r\n          return this;\r\n        }\r\n        function valueExists(values) {\r\n          return exists(values, function (a) {\r\n            return a.menu ? valueExists(a.menu) : a.value === value;\r\n          });\r\n        }\r\n        if (this.settings.values) {\r\n          if (valueExists(this.settings.values)) {\r\n            this.state.set('value', value);\r\n          } else if (value === null) {\r\n            this.state.set('value', null);\r\n          }\r\n        } else {\r\n          this.state.set('value', value);\r\n        }\r\n        return this;\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        function activateMenuItemsByValue(menu, value) {\r\n          if (menu instanceof Menu) {\r\n            menu.items().each(function (ctrl) {\r\n              if (!ctrl.hasMenus()) {\r\n                ctrl.active(ctrl.value() === value);\r\n              }\r\n            });\r\n          }\r\n        }\r\n        function getSelectedItem(menuValues, value) {\r\n          var selectedItem;\r\n          if (!menuValues) {\r\n            return;\r\n          }\r\n          for (var i = 0; i < menuValues.length; i++) {\r\n            if (menuValues[i].value === value) {\r\n              return menuValues[i];\r\n            }\r\n            if (menuValues[i].menu) {\r\n              selectedItem = getSelectedItem(menuValues[i].menu, value);\r\n              if (selectedItem) {\r\n                return selectedItem;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        self.on('show', function (e) {\r\n          activateMenuItemsByValue(e.control, self.value());\r\n        });\r\n        self.state.on('change:value', function (e) {\r\n          var selectedItem = getSelectedItem(self.state.get('menu'), e.value);\r\n          if (selectedItem) {\r\n            self.text(selectedItem.text);\r\n          } else {\r\n            self.text(self.settings.text);\r\n          }\r\n        });\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    var toggleTextStyle = function (ctrl, state) {\r\n      var textStyle = ctrl._textStyle;\r\n      if (textStyle) {\r\n        var textElm = ctrl.getEl('text');\r\n        textElm.setAttribute('style', textStyle);\r\n        if (state) {\r\n          textElm.style.color = '';\r\n          textElm.style.backgroundColor = '';\r\n        }\r\n      }\r\n    };\r\n    var MenuItem = Widget.extend({\r\n      Defaults: {\r\n        border: 0,\r\n        role: 'menuitem'\r\n      },\r\n      init: function (settings) {\r\n        var self = this;\r\n        var text;\r\n        self._super(settings);\r\n        settings = self.settings;\r\n        self.classes.add('menu-item');\r\n        if (settings.menu) {\r\n          self.classes.add('menu-item-expand');\r\n        }\r\n        if (settings.preview) {\r\n          self.classes.add('menu-item-preview');\r\n        }\r\n        text = self.state.get('text');\r\n        if (text === '-' || text === '|') {\r\n          self.classes.add('menu-item-sep');\r\n          self.aria('role', 'separator');\r\n          self.state.set('text', '-');\r\n        }\r\n        if (settings.selectable) {\r\n          self.aria('role', 'menuitemcheckbox');\r\n          self.classes.add('menu-item-checkbox');\r\n          settings.icon = 'selected';\r\n        }\r\n        if (!settings.preview && !settings.selectable) {\r\n          self.classes.add('menu-item-normal');\r\n        }\r\n        self.on('mousedown', function (e) {\r\n          e.preventDefault();\r\n        });\r\n        if (settings.menu && !settings.ariaHideMenu) {\r\n          self.aria('haspopup', true);\r\n        }\r\n      },\r\n      hasMenus: function () {\r\n        return !!this.settings.menu;\r\n      },\r\n      showMenu: function () {\r\n        var self = this;\r\n        var settings = self.settings;\r\n        var menu;\r\n        var parent = self.parent();\r\n        parent.items().each(function (ctrl) {\r\n          if (ctrl !== self) {\r\n            ctrl.hideMenu();\r\n          }\r\n        });\r\n        if (settings.menu) {\r\n          menu = self.menu;\r\n          if (!menu) {\r\n            menu = settings.menu;\r\n            if (menu.length) {\r\n              menu = {\r\n                type: 'menu',\r\n                items: menu\r\n              };\r\n            } else {\r\n              menu.type = menu.type || 'menu';\r\n            }\r\n            if (parent.settings.itemDefaults) {\r\n              menu.itemDefaults = parent.settings.itemDefaults;\r\n            }\r\n            menu = self.menu = global$4.create(menu).parent(self).renderTo();\r\n            menu.reflow();\r\n            menu.on('cancel', function (e) {\r\n              e.stopPropagation();\r\n              self.focus();\r\n              menu.hide();\r\n            });\r\n            menu.on('show hide', function (e) {\r\n              if (e.control.items) {\r\n                e.control.items().each(function (ctrl) {\r\n                  ctrl.active(ctrl.settings.selected);\r\n                });\r\n              }\r\n            }).fire('show');\r\n            menu.on('hide', function (e) {\r\n              if (e.control === menu) {\r\n                self.classes.remove('selected');\r\n              }\r\n            });\r\n            menu.submenu = true;\r\n          } else {\r\n            menu.show();\r\n          }\r\n          menu._parentMenu = parent;\r\n          menu.classes.add('menu-sub');\r\n          var rel = menu.testMoveRel(self.getEl(), self.isRtl() ? [\r\n            'tl-tr',\r\n            'bl-br',\r\n            'tr-tl',\r\n            'br-bl'\r\n          ] : [\r\n            'tr-tl',\r\n            'br-bl',\r\n            'tl-tr',\r\n            'bl-br'\r\n          ]);\r\n          menu.moveRel(self.getEl(), rel);\r\n          menu.rel = rel;\r\n          rel = 'menu-sub-' + rel;\r\n          menu.classes.remove(menu._lastRel).add(rel);\r\n          menu._lastRel = rel;\r\n          self.classes.add('selected');\r\n          self.aria('expanded', true);\r\n        }\r\n      },\r\n      hideMenu: function () {\r\n        var self = this;\r\n        if (self.menu) {\r\n          self.menu.items().each(function (item) {\r\n            if (item.hideMenu) {\r\n              item.hideMenu();\r\n            }\r\n          });\r\n          self.menu.hide();\r\n          self.aria('expanded', false);\r\n        }\r\n        return self;\r\n      },\r\n      renderHtml: function () {\r\n        var self = this;\r\n        var id = self._id;\r\n        var settings = self.settings;\r\n        var prefix = self.classPrefix;\r\n        var text = self.state.get('text');\r\n        var icon = self.settings.icon, image = '', shortcut = settings.shortcut;\r\n        var url = self.encode(settings.url), iconHtml = '';\r\n        function convertShortcut(shortcut) {\r\n          var i, value, replace = {};\r\n          if (global$8.mac) {\r\n            replace = {\r\n              alt: '&#x2325;',\r\n              ctrl: '&#x2318;',\r\n              shift: '&#x21E7;',\r\n              meta: '&#x2318;'\r\n            };\r\n          } else {\r\n            replace = { meta: 'Ctrl' };\r\n          }\r\n          shortcut = shortcut.split('+');\r\n          for (i = 0; i < shortcut.length; i++) {\r\n            value = replace[shortcut[i].toLowerCase()];\r\n            if (value) {\r\n              shortcut[i] = value;\r\n            }\r\n          }\r\n          return shortcut.join('+');\r\n        }\r\n        function escapeRegExp(str) {\r\n          return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n        }\r\n        function markMatches(text) {\r\n          var match = settings.match || '';\r\n          return match ? text.replace(new RegExp(escapeRegExp(match), 'gi'), function (match) {\r\n            return '!mce~match[' + match + ']mce~match!';\r\n          }) : text;\r\n        }\r\n        function boldMatches(text) {\r\n          return text.replace(new RegExp(escapeRegExp('!mce~match['), 'g'), '<b>').replace(new RegExp(escapeRegExp(']mce~match!'), 'g'), '</b>');\r\n        }\r\n        if (icon) {\r\n          self.parent().classes.add('menu-has-icons');\r\n        }\r\n        if (settings.image) {\r\n          image = ' style=\"background-image: url(\\'' + settings.image + '\\')\"';\r\n        }\r\n        if (shortcut) {\r\n          shortcut = convertShortcut(shortcut);\r\n        }\r\n        icon = prefix + 'ico ' + prefix + 'i-' + (self.settings.icon || 'none');\r\n        iconHtml = text !== '-' ? '<i class=\"' + icon + '\"' + image + '></i>\\xA0' : '';\r\n        text = boldMatches(self.encode(markMatches(text)));\r\n        url = boldMatches(self.encode(markMatches(url)));\r\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" tabindex=\"-1\">' + iconHtml + (text !== '-' ? '<span id=\"' + id + '-text\" class=\"' + prefix + 'text\">' + text + '</span>' : '') + (shortcut ? '<div id=\"' + id + '-shortcut\" class=\"' + prefix + 'menu-shortcut\">' + shortcut + '</div>' : '') + (settings.menu ? '<div class=\"' + prefix + 'caret\"></div>' : '') + (url ? '<div class=\"' + prefix + 'menu-item-link\">' + url + '</div>' : '') + '</div>';\r\n      },\r\n      postRender: function () {\r\n        var self = this, settings = self.settings;\r\n        var textStyle = settings.textStyle;\r\n        if (typeof textStyle === 'function') {\r\n          textStyle = textStyle.call(this);\r\n        }\r\n        if (textStyle) {\r\n          var textElm = self.getEl('text');\r\n          if (textElm) {\r\n            textElm.setAttribute('style', textStyle);\r\n            self._textStyle = textStyle;\r\n          }\r\n        }\r\n        self.on('mouseenter click', function (e) {\r\n          if (e.control === self) {\r\n            if (!settings.menu && e.type === 'click') {\r\n              self.fire('select');\r\n              global$7.requestAnimationFrame(function () {\r\n                self.parent().hideAll();\r\n              });\r\n            } else {\r\n              self.showMenu();\r\n              if (e.aria) {\r\n                self.menu.focus(true);\r\n              }\r\n            }\r\n          }\r\n        });\r\n        self._super();\r\n        return self;\r\n      },\r\n      hover: function () {\r\n        var self = this;\r\n        self.parent().items().each(function (ctrl) {\r\n          ctrl.classes.remove('selected');\r\n        });\r\n        self.classes.toggle('selected', true);\r\n        return self;\r\n      },\r\n      active: function (state) {\r\n        toggleTextStyle(this, state);\r\n        if (typeof state !== 'undefined') {\r\n          this.aria('checked', state);\r\n        }\r\n        return this._super(state);\r\n      },\r\n      remove: function () {\r\n        this._super();\r\n        if (this.menu) {\r\n          this.menu.remove();\r\n        }\r\n      }\r\n    });\r\n\r\n    var Radio = Checkbox.extend({\r\n      Defaults: {\r\n        classes: 'radio',\r\n        role: 'radio'\r\n      }\r\n    });\r\n\r\n    var ResizeHandle = Widget.extend({\r\n      renderHtml: function () {\r\n        var self = this, prefix = self.classPrefix;\r\n        self.classes.add('resizehandle');\r\n        if (self.settings.direction === 'both') {\r\n          self.classes.add('resizehandle-both');\r\n        }\r\n        self.canFocus = false;\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-resize\"></i>' + '</div>';\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        self._super();\r\n        self.resizeDragHelper = new DragHelper(this._id, {\r\n          start: function () {\r\n            self.fire('ResizeStart');\r\n          },\r\n          drag: function (e) {\r\n            if (self.settings.direction !== 'both') {\r\n              e.deltaX = 0;\r\n            }\r\n            self.fire('Resize', e);\r\n          },\r\n          stop: function () {\r\n            self.fire('ResizeEnd');\r\n          }\r\n        });\r\n      },\r\n      remove: function () {\r\n        if (this.resizeDragHelper) {\r\n          this.resizeDragHelper.destroy();\r\n        }\r\n        return this._super();\r\n      }\r\n    });\r\n\r\n    function createOptions(options) {\r\n      var strOptions = '';\r\n      if (options) {\r\n        for (var i = 0; i < options.length; i++) {\r\n          strOptions += '<option value=\"' + options[i] + '\">' + options[i] + '</option>';\r\n        }\r\n      }\r\n      return strOptions;\r\n    }\r\n    var SelectBox = Widget.extend({\r\n      Defaults: {\r\n        classes: 'selectbox',\r\n        role: 'selectbox',\r\n        options: []\r\n      },\r\n      init: function (settings) {\r\n        var self = this;\r\n        self._super(settings);\r\n        if (self.settings.size) {\r\n          self.size = self.settings.size;\r\n        }\r\n        if (self.settings.options) {\r\n          self._options = self.settings.options;\r\n        }\r\n        self.on('keydown', function (e) {\r\n          var rootControl;\r\n          if (e.keyCode === 13) {\r\n            e.preventDefault();\r\n            self.parents().reverse().each(function (ctrl) {\r\n              if (ctrl.toJSON) {\r\n                rootControl = ctrl;\r\n                return false;\r\n              }\r\n            });\r\n            self.fire('submit', { data: rootControl.toJSON() });\r\n          }\r\n        });\r\n      },\r\n      options: function (state) {\r\n        if (!arguments.length) {\r\n          return this.state.get('options');\r\n        }\r\n        this.state.set('options', state);\r\n        return this;\r\n      },\r\n      renderHtml: function () {\r\n        var self = this;\r\n        var options, size = '';\r\n        options = createOptions(self._options);\r\n        if (self.size) {\r\n          size = ' size = \"' + self.size + '\"';\r\n        }\r\n        return '<select id=\"' + self._id + '\" class=\"' + self.classes + '\"' + size + '>' + options + '</select>';\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        self.state.on('change:options', function (e) {\r\n          self.getEl().innerHTML = createOptions(e.value);\r\n        });\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    function constrain(value, minVal, maxVal) {\r\n      if (value < minVal) {\r\n        value = minVal;\r\n      }\r\n      if (value > maxVal) {\r\n        value = maxVal;\r\n      }\r\n      return value;\r\n    }\r\n    function setAriaProp(el, name, value) {\r\n      el.setAttribute('aria-' + name, value);\r\n    }\r\n    function updateSliderHandle(ctrl, value) {\r\n      var maxHandlePos, shortSizeName, sizeName, stylePosName, styleValue, handleEl;\r\n      if (ctrl.settings.orientation === 'v') {\r\n        stylePosName = 'top';\r\n        sizeName = 'height';\r\n        shortSizeName = 'h';\r\n      } else {\r\n        stylePosName = 'left';\r\n        sizeName = 'width';\r\n        shortSizeName = 'w';\r\n      }\r\n      handleEl = ctrl.getEl('handle');\r\n      maxHandlePos = (ctrl.layoutRect()[shortSizeName] || 100) - funcs.getSize(handleEl)[sizeName];\r\n      styleValue = maxHandlePos * ((value - ctrl._minValue) / (ctrl._maxValue - ctrl._minValue)) + 'px';\r\n      handleEl.style[stylePosName] = styleValue;\r\n      handleEl.style.height = ctrl.layoutRect().h + 'px';\r\n      setAriaProp(handleEl, 'valuenow', value);\r\n      setAriaProp(handleEl, 'valuetext', '' + ctrl.settings.previewFilter(value));\r\n      setAriaProp(handleEl, 'valuemin', ctrl._minValue);\r\n      setAriaProp(handleEl, 'valuemax', ctrl._maxValue);\r\n    }\r\n    var Slider = Widget.extend({\r\n      init: function (settings) {\r\n        var self = this;\r\n        if (!settings.previewFilter) {\r\n          settings.previewFilter = function (value) {\r\n            return Math.round(value * 100) / 100;\r\n          };\r\n        }\r\n        self._super(settings);\r\n        self.classes.add('slider');\r\n        if (settings.orientation === 'v') {\r\n          self.classes.add('vertical');\r\n        }\r\n        self._minValue = isNumber(settings.minValue) ? settings.minValue : 0;\r\n        self._maxValue = isNumber(settings.maxValue) ? settings.maxValue : 100;\r\n        self._initValue = self.state.get('value');\r\n      },\r\n      renderHtml: function () {\r\n        var self = this, id = self._id, prefix = self.classPrefix;\r\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + id + '-handle\" class=\"' + prefix + 'slider-handle\" role=\"slider\" tabindex=\"-1\"></div>' + '</div>';\r\n      },\r\n      reset: function () {\r\n        this.value(this._initValue).repaint();\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        var minValue, maxValue, screenCordName, stylePosName, sizeName, shortSizeName;\r\n        function toFraction(min, max, val) {\r\n          return (val + min) / (max - min);\r\n        }\r\n        function fromFraction(min, max, val) {\r\n          return val * (max - min) - min;\r\n        }\r\n        function handleKeyboard(minValue, maxValue) {\r\n          function alter(delta) {\r\n            var value;\r\n            value = self.value();\r\n            value = fromFraction(minValue, maxValue, toFraction(minValue, maxValue, value) + delta * 0.05);\r\n            value = constrain(value, minValue, maxValue);\r\n            self.value(value);\r\n            self.fire('dragstart', { value: value });\r\n            self.fire('drag', { value: value });\r\n            self.fire('dragend', { value: value });\r\n          }\r\n          self.on('keydown', function (e) {\r\n            switch (e.keyCode) {\r\n            case 37:\r\n            case 38:\r\n              alter(-1);\r\n              break;\r\n            case 39:\r\n            case 40:\r\n              alter(1);\r\n              break;\r\n            }\r\n          });\r\n        }\r\n        function handleDrag(minValue, maxValue, handleEl) {\r\n          var startPos, startHandlePos, maxHandlePos, handlePos, value;\r\n          self._dragHelper = new DragHelper(self._id, {\r\n            handle: self._id + '-handle',\r\n            start: function (e) {\r\n              startPos = e[screenCordName];\r\n              startHandlePos = parseInt(self.getEl('handle').style[stylePosName], 10);\r\n              maxHandlePos = (self.layoutRect()[shortSizeName] || 100) - funcs.getSize(handleEl)[sizeName];\r\n              self.fire('dragstart', { value: value });\r\n            },\r\n            drag: function (e) {\r\n              var delta = e[screenCordName] - startPos;\r\n              handlePos = constrain(startHandlePos + delta, 0, maxHandlePos);\r\n              handleEl.style[stylePosName] = handlePos + 'px';\r\n              value = minValue + handlePos / maxHandlePos * (maxValue - minValue);\r\n              self.value(value);\r\n              self.tooltip().text('' + self.settings.previewFilter(value)).show().moveRel(handleEl, 'bc tc');\r\n              self.fire('drag', { value: value });\r\n            },\r\n            stop: function () {\r\n              self.tooltip().hide();\r\n              self.fire('dragend', { value: value });\r\n            }\r\n          });\r\n        }\r\n        minValue = self._minValue;\r\n        maxValue = self._maxValue;\r\n        if (self.settings.orientation === 'v') {\r\n          screenCordName = 'screenY';\r\n          stylePosName = 'top';\r\n          sizeName = 'height';\r\n          shortSizeName = 'h';\r\n        } else {\r\n          screenCordName = 'screenX';\r\n          stylePosName = 'left';\r\n          sizeName = 'width';\r\n          shortSizeName = 'w';\r\n        }\r\n        self._super();\r\n        handleKeyboard(minValue, maxValue);\r\n        handleDrag(minValue, maxValue, self.getEl('handle'));\r\n      },\r\n      repaint: function () {\r\n        this._super();\r\n        updateSliderHandle(this, this.value());\r\n      },\r\n      bindStates: function () {\r\n        var self = this;\r\n        self.state.on('change:value', function (e) {\r\n          updateSliderHandle(self, e.value);\r\n        });\r\n        return self._super();\r\n      }\r\n    });\r\n\r\n    var Spacer = Widget.extend({\r\n      renderHtml: function () {\r\n        var self = this;\r\n        self.classes.add('spacer');\r\n        self.canFocus = false;\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"></div>';\r\n      }\r\n    });\r\n\r\n    var SplitButton = MenuButton.extend({\r\n      Defaults: {\r\n        classes: 'widget btn splitbtn',\r\n        role: 'button'\r\n      },\r\n      repaint: function () {\r\n        var self$$1 = this;\r\n        var elm = self$$1.getEl();\r\n        var rect = self$$1.layoutRect();\r\n        var mainButtonElm, menuButtonElm;\r\n        self$$1._super();\r\n        mainButtonElm = elm.firstChild;\r\n        menuButtonElm = elm.lastChild;\r\n        global$9(mainButtonElm).css({\r\n          width: rect.w - funcs.getSize(menuButtonElm).width,\r\n          height: rect.h - 2\r\n        });\r\n        global$9(menuButtonElm).css({ height: rect.h - 2 });\r\n        return self$$1;\r\n      },\r\n      activeMenu: function (state) {\r\n        var self$$1 = this;\r\n        global$9(self$$1.getEl().lastChild).toggleClass(self$$1.classPrefix + 'active', state);\r\n      },\r\n      renderHtml: function () {\r\n        var self$$1 = this;\r\n        var id = self$$1._id;\r\n        var prefix = self$$1.classPrefix;\r\n        var image;\r\n        var icon = self$$1.state.get('icon');\r\n        var text = self$$1.state.get('text');\r\n        var settings = self$$1.settings;\r\n        var textHtml = '', ariaPressed;\r\n        image = settings.image;\r\n        if (image) {\r\n          icon = 'none';\r\n          if (typeof image !== 'string') {\r\n            image = window.getSelection ? image[0] : image[1];\r\n          }\r\n          image = ' style=\"background-image: url(\\'' + image + '\\')\"';\r\n        } else {\r\n          image = '';\r\n        }\r\n        icon = settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\r\n        if (text) {\r\n          self$$1.classes.add('btn-has-text');\r\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self$$1.encode(text) + '</span>';\r\n        }\r\n        ariaPressed = typeof settings.active === 'boolean' ? ' aria-pressed=\"' + settings.active + '\"' : '';\r\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" role=\"button\"' + ariaPressed + ' tabindex=\"-1\">' + '<button type=\"button\" hidefocus=\"1\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + '</button>' + '<button type=\"button\" class=\"' + prefix + 'open\" hidefocus=\"1\" tabindex=\"-1\">' + (self$$1._menuBtnText ? (icon ? '\\xA0' : '') + self$$1._menuBtnText : '') + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\r\n      },\r\n      postRender: function () {\r\n        var self$$1 = this, onClickHandler = self$$1.settings.onclick;\r\n        self$$1.on('click', function (e) {\r\n          var node = e.target;\r\n          if (e.control === this) {\r\n            while (node) {\r\n              if (e.aria && e.aria.key !== 'down' || node.nodeName === 'BUTTON' && node.className.indexOf('open') === -1) {\r\n                e.stopImmediatePropagation();\r\n                if (onClickHandler) {\r\n                  onClickHandler.call(this, e);\r\n                }\r\n                return;\r\n              }\r\n              node = node.parentNode;\r\n            }\r\n          }\r\n        });\r\n        delete self$$1.settings.onclick;\r\n        return self$$1._super();\r\n      }\r\n    });\r\n\r\n    var StackLayout = FlowLayout.extend({\r\n      Defaults: {\r\n        containerClass: 'stack-layout',\r\n        controlClass: 'stack-layout-item',\r\n        endClass: 'break'\r\n      },\r\n      isNative: function () {\r\n        return true;\r\n      }\r\n    });\r\n\r\n    var TabPanel = Panel.extend({\r\n      Defaults: {\r\n        layout: 'absolute',\r\n        defaults: { type: 'panel' }\r\n      },\r\n      activateTab: function (idx) {\r\n        var activeTabElm;\r\n        if (this.activeTabId) {\r\n          activeTabElm = this.getEl(this.activeTabId);\r\n          global$9(activeTabElm).removeClass(this.classPrefix + 'active');\r\n          activeTabElm.setAttribute('aria-selected', 'false');\r\n        }\r\n        this.activeTabId = 't' + idx;\r\n        activeTabElm = this.getEl('t' + idx);\r\n        activeTabElm.setAttribute('aria-selected', 'true');\r\n        global$9(activeTabElm).addClass(this.classPrefix + 'active');\r\n        this.items()[idx].show().fire('showtab');\r\n        this.reflow();\r\n        this.items().each(function (item, i) {\r\n          if (idx !== i) {\r\n            item.hide();\r\n          }\r\n        });\r\n      },\r\n      renderHtml: function () {\r\n        var self = this;\r\n        var layout = self._layout;\r\n        var tabsHtml = '';\r\n        var prefix = self.classPrefix;\r\n        self.preRender();\r\n        layout.preRender(self);\r\n        self.items().each(function (ctrl, i) {\r\n          var id = self._id + '-t' + i;\r\n          ctrl.aria('role', 'tabpanel');\r\n          ctrl.aria('labelledby', id);\r\n          tabsHtml += '<div id=\"' + id + '\" class=\"' + prefix + 'tab\" ' + 'unselectable=\"on\" role=\"tab\" aria-controls=\"' + ctrl._id + '\" aria-selected=\"false\" tabIndex=\"-1\">' + self.encode(ctrl.settings.title) + '</div>';\r\n        });\r\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + '<div id=\"' + self._id + '-head\" class=\"' + prefix + 'tabs\" role=\"tablist\">' + tabsHtml + '</div>' + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + layout.renderHtml(self) + '</div>' + '</div>';\r\n      },\r\n      postRender: function () {\r\n        var self = this;\r\n        self._super();\r\n        self.settings.activeTab = self.settings.activeTab || 0;\r\n        self.activateTab(self.settings.activeTab);\r\n        this.on('click', function (e) {\r\n          var targetParent = e.target.parentNode;\r\n          if (targetParent && targetParent.id === self._id + '-head') {\r\n            var i = targetParent.childNodes.length;\r\n            while (i--) {\r\n              if (targetParent.childNodes[i] === e.target) {\r\n                self.activateTab(i);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      },\r\n      initLayoutRect: function () {\r\n        var self = this;\r\n        var rect, minW, minH;\r\n        minW = funcs.getSize(self.getEl('head')).width;\r\n        minW = minW < 0 ? 0 : minW;\r\n        minH = 0;\r\n        self.items().each(function (item) {\r\n          minW = Math.max(minW, item.layoutRect().minW);\r\n          minH = Math.max(minH, item.layoutRect().minH);\r\n        });\r\n        self.items().each(function (ctrl) {\r\n          ctrl.settings.x = 0;\r\n          ctrl.settings.y = 0;\r\n          ctrl.settings.w = minW;\r\n          ctrl.settings.h = minH;\r\n          ctrl.layoutRect({\r\n            x: 0,\r\n            y: 0,\r\n            w: minW,\r\n            h: minH\r\n          });\r\n        });\r\n        var headH = funcs.getSize(self.getEl('head')).height;\r\n        self.settings.minWidth = minW;\r\n        self.settings.minHeight = minH + headH;\r\n        rect = self._super();\r\n        rect.deltaH += headH;\r\n        rect.innerH = rect.h - rect.deltaH;\r\n        return rect;\r\n      }\r\n    });\r\n\r\n    var TextBox = Widget.extend({\r\n      init: function (settings) {\r\n        var self$$1 = this;\r\n        self$$1._super(settings);\r\n        self$$1.classes.add('textbox');\r\n        if (settings.multiline) {\r\n          self$$1.classes.add('multiline');\r\n        } else {\r\n          self$$1.on('keydown', function (e) {\r\n            var rootControl;\r\n            if (e.keyCode === 13) {\r\n              e.preventDefault();\r\n              self$$1.parents().reverse().each(function (ctrl) {\r\n                if (ctrl.toJSON) {\r\n                  rootControl = ctrl;\r\n                  return false;\r\n                }\r\n              });\r\n              self$$1.fire('submit', { data: rootControl.toJSON() });\r\n            }\r\n          });\r\n          self$$1.on('keyup', function (e) {\r\n            self$$1.state.set('value', e.target.value);\r\n          });\r\n        }\r\n      },\r\n      repaint: function () {\r\n        var self$$1 = this;\r\n        var style, rect, borderBox, borderW, borderH = 0, lastRepaintRect;\r\n        style = self$$1.getEl().style;\r\n        rect = self$$1._layoutRect;\r\n        lastRepaintRect = self$$1._lastRepaintRect || {};\r\n        var doc = document;\r\n        if (!self$$1.settings.multiline && doc.all && (!doc.documentMode || doc.documentMode <= 8)) {\r\n          style.lineHeight = rect.h - borderH + 'px';\r\n        }\r\n        borderBox = self$$1.borderBox;\r\n        borderW = borderBox.left + borderBox.right + 8;\r\n        borderH = borderBox.top + borderBox.bottom + (self$$1.settings.multiline ? 8 : 0);\r\n        if (rect.x !== lastRepaintRect.x) {\r\n          style.left = rect.x + 'px';\r\n          lastRepaintRect.x = rect.x;\r\n        }\r\n        if (rect.y !== lastRepaintRect.y) {\r\n          style.top = rect.y + 'px';\r\n          lastRepaintRect.y = rect.y;\r\n        }\r\n        if (rect.w !== lastRepaintRect.w) {\r\n          style.width = rect.w - borderW + 'px';\r\n          lastRepaintRect.w = rect.w;\r\n        }\r\n        if (rect.h !== lastRepaintRect.h) {\r\n          style.height = rect.h - borderH + 'px';\r\n          lastRepaintRect.h = rect.h;\r\n        }\r\n        self$$1._lastRepaintRect = lastRepaintRect;\r\n        self$$1.fire('repaint', {}, false);\r\n        return self$$1;\r\n      },\r\n      renderHtml: function () {\r\n        var self$$1 = this;\r\n        var settings = self$$1.settings;\r\n        var attrs, elm;\r\n        attrs = {\r\n          id: self$$1._id,\r\n          hidefocus: '1'\r\n        };\r\n        global$2.each([\r\n          'rows',\r\n          'spellcheck',\r\n          'maxLength',\r\n          'size',\r\n          'readonly',\r\n          'min',\r\n          'max',\r\n          'step',\r\n          'list',\r\n          'pattern',\r\n          'placeholder',\r\n          'required',\r\n          'multiple'\r\n        ], function (name$$1) {\r\n          attrs[name$$1] = settings[name$$1];\r\n        });\r\n        if (self$$1.disabled()) {\r\n          attrs.disabled = 'disabled';\r\n        }\r\n        if (settings.subtype) {\r\n          attrs.type = settings.subtype;\r\n        }\r\n        elm = funcs.create(settings.multiline ? 'textarea' : 'input', attrs);\r\n        elm.value = self$$1.state.get('value');\r\n        elm.className = self$$1.classes.toString();\r\n        return elm.outerHTML;\r\n      },\r\n      value: function (value) {\r\n        if (arguments.length) {\r\n          this.state.set('value', value);\r\n          return this;\r\n        }\r\n        if (this.state.get('rendered')) {\r\n          this.state.set('value', this.getEl().value);\r\n        }\r\n        return this.state.get('value');\r\n      },\r\n      postRender: function () {\r\n        var self$$1 = this;\r\n        self$$1.getEl().value = self$$1.state.get('value');\r\n        self$$1._super();\r\n        self$$1.$el.on('change', function (e) {\r\n          self$$1.state.set('value', e.target.value);\r\n          self$$1.fire('change', e);\r\n        });\r\n      },\r\n      bindStates: function () {\r\n        var self$$1 = this;\r\n        self$$1.state.on('change:value', function (e) {\r\n          if (self$$1.getEl().value !== e.value) {\r\n            self$$1.getEl().value = e.value;\r\n          }\r\n        });\r\n        self$$1.state.on('change:disabled', function (e) {\r\n          self$$1.getEl().disabled = e.value;\r\n        });\r\n        return self$$1._super();\r\n      },\r\n      remove: function () {\r\n        this.$el.off();\r\n        this._super();\r\n      }\r\n    });\r\n\r\n    var getApi = function () {\r\n      return {\r\n        Selector: Selector,\r\n        Collection: Collection$2,\r\n        ReflowQueue: ReflowQueue,\r\n        Control: Control$1,\r\n        Factory: global$4,\r\n        KeyboardNavigation: KeyboardNavigation,\r\n        Container: Container,\r\n        DragHelper: DragHelper,\r\n        Scrollable: Scrollable,\r\n        Panel: Panel,\r\n        Movable: Movable,\r\n        Resizable: Resizable,\r\n        FloatPanel: FloatPanel,\r\n        Window: Window$$1,\r\n        MessageBox: MessageBox,\r\n        Tooltip: Tooltip,\r\n        Widget: Widget,\r\n        Progress: Progress,\r\n        Notification: Notification,\r\n        Layout: Layout,\r\n        AbsoluteLayout: AbsoluteLayout,\r\n        Button: Button,\r\n        ButtonGroup: ButtonGroup,\r\n        Checkbox: Checkbox,\r\n        ComboBox: ComboBox,\r\n        ColorBox: ColorBox,\r\n        PanelButton: PanelButton,\r\n        ColorButton: ColorButton,\r\n        ColorPicker: ColorPicker,\r\n        Path: Path,\r\n        ElementPath: ElementPath,\r\n        FormItem: FormItem,\r\n        Form: Form,\r\n        FieldSet: FieldSet,\r\n        FilePicker: FilePicker,\r\n        FitLayout: FitLayout,\r\n        FlexLayout: FlexLayout,\r\n        FlowLayout: FlowLayout,\r\n        FormatControls: FormatControls,\r\n        GridLayout: GridLayout,\r\n        Iframe: Iframe$1,\r\n        InfoBox: InfoBox,\r\n        Label: Label,\r\n        Toolbar: Toolbar$1,\r\n        MenuBar: MenuBar,\r\n        MenuButton: MenuButton,\r\n        MenuItem: MenuItem,\r\n        Throbber: Throbber,\r\n        Menu: Menu,\r\n        ListBox: ListBox,\r\n        Radio: Radio,\r\n        ResizeHandle: ResizeHandle,\r\n        SelectBox: SelectBox,\r\n        Slider: Slider,\r\n        Spacer: Spacer,\r\n        SplitButton: SplitButton,\r\n        StackLayout: StackLayout,\r\n        TabPanel: TabPanel,\r\n        TextBox: TextBox,\r\n        DropZone: DropZone,\r\n        BrowseButton: BrowseButton\r\n      };\r\n    };\r\n    var appendTo = function (target) {\r\n      if (target.ui) {\r\n        global$2.each(getApi(), function (ref, key) {\r\n          target.ui[key] = ref;\r\n        });\r\n      } else {\r\n        target.ui = getApi();\r\n      }\r\n    };\r\n    var registerToFactory = function () {\r\n      global$2.each(getApi(), function (ref, key) {\r\n        global$4.add(key, ref);\r\n      });\r\n    };\r\n    var Api = {\r\n      appendTo: appendTo,\r\n      registerToFactory: registerToFactory\r\n    };\r\n\r\n    Api.registerToFactory();\r\n    Api.appendTo(window.tinymce ? window.tinymce : {});\r\n    global.add('modern', function (editor) {\r\n      FormatControls.setup(editor);\r\n      return ThemeApi.get(editor);\r\n    });\r\n    function Theme () {\r\n    }\r\n\r\n    return Theme;\r\n\r\n}());\r\n})();\r\n","// 4.9.3 (2019-01-31)\r\n(function () {\r\n(function () {\r\n    'use strict';\r\n\r\n    var noop = function () {\r\n      var args = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n      }\r\n    };\r\n    var compose = function (fa, fb) {\r\n      return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          args[_i] = arguments[_i];\r\n        }\r\n        return fa(fb.apply(null, args));\r\n      };\r\n    };\r\n    var constant = function (value) {\r\n      return function () {\r\n        return value;\r\n      };\r\n    };\r\n    var identity = function (x) {\r\n      return x;\r\n    };\r\n    function curry(fn) {\r\n      var initialArgs = [];\r\n      for (var _i = 1; _i < arguments.length; _i++) {\r\n        initialArgs[_i - 1] = arguments[_i];\r\n      }\r\n      return function () {\r\n        var restArgs = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          restArgs[_i] = arguments[_i];\r\n        }\r\n        var all = initialArgs.concat(restArgs);\r\n        return fn.apply(null, all);\r\n      };\r\n    }\r\n    var not = function (f) {\r\n      return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          args[_i] = arguments[_i];\r\n        }\r\n        return !f.apply(null, args);\r\n      };\r\n    };\r\n    var die = function (msg) {\r\n      return function () {\r\n        throw new Error(msg);\r\n      };\r\n    };\r\n    var never = constant(false);\r\n    var always = constant(true);\r\n\r\n    var never$1 = never;\r\n    var always$1 = always;\r\n    var none = function () {\r\n      return NONE;\r\n    };\r\n    var NONE = function () {\r\n      var eq = function (o) {\r\n        return o.isNone();\r\n      };\r\n      var call$$1 = function (thunk) {\r\n        return thunk();\r\n      };\r\n      var id = function (n) {\r\n        return n;\r\n      };\r\n      var noop$$1 = function () {\r\n      };\r\n      var nul = function () {\r\n        return null;\r\n      };\r\n      var undef = function () {\r\n        return undefined;\r\n      };\r\n      var me = {\r\n        fold: function (n, s) {\r\n          return n();\r\n        },\r\n        is: never$1,\r\n        isSome: never$1,\r\n        isNone: always$1,\r\n        getOr: id,\r\n        getOrThunk: call$$1,\r\n        getOrDie: function (msg) {\r\n          throw new Error(msg || 'error: getOrDie called on none.');\r\n        },\r\n        getOrNull: nul,\r\n        getOrUndefined: undef,\r\n        or: id,\r\n        orThunk: call$$1,\r\n        map: none,\r\n        ap: none,\r\n        each: noop$$1,\r\n        bind: none,\r\n        flatten: none,\r\n        exists: never$1,\r\n        forall: always$1,\r\n        filter: none,\r\n        equals: eq,\r\n        equals_: eq,\r\n        toArray: function () {\r\n          return [];\r\n        },\r\n        toString: constant('none()')\r\n      };\r\n      if (Object.freeze)\r\n        Object.freeze(me);\r\n      return me;\r\n    }();\r\n    var some = function (a) {\r\n      var constant_a = function () {\r\n        return a;\r\n      };\r\n      var self = function () {\r\n        return me;\r\n      };\r\n      var map = function (f) {\r\n        return some(f(a));\r\n      };\r\n      var bind = function (f) {\r\n        return f(a);\r\n      };\r\n      var me = {\r\n        fold: function (n, s) {\r\n          return s(a);\r\n        },\r\n        is: function (v) {\r\n          return a === v;\r\n        },\r\n        isSome: always$1,\r\n        isNone: never$1,\r\n        getOr: constant_a,\r\n        getOrThunk: constant_a,\r\n        getOrDie: constant_a,\r\n        getOrNull: constant_a,\r\n        getOrUndefined: constant_a,\r\n        or: self,\r\n        orThunk: self,\r\n        map: map,\r\n        ap: function (optfab) {\r\n          return optfab.fold(none, function (fab) {\r\n            return some(fab(a));\r\n          });\r\n        },\r\n        each: function (f) {\r\n          f(a);\r\n        },\r\n        bind: bind,\r\n        flatten: constant_a,\r\n        exists: bind,\r\n        forall: bind,\r\n        filter: function (f) {\r\n          return f(a) ? me : NONE;\r\n        },\r\n        equals: function (o) {\r\n          return o.is(a);\r\n        },\r\n        equals_: function (o, elementEq) {\r\n          return o.fold(never$1, function (b) {\r\n            return elementEq(a, b);\r\n          });\r\n        },\r\n        toArray: function () {\r\n          return [a];\r\n        },\r\n        toString: function () {\r\n          return 'some(' + a + ')';\r\n        }\r\n      };\r\n      return me;\r\n    };\r\n    var from = function (value) {\r\n      return value === null || value === undefined ? NONE : some(value);\r\n    };\r\n    var Option = {\r\n      some: some,\r\n      none: none,\r\n      from: from\r\n    };\r\n\r\n    var typeOf = function (x) {\r\n      if (x === null)\r\n        return 'null';\r\n      var t = typeof x;\r\n      if (t === 'object' && Array.prototype.isPrototypeOf(x))\r\n        return 'array';\r\n      if (t === 'object' && String.prototype.isPrototypeOf(x))\r\n        return 'string';\r\n      return t;\r\n    };\r\n    var isType = function (type) {\r\n      return function (value) {\r\n        return typeOf(value) === type;\r\n      };\r\n    };\r\n    var isString = isType('string');\r\n    var isObject = isType('object');\r\n    var isArray = isType('array');\r\n    var isNull = isType('null');\r\n    var isBoolean = isType('boolean');\r\n    var isFunction = isType('function');\r\n    var isNumber = isType('number');\r\n\r\n    var rawIndexOf = function () {\r\n      var pIndexOf = Array.prototype.indexOf;\r\n      var fastIndex = function (xs, x) {\r\n        return pIndexOf.call(xs, x);\r\n      };\r\n      var slowIndex = function (xs, x) {\r\n        return slowIndexOf(xs, x);\r\n      };\r\n      return pIndexOf === undefined ? slowIndex : fastIndex;\r\n    }();\r\n    var indexOf = function (xs, x) {\r\n      var r = rawIndexOf(xs, x);\r\n      return r === -1 ? Option.none() : Option.some(r);\r\n    };\r\n    var contains = function (xs, x) {\r\n      return rawIndexOf(xs, x) > -1;\r\n    };\r\n    var exists = function (xs, pred) {\r\n      return findIndex(xs, pred).isSome();\r\n    };\r\n    var map = function (xs, f) {\r\n      var len = xs.length;\r\n      var r = new Array(len);\r\n      for (var i = 0; i < len; i++) {\r\n        var x = xs[i];\r\n        r[i] = f(x, i, xs);\r\n      }\r\n      return r;\r\n    };\r\n    var each = function (xs, f) {\r\n      for (var i = 0, len = xs.length; i < len; i++) {\r\n        var x = xs[i];\r\n        f(x, i, xs);\r\n      }\r\n    };\r\n    var eachr = function (xs, f) {\r\n      for (var i = xs.length - 1; i >= 0; i--) {\r\n        var x = xs[i];\r\n        f(x, i, xs);\r\n      }\r\n    };\r\n    var partition = function (xs, pred) {\r\n      var pass = [];\r\n      var fail = [];\r\n      for (var i = 0, len = xs.length; i < len; i++) {\r\n        var x = xs[i];\r\n        var arr = pred(x, i, xs) ? pass : fail;\r\n        arr.push(x);\r\n      }\r\n      return {\r\n        pass: pass,\r\n        fail: fail\r\n      };\r\n    };\r\n    var filter = function (xs, pred) {\r\n      var r = [];\r\n      for (var i = 0, len = xs.length; i < len; i++) {\r\n        var x = xs[i];\r\n        if (pred(x, i, xs)) {\r\n          r.push(x);\r\n        }\r\n      }\r\n      return r;\r\n    };\r\n    var foldr = function (xs, f, acc) {\r\n      eachr(xs, function (x) {\r\n        acc = f(acc, x);\r\n      });\r\n      return acc;\r\n    };\r\n    var foldl = function (xs, f, acc) {\r\n      each(xs, function (x) {\r\n        acc = f(acc, x);\r\n      });\r\n      return acc;\r\n    };\r\n    var find = function (xs, pred) {\r\n      for (var i = 0, len = xs.length; i < len; i++) {\r\n        var x = xs[i];\r\n        if (pred(x, i, xs)) {\r\n          return Option.some(x);\r\n        }\r\n      }\r\n      return Option.none();\r\n    };\r\n    var findIndex = function (xs, pred) {\r\n      for (var i = 0, len = xs.length; i < len; i++) {\r\n        var x = xs[i];\r\n        if (pred(x, i, xs)) {\r\n          return Option.some(i);\r\n        }\r\n      }\r\n      return Option.none();\r\n    };\r\n    var slowIndexOf = function (xs, x) {\r\n      for (var i = 0, len = xs.length; i < len; ++i) {\r\n        if (xs[i] === x) {\r\n          return i;\r\n        }\r\n      }\r\n      return -1;\r\n    };\r\n    var push = Array.prototype.push;\r\n    var flatten = function (xs) {\r\n      var r = [];\r\n      for (var i = 0, len = xs.length; i < len; ++i) {\r\n        if (!Array.prototype.isPrototypeOf(xs[i]))\r\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\r\n        push.apply(r, xs[i]);\r\n      }\r\n      return r;\r\n    };\r\n    var bind = function (xs, f) {\r\n      var output = map(xs, f);\r\n      return flatten(output);\r\n    };\r\n    var forall = function (xs, pred) {\r\n      for (var i = 0, len = xs.length; i < len; ++i) {\r\n        var x = xs[i];\r\n        if (pred(x, i, xs) !== true) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n    var slice = Array.prototype.slice;\r\n    var reverse = function (xs) {\r\n      var r = slice.call(xs, 0);\r\n      r.reverse();\r\n      return r;\r\n    };\r\n    var difference = function (a1, a2) {\r\n      return filter(a1, function (x) {\r\n        return !contains(a2, x);\r\n      });\r\n    };\r\n    var mapToObject = function (xs, f) {\r\n      var r = {};\r\n      for (var i = 0, len = xs.length; i < len; i++) {\r\n        var x = xs[i];\r\n        r[String(x)] = f(x, i);\r\n      }\r\n      return r;\r\n    };\r\n    var sort = function (xs, comparator) {\r\n      var copy = slice.call(xs, 0);\r\n      copy.sort(comparator);\r\n      return copy;\r\n    };\r\n    var head = function (xs) {\r\n      return xs.length === 0 ? Option.none() : Option.some(xs[0]);\r\n    };\r\n    var last = function (xs) {\r\n      return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);\r\n    };\r\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\r\n      return slice.call(x);\r\n    };\r\n\r\n    var Global = typeof window !== 'undefined' ? window : Function('return this;')();\r\n\r\n    var path = function (parts, scope) {\r\n      var o = scope !== undefined && scope !== null ? scope : Global;\r\n      for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i)\r\n        o = o[parts[i]];\r\n      return o;\r\n    };\r\n    var resolve = function (p, scope) {\r\n      var parts = p.split('.');\r\n      return path(parts, scope);\r\n    };\r\n\r\n    var unsafe = function (name, scope) {\r\n      return resolve(name, scope);\r\n    };\r\n    var getOrDie = function (name, scope) {\r\n      var actual = unsafe(name, scope);\r\n      if (actual === undefined || actual === null)\r\n        throw name + ' not available on this browser';\r\n      return actual;\r\n    };\r\n    var Global$1 = { getOrDie: getOrDie };\r\n\r\n    var url = function () {\r\n      return Global$1.getOrDie('URL');\r\n    };\r\n    var createObjectURL = function (blob) {\r\n      return url().createObjectURL(blob);\r\n    };\r\n    var revokeObjectURL = function (u) {\r\n      url().revokeObjectURL(u);\r\n    };\r\n    var URL = {\r\n      createObjectURL: createObjectURL,\r\n      revokeObjectURL: revokeObjectURL\r\n    };\r\n\r\n    var nav = navigator, userAgent = nav.userAgent;\r\n    var opera, webkit, ie, ie11, ie12, gecko, mac, iDevice, android, fileApi, phone, tablet, windowsPhone;\r\n    var matchMediaQuery = function (query) {\r\n      return 'matchMedia' in window ? matchMedia(query).matches : false;\r\n    };\r\n    opera = false;\r\n    android = /Android/.test(userAgent);\r\n    webkit = /WebKit/.test(userAgent);\r\n    ie = !webkit && !opera && /MSIE/gi.test(userAgent) && /Explorer/gi.test(nav.appName);\r\n    ie = ie && /MSIE (\\w+)\\./.exec(userAgent)[1];\r\n    ie11 = userAgent.indexOf('Trident/') !== -1 && (userAgent.indexOf('rv:') !== -1 || nav.appName.indexOf('Netscape') !== -1) ? 11 : false;\r\n    ie12 = userAgent.indexOf('Edge/') !== -1 && !ie && !ie11 ? 12 : false;\r\n    ie = ie || ie11 || ie12;\r\n    gecko = !webkit && !ie11 && /Gecko/.test(userAgent);\r\n    mac = userAgent.indexOf('Mac') !== -1;\r\n    iDevice = /(iPad|iPhone)/.test(userAgent);\r\n    fileApi = 'FormData' in window && 'FileReader' in window && 'URL' in window && !!URL.createObjectURL;\r\n    phone = matchMediaQuery('only screen and (max-device-width: 480px)') && (android || iDevice);\r\n    tablet = matchMediaQuery('only screen and (min-width: 800px)') && (android || iDevice);\r\n    windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\r\n    if (ie12) {\r\n      webkit = false;\r\n    }\r\n    var contentEditable = !iDevice || fileApi || parseInt(userAgent.match(/AppleWebKit\\/(\\d*)/)[1], 10) >= 534;\r\n    var Env = {\r\n      opera: opera,\r\n      webkit: webkit,\r\n      ie: ie,\r\n      gecko: gecko,\r\n      mac: mac,\r\n      iOS: iDevice,\r\n      android: android,\r\n      contentEditable: contentEditable,\r\n      transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\r\n      caretAfter: ie !== 8,\r\n      range: window.getSelection && 'Range' in window,\r\n      documentMode: ie && !ie12 ? document.documentMode || 7 : 10,\r\n      fileApi: fileApi,\r\n      ceFalse: ie === false || ie > 8,\r\n      cacheSuffix: null,\r\n      container: null,\r\n      overrideViewPort: null,\r\n      experimentalShadowDom: false,\r\n      canHaveCSP: ie === false || ie > 11,\r\n      desktop: !phone && !tablet,\r\n      windowsPhone: windowsPhone\r\n    };\r\n\r\n    var promise = function () {\r\n      function bind(fn, thisArg) {\r\n        return function () {\r\n          fn.apply(thisArg, arguments);\r\n        };\r\n      }\r\n      var isArray = Array.isArray || function (value) {\r\n        return Object.prototype.toString.call(value) === '[object Array]';\r\n      };\r\n      var Promise = function (fn) {\r\n        if (typeof this !== 'object') {\r\n          throw new TypeError('Promises must be constructed via new');\r\n        }\r\n        if (typeof fn !== 'function') {\r\n          throw new TypeError('not a function');\r\n        }\r\n        this._state = null;\r\n        this._value = null;\r\n        this._deferreds = [];\r\n        doResolve(fn, bind(resolve, this), bind(reject, this));\r\n      };\r\n      var asap = Promise.immediateFn || typeof setImmediate === 'function' && setImmediate || function (fn) {\r\n        setTimeout(fn, 1);\r\n      };\r\n      function handle(deferred) {\r\n        var me = this;\r\n        if (this._state === null) {\r\n          this._deferreds.push(deferred);\r\n          return;\r\n        }\r\n        asap(function () {\r\n          var cb = me._state ? deferred.onFulfilled : deferred.onRejected;\r\n          if (cb === null) {\r\n            (me._state ? deferred.resolve : deferred.reject)(me._value);\r\n            return;\r\n          }\r\n          var ret;\r\n          try {\r\n            ret = cb(me._value);\r\n          } catch (e) {\r\n            deferred.reject(e);\r\n            return;\r\n          }\r\n          deferred.resolve(ret);\r\n        });\r\n      }\r\n      function resolve(newValue) {\r\n        try {\r\n          if (newValue === this) {\r\n            throw new TypeError('A promise cannot be resolved with itself.');\r\n          }\r\n          if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\r\n            var then = newValue.then;\r\n            if (typeof then === 'function') {\r\n              doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\r\n              return;\r\n            }\r\n          }\r\n          this._state = true;\r\n          this._value = newValue;\r\n          finale.call(this);\r\n        } catch (e) {\r\n          reject.call(this, e);\r\n        }\r\n      }\r\n      function reject(newValue) {\r\n        this._state = false;\r\n        this._value = newValue;\r\n        finale.call(this);\r\n      }\r\n      function finale() {\r\n        for (var i = 0, len = this._deferreds.length; i < len; i++) {\r\n          handle.call(this, this._deferreds[i]);\r\n        }\r\n        this._deferreds = null;\r\n      }\r\n      function Handler(onFulfilled, onRejected, resolve, reject) {\r\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\r\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\r\n        this.resolve = resolve;\r\n        this.reject = reject;\r\n      }\r\n      function doResolve(fn, onFulfilled, onRejected) {\r\n        var done = false;\r\n        try {\r\n          fn(function (value) {\r\n            if (done) {\r\n              return;\r\n            }\r\n            done = true;\r\n            onFulfilled(value);\r\n          }, function (reason) {\r\n            if (done) {\r\n              return;\r\n            }\r\n            done = true;\r\n            onRejected(reason);\r\n          });\r\n        } catch (ex) {\r\n          if (done) {\r\n            return;\r\n          }\r\n          done = true;\r\n          onRejected(ex);\r\n        }\r\n      }\r\n      Promise.prototype.catch = function (onRejected) {\r\n        return this.then(null, onRejected);\r\n      };\r\n      Promise.prototype.then = function (onFulfilled, onRejected) {\r\n        var me = this;\r\n        return new Promise(function (resolve, reject) {\r\n          handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\r\n        });\r\n      };\r\n      Promise.all = function () {\r\n        var args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\r\n        return new Promise(function (resolve, reject) {\r\n          if (args.length === 0) {\r\n            return resolve([]);\r\n          }\r\n          var remaining = args.length;\r\n          function res(i, val) {\r\n            try {\r\n              if (val && (typeof val === 'object' || typeof val === 'function')) {\r\n                var then = val.then;\r\n                if (typeof then === 'function') {\r\n                  then.call(val, function (val) {\r\n                    res(i, val);\r\n                  }, reject);\r\n                  return;\r\n                }\r\n              }\r\n              args[i] = val;\r\n              if (--remaining === 0) {\r\n                resolve(args);\r\n              }\r\n            } catch (ex) {\r\n              reject(ex);\r\n            }\r\n          }\r\n          for (var i = 0; i < args.length; i++) {\r\n            res(i, args[i]);\r\n          }\r\n        });\r\n      };\r\n      Promise.resolve = function (value) {\r\n        if (value && typeof value === 'object' && value.constructor === Promise) {\r\n          return value;\r\n        }\r\n        return new Promise(function (resolve) {\r\n          resolve(value);\r\n        });\r\n      };\r\n      Promise.reject = function (value) {\r\n        return new Promise(function (resolve, reject) {\r\n          reject(value);\r\n        });\r\n      };\r\n      Promise.race = function (values) {\r\n        return new Promise(function (resolve, reject) {\r\n          for (var i = 0, len = values.length; i < len; i++) {\r\n            values[i].then(resolve, reject);\r\n          }\r\n        });\r\n      };\r\n      return Promise;\r\n    };\r\n    var promiseObj = window.Promise ? window.Promise : promise();\r\n\r\n    var requestAnimationFramePromise;\r\n    var requestAnimationFrame$$1 = function (callback, element) {\r\n      var i, requestAnimationFrameFunc = window.requestAnimationFrame;\r\n      var vendors = [\r\n        'ms',\r\n        'moz',\r\n        'webkit'\r\n      ];\r\n      var featurefill = function (callback) {\r\n        window.setTimeout(callback, 0);\r\n      };\r\n      for (i = 0; i < vendors.length && !requestAnimationFrameFunc; i++) {\r\n        requestAnimationFrameFunc = window[vendors[i] + 'RequestAnimationFrame'];\r\n      }\r\n      if (!requestAnimationFrameFunc) {\r\n        requestAnimationFrameFunc = featurefill;\r\n      }\r\n      requestAnimationFrameFunc(callback, element);\r\n    };\r\n    var wrappedSetTimeout = function (callback, time) {\r\n      if (typeof time !== 'number') {\r\n        time = 0;\r\n      }\r\n      return setTimeout(callback, time);\r\n    };\r\n    var wrappedSetInterval = function (callback, time) {\r\n      if (typeof time !== 'number') {\r\n        time = 1;\r\n      }\r\n      return setInterval(callback, time);\r\n    };\r\n    var wrappedClearTimeout = function (id) {\r\n      return clearTimeout(id);\r\n    };\r\n    var wrappedClearInterval = function (id) {\r\n      return clearInterval(id);\r\n    };\r\n    var debounce = function (callback, time) {\r\n      var timer, func;\r\n      func = function () {\r\n        var args = arguments;\r\n        clearTimeout(timer);\r\n        timer = wrappedSetTimeout(function () {\r\n          callback.apply(this, args);\r\n        }, time);\r\n      };\r\n      func.stop = function () {\r\n        clearTimeout(timer);\r\n      };\r\n      return func;\r\n    };\r\n    var Delay = {\r\n      requestAnimationFrame: function (callback, element) {\r\n        if (requestAnimationFramePromise) {\r\n          requestAnimationFramePromise.then(callback);\r\n          return;\r\n        }\r\n        requestAnimationFramePromise = new promiseObj(function (resolve) {\r\n          if (!element) {\r\n            element = document.body;\r\n          }\r\n          requestAnimationFrame$$1(resolve, element);\r\n        }).then(callback);\r\n      },\r\n      setTimeout: wrappedSetTimeout,\r\n      setInterval: wrappedSetInterval,\r\n      setEditorTimeout: function (editor, callback, time) {\r\n        return wrappedSetTimeout(function () {\r\n          if (!editor.removed) {\r\n            callback();\r\n          }\r\n        }, time);\r\n      },\r\n      setEditorInterval: function (editor, callback, time) {\r\n        var timer;\r\n        timer = wrappedSetInterval(function () {\r\n          if (!editor.removed) {\r\n            callback();\r\n          } else {\r\n            clearInterval(timer);\r\n          }\r\n        }, time);\r\n        return timer;\r\n      },\r\n      debounce: debounce,\r\n      throttle: debounce,\r\n      clearInterval: wrappedClearInterval,\r\n      clearTimeout: wrappedClearTimeout\r\n    };\r\n\r\n    var eventExpandoPrefix = 'mce-data-';\r\n    var mouseEventRe = /^(?:mouse|contextmenu)|click/;\r\n    var deprecated = {\r\n      keyLocation: 1,\r\n      layerX: 1,\r\n      layerY: 1,\r\n      returnValue: 1,\r\n      webkitMovementX: 1,\r\n      webkitMovementY: 1,\r\n      keyIdentifier: 1\r\n    };\r\n    var hasIsDefaultPrevented = function (event$$1) {\r\n      return event$$1.isDefaultPrevented === returnTrue || event$$1.isDefaultPrevented === returnFalse;\r\n    };\r\n    var returnFalse = function () {\r\n      return false;\r\n    };\r\n    var returnTrue = function () {\r\n      return true;\r\n    };\r\n    var addEvent = function (target, name$$1, callback, capture) {\r\n      if (target.addEventListener) {\r\n        target.addEventListener(name$$1, callback, capture || false);\r\n      } else if (target.attachEvent) {\r\n        target.attachEvent('on' + name$$1, callback);\r\n      }\r\n    };\r\n    var removeEvent = function (target, name$$1, callback, capture) {\r\n      if (target.removeEventListener) {\r\n        target.removeEventListener(name$$1, callback, capture || false);\r\n      } else if (target.detachEvent) {\r\n        target.detachEvent('on' + name$$1, callback);\r\n      }\r\n    };\r\n    var getTargetFromShadowDom = function (event$$1, defaultTarget) {\r\n      if (event$$1.composedPath) {\r\n        var composedPath = event$$1.composedPath();\r\n        if (composedPath && composedPath.length > 0) {\r\n          return composedPath[0];\r\n        }\r\n      }\r\n      return defaultTarget;\r\n    };\r\n    var fix = function (originalEvent, data) {\r\n      var name$$1;\r\n      var event$$1 = data || {};\r\n      for (name$$1 in originalEvent) {\r\n        if (!deprecated[name$$1]) {\r\n          event$$1[name$$1] = originalEvent[name$$1];\r\n        }\r\n      }\r\n      if (!event$$1.target) {\r\n        event$$1.target = event$$1.srcElement || document;\r\n      }\r\n      if (Env.experimentalShadowDom) {\r\n        event$$1.target = getTargetFromShadowDom(originalEvent, event$$1.target);\r\n      }\r\n      if (originalEvent && mouseEventRe.test(originalEvent.type) && originalEvent.pageX === undefined && originalEvent.clientX !== undefined) {\r\n        var eventDoc = event$$1.target.ownerDocument || document;\r\n        var doc = eventDoc.documentElement;\r\n        var body = eventDoc.body;\r\n        event$$1.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\r\n        event$$1.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\r\n      }\r\n      event$$1.preventDefault = function () {\r\n        event$$1.isDefaultPrevented = returnTrue;\r\n        if (originalEvent) {\r\n          if (originalEvent.preventDefault) {\r\n            originalEvent.preventDefault();\r\n          } else {\r\n            originalEvent.returnValue = false;\r\n          }\r\n        }\r\n      };\r\n      event$$1.stopPropagation = function () {\r\n        event$$1.isPropagationStopped = returnTrue;\r\n        if (originalEvent) {\r\n          if (originalEvent.stopPropagation) {\r\n            originalEvent.stopPropagation();\r\n          } else {\r\n            originalEvent.cancelBubble = true;\r\n          }\r\n        }\r\n      };\r\n      event$$1.stopImmediatePropagation = function () {\r\n        event$$1.isImmediatePropagationStopped = returnTrue;\r\n        event$$1.stopPropagation();\r\n      };\r\n      if (hasIsDefaultPrevented(event$$1) === false) {\r\n        event$$1.isDefaultPrevented = returnFalse;\r\n        event$$1.isPropagationStopped = returnFalse;\r\n        event$$1.isImmediatePropagationStopped = returnFalse;\r\n      }\r\n      if (typeof event$$1.metaKey === 'undefined') {\r\n        event$$1.metaKey = false;\r\n      }\r\n      return event$$1;\r\n    };\r\n    var bindOnReady = function (win, callback, eventUtils) {\r\n      var doc = win.document, event$$1 = { type: 'ready' };\r\n      if (eventUtils.domLoaded) {\r\n        callback(event$$1);\r\n        return;\r\n      }\r\n      var isDocReady = function () {\r\n        return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\r\n      };\r\n      var readyHandler = function () {\r\n        if (!eventUtils.domLoaded) {\r\n          eventUtils.domLoaded = true;\r\n          callback(event$$1);\r\n        }\r\n      };\r\n      var waitForDomLoaded = function () {\r\n        if (isDocReady()) {\r\n          removeEvent(doc, 'readystatechange', waitForDomLoaded);\r\n          readyHandler();\r\n        }\r\n      };\r\n      var tryScroll = function () {\r\n        try {\r\n          doc.documentElement.doScroll('left');\r\n        } catch (ex) {\r\n          Delay.setTimeout(tryScroll);\r\n          return;\r\n        }\r\n        readyHandler();\r\n      };\r\n      if (doc.addEventListener && !(Env.ie && Env.ie < 11)) {\r\n        if (isDocReady()) {\r\n          readyHandler();\r\n        } else {\r\n          addEvent(win, 'DOMContentLoaded', readyHandler);\r\n        }\r\n      } else {\r\n        addEvent(doc, 'readystatechange', waitForDomLoaded);\r\n        if (doc.documentElement.doScroll && win.self === win.top) {\r\n          tryScroll();\r\n        }\r\n      }\r\n      addEvent(win, 'load', readyHandler);\r\n    };\r\n    var EventUtils = function () {\r\n      var self$$1 = this;\r\n      var events = {}, count, expando, hasFocusIn, hasMouseEnterLeave, mouseEnterLeave;\r\n      expando = eventExpandoPrefix + (+new Date()).toString(32);\r\n      hasMouseEnterLeave = 'onmouseenter' in document.documentElement;\r\n      hasFocusIn = 'onfocusin' in document.documentElement;\r\n      mouseEnterLeave = {\r\n        mouseenter: 'mouseover',\r\n        mouseleave: 'mouseout'\r\n      };\r\n      count = 1;\r\n      self$$1.domLoaded = false;\r\n      self$$1.events = events;\r\n      var executeHandlers = function (evt, id) {\r\n        var callbackList, i, l, callback;\r\n        var container = events[id];\r\n        callbackList = container && container[evt.type];\r\n        if (callbackList) {\r\n          for (i = 0, l = callbackList.length; i < l; i++) {\r\n            callback = callbackList[i];\r\n            if (callback && callback.func.call(callback.scope, evt) === false) {\r\n              evt.preventDefault();\r\n            }\r\n            if (evt.isImmediatePropagationStopped()) {\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      };\r\n      self$$1.bind = function (target, names, callback, scope) {\r\n        var id, callbackList, i, name$$1, fakeName, nativeHandler, capture;\r\n        var win = window;\r\n        var defaultNativeHandler = function (evt) {\r\n          executeHandlers(fix(evt || win.event), id);\r\n        };\r\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\r\n          return;\r\n        }\r\n        if (!target[expando]) {\r\n          id = count++;\r\n          target[expando] = id;\r\n          events[id] = {};\r\n        } else {\r\n          id = target[expando];\r\n        }\r\n        scope = scope || target;\r\n        names = names.split(' ');\r\n        i = names.length;\r\n        while (i--) {\r\n          name$$1 = names[i];\r\n          nativeHandler = defaultNativeHandler;\r\n          fakeName = capture = false;\r\n          if (name$$1 === 'DOMContentLoaded') {\r\n            name$$1 = 'ready';\r\n          }\r\n          if (self$$1.domLoaded && name$$1 === 'ready' && target.readyState === 'complete') {\r\n            callback.call(scope, fix({ type: name$$1 }));\r\n            continue;\r\n          }\r\n          if (!hasMouseEnterLeave) {\r\n            fakeName = mouseEnterLeave[name$$1];\r\n            if (fakeName) {\r\n              nativeHandler = function (evt) {\r\n                var current, related;\r\n                current = evt.currentTarget;\r\n                related = evt.relatedTarget;\r\n                if (related && current.contains) {\r\n                  related = current.contains(related);\r\n                } else {\r\n                  while (related && related !== current) {\r\n                    related = related.parentNode;\r\n                  }\r\n                }\r\n                if (!related) {\r\n                  evt = fix(evt || win.event);\r\n                  evt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\r\n                  evt.target = current;\r\n                  executeHandlers(evt, id);\r\n                }\r\n              };\r\n            }\r\n          }\r\n          if (!hasFocusIn && (name$$1 === 'focusin' || name$$1 === 'focusout')) {\r\n            capture = true;\r\n            fakeName = name$$1 === 'focusin' ? 'focus' : 'blur';\r\n            nativeHandler = function (evt) {\r\n              evt = fix(evt || win.event);\r\n              evt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\r\n              executeHandlers(evt, id);\r\n            };\r\n          }\r\n          callbackList = events[id][name$$1];\r\n          if (!callbackList) {\r\n            events[id][name$$1] = callbackList = [{\r\n                func: callback,\r\n                scope: scope\r\n              }];\r\n            callbackList.fakeName = fakeName;\r\n            callbackList.capture = capture;\r\n            callbackList.nativeHandler = nativeHandler;\r\n            if (name$$1 === 'ready') {\r\n              bindOnReady(target, nativeHandler, self$$1);\r\n            } else {\r\n              addEvent(target, fakeName || name$$1, nativeHandler, capture);\r\n            }\r\n          } else {\r\n            if (name$$1 === 'ready' && self$$1.domLoaded) {\r\n              callback({ type: name$$1 });\r\n            } else {\r\n              callbackList.push({\r\n                func: callback,\r\n                scope: scope\r\n              });\r\n            }\r\n          }\r\n        }\r\n        target = callbackList = 0;\r\n        return callback;\r\n      };\r\n      self$$1.unbind = function (target, names, callback) {\r\n        var id, callbackList, i, ci, name$$1, eventMap;\r\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\r\n          return self$$1;\r\n        }\r\n        id = target[expando];\r\n        if (id) {\r\n          eventMap = events[id];\r\n          if (names) {\r\n            names = names.split(' ');\r\n            i = names.length;\r\n            while (i--) {\r\n              name$$1 = names[i];\r\n              callbackList = eventMap[name$$1];\r\n              if (callbackList) {\r\n                if (callback) {\r\n                  ci = callbackList.length;\r\n                  while (ci--) {\r\n                    if (callbackList[ci].func === callback) {\r\n                      var nativeHandler = callbackList.nativeHandler;\r\n                      var fakeName = callbackList.fakeName, capture = callbackList.capture;\r\n                      callbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\r\n                      callbackList.nativeHandler = nativeHandler;\r\n                      callbackList.fakeName = fakeName;\r\n                      callbackList.capture = capture;\r\n                      eventMap[name$$1] = callbackList;\r\n                    }\r\n                  }\r\n                }\r\n                if (!callback || callbackList.length === 0) {\r\n                  delete eventMap[name$$1];\r\n                  removeEvent(target, callbackList.fakeName || name$$1, callbackList.nativeHandler, callbackList.capture);\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            for (name$$1 in eventMap) {\r\n              callbackList = eventMap[name$$1];\r\n              removeEvent(target, callbackList.fakeName || name$$1, callbackList.nativeHandler, callbackList.capture);\r\n            }\r\n            eventMap = {};\r\n          }\r\n          for (name$$1 in eventMap) {\r\n            return self$$1;\r\n          }\r\n          delete events[id];\r\n          try {\r\n            delete target[expando];\r\n          } catch (ex) {\r\n            target[expando] = null;\r\n          }\r\n        }\r\n        return self$$1;\r\n      };\r\n      self$$1.fire = function (target, name$$1, args) {\r\n        var id;\r\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\r\n          return self$$1;\r\n        }\r\n        args = fix(null, args);\r\n        args.type = name$$1;\r\n        args.target = target;\r\n        do {\r\n          id = target[expando];\r\n          if (id) {\r\n            executeHandlers(args, id);\r\n          }\r\n          target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\r\n        } while (target && !args.isPropagationStopped());\r\n        return self$$1;\r\n      };\r\n      self$$1.clean = function (target) {\r\n        var i, children;\r\n        var unbind = self$$1.unbind;\r\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\r\n          return self$$1;\r\n        }\r\n        if (target[expando]) {\r\n          unbind(target);\r\n        }\r\n        if (!target.getElementsByTagName) {\r\n          target = target.document;\r\n        }\r\n        if (target && target.getElementsByTagName) {\r\n          unbind(target);\r\n          children = target.getElementsByTagName('*');\r\n          i = children.length;\r\n          while (i--) {\r\n            target = children[i];\r\n            if (target[expando]) {\r\n              unbind(target);\r\n            }\r\n          }\r\n        }\r\n        return self$$1;\r\n      };\r\n      self$$1.destroy = function () {\r\n        events = {};\r\n      };\r\n      self$$1.cancel = function (e) {\r\n        if (e) {\r\n          e.preventDefault();\r\n          e.stopImmediatePropagation();\r\n        }\r\n        return false;\r\n      };\r\n    };\r\n    EventUtils.Event = new EventUtils();\r\n    EventUtils.Event.bind(window, 'ready', function () {\r\n    });\r\n\r\n    var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, setDocument, document$1, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains$1, expando = 'sizzle' + -new Date(), preferredDoc = window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function (a, b) {\r\n        if (a === b) {\r\n          hasDuplicate = true;\r\n        }\r\n        return 0;\r\n      }, strundefined = typeof undefined, MAX_NEGATIVE = 1 << 31, hasOwn = {}.hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push$1 = arr.push, slice$1 = arr.slice, indexOf$1 = arr.indexOf || function (elem) {\r\n        var i = 0, len = this.length;\r\n        for (; i < len; i++) {\r\n          if (this[i] === elem) {\r\n            return i;\r\n          }\r\n        }\r\n        return -1;\r\n      }, booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped', whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', identifier = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+', attributes = '\\\\[' + whitespace + '*(' + identifier + ')(?:' + whitespace + '*([*^$|!~]?=)' + whitespace + '*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(' + identifier + '))|)' + whitespace + '*\\\\]', pseudos = ':(' + identifier + ')(?:\\\\((' + '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|' + '((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' + attributes + ')*)|' + '.*' + ')\\\\)|)', rtrim = new RegExp('^' + whitespace + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + whitespace + '+$', 'g'), rcomma = new RegExp('^' + whitespace + '*,' + whitespace + '*'), rcombinators = new RegExp('^' + whitespace + '*([>+~]|' + whitespace + ')' + whitespace + '*'), rattributeQuotes = new RegExp('=' + whitespace + '*([^\\\\]\\'\"]*?)' + whitespace + '*\\\\]', 'g'), rpseudo = new RegExp(pseudos), ridentifier = new RegExp('^' + identifier + '$'), matchExpr = {\r\n        ID: new RegExp('^#(' + identifier + ')'),\r\n        CLASS: new RegExp('^\\\\.(' + identifier + ')'),\r\n        TAG: new RegExp('^(' + identifier + '|[*])'),\r\n        ATTR: new RegExp('^' + attributes),\r\n        PSEUDO: new RegExp('^' + pseudos),\r\n        CHILD: new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' + whitespace + '*(even|odd|(([+-]|)(\\\\d*)n|)' + whitespace + '*(?:([+-]|)' + whitespace + '*(\\\\d+)|))' + whitespace + '*\\\\)|)', 'i'),\r\n        bool: new RegExp('^(?:' + booleans + ')$', 'i'),\r\n        needsContext: new RegExp('^' + whitespace + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' + whitespace + '*((?:-\\\\d)?\\\\d*)' + whitespace + '*\\\\)|)(?=[^-]|$)', 'i')\r\n      }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\\d$/i, rnative = /^[^{]+\\{\\s*\\[native \\w/, rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, rsibling = /[+~]/, rescape = /'|\\\\/g, runescape = new RegExp('\\\\\\\\([\\\\da-f]{1,6}' + whitespace + '?|(' + whitespace + ')|.)', 'ig'), funescape = function (_, escaped, escapedWhitespace) {\r\n        var high = '0x' + escaped - 65536;\r\n        return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);\r\n      };\r\n    try {\r\n      push$1.apply(arr = slice$1.call(preferredDoc.childNodes), preferredDoc.childNodes);\r\n      arr[preferredDoc.childNodes.length].nodeType;\r\n    } catch (e) {\r\n      push$1 = {\r\n        apply: arr.length ? function (target, els) {\r\n          push_native.apply(target, slice$1.call(els));\r\n        } : function (target, els) {\r\n          var j = target.length, i = 0;\r\n          while (target[j++] = els[i++]) {\r\n          }\r\n          target.length = j - 1;\r\n        }\r\n      };\r\n    }\r\n    var Sizzle = function (selector, context, results, seed) {\r\n      var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;\r\n      if ((context ? context.ownerDocument || context : preferredDoc) !== document$1) {\r\n        setDocument(context);\r\n      }\r\n      context = context || document$1;\r\n      results = results || [];\r\n      if (!selector || typeof selector !== 'string') {\r\n        return results;\r\n      }\r\n      if ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\r\n        return [];\r\n      }\r\n      if (documentIsHTML && !seed) {\r\n        if (match = rquickExpr.exec(selector)) {\r\n          if (m = match[1]) {\r\n            if (nodeType === 9) {\r\n              elem = context.getElementById(m);\r\n              if (elem && elem.parentNode) {\r\n                if (elem.id === m) {\r\n                  results.push(elem);\r\n                  return results;\r\n                }\r\n              } else {\r\n                return results;\r\n              }\r\n            } else {\r\n              if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains$1(context, elem) && elem.id === m) {\r\n                results.push(elem);\r\n                return results;\r\n              }\r\n            }\r\n          } else if (match[2]) {\r\n            push$1.apply(results, context.getElementsByTagName(selector));\r\n            return results;\r\n          } else if ((m = match[3]) && support.getElementsByClassName) {\r\n            push$1.apply(results, context.getElementsByClassName(m));\r\n            return results;\r\n          }\r\n        }\r\n        if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {\r\n          nid = old = expando;\r\n          newContext = context;\r\n          newSelector = nodeType === 9 && selector;\r\n          if (nodeType === 1 && context.nodeName.toLowerCase() !== 'object') {\r\n            groups = tokenize(selector);\r\n            if (old = context.getAttribute('id')) {\r\n              nid = old.replace(rescape, '\\\\$&');\r\n            } else {\r\n              context.setAttribute('id', nid);\r\n            }\r\n            nid = '[id=\\'' + nid + '\\'] ';\r\n            i = groups.length;\r\n            while (i--) {\r\n              groups[i] = nid + toSelector(groups[i]);\r\n            }\r\n            newContext = rsibling.test(selector) && testContext(context.parentNode) || context;\r\n            newSelector = groups.join(',');\r\n          }\r\n          if (newSelector) {\r\n            try {\r\n              push$1.apply(results, newContext.querySelectorAll(newSelector));\r\n              return results;\r\n            } catch (qsaError) {\r\n            } finally {\r\n              if (!old) {\r\n                context.removeAttribute('id');\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return select(selector.replace(rtrim, '$1'), context, results, seed);\r\n    };\r\n    function createCache() {\r\n      var keys = [];\r\n      function cache(key, value) {\r\n        if (keys.push(key + ' ') > Expr.cacheLength) {\r\n          delete cache[keys.shift()];\r\n        }\r\n        return cache[key + ' '] = value;\r\n      }\r\n      return cache;\r\n    }\r\n    function markFunction(fn) {\r\n      fn[expando] = true;\r\n      return fn;\r\n    }\r\n    function siblingCheck(a, b) {\r\n      var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);\r\n      if (diff) {\r\n        return diff;\r\n      }\r\n      if (cur) {\r\n        while (cur = cur.nextSibling) {\r\n          if (cur === b) {\r\n            return -1;\r\n          }\r\n        }\r\n      }\r\n      return a ? 1 : -1;\r\n    }\r\n    function createInputPseudo(type) {\r\n      return function (elem) {\r\n        var name$$1 = elem.nodeName.toLowerCase();\r\n        return name$$1 === 'input' && elem.type === type;\r\n      };\r\n    }\r\n    function createButtonPseudo(type) {\r\n      return function (elem) {\r\n        var name$$1 = elem.nodeName.toLowerCase();\r\n        return (name$$1 === 'input' || name$$1 === 'button') && elem.type === type;\r\n      };\r\n    }\r\n    function createPositionalPseudo(fn) {\r\n      return markFunction(function (argument) {\r\n        argument = +argument;\r\n        return markFunction(function (seed, matches) {\r\n          var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;\r\n          while (i--) {\r\n            if (seed[j = matchIndexes[i]]) {\r\n              seed[j] = !(matches[j] = seed[j]);\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n    function testContext(context) {\r\n      return context && typeof context.getElementsByTagName !== strundefined && context;\r\n    }\r\n    support = Sizzle.support = {};\r\n    isXML = Sizzle.isXML = function (elem) {\r\n      var documentElement = elem && (elem.ownerDocument || elem).documentElement;\r\n      return documentElement ? documentElement.nodeName !== 'HTML' : false;\r\n    };\r\n    setDocument = Sizzle.setDocument = function (node) {\r\n      var hasCompare, doc = node ? node.ownerDocument || node : preferredDoc, parent$$1 = doc.defaultView;\r\n      function getTop(win) {\r\n        try {\r\n          return win.top;\r\n        } catch (ex) {\r\n        }\r\n        return null;\r\n      }\r\n      if (doc === document$1 || doc.nodeType !== 9 || !doc.documentElement) {\r\n        return document$1;\r\n      }\r\n      document$1 = doc;\r\n      docElem = doc.documentElement;\r\n      documentIsHTML = !isXML(doc);\r\n      if (parent$$1 && parent$$1 !== getTop(parent$$1)) {\r\n        if (parent$$1.addEventListener) {\r\n          parent$$1.addEventListener('unload', function () {\r\n            setDocument();\r\n          }, false);\r\n        } else if (parent$$1.attachEvent) {\r\n          parent$$1.attachEvent('onunload', function () {\r\n            setDocument();\r\n          });\r\n        }\r\n      }\r\n      support.attributes = true;\r\n      support.getElementsByTagName = true;\r\n      support.getElementsByClassName = rnative.test(doc.getElementsByClassName);\r\n      support.getById = true;\r\n      Expr.find.ID = function (id, context) {\r\n        if (typeof context.getElementById !== strundefined && documentIsHTML) {\r\n          var m = context.getElementById(id);\r\n          return m && m.parentNode ? [m] : [];\r\n        }\r\n      };\r\n      Expr.filter.ID = function (id) {\r\n        var attrId = id.replace(runescape, funescape);\r\n        return function (elem) {\r\n          return elem.getAttribute('id') === attrId;\r\n        };\r\n      };\r\n      Expr.find.TAG = support.getElementsByTagName ? function (tag, context) {\r\n        if (typeof context.getElementsByTagName !== strundefined) {\r\n          return context.getElementsByTagName(tag);\r\n        }\r\n      } : function (tag, context) {\r\n        var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);\r\n        if (tag === '*') {\r\n          while (elem = results[i++]) {\r\n            if (elem.nodeType === 1) {\r\n              tmp.push(elem);\r\n            }\r\n          }\r\n          return tmp;\r\n        }\r\n        return results;\r\n      };\r\n      Expr.find.CLASS = support.getElementsByClassName && function (className, context) {\r\n        if (documentIsHTML) {\r\n          return context.getElementsByClassName(className);\r\n        }\r\n      };\r\n      rbuggyMatches = [];\r\n      rbuggyQSA = [];\r\n      support.disconnectedMatch = true;\r\n      rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\r\n      rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\r\n      hasCompare = rnative.test(docElem.compareDocumentPosition);\r\n      contains$1 = hasCompare || rnative.test(docElem.contains) ? function (a, b) {\r\n        var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;\r\n        return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\r\n      } : function (a, b) {\r\n        if (b) {\r\n          while (b = b.parentNode) {\r\n            if (b === a) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n        return false;\r\n      };\r\n      sortOrder = hasCompare ? function (a, b) {\r\n        if (a === b) {\r\n          hasDuplicate = true;\r\n          return 0;\r\n        }\r\n        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\r\n        if (compare) {\r\n          return compare;\r\n        }\r\n        compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;\r\n        if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {\r\n          if (a === doc || a.ownerDocument === preferredDoc && contains$1(preferredDoc, a)) {\r\n            return -1;\r\n          }\r\n          if (b === doc || b.ownerDocument === preferredDoc && contains$1(preferredDoc, b)) {\r\n            return 1;\r\n          }\r\n          return sortInput ? indexOf$1.call(sortInput, a) - indexOf$1.call(sortInput, b) : 0;\r\n        }\r\n        return compare & 4 ? -1 : 1;\r\n      } : function (a, b) {\r\n        if (a === b) {\r\n          hasDuplicate = true;\r\n          return 0;\r\n        }\r\n        var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];\r\n        if (!aup || !bup) {\r\n          return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf$1.call(sortInput, a) - indexOf$1.call(sortInput, b) : 0;\r\n        } else if (aup === bup) {\r\n          return siblingCheck(a, b);\r\n        }\r\n        cur = a;\r\n        while (cur = cur.parentNode) {\r\n          ap.unshift(cur);\r\n        }\r\n        cur = b;\r\n        while (cur = cur.parentNode) {\r\n          bp.unshift(cur);\r\n        }\r\n        while (ap[i] === bp[i]) {\r\n          i++;\r\n        }\r\n        return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\r\n      };\r\n      return doc;\r\n    };\r\n    Sizzle.matches = function (expr, elements) {\r\n      return Sizzle(expr, null, null, elements);\r\n    };\r\n    Sizzle.matchesSelector = function (elem, expr) {\r\n      if ((elem.ownerDocument || elem) !== document$1) {\r\n        setDocument(elem);\r\n      }\r\n      expr = expr.replace(rattributeQuotes, '=\\'$1\\']');\r\n      if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {\r\n        try {\r\n          var ret = matches.call(elem, expr);\r\n          if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {\r\n            return ret;\r\n          }\r\n        } catch (e) {\r\n        }\r\n      }\r\n      return Sizzle(expr, document$1, null, [elem]).length > 0;\r\n    };\r\n    Sizzle.contains = function (context, elem) {\r\n      if ((context.ownerDocument || context) !== document$1) {\r\n        setDocument(context);\r\n      }\r\n      return contains$1(context, elem);\r\n    };\r\n    Sizzle.attr = function (elem, name$$1) {\r\n      if ((elem.ownerDocument || elem) !== document$1) {\r\n        setDocument(elem);\r\n      }\r\n      var fn = Expr.attrHandle[name$$1.toLowerCase()], val = fn && hasOwn.call(Expr.attrHandle, name$$1.toLowerCase()) ? fn(elem, name$$1, !documentIsHTML) : undefined;\r\n      return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name$$1) : (val = elem.getAttributeNode(name$$1)) && val.specified ? val.value : null;\r\n    };\r\n    Sizzle.error = function (msg) {\r\n      throw new Error('Syntax error, unrecognized expression: ' + msg);\r\n    };\r\n    Sizzle.uniqueSort = function (results) {\r\n      var elem, duplicates = [], j = 0, i = 0;\r\n      hasDuplicate = !support.detectDuplicates;\r\n      sortInput = !support.sortStable && results.slice(0);\r\n      results.sort(sortOrder);\r\n      if (hasDuplicate) {\r\n        while (elem = results[i++]) {\r\n          if (elem === results[i]) {\r\n            j = duplicates.push(i);\r\n          }\r\n        }\r\n        while (j--) {\r\n          results.splice(duplicates[j], 1);\r\n        }\r\n      }\r\n      sortInput = null;\r\n      return results;\r\n    };\r\n    getText = Sizzle.getText = function (elem) {\r\n      var node, ret = '', i = 0, nodeType = elem.nodeType;\r\n      if (!nodeType) {\r\n        while (node = elem[i++]) {\r\n          ret += getText(node);\r\n        }\r\n      } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\r\n        if (typeof elem.textContent === 'string') {\r\n          return elem.textContent;\r\n        } else {\r\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\r\n            ret += getText(elem);\r\n          }\r\n        }\r\n      } else if (nodeType === 3 || nodeType === 4) {\r\n        return elem.nodeValue;\r\n      }\r\n      return ret;\r\n    };\r\n    Expr = Sizzle.selectors = {\r\n      cacheLength: 50,\r\n      createPseudo: markFunction,\r\n      match: matchExpr,\r\n      attrHandle: {},\r\n      find: {},\r\n      relative: {\r\n        '>': {\r\n          dir: 'parentNode',\r\n          first: true\r\n        },\r\n        ' ': { dir: 'parentNode' },\r\n        '+': {\r\n          dir: 'previousSibling',\r\n          first: true\r\n        },\r\n        '~': { dir: 'previousSibling' }\r\n      },\r\n      preFilter: {\r\n        ATTR: function (match) {\r\n          match[1] = match[1].replace(runescape, funescape);\r\n          match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\r\n          if (match[2] === '~=') {\r\n            match[3] = ' ' + match[3] + ' ';\r\n          }\r\n          return match.slice(0, 4);\r\n        },\r\n        CHILD: function (match) {\r\n          match[1] = match[1].toLowerCase();\r\n          if (match[1].slice(0, 3) === 'nth') {\r\n            if (!match[3]) {\r\n              Sizzle.error(match[0]);\r\n            }\r\n            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\r\n            match[5] = +(match[7] + match[8] || match[3] === 'odd');\r\n          } else if (match[3]) {\r\n            Sizzle.error(match[0]);\r\n          }\r\n          return match;\r\n        },\r\n        PSEUDO: function (match) {\r\n          var excess, unquoted = !match[6] && match[2];\r\n          if (matchExpr.CHILD.test(match[0])) {\r\n            return null;\r\n          }\r\n          if (match[3]) {\r\n            match[2] = match[4] || match[5] || '';\r\n          } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\r\n            match[0] = match[0].slice(0, excess);\r\n            match[2] = unquoted.slice(0, excess);\r\n          }\r\n          return match.slice(0, 3);\r\n        }\r\n      },\r\n      filter: {\r\n        TAG: function (nodeNameSelector) {\r\n          var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\r\n          return nodeNameSelector === '*' ? function () {\r\n            return true;\r\n          } : function (elem) {\r\n            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\r\n          };\r\n        },\r\n        CLASS: function (className) {\r\n          var pattern = classCache[className + ' '];\r\n          return pattern || (pattern = new RegExp('(^|' + whitespace + ')' + className + '(' + whitespace + '|$)')) && classCache(className, function (elem) {\r\n            return pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute('class') || '');\r\n          });\r\n        },\r\n        ATTR: function (name$$1, operator, check) {\r\n          return function (elem) {\r\n            var result = Sizzle.attr(elem, name$$1);\r\n            if (result == null) {\r\n              return operator === '!=';\r\n            }\r\n            if (!operator) {\r\n              return true;\r\n            }\r\n            result += '';\r\n            return operator === '=' ? result === check : operator === '!=' ? result !== check : operator === '^=' ? check && result.indexOf(check) === 0 : operator === '*=' ? check && result.indexOf(check) > -1 : operator === '$=' ? check && result.slice(-check.length) === check : operator === '~=' ? (' ' + result + ' ').indexOf(check) > -1 : operator === '|=' ? result === check || result.slice(0, check.length + 1) === check + '-' : false;\r\n          };\r\n        },\r\n        CHILD: function (type, what, argument, first, last) {\r\n          var simple = type.slice(0, 3) !== 'nth', forward = type.slice(-4) !== 'last', ofType = what === 'of-type';\r\n          return first === 1 && last === 0 ? function (elem) {\r\n            return !!elem.parentNode;\r\n          } : function (elem, context, xml) {\r\n            var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? 'nextSibling' : 'previousSibling', parent$$1 = elem.parentNode, name$$1 = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType;\r\n            if (parent$$1) {\r\n              if (simple) {\r\n                while (dir) {\r\n                  node = elem;\r\n                  while (node = node[dir]) {\r\n                    if (ofType ? node.nodeName.toLowerCase() === name$$1 : node.nodeType === 1) {\r\n                      return false;\r\n                    }\r\n                  }\r\n                  start = dir = type === 'only' && !start && 'nextSibling';\r\n                }\r\n                return true;\r\n              }\r\n              start = [forward ? parent$$1.firstChild : parent$$1.lastChild];\r\n              if (forward && useCache) {\r\n                outerCache = parent$$1[expando] || (parent$$1[expando] = {});\r\n                cache = outerCache[type] || [];\r\n                nodeIndex = cache[0] === dirruns && cache[1];\r\n                diff = cache[0] === dirruns && cache[2];\r\n                node = nodeIndex && parent$$1.childNodes[nodeIndex];\r\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\r\n                  if (node.nodeType === 1 && ++diff && node === elem) {\r\n                    outerCache[type] = [\r\n                      dirruns,\r\n                      nodeIndex,\r\n                      diff\r\n                    ];\r\n                    break;\r\n                  }\r\n                }\r\n              } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\r\n                diff = cache[1];\r\n              } else {\r\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\r\n                  if ((ofType ? node.nodeName.toLowerCase() === name$$1 : node.nodeType === 1) && ++diff) {\r\n                    if (useCache) {\r\n                      (node[expando] || (node[expando] = {}))[type] = [\r\n                        dirruns,\r\n                        diff\r\n                      ];\r\n                    }\r\n                    if (node === elem) {\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              diff -= last;\r\n              return diff === first || diff % first === 0 && diff / first >= 0;\r\n            }\r\n          };\r\n        },\r\n        PSEUDO: function (pseudo, argument) {\r\n          var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error('unsupported pseudo: ' + pseudo);\r\n          if (fn[expando]) {\r\n            return fn(argument);\r\n          }\r\n          if (fn.length > 1) {\r\n            args = [\r\n              pseudo,\r\n              pseudo,\r\n              '',\r\n              argument\r\n            ];\r\n            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\r\n              var idx, matched = fn(seed, argument), i = matched.length;\r\n              while (i--) {\r\n                idx = indexOf$1.call(seed, matched[i]);\r\n                seed[idx] = !(matches[idx] = matched[i]);\r\n              }\r\n            }) : function (elem) {\r\n              return fn(elem, 0, args);\r\n            };\r\n          }\r\n          return fn;\r\n        }\r\n      },\r\n      pseudos: {\r\n        not: markFunction(function (selector) {\r\n          var input = [], results = [], matcher = compile(selector.replace(rtrim, '$1'));\r\n          return matcher[expando] ? markFunction(function (seed, matches, context, xml) {\r\n            var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;\r\n            while (i--) {\r\n              if (elem = unmatched[i]) {\r\n                seed[i] = !(matches[i] = elem);\r\n              }\r\n            }\r\n          }) : function (elem, context, xml) {\r\n            input[0] = elem;\r\n            matcher(input, null, xml, results);\r\n            return !results.pop();\r\n          };\r\n        }),\r\n        has: markFunction(function (selector) {\r\n          return function (elem) {\r\n            return Sizzle(selector, elem).length > 0;\r\n          };\r\n        }),\r\n        contains: markFunction(function (text) {\r\n          text = text.replace(runescape, funescape);\r\n          return function (elem) {\r\n            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\r\n          };\r\n        }),\r\n        lang: markFunction(function (lang) {\r\n          if (!ridentifier.test(lang || '')) {\r\n            Sizzle.error('unsupported lang: ' + lang);\r\n          }\r\n          lang = lang.replace(runescape, funescape).toLowerCase();\r\n          return function (elem) {\r\n            var elemLang;\r\n            do {\r\n              if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute('xml:lang') || elem.getAttribute('lang')) {\r\n                elemLang = elemLang.toLowerCase();\r\n                return elemLang === lang || elemLang.indexOf(lang + '-') === 0;\r\n              }\r\n            } while ((elem = elem.parentNode) && elem.nodeType === 1);\r\n            return false;\r\n          };\r\n        }),\r\n        target: function (elem) {\r\n          var hash = window.location && window.location.hash;\r\n          return hash && hash.slice(1) === elem.id;\r\n        },\r\n        root: function (elem) {\r\n          return elem === docElem;\r\n        },\r\n        focus: function (elem) {\r\n          return elem === document$1.activeElement && (!document$1.hasFocus || document$1.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\r\n        },\r\n        enabled: function (elem) {\r\n          return elem.disabled === false;\r\n        },\r\n        disabled: function (elem) {\r\n          return elem.disabled === true;\r\n        },\r\n        checked: function (elem) {\r\n          var nodeName = elem.nodeName.toLowerCase();\r\n          return nodeName === 'input' && !!elem.checked || nodeName === 'option' && !!elem.selected;\r\n        },\r\n        selected: function (elem) {\r\n          if (elem.parentNode) {\r\n            elem.parentNode.selectedIndex;\r\n          }\r\n          return elem.selected === true;\r\n        },\r\n        empty: function (elem) {\r\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\r\n            if (elem.nodeType < 6) {\r\n              return false;\r\n            }\r\n          }\r\n          return true;\r\n        },\r\n        parent: function (elem) {\r\n          return !Expr.pseudos.empty(elem);\r\n        },\r\n        header: function (elem) {\r\n          return rheader.test(elem.nodeName);\r\n        },\r\n        input: function (elem) {\r\n          return rinputs.test(elem.nodeName);\r\n        },\r\n        button: function (elem) {\r\n          var name$$1 = elem.nodeName.toLowerCase();\r\n          return name$$1 === 'input' && elem.type === 'button' || name$$1 === 'button';\r\n        },\r\n        text: function (elem) {\r\n          var attr;\r\n          return elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\r\n        },\r\n        first: createPositionalPseudo(function () {\r\n          return [0];\r\n        }),\r\n        last: createPositionalPseudo(function (matchIndexes, length$$1) {\r\n          return [length$$1 - 1];\r\n        }),\r\n        eq: createPositionalPseudo(function (matchIndexes, length$$1, argument) {\r\n          return [argument < 0 ? argument + length$$1 : argument];\r\n        }),\r\n        even: createPositionalPseudo(function (matchIndexes, length$$1) {\r\n          var i = 0;\r\n          for (; i < length$$1; i += 2) {\r\n            matchIndexes.push(i);\r\n          }\r\n          return matchIndexes;\r\n        }),\r\n        odd: createPositionalPseudo(function (matchIndexes, length$$1) {\r\n          var i = 1;\r\n          for (; i < length$$1; i += 2) {\r\n            matchIndexes.push(i);\r\n          }\r\n          return matchIndexes;\r\n        }),\r\n        lt: createPositionalPseudo(function (matchIndexes, length$$1, argument) {\r\n          var i = argument < 0 ? argument + length$$1 : argument;\r\n          for (; --i >= 0;) {\r\n            matchIndexes.push(i);\r\n          }\r\n          return matchIndexes;\r\n        }),\r\n        gt: createPositionalPseudo(function (matchIndexes, length$$1, argument) {\r\n          var i = argument < 0 ? argument + length$$1 : argument;\r\n          for (; ++i < length$$1;) {\r\n            matchIndexes.push(i);\r\n          }\r\n          return matchIndexes;\r\n        })\r\n      }\r\n    };\r\n    Expr.pseudos.nth = Expr.pseudos.eq;\r\n    for (i in {\r\n        radio: true,\r\n        checkbox: true,\r\n        file: true,\r\n        password: true,\r\n        image: true\r\n      }) {\r\n      Expr.pseudos[i] = createInputPseudo(i);\r\n    }\r\n    for (i in {\r\n        submit: true,\r\n        reset: true\r\n      }) {\r\n      Expr.pseudos[i] = createButtonPseudo(i);\r\n    }\r\n    function setFilters() {\r\n    }\r\n    setFilters.prototype = Expr.filters = Expr.pseudos;\r\n    Expr.setFilters = new setFilters();\r\n    tokenize = Sizzle.tokenize = function (selector, parseOnly) {\r\n      var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + ' '];\r\n      if (cached) {\r\n        return parseOnly ? 0 : cached.slice(0);\r\n      }\r\n      soFar = selector;\r\n      groups = [];\r\n      preFilters = Expr.preFilter;\r\n      while (soFar) {\r\n        if (!matched || (match = rcomma.exec(soFar))) {\r\n          if (match) {\r\n            soFar = soFar.slice(match[0].length) || soFar;\r\n          }\r\n          groups.push(tokens = []);\r\n        }\r\n        matched = false;\r\n        if (match = rcombinators.exec(soFar)) {\r\n          matched = match.shift();\r\n          tokens.push({\r\n            value: matched,\r\n            type: match[0].replace(rtrim, ' ')\r\n          });\r\n          soFar = soFar.slice(matched.length);\r\n        }\r\n        for (type in Expr.filter) {\r\n          if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\r\n            matched = match.shift();\r\n            tokens.push({\r\n              value: matched,\r\n              type: type,\r\n              matches: match\r\n            });\r\n            soFar = soFar.slice(matched.length);\r\n          }\r\n        }\r\n        if (!matched) {\r\n          break;\r\n        }\r\n      }\r\n      return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);\r\n    };\r\n    function toSelector(tokens) {\r\n      var i = 0, len = tokens.length, selector = '';\r\n      for (; i < len; i++) {\r\n        selector += tokens[i].value;\r\n      }\r\n      return selector;\r\n    }\r\n    function addCombinator(matcher, combinator, base) {\r\n      var dir = combinator.dir, checkNonElements = base && dir === 'parentNode', doneName = done++;\r\n      return combinator.first ? function (elem, context, xml) {\r\n        while (elem = elem[dir]) {\r\n          if (elem.nodeType === 1 || checkNonElements) {\r\n            return matcher(elem, context, xml);\r\n          }\r\n        }\r\n      } : function (elem, context, xml) {\r\n        var oldCache, outerCache, newCache = [\r\n            dirruns,\r\n            doneName\r\n          ];\r\n        if (xml) {\r\n          while (elem = elem[dir]) {\r\n            if (elem.nodeType === 1 || checkNonElements) {\r\n              if (matcher(elem, context, xml)) {\r\n                return true;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          while (elem = elem[dir]) {\r\n            if (elem.nodeType === 1 || checkNonElements) {\r\n              outerCache = elem[expando] || (elem[expando] = {});\r\n              if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {\r\n                return newCache[2] = oldCache[2];\r\n              } else {\r\n                outerCache[dir] = newCache;\r\n                if (newCache[2] = matcher(elem, context, xml)) {\r\n                  return true;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n    }\r\n    function elementMatcher(matchers) {\r\n      return matchers.length > 1 ? function (elem, context, xml) {\r\n        var i = matchers.length;\r\n        while (i--) {\r\n          if (!matchers[i](elem, context, xml)) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      } : matchers[0];\r\n    }\r\n    function multipleContexts(selector, contexts, results) {\r\n      var i = 0, len = contexts.length;\r\n      for (; i < len; i++) {\r\n        Sizzle(selector, contexts[i], results);\r\n      }\r\n      return results;\r\n    }\r\n    function condense(unmatched, map, filter, context, xml) {\r\n      var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;\r\n      for (; i < len; i++) {\r\n        if (elem = unmatched[i]) {\r\n          if (!filter || filter(elem, context, xml)) {\r\n            newUnmatched.push(elem);\r\n            if (mapped) {\r\n              map.push(i);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return newUnmatched;\r\n    }\r\n    function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\r\n      if (postFilter && !postFilter[expando]) {\r\n        postFilter = setMatcher(postFilter);\r\n      }\r\n      if (postFinder && !postFinder[expando]) {\r\n        postFinder = setMatcher(postFinder, postSelector);\r\n      }\r\n      return markFunction(function (seed, results, context, xml) {\r\n        var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems, matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;\r\n        if (matcher) {\r\n          matcher(matcherIn, matcherOut, context, xml);\r\n        }\r\n        if (postFilter) {\r\n          temp = condense(matcherOut, postMap);\r\n          postFilter(temp, [], context, xml);\r\n          i = temp.length;\r\n          while (i--) {\r\n            if (elem = temp[i]) {\r\n              matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\r\n            }\r\n          }\r\n        }\r\n        if (seed) {\r\n          if (postFinder || preFilter) {\r\n            if (postFinder) {\r\n              temp = [];\r\n              i = matcherOut.length;\r\n              while (i--) {\r\n                if (elem = matcherOut[i]) {\r\n                  temp.push(matcherIn[i] = elem);\r\n                }\r\n              }\r\n              postFinder(null, matcherOut = [], temp, xml);\r\n            }\r\n            i = matcherOut.length;\r\n            while (i--) {\r\n              if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf$1.call(seed, elem) : preMap[i]) > -1) {\r\n                seed[temp] = !(results[temp] = elem);\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\r\n          if (postFinder) {\r\n            postFinder(null, results, matcherOut, xml);\r\n          } else {\r\n            push$1.apply(results, matcherOut);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    function matcherFromTokens(tokens) {\r\n      var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[' '], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {\r\n          return elem === checkContext;\r\n        }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {\r\n          return indexOf$1.call(checkContext, elem) > -1;\r\n        }, implicitRelative, true), matchers = [function (elem, context, xml) {\r\n            return !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\r\n          }];\r\n      for (; i < len; i++) {\r\n        if (matcher = Expr.relative[tokens[i].type]) {\r\n          matchers = [addCombinator(elementMatcher(matchers), matcher)];\r\n        } else {\r\n          matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\r\n          if (matcher[expando]) {\r\n            j = ++i;\r\n            for (; j < len; j++) {\r\n              if (Expr.relative[tokens[j].type]) {\r\n                break;\r\n              }\r\n            }\r\n            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === ' ' ? '*' : '' })).replace(rtrim, '$1'), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\r\n          }\r\n          matchers.push(matcher);\r\n        }\r\n      }\r\n      return elementMatcher(matchers);\r\n    }\r\n    function matcherFromGroupMatchers(elementMatchers, setMatchers) {\r\n      var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {\r\n          var elem, j, matcher, matchedCount = 0, i = '0', unmatched = seed && [], setMatched = [], contextBackup = outermostContext, elems = seed || byElement && Expr.find.TAG('*', outermost), dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1, len = elems.length;\r\n          if (outermost) {\r\n            outermostContext = context !== document$1 && context;\r\n          }\r\n          for (; i !== len && (elem = elems[i]) != null; i++) {\r\n            if (byElement && elem) {\r\n              j = 0;\r\n              while (matcher = elementMatchers[j++]) {\r\n                if (matcher(elem, context, xml)) {\r\n                  results.push(elem);\r\n                  break;\r\n                }\r\n              }\r\n              if (outermost) {\r\n                dirruns = dirrunsUnique;\r\n              }\r\n            }\r\n            if (bySet) {\r\n              if (elem = !matcher && elem) {\r\n                matchedCount--;\r\n              }\r\n              if (seed) {\r\n                unmatched.push(elem);\r\n              }\r\n            }\r\n          }\r\n          matchedCount += i;\r\n          if (bySet && i !== matchedCount) {\r\n            j = 0;\r\n            while (matcher = setMatchers[j++]) {\r\n              matcher(unmatched, setMatched, context, xml);\r\n            }\r\n            if (seed) {\r\n              if (matchedCount > 0) {\r\n                while (i--) {\r\n                  if (!(unmatched[i] || setMatched[i])) {\r\n                    setMatched[i] = pop.call(results);\r\n                  }\r\n                }\r\n              }\r\n              setMatched = condense(setMatched);\r\n            }\r\n            push$1.apply(results, setMatched);\r\n            if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\r\n              Sizzle.uniqueSort(results);\r\n            }\r\n          }\r\n          if (outermost) {\r\n            dirruns = dirrunsUnique;\r\n            outermostContext = contextBackup;\r\n          }\r\n          return unmatched;\r\n        };\r\n      return bySet ? markFunction(superMatcher) : superMatcher;\r\n    }\r\n    compile = Sizzle.compile = function (selector, match) {\r\n      var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + ' '];\r\n      if (!cached) {\r\n        if (!match) {\r\n          match = tokenize(selector);\r\n        }\r\n        i = match.length;\r\n        while (i--) {\r\n          cached = matcherFromTokens(match[i]);\r\n          if (cached[expando]) {\r\n            setMatchers.push(cached);\r\n          } else {\r\n            elementMatchers.push(cached);\r\n          }\r\n        }\r\n        cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\r\n        cached.selector = selector;\r\n      }\r\n      return cached;\r\n    };\r\n    select = Sizzle.select = function (selector, context, results, seed) {\r\n      var i, tokens, token, type, find, compiled = typeof selector === 'function' && selector, match = !seed && tokenize(selector = compiled.selector || selector);\r\n      results = results || [];\r\n      if (match.length === 1) {\r\n        tokens = match[0] = match[0].slice(0);\r\n        if (tokens.length > 2 && (token = tokens[0]).type === 'ID' && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\r\n          context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];\r\n          if (!context) {\r\n            return results;\r\n          } else if (compiled) {\r\n            context = context.parentNode;\r\n          }\r\n          selector = selector.slice(tokens.shift().value.length);\r\n        }\r\n        i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;\r\n        while (i--) {\r\n          token = tokens[i];\r\n          if (Expr.relative[type = token.type]) {\r\n            break;\r\n          }\r\n          if (find = Expr.find[type]) {\r\n            if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {\r\n              tokens.splice(i, 1);\r\n              selector = seed.length && toSelector(tokens);\r\n              if (!selector) {\r\n                push$1.apply(results, seed);\r\n                return results;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);\r\n      return results;\r\n    };\r\n    support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\r\n    support.detectDuplicates = !!hasDuplicate;\r\n    setDocument();\r\n    support.sortDetached = true;\r\n\r\n    var isArray$1 = Array.isArray;\r\n    var toArray = function (obj) {\r\n      var array = obj, i, l;\r\n      if (!isArray$1(obj)) {\r\n        array = [];\r\n        for (i = 0, l = obj.length; i < l; i++) {\r\n          array[i] = obj[i];\r\n        }\r\n      }\r\n      return array;\r\n    };\r\n    var each$1 = function (o, cb, s) {\r\n      var n, l;\r\n      if (!o) {\r\n        return 0;\r\n      }\r\n      s = s || o;\r\n      if (o.length !== undefined) {\r\n        for (n = 0, l = o.length; n < l; n++) {\r\n          if (cb.call(s, o[n], n, o) === false) {\r\n            return 0;\r\n          }\r\n        }\r\n      } else {\r\n        for (n in o) {\r\n          if (o.hasOwnProperty(n)) {\r\n            if (cb.call(s, o[n], n, o) === false) {\r\n              return 0;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return 1;\r\n    };\r\n    var map$1 = function (array, callback) {\r\n      var out = [];\r\n      each$1(array, function (item, index) {\r\n        out.push(callback(item, index, array));\r\n      });\r\n      return out;\r\n    };\r\n    var filter$1 = function (a, f) {\r\n      var o = [];\r\n      each$1(a, function (v, index) {\r\n        if (!f || f(v, index, a)) {\r\n          o.push(v);\r\n        }\r\n      });\r\n      return o;\r\n    };\r\n    var indexOf$2 = function (a, v) {\r\n      var i, l;\r\n      if (a) {\r\n        for (i = 0, l = a.length; i < l; i++) {\r\n          if (a[i] === v) {\r\n            return i;\r\n          }\r\n        }\r\n      }\r\n      return -1;\r\n    };\r\n    var reduce = function (collection, iteratee, accumulator, thisArg) {\r\n      var i = 0;\r\n      if (arguments.length < 3) {\r\n        accumulator = collection[0];\r\n      }\r\n      for (; i < collection.length; i++) {\r\n        accumulator = iteratee.call(thisArg, accumulator, collection[i], i);\r\n      }\r\n      return accumulator;\r\n    };\r\n    var findIndex$1 = function (array, predicate, thisArg) {\r\n      var i, l;\r\n      for (i = 0, l = array.length; i < l; i++) {\r\n        if (predicate.call(thisArg, array[i], i, array)) {\r\n          return i;\r\n        }\r\n      }\r\n      return -1;\r\n    };\r\n    var find$1 = function (array, predicate, thisArg) {\r\n      var idx = findIndex$1(array, predicate, thisArg);\r\n      if (idx !== -1) {\r\n        return array[idx];\r\n      }\r\n      return undefined;\r\n    };\r\n    var last$1 = function (collection) {\r\n      return collection[collection.length - 1];\r\n    };\r\n    var ArrUtils = {\r\n      isArray: isArray$1,\r\n      toArray: toArray,\r\n      each: each$1,\r\n      map: map$1,\r\n      filter: filter$1,\r\n      indexOf: indexOf$2,\r\n      reduce: reduce,\r\n      findIndex: findIndex$1,\r\n      find: find$1,\r\n      last: last$1\r\n    };\r\n\r\n    var whiteSpaceRegExp = /^\\s*|\\s*$/g;\r\n    var trim = function (str) {\r\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp, '');\r\n    };\r\n    var is = function (obj, type) {\r\n      if (!type) {\r\n        return obj !== undefined;\r\n      }\r\n      if (type === 'array' && ArrUtils.isArray(obj)) {\r\n        return true;\r\n      }\r\n      return typeof obj === type;\r\n    };\r\n    var makeMap = function (items, delim, map) {\r\n      var i;\r\n      items = items || [];\r\n      delim = delim || ',';\r\n      if (typeof items === 'string') {\r\n        items = items.split(delim);\r\n      }\r\n      map = map || {};\r\n      i = items.length;\r\n      while (i--) {\r\n        map[items[i]] = {};\r\n      }\r\n      return map;\r\n    };\r\n    var hasOwnProperty = function (obj, prop) {\r\n      return Object.prototype.hasOwnProperty.call(obj, prop);\r\n    };\r\n    var create = function (s, p, root) {\r\n      var self$$1 = this;\r\n      var sp, ns, cn, scn, c, de = 0;\r\n      s = /^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(s);\r\n      cn = s[3].match(/(^|\\.)(\\w+)$/i)[2];\r\n      ns = self$$1.createNS(s[3].replace(/\\.\\w+$/, ''), root);\r\n      if (ns[cn]) {\r\n        return;\r\n      }\r\n      if (s[2] === 'static') {\r\n        ns[cn] = p;\r\n        if (this.onCreate) {\r\n          this.onCreate(s[2], s[3], ns[cn]);\r\n        }\r\n        return;\r\n      }\r\n      if (!p[cn]) {\r\n        p[cn] = function () {\r\n        };\r\n        de = 1;\r\n      }\r\n      ns[cn] = p[cn];\r\n      self$$1.extend(ns[cn].prototype, p);\r\n      if (s[5]) {\r\n        sp = self$$1.resolve(s[5]).prototype;\r\n        scn = s[5].match(/\\.(\\w+)$/i)[1];\r\n        c = ns[cn];\r\n        if (de) {\r\n          ns[cn] = function () {\r\n            return sp[scn].apply(this, arguments);\r\n          };\r\n        } else {\r\n          ns[cn] = function () {\r\n            this.parent = sp[scn];\r\n            return c.apply(this, arguments);\r\n          };\r\n        }\r\n        ns[cn].prototype[cn] = ns[cn];\r\n        self$$1.each(sp, function (f, n) {\r\n          ns[cn].prototype[n] = sp[n];\r\n        });\r\n        self$$1.each(p, function (f, n) {\r\n          if (sp[n]) {\r\n            ns[cn].prototype[n] = function () {\r\n              this.parent = sp[n];\r\n              return f.apply(this, arguments);\r\n            };\r\n          } else {\r\n            if (n !== cn) {\r\n              ns[cn].prototype[n] = f;\r\n            }\r\n          }\r\n        });\r\n      }\r\n      self$$1.each(p.static, function (f, n) {\r\n        ns[cn][n] = f;\r\n      });\r\n    };\r\n    var extend = function (obj, ext) {\r\n      var x = [];\r\n      for (var _i = 2; _i < arguments.length; _i++) {\r\n        x[_i - 2] = arguments[_i];\r\n      }\r\n      var i, l, name$$1;\r\n      var args = arguments;\r\n      var value;\r\n      for (i = 1, l = args.length; i < l; i++) {\r\n        ext = args[i];\r\n        for (name$$1 in ext) {\r\n          if (ext.hasOwnProperty(name$$1)) {\r\n            value = ext[name$$1];\r\n            if (value !== undefined) {\r\n              obj[name$$1] = value;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return obj;\r\n    };\r\n    var walk = function (o, f, n, s) {\r\n      s = s || this;\r\n      if (o) {\r\n        if (n) {\r\n          o = o[n];\r\n        }\r\n        ArrUtils.each(o, function (o, i) {\r\n          if (f.call(s, o, i, n) === false) {\r\n            return false;\r\n          }\r\n          walk(o, f, n, s);\r\n        });\r\n      }\r\n    };\r\n    var createNS = function (n, o) {\r\n      var i, v;\r\n      o = o || window;\r\n      n = n.split('.');\r\n      for (i = 0; i < n.length; i++) {\r\n        v = n[i];\r\n        if (!o[v]) {\r\n          o[v] = {};\r\n        }\r\n        o = o[v];\r\n      }\r\n      return o;\r\n    };\r\n    var resolve$1 = function (n, o) {\r\n      var i, l;\r\n      o = o || window;\r\n      n = n.split('.');\r\n      for (i = 0, l = n.length; i < l; i++) {\r\n        o = o[n[i]];\r\n        if (!o) {\r\n          break;\r\n        }\r\n      }\r\n      return o;\r\n    };\r\n    var explode = function (s, d) {\r\n      if (!s || is(s, 'array')) {\r\n        return s;\r\n      }\r\n      return ArrUtils.map(s.split(d || ','), trim);\r\n    };\r\n    var _addCacheSuffix = function (url) {\r\n      var cacheSuffix = Env.cacheSuffix;\r\n      if (cacheSuffix) {\r\n        url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\r\n      }\r\n      return url;\r\n    };\r\n    var Tools = {\r\n      trim: trim,\r\n      isArray: ArrUtils.isArray,\r\n      is: is,\r\n      toArray: ArrUtils.toArray,\r\n      makeMap: makeMap,\r\n      each: ArrUtils.each,\r\n      map: ArrUtils.map,\r\n      grep: ArrUtils.filter,\r\n      inArray: ArrUtils.indexOf,\r\n      hasOwn: hasOwnProperty,\r\n      extend: extend,\r\n      create: create,\r\n      walk: walk,\r\n      createNS: createNS,\r\n      resolve: resolve$1,\r\n      explode: explode,\r\n      _addCacheSuffix: _addCacheSuffix\r\n    };\r\n\r\n    var doc = document, push$2 = Array.prototype.push, slice$2 = Array.prototype.slice;\r\n    var rquickExpr$1 = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\r\n    var Event$$1 = EventUtils.Event;\r\n    var skipUniques = Tools.makeMap('children,contents,next,prev');\r\n    var isDefined = function (obj) {\r\n      return typeof obj !== 'undefined';\r\n    };\r\n    var isString$1 = function (obj) {\r\n      return typeof obj === 'string';\r\n    };\r\n    var isWindow = function (obj) {\r\n      return obj && obj === obj.window;\r\n    };\r\n    var createFragment = function (html, fragDoc) {\r\n      var frag, node, container;\r\n      fragDoc = fragDoc || doc;\r\n      container = fragDoc.createElement('div');\r\n      frag = fragDoc.createDocumentFragment();\r\n      container.innerHTML = html;\r\n      while (node = container.firstChild) {\r\n        frag.appendChild(node);\r\n      }\r\n      return frag;\r\n    };\r\n    var domManipulate = function (targetNodes, sourceItem, callback, reverse) {\r\n      var i;\r\n      if (isString$1(sourceItem)) {\r\n        sourceItem = createFragment(sourceItem, getElementDocument(targetNodes[0]));\r\n      } else if (sourceItem.length && !sourceItem.nodeType) {\r\n        sourceItem = DomQuery.makeArray(sourceItem);\r\n        if (reverse) {\r\n          for (i = sourceItem.length - 1; i >= 0; i--) {\r\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\r\n          }\r\n        } else {\r\n          for (i = 0; i < sourceItem.length; i++) {\r\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\r\n          }\r\n        }\r\n        return targetNodes;\r\n      }\r\n      if (sourceItem.nodeType) {\r\n        i = targetNodes.length;\r\n        while (i--) {\r\n          callback.call(targetNodes[i], sourceItem);\r\n        }\r\n      }\r\n      return targetNodes;\r\n    };\r\n    var hasClass = function (node, className) {\r\n      return node && className && (' ' + node.className + ' ').indexOf(' ' + className + ' ') !== -1;\r\n    };\r\n    var wrap = function (elements, wrapper, all) {\r\n      var lastParent, newWrapper;\r\n      wrapper = DomQuery(wrapper)[0];\r\n      elements.each(function () {\r\n        var self$$1 = this;\r\n        if (!all || lastParent !== self$$1.parentNode) {\r\n          lastParent = self$$1.parentNode;\r\n          newWrapper = wrapper.cloneNode(false);\r\n          self$$1.parentNode.insertBefore(newWrapper, self$$1);\r\n          newWrapper.appendChild(self$$1);\r\n        } else {\r\n          newWrapper.appendChild(self$$1);\r\n        }\r\n      });\r\n      return elements;\r\n    };\r\n    var numericCssMap = Tools.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom', ' ');\r\n    var booleanMap = Tools.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected', ' ');\r\n    var propFix = {\r\n      for: 'htmlFor',\r\n      class: 'className',\r\n      readonly: 'readOnly'\r\n    };\r\n    var cssFix = { float: 'cssFloat' };\r\n    var attrHooks = {}, cssHooks = {};\r\n    var DomQuery = function (selector, context) {\r\n      return new DomQuery.fn.init(selector, context);\r\n    };\r\n    var inArray = function (item, array) {\r\n      var i;\r\n      if (array.indexOf) {\r\n        return array.indexOf(item);\r\n      }\r\n      i = array.length;\r\n      while (i--) {\r\n        if (array[i] === item) {\r\n          return i;\r\n        }\r\n      }\r\n      return -1;\r\n    };\r\n    var whiteSpaceRegExp$1 = /^\\s*|\\s*$/g;\r\n    var trim$1 = function (str) {\r\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp$1, '');\r\n    };\r\n    var each$2 = function (obj, callback) {\r\n      var length$$1, key, i, value;\r\n      if (obj) {\r\n        length$$1 = obj.length;\r\n        if (length$$1 === undefined) {\r\n          for (key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n              value = obj[key];\r\n              if (callback.call(value, key, value) === false) {\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (i = 0; i < length$$1; i++) {\r\n            value = obj[i];\r\n            if (callback.call(value, i, value) === false) {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return obj;\r\n    };\r\n    var grep = function (array, callback) {\r\n      var out = [];\r\n      each$2(array, function (i, item) {\r\n        if (callback(item, i)) {\r\n          out.push(item);\r\n        }\r\n      });\r\n      return out;\r\n    };\r\n    var getElementDocument = function (element) {\r\n      if (!element) {\r\n        return doc;\r\n      }\r\n      if (element.nodeType === 9) {\r\n        return element;\r\n      }\r\n      return element.ownerDocument;\r\n    };\r\n    DomQuery.fn = DomQuery.prototype = {\r\n      constructor: DomQuery,\r\n      selector: '',\r\n      context: null,\r\n      length: 0,\r\n      init: function (selector, context) {\r\n        var self$$1 = this;\r\n        var match, node;\r\n        if (!selector) {\r\n          return self$$1;\r\n        }\r\n        if (selector.nodeType) {\r\n          self$$1.context = self$$1[0] = selector;\r\n          self$$1.length = 1;\r\n          return self$$1;\r\n        }\r\n        if (context && context.nodeType) {\r\n          self$$1.context = context;\r\n        } else {\r\n          if (context) {\r\n            return DomQuery(selector).attr(context);\r\n          }\r\n          self$$1.context = context = document;\r\n        }\r\n        if (isString$1(selector)) {\r\n          self$$1.selector = selector;\r\n          if (selector.charAt(0) === '<' && selector.charAt(selector.length - 1) === '>' && selector.length >= 3) {\r\n            match = [\r\n              null,\r\n              selector,\r\n              null\r\n            ];\r\n          } else {\r\n            match = rquickExpr$1.exec(selector);\r\n          }\r\n          if (match) {\r\n            if (match[1]) {\r\n              node = createFragment(selector, getElementDocument(context)).firstChild;\r\n              while (node) {\r\n                push$2.call(self$$1, node);\r\n                node = node.nextSibling;\r\n              }\r\n            } else {\r\n              node = getElementDocument(context).getElementById(match[2]);\r\n              if (!node) {\r\n                return self$$1;\r\n              }\r\n              if (node.id !== match[2]) {\r\n                return self$$1.find(selector);\r\n              }\r\n              self$$1.length = 1;\r\n              self$$1[0] = node;\r\n            }\r\n          } else {\r\n            return DomQuery(context).find(selector);\r\n          }\r\n        } else {\r\n          this.add(selector, false);\r\n        }\r\n        return self$$1;\r\n      },\r\n      toArray: function () {\r\n        return Tools.toArray(this);\r\n      },\r\n      add: function (items, sort) {\r\n        var self$$1 = this;\r\n        var nodes, i;\r\n        if (isString$1(items)) {\r\n          return self$$1.add(DomQuery(items));\r\n        }\r\n        if (sort !== false) {\r\n          nodes = DomQuery.unique(self$$1.toArray().concat(DomQuery.makeArray(items)));\r\n          self$$1.length = nodes.length;\r\n          for (i = 0; i < nodes.length; i++) {\r\n            self$$1[i] = nodes[i];\r\n          }\r\n        } else {\r\n          push$2.apply(self$$1, DomQuery.makeArray(items));\r\n        }\r\n        return self$$1;\r\n      },\r\n      attr: function (name$$1, value) {\r\n        var self$$1 = this;\r\n        var hook;\r\n        if (typeof name$$1 === 'object') {\r\n          each$2(name$$1, function (name$$1, value) {\r\n            self$$1.attr(name$$1, value);\r\n          });\r\n        } else if (isDefined(value)) {\r\n          this.each(function () {\r\n            var hook;\r\n            if (this.nodeType === 1) {\r\n              hook = attrHooks[name$$1];\r\n              if (hook && hook.set) {\r\n                hook.set(this, value);\r\n                return;\r\n              }\r\n              if (value === null) {\r\n                this.removeAttribute(name$$1, 2);\r\n              } else {\r\n                this.setAttribute(name$$1, value, 2);\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          if (self$$1[0] && self$$1[0].nodeType === 1) {\r\n            hook = attrHooks[name$$1];\r\n            if (hook && hook.get) {\r\n              return hook.get(self$$1[0], name$$1);\r\n            }\r\n            if (booleanMap[name$$1]) {\r\n              return self$$1.prop(name$$1) ? name$$1 : undefined;\r\n            }\r\n            value = self$$1[0].getAttribute(name$$1, 2);\r\n            if (value === null) {\r\n              value = undefined;\r\n            }\r\n          }\r\n          return value;\r\n        }\r\n        return self$$1;\r\n      },\r\n      removeAttr: function (name$$1) {\r\n        return this.attr(name$$1, null);\r\n      },\r\n      prop: function (name$$1, value) {\r\n        var self$$1 = this;\r\n        name$$1 = propFix[name$$1] || name$$1;\r\n        if (typeof name$$1 === 'object') {\r\n          each$2(name$$1, function (name$$1, value) {\r\n            self$$1.prop(name$$1, value);\r\n          });\r\n        } else if (isDefined(value)) {\r\n          this.each(function () {\r\n            if (this.nodeType === 1) {\r\n              this[name$$1] = value;\r\n            }\r\n          });\r\n        } else {\r\n          if (self$$1[0] && self$$1[0].nodeType && name$$1 in self$$1[0]) {\r\n            return self$$1[0][name$$1];\r\n          }\r\n          return value;\r\n        }\r\n        return self$$1;\r\n      },\r\n      css: function (name$$1, value) {\r\n        var self$$1 = this;\r\n        var elm, hook;\r\n        var camel = function (name$$1) {\r\n          return name$$1.replace(/-(\\D)/g, function (a, b) {\r\n            return b.toUpperCase();\r\n          });\r\n        };\r\n        var dashed = function (name$$1) {\r\n          return name$$1.replace(/[A-Z]/g, function (a) {\r\n            return '-' + a;\r\n          });\r\n        };\r\n        if (typeof name$$1 === 'object') {\r\n          each$2(name$$1, function (name$$1, value) {\r\n            self$$1.css(name$$1, value);\r\n          });\r\n        } else {\r\n          if (isDefined(value)) {\r\n            name$$1 = camel(name$$1);\r\n            if (typeof value === 'number' && !numericCssMap[name$$1]) {\r\n              value = value.toString() + 'px';\r\n            }\r\n            self$$1.each(function () {\r\n              var style = this.style;\r\n              hook = cssHooks[name$$1];\r\n              if (hook && hook.set) {\r\n                hook.set(this, value);\r\n                return;\r\n              }\r\n              try {\r\n                this.style[cssFix[name$$1] || name$$1] = value;\r\n              } catch (ex) {\r\n              }\r\n              if (value === null || value === '') {\r\n                if (style.removeProperty) {\r\n                  style.removeProperty(dashed(name$$1));\r\n                } else {\r\n                  style.removeAttribute(name$$1);\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            elm = self$$1[0];\r\n            hook = cssHooks[name$$1];\r\n            if (hook && hook.get) {\r\n              return hook.get(elm);\r\n            }\r\n            if (elm.ownerDocument.defaultView) {\r\n              try {\r\n                return elm.ownerDocument.defaultView.getComputedStyle(elm, null).getPropertyValue(dashed(name$$1));\r\n              } catch (ex) {\r\n                return undefined;\r\n              }\r\n            } else if (elm.currentStyle) {\r\n              return elm.currentStyle[camel(name$$1)];\r\n            } else {\r\n              return '';\r\n            }\r\n          }\r\n        }\r\n        return self$$1;\r\n      },\r\n      remove: function () {\r\n        var self$$1 = this;\r\n        var node, i = this.length;\r\n        while (i--) {\r\n          node = self$$1[i];\r\n          Event$$1.clean(node);\r\n          if (node.parentNode) {\r\n            node.parentNode.removeChild(node);\r\n          }\r\n        }\r\n        return this;\r\n      },\r\n      empty: function () {\r\n        var self$$1 = this;\r\n        var node, i = this.length;\r\n        while (i--) {\r\n          node = self$$1[i];\r\n          while (node.firstChild) {\r\n            node.removeChild(node.firstChild);\r\n          }\r\n        }\r\n        return this;\r\n      },\r\n      html: function (value) {\r\n        var self$$1 = this;\r\n        var i;\r\n        if (isDefined(value)) {\r\n          i = self$$1.length;\r\n          try {\r\n            while (i--) {\r\n              self$$1[i].innerHTML = value;\r\n            }\r\n          } catch (ex) {\r\n            DomQuery(self$$1[i]).empty().append(value);\r\n          }\r\n          return self$$1;\r\n        }\r\n        return self$$1[0] ? self$$1[0].innerHTML : '';\r\n      },\r\n      text: function (value) {\r\n        var self$$1 = this;\r\n        var i;\r\n        if (isDefined(value)) {\r\n          i = self$$1.length;\r\n          while (i--) {\r\n            if ('innerText' in self$$1[i]) {\r\n              self$$1[i].innerText = value;\r\n            } else {\r\n              self$$1[0].textContent = value;\r\n            }\r\n          }\r\n          return self$$1;\r\n        }\r\n        return self$$1[0] ? self$$1[0].innerText || self$$1[0].textContent : '';\r\n      },\r\n      append: function () {\r\n        return domManipulate(this, arguments, function (node) {\r\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\r\n            this.appendChild(node);\r\n          }\r\n        });\r\n      },\r\n      prepend: function () {\r\n        return domManipulate(this, arguments, function (node) {\r\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\r\n            this.insertBefore(node, this.firstChild);\r\n          }\r\n        }, true);\r\n      },\r\n      before: function () {\r\n        var self$$1 = this;\r\n        if (self$$1[0] && self$$1[0].parentNode) {\r\n          return domManipulate(self$$1, arguments, function (node) {\r\n            this.parentNode.insertBefore(node, this);\r\n          });\r\n        }\r\n        return self$$1;\r\n      },\r\n      after: function () {\r\n        var self$$1 = this;\r\n        if (self$$1[0] && self$$1[0].parentNode) {\r\n          return domManipulate(self$$1, arguments, function (node) {\r\n            this.parentNode.insertBefore(node, this.nextSibling);\r\n          }, true);\r\n        }\r\n        return self$$1;\r\n      },\r\n      appendTo: function (val) {\r\n        DomQuery(val).append(this);\r\n        return this;\r\n      },\r\n      prependTo: function (val) {\r\n        DomQuery(val).prepend(this);\r\n        return this;\r\n      },\r\n      replaceWith: function (content) {\r\n        return this.before(content).remove();\r\n      },\r\n      wrap: function (content) {\r\n        return wrap(this, content);\r\n      },\r\n      wrapAll: function (content) {\r\n        return wrap(this, content, true);\r\n      },\r\n      wrapInner: function (content) {\r\n        this.each(function () {\r\n          DomQuery(this).contents().wrapAll(content);\r\n        });\r\n        return this;\r\n      },\r\n      unwrap: function () {\r\n        return this.parent().each(function () {\r\n          DomQuery(this).replaceWith(this.childNodes);\r\n        });\r\n      },\r\n      clone: function () {\r\n        var result = [];\r\n        this.each(function () {\r\n          result.push(this.cloneNode(true));\r\n        });\r\n        return DomQuery(result);\r\n      },\r\n      addClass: function (className) {\r\n        return this.toggleClass(className, true);\r\n      },\r\n      removeClass: function (className) {\r\n        return this.toggleClass(className, false);\r\n      },\r\n      toggleClass: function (className, state) {\r\n        var self$$1 = this;\r\n        if (typeof className !== 'string') {\r\n          return self$$1;\r\n        }\r\n        if (className.indexOf(' ') !== -1) {\r\n          each$2(className.split(' '), function () {\r\n            self$$1.toggleClass(this, state);\r\n          });\r\n        } else {\r\n          self$$1.each(function (index, node) {\r\n            var existingClassName, classState;\r\n            classState = hasClass(node, className);\r\n            if (classState !== state) {\r\n              existingClassName = node.className;\r\n              if (classState) {\r\n                node.className = trim$1((' ' + existingClassName + ' ').replace(' ' + className + ' ', ' '));\r\n              } else {\r\n                node.className += existingClassName ? ' ' + className : className;\r\n              }\r\n            }\r\n          });\r\n        }\r\n        return self$$1;\r\n      },\r\n      hasClass: function (className) {\r\n        return hasClass(this[0], className);\r\n      },\r\n      each: function (callback) {\r\n        return each$2(this, callback);\r\n      },\r\n      on: function (name$$1, callback) {\r\n        return this.each(function () {\r\n          Event$$1.bind(this, name$$1, callback);\r\n        });\r\n      },\r\n      off: function (name$$1, callback) {\r\n        return this.each(function () {\r\n          Event$$1.unbind(this, name$$1, callback);\r\n        });\r\n      },\r\n      trigger: function (name$$1) {\r\n        return this.each(function () {\r\n          if (typeof name$$1 === 'object') {\r\n            Event$$1.fire(this, name$$1.type, name$$1);\r\n          } else {\r\n            Event$$1.fire(this, name$$1);\r\n          }\r\n        });\r\n      },\r\n      show: function () {\r\n        return this.css('display', '');\r\n      },\r\n      hide: function () {\r\n        return this.css('display', 'none');\r\n      },\r\n      slice: function () {\r\n        return new DomQuery(slice$2.apply(this, arguments));\r\n      },\r\n      eq: function (index) {\r\n        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\r\n      },\r\n      first: function () {\r\n        return this.eq(0);\r\n      },\r\n      last: function () {\r\n        return this.eq(-1);\r\n      },\r\n      find: function (selector) {\r\n        var i, l;\r\n        var ret = [];\r\n        for (i = 0, l = this.length; i < l; i++) {\r\n          DomQuery.find(selector, this[i], ret);\r\n        }\r\n        return DomQuery(ret);\r\n      },\r\n      filter: function (selector) {\r\n        if (typeof selector === 'function') {\r\n          return DomQuery(grep(this.toArray(), function (item, i) {\r\n            return selector(i, item);\r\n          }));\r\n        }\r\n        return DomQuery(DomQuery.filter(selector, this.toArray()));\r\n      },\r\n      closest: function (selector) {\r\n        var result = [];\r\n        if (selector instanceof DomQuery) {\r\n          selector = selector[0];\r\n        }\r\n        this.each(function (i, node) {\r\n          while (node) {\r\n            if (typeof selector === 'string' && DomQuery(node).is(selector)) {\r\n              result.push(node);\r\n              break;\r\n            } else if (node === selector) {\r\n              result.push(node);\r\n              break;\r\n            }\r\n            node = node.parentNode;\r\n          }\r\n        });\r\n        return DomQuery(result);\r\n      },\r\n      offset: function (offset) {\r\n        var elm, doc, docElm;\r\n        var x = 0, y = 0, pos;\r\n        if (!offset) {\r\n          elm = this[0];\r\n          if (elm) {\r\n            doc = elm.ownerDocument;\r\n            docElm = doc.documentElement;\r\n            if (elm.getBoundingClientRect) {\r\n              pos = elm.getBoundingClientRect();\r\n              x = pos.left + (docElm.scrollLeft || doc.body.scrollLeft) - docElm.clientLeft;\r\n              y = pos.top + (docElm.scrollTop || doc.body.scrollTop) - docElm.clientTop;\r\n            }\r\n          }\r\n          return {\r\n            left: x,\r\n            top: y\r\n          };\r\n        }\r\n        return this.css(offset);\r\n      },\r\n      push: push$2,\r\n      sort: [].sort,\r\n      splice: [].splice\r\n    };\r\n    Tools.extend(DomQuery, {\r\n      extend: Tools.extend,\r\n      makeArray: function (object) {\r\n        if (isWindow(object) || object.nodeType) {\r\n          return [object];\r\n        }\r\n        return Tools.toArray(object);\r\n      },\r\n      inArray: inArray,\r\n      isArray: Tools.isArray,\r\n      each: each$2,\r\n      trim: trim$1,\r\n      grep: grep,\r\n      find: Sizzle,\r\n      expr: Sizzle.selectors,\r\n      unique: Sizzle.uniqueSort,\r\n      text: Sizzle.getText,\r\n      contains: Sizzle.contains,\r\n      filter: function (expr, elems, not) {\r\n        var i = elems.length;\r\n        if (not) {\r\n          expr = ':not(' + expr + ')';\r\n        }\r\n        while (i--) {\r\n          if (elems[i].nodeType !== 1) {\r\n            elems.splice(i, 1);\r\n          }\r\n        }\r\n        if (elems.length === 1) {\r\n          elems = DomQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [];\r\n        } else {\r\n          elems = DomQuery.find.matches(expr, elems);\r\n        }\r\n        return elems;\r\n      }\r\n    });\r\n    var dir = function (el, prop, until) {\r\n      var matched = [];\r\n      var cur = el[prop];\r\n      if (typeof until !== 'string' && until instanceof DomQuery) {\r\n        until = until[0];\r\n      }\r\n      while (cur && cur.nodeType !== 9) {\r\n        if (until !== undefined) {\r\n          if (cur === until) {\r\n            break;\r\n          }\r\n          if (typeof until === 'string' && DomQuery(cur).is(until)) {\r\n            break;\r\n          }\r\n        }\r\n        if (cur.nodeType === 1) {\r\n          matched.push(cur);\r\n        }\r\n        cur = cur[prop];\r\n      }\r\n      return matched;\r\n    };\r\n    var sibling = function (node, siblingName, nodeType, until) {\r\n      var result = [];\r\n      if (until instanceof DomQuery) {\r\n        until = until[0];\r\n      }\r\n      for (; node; node = node[siblingName]) {\r\n        if (nodeType && node.nodeType !== nodeType) {\r\n          continue;\r\n        }\r\n        if (until !== undefined) {\r\n          if (node === until) {\r\n            break;\r\n          }\r\n          if (typeof until === 'string' && DomQuery(node).is(until)) {\r\n            break;\r\n          }\r\n        }\r\n        result.push(node);\r\n      }\r\n      return result;\r\n    };\r\n    var firstSibling = function (node, siblingName, nodeType) {\r\n      for (node = node[siblingName]; node; node = node[siblingName]) {\r\n        if (node.nodeType === nodeType) {\r\n          return node;\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n    each$2({\r\n      parent: function (node) {\r\n        var parent$$1 = node.parentNode;\r\n        return parent$$1 && parent$$1.nodeType !== 11 ? parent$$1 : null;\r\n      },\r\n      parents: function (node) {\r\n        return dir(node, 'parentNode');\r\n      },\r\n      next: function (node) {\r\n        return firstSibling(node, 'nextSibling', 1);\r\n      },\r\n      prev: function (node) {\r\n        return firstSibling(node, 'previousSibling', 1);\r\n      },\r\n      children: function (node) {\r\n        return sibling(node.firstChild, 'nextSibling', 1);\r\n      },\r\n      contents: function (node) {\r\n        return Tools.toArray((node.nodeName === 'iframe' ? node.contentDocument || node.contentWindow.document : node).childNodes);\r\n      }\r\n    }, function (name$$1, fn) {\r\n      DomQuery.fn[name$$1] = function (selector) {\r\n        var self$$1 = this;\r\n        var result = [];\r\n        self$$1.each(function () {\r\n          var nodes = fn.call(result, this, selector, result);\r\n          if (nodes) {\r\n            if (DomQuery.isArray(nodes)) {\r\n              result.push.apply(result, nodes);\r\n            } else {\r\n              result.push(nodes);\r\n            }\r\n          }\r\n        });\r\n        if (this.length > 1) {\r\n          if (!skipUniques[name$$1]) {\r\n            result = DomQuery.unique(result);\r\n          }\r\n          if (name$$1.indexOf('parents') === 0) {\r\n            result = result.reverse();\r\n          }\r\n        }\r\n        result = DomQuery(result);\r\n        if (selector) {\r\n          return result.filter(selector);\r\n        }\r\n        return result;\r\n      };\r\n    });\r\n    each$2({\r\n      parentsUntil: function (node, until) {\r\n        return dir(node, 'parentNode', until);\r\n      },\r\n      nextUntil: function (node, until) {\r\n        return sibling(node, 'nextSibling', 1, until).slice(1);\r\n      },\r\n      prevUntil: function (node, until) {\r\n        return sibling(node, 'previousSibling', 1, until).slice(1);\r\n      }\r\n    }, function (name$$1, fn) {\r\n      DomQuery.fn[name$$1] = function (selector, filter) {\r\n        var self$$1 = this;\r\n        var result = [];\r\n        self$$1.each(function () {\r\n          var nodes = fn.call(result, this, selector, result);\r\n          if (nodes) {\r\n            if (DomQuery.isArray(nodes)) {\r\n              result.push.apply(result, nodes);\r\n            } else {\r\n              result.push(nodes);\r\n            }\r\n          }\r\n        });\r\n        if (this.length > 1) {\r\n          result = DomQuery.unique(result);\r\n          if (name$$1.indexOf('parents') === 0 || name$$1 === 'prevUntil') {\r\n            result = result.reverse();\r\n          }\r\n        }\r\n        result = DomQuery(result);\r\n        if (filter) {\r\n          return result.filter(filter);\r\n        }\r\n        return result;\r\n      };\r\n    });\r\n    DomQuery.fn.is = function (selector) {\r\n      return !!selector && this.filter(selector).length > 0;\r\n    };\r\n    DomQuery.fn.init.prototype = DomQuery.fn;\r\n    DomQuery.overrideDefaults = function (callback) {\r\n      var defaults;\r\n      var sub = function (selector, context) {\r\n        defaults = defaults || callback();\r\n        if (arguments.length === 0) {\r\n          selector = defaults.element;\r\n        }\r\n        if (!context) {\r\n          context = defaults.context;\r\n        }\r\n        return new sub.fn.init(selector, context);\r\n      };\r\n      DomQuery.extend(sub, this);\r\n      return sub;\r\n    };\r\n    var appendHooks = function (targetHooks, prop, hooks) {\r\n      each$2(hooks, function (name$$1, func) {\r\n        targetHooks[name$$1] = targetHooks[name$$1] || {};\r\n        targetHooks[name$$1][prop] = func;\r\n      });\r\n    };\r\n    if (Env.ie && Env.ie < 8) {\r\n      appendHooks(attrHooks, 'get', {\r\n        maxlength: function (elm) {\r\n          var value = elm.maxLength;\r\n          if (value === 2147483647) {\r\n            return undefined;\r\n          }\r\n          return value;\r\n        },\r\n        size: function (elm) {\r\n          var value = elm.size;\r\n          if (value === 20) {\r\n            return undefined;\r\n          }\r\n          return value;\r\n        },\r\n        class: function (elm) {\r\n          return elm.className;\r\n        },\r\n        style: function (elm) {\r\n          var value = elm.style.cssText;\r\n          if (value.length === 0) {\r\n            return undefined;\r\n          }\r\n          return value;\r\n        }\r\n      });\r\n      appendHooks(attrHooks, 'set', {\r\n        class: function (elm, value) {\r\n          elm.className = value;\r\n        },\r\n        style: function (elm, value) {\r\n          elm.style.cssText = value;\r\n        }\r\n      });\r\n    }\r\n    if (Env.ie && Env.ie < 9) {\r\n      cssFix.float = 'styleFloat';\r\n      appendHooks(cssHooks, 'set', {\r\n        opacity: function (elm, value) {\r\n          var style = elm.style;\r\n          if (value === null || value === '') {\r\n            style.removeAttribute('filter');\r\n          } else {\r\n            style.zoom = 1;\r\n            style.filter = 'alpha(opacity=' + value * 100 + ')';\r\n          }\r\n        }\r\n      });\r\n    }\r\n    DomQuery.attrHooks = attrHooks;\r\n    DomQuery.cssHooks = cssHooks;\r\n\r\n    var cached = function (f) {\r\n      var called = false;\r\n      var r;\r\n      return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          args[_i] = arguments[_i];\r\n        }\r\n        if (!called) {\r\n          called = true;\r\n          r = f.apply(null, args);\r\n        }\r\n        return r;\r\n      };\r\n    };\r\n\r\n    var firstMatch = function (regexes, s) {\r\n      for (var i = 0; i < regexes.length; i++) {\r\n        var x = regexes[i];\r\n        if (x.test(s))\r\n          return x;\r\n      }\r\n      return undefined;\r\n    };\r\n    var find$2 = function (regexes, agent) {\r\n      var r = firstMatch(regexes, agent);\r\n      if (!r)\r\n        return {\r\n          major: 0,\r\n          minor: 0\r\n        };\r\n      var group = function (i) {\r\n        return Number(agent.replace(r, '$' + i));\r\n      };\r\n      return nu(group(1), group(2));\r\n    };\r\n    var detect = function (versionRegexes, agent) {\r\n      var cleanedAgent = String(agent).toLowerCase();\r\n      if (versionRegexes.length === 0)\r\n        return unknown();\r\n      return find$2(versionRegexes, cleanedAgent);\r\n    };\r\n    var unknown = function () {\r\n      return nu(0, 0);\r\n    };\r\n    var nu = function (major, minor) {\r\n      return {\r\n        major: major,\r\n        minor: minor\r\n      };\r\n    };\r\n    var Version = {\r\n      nu: nu,\r\n      detect: detect,\r\n      unknown: unknown\r\n    };\r\n\r\n    var edge = 'Edge';\r\n    var chrome = 'Chrome';\r\n    var ie$1 = 'IE';\r\n    var opera$1 = 'Opera';\r\n    var firefox = 'Firefox';\r\n    var safari = 'Safari';\r\n    var isBrowser = function (name, current) {\r\n      return function () {\r\n        return current === name;\r\n      };\r\n    };\r\n    var unknown$1 = function () {\r\n      return nu$1({\r\n        current: undefined,\r\n        version: Version.unknown()\r\n      });\r\n    };\r\n    var nu$1 = function (info) {\r\n      var current = info.current;\r\n      var version = info.version;\r\n      return {\r\n        current: current,\r\n        version: version,\r\n        isEdge: isBrowser(edge, current),\r\n        isChrome: isBrowser(chrome, current),\r\n        isIE: isBrowser(ie$1, current),\r\n        isOpera: isBrowser(opera$1, current),\r\n        isFirefox: isBrowser(firefox, current),\r\n        isSafari: isBrowser(safari, current)\r\n      };\r\n    };\r\n    var Browser = {\r\n      unknown: unknown$1,\r\n      nu: nu$1,\r\n      edge: constant(edge),\r\n      chrome: constant(chrome),\r\n      ie: constant(ie$1),\r\n      opera: constant(opera$1),\r\n      firefox: constant(firefox),\r\n      safari: constant(safari)\r\n    };\r\n\r\n    var windows = 'Windows';\r\n    var ios = 'iOS';\r\n    var android$1 = 'Android';\r\n    var linux = 'Linux';\r\n    var osx = 'OSX';\r\n    var solaris = 'Solaris';\r\n    var freebsd = 'FreeBSD';\r\n    var isOS = function (name, current) {\r\n      return function () {\r\n        return current === name;\r\n      };\r\n    };\r\n    var unknown$2 = function () {\r\n      return nu$2({\r\n        current: undefined,\r\n        version: Version.unknown()\r\n      });\r\n    };\r\n    var nu$2 = function (info) {\r\n      var current = info.current;\r\n      var version = info.version;\r\n      return {\r\n        current: current,\r\n        version: version,\r\n        isWindows: isOS(windows, current),\r\n        isiOS: isOS(ios, current),\r\n        isAndroid: isOS(android$1, current),\r\n        isOSX: isOS(osx, current),\r\n        isLinux: isOS(linux, current),\r\n        isSolaris: isOS(solaris, current),\r\n        isFreeBSD: isOS(freebsd, current)\r\n      };\r\n    };\r\n    var OperatingSystem = {\r\n      unknown: unknown$2,\r\n      nu: nu$2,\r\n      windows: constant(windows),\r\n      ios: constant(ios),\r\n      android: constant(android$1),\r\n      linux: constant(linux),\r\n      osx: constant(osx),\r\n      solaris: constant(solaris),\r\n      freebsd: constant(freebsd)\r\n    };\r\n\r\n    var DeviceType = function (os, browser, userAgent) {\r\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\r\n      var isiPhone = os.isiOS() && !isiPad;\r\n      var isAndroid3 = os.isAndroid() && os.version.major === 3;\r\n      var isAndroid4 = os.isAndroid() && os.version.major === 4;\r\n      var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\r\n      var isTouch = os.isiOS() || os.isAndroid();\r\n      var isPhone = isTouch && !isTablet;\r\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\r\n      return {\r\n        isiPad: constant(isiPad),\r\n        isiPhone: constant(isiPhone),\r\n        isTablet: constant(isTablet),\r\n        isPhone: constant(isPhone),\r\n        isTouch: constant(isTouch),\r\n        isAndroid: os.isAndroid,\r\n        isiOS: os.isiOS,\r\n        isWebView: constant(iOSwebview)\r\n      };\r\n    };\r\n\r\n    var detect$1 = function (candidates, userAgent) {\r\n      var agent = String(userAgent).toLowerCase();\r\n      return find(candidates, function (candidate) {\r\n        return candidate.search(agent);\r\n      });\r\n    };\r\n    var detectBrowser = function (browsers, userAgent) {\r\n      return detect$1(browsers, userAgent).map(function (browser) {\r\n        var version = Version.detect(browser.versionRegexes, userAgent);\r\n        return {\r\n          current: browser.name,\r\n          version: version\r\n        };\r\n      });\r\n    };\r\n    var detectOs = function (oses, userAgent) {\r\n      return detect$1(oses, userAgent).map(function (os) {\r\n        var version = Version.detect(os.versionRegexes, userAgent);\r\n        return {\r\n          current: os.name,\r\n          version: version\r\n        };\r\n      });\r\n    };\r\n    var UaString = {\r\n      detectBrowser: detectBrowser,\r\n      detectOs: detectOs\r\n    };\r\n\r\n    var contains$2 = function (str, substr) {\r\n      return str.indexOf(substr) !== -1;\r\n    };\r\n    var trim$2 = function (str) {\r\n      return str.replace(/^\\s+|\\s+$/g, '');\r\n    };\r\n    var lTrim = function (str) {\r\n      return str.replace(/^\\s+/g, '');\r\n    };\r\n    var rTrim = function (str) {\r\n      return str.replace(/\\s+$/g, '');\r\n    };\r\n\r\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\r\n    var checkContains = function (target) {\r\n      return function (uastring) {\r\n        return contains$2(uastring, target);\r\n      };\r\n    };\r\n    var browsers = [\r\n      {\r\n        name: 'Edge',\r\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\r\n        search: function (uastring) {\r\n          var monstrosity = contains$2(uastring, 'edge/') && contains$2(uastring, 'chrome') && contains$2(uastring, 'safari') && contains$2(uastring, 'applewebkit');\r\n          return monstrosity;\r\n        }\r\n      },\r\n      {\r\n        name: 'Chrome',\r\n        versionRegexes: [\r\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\r\n          normalVersionRegex\r\n        ],\r\n        search: function (uastring) {\r\n          return contains$2(uastring, 'chrome') && !contains$2(uastring, 'chromeframe');\r\n        }\r\n      },\r\n      {\r\n        name: 'IE',\r\n        versionRegexes: [\r\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\r\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\r\n        ],\r\n        search: function (uastring) {\r\n          return contains$2(uastring, 'msie') || contains$2(uastring, 'trident');\r\n        }\r\n      },\r\n      {\r\n        name: 'Opera',\r\n        versionRegexes: [\r\n          normalVersionRegex,\r\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\r\n        ],\r\n        search: checkContains('opera')\r\n      },\r\n      {\r\n        name: 'Firefox',\r\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\r\n        search: checkContains('firefox')\r\n      },\r\n      {\r\n        name: 'Safari',\r\n        versionRegexes: [\r\n          normalVersionRegex,\r\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\r\n        ],\r\n        search: function (uastring) {\r\n          return (contains$2(uastring, 'safari') || contains$2(uastring, 'mobile/')) && contains$2(uastring, 'applewebkit');\r\n        }\r\n      }\r\n    ];\r\n    var oses = [\r\n      {\r\n        name: 'Windows',\r\n        search: checkContains('win'),\r\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\r\n      },\r\n      {\r\n        name: 'iOS',\r\n        search: function (uastring) {\r\n          return contains$2(uastring, 'iphone') || contains$2(uastring, 'ipad');\r\n        },\r\n        versionRegexes: [\r\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\r\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\r\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\r\n        ]\r\n      },\r\n      {\r\n        name: 'Android',\r\n        search: checkContains('android'),\r\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\r\n      },\r\n      {\r\n        name: 'OSX',\r\n        search: checkContains('os x'),\r\n        versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\r\n      },\r\n      {\r\n        name: 'Linux',\r\n        search: checkContains('linux'),\r\n        versionRegexes: []\r\n      },\r\n      {\r\n        name: 'Solaris',\r\n        search: checkContains('sunos'),\r\n        versionRegexes: []\r\n      },\r\n      {\r\n        name: 'FreeBSD',\r\n        search: checkContains('freebsd'),\r\n        versionRegexes: []\r\n      }\r\n    ];\r\n    var PlatformInfo = {\r\n      browsers: constant(browsers),\r\n      oses: constant(oses)\r\n    };\r\n\r\n    var detect$2 = function (userAgent) {\r\n      var browsers = PlatformInfo.browsers();\r\n      var oses = PlatformInfo.oses();\r\n      var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\r\n      var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\r\n      var deviceType = DeviceType(os, browser, userAgent);\r\n      return {\r\n        browser: browser,\r\n        os: os,\r\n        deviceType: deviceType\r\n      };\r\n    };\r\n    var PlatformDetection = { detect: detect$2 };\r\n\r\n    var detect$3 = cached(function () {\r\n      var userAgent = navigator.userAgent;\r\n      return PlatformDetection.detect(userAgent);\r\n    });\r\n    var PlatformDetection$1 = { detect: detect$3 };\r\n\r\n    var fromHtml = function (html, scope) {\r\n      var doc = scope || document;\r\n      var div = doc.createElement('div');\r\n      div.innerHTML = html;\r\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\r\n        console.error('HTML does not have a single root node', html);\r\n        throw new Error('HTML must have a single root node');\r\n      }\r\n      return fromDom(div.childNodes[0]);\r\n    };\r\n    var fromTag = function (tag, scope) {\r\n      var doc = scope || document;\r\n      var node = doc.createElement(tag);\r\n      return fromDom(node);\r\n    };\r\n    var fromText = function (text, scope) {\r\n      var doc = scope || document;\r\n      var node = doc.createTextNode(text);\r\n      return fromDom(node);\r\n    };\r\n    var fromDom = function (node) {\r\n      if (node === null || node === undefined) {\r\n        throw new Error('Node cannot be null or undefined');\r\n      }\r\n      return { dom: constant(node) };\r\n    };\r\n    var fromPoint = function (docElm, x, y) {\r\n      var doc = docElm.dom();\r\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\r\n    };\r\n    var Element$$1 = {\r\n      fromHtml: fromHtml,\r\n      fromTag: fromTag,\r\n      fromText: fromText,\r\n      fromDom: fromDom,\r\n      fromPoint: fromPoint\r\n    };\r\n\r\n    var ATTRIBUTE = Node.ATTRIBUTE_NODE;\r\n    var CDATA_SECTION = Node.CDATA_SECTION_NODE;\r\n    var COMMENT = Node.COMMENT_NODE;\r\n    var DOCUMENT = Node.DOCUMENT_NODE;\r\n    var DOCUMENT_TYPE = Node.DOCUMENT_TYPE_NODE;\r\n    var DOCUMENT_FRAGMENT = Node.DOCUMENT_FRAGMENT_NODE;\r\n    var ELEMENT = Node.ELEMENT_NODE;\r\n    var TEXT = Node.TEXT_NODE;\r\n    var PROCESSING_INSTRUCTION = Node.PROCESSING_INSTRUCTION_NODE;\r\n    var ENTITY_REFERENCE = Node.ENTITY_REFERENCE_NODE;\r\n    var ENTITY = Node.ENTITY_NODE;\r\n    var NOTATION = Node.NOTATION_NODE;\r\n\r\n    var name = function (element) {\r\n      var r = element.dom().nodeName;\r\n      return r.toLowerCase();\r\n    };\r\n    var type = function (element) {\r\n      return element.dom().nodeType;\r\n    };\r\n    var isType$1 = function (t) {\r\n      return function (element) {\r\n        return type(element) === t;\r\n      };\r\n    };\r\n    var isElement = isType$1(ELEMENT);\r\n    var isText = isType$1(TEXT);\r\n\r\n    var keys = Object.keys;\r\n    var hasOwnProperty$1 = Object.hasOwnProperty;\r\n    var each$3 = function (obj, f) {\r\n      var props = keys(obj);\r\n      for (var k = 0, len = props.length; k < len; k++) {\r\n        var i = props[k];\r\n        var x = obj[i];\r\n        f(x, i, obj);\r\n      }\r\n    };\r\n    var map$2 = function (obj, f) {\r\n      return tupleMap(obj, function (x, i, obj) {\r\n        return {\r\n          k: i,\r\n          v: f(x, i, obj)\r\n        };\r\n      });\r\n    };\r\n    var tupleMap = function (obj, f) {\r\n      var r = {};\r\n      each$3(obj, function (x, i) {\r\n        var tuple = f(x, i, obj);\r\n        r[tuple.k] = tuple.v;\r\n      });\r\n      return r;\r\n    };\r\n    var bifilter = function (obj, pred) {\r\n      var t = {};\r\n      var f = {};\r\n      each$3(obj, function (x, i) {\r\n        var branch = pred(x, i) ? t : f;\r\n        branch[i] = x;\r\n      });\r\n      return {\r\n        t: t,\r\n        f: f\r\n      };\r\n    };\r\n    var has = function (obj, key) {\r\n      return hasOwnProperty$1.call(obj, key);\r\n    };\r\n\r\n    var isSupported = function (dom) {\r\n      return dom.style !== undefined;\r\n    };\r\n\r\n    var inBody = function (element) {\r\n      var dom = isText(element) ? element.dom().parentNode : element.dom();\r\n      return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\r\n    };\r\n\r\n    var rawSet = function (dom, key, value$$1) {\r\n      if (isString(value$$1) || isBoolean(value$$1) || isNumber(value$$1)) {\r\n        dom.setAttribute(key, value$$1 + '');\r\n      } else {\r\n        console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value$$1, ':: Element ', dom);\r\n        throw new Error('Attribute value was not simple');\r\n      }\r\n    };\r\n    var set = function (element, key, value$$1) {\r\n      rawSet(element.dom(), key, value$$1);\r\n    };\r\n    var setAll = function (element, attrs) {\r\n      var dom = element.dom();\r\n      each$3(attrs, function (v, k) {\r\n        rawSet(dom, k, v);\r\n      });\r\n    };\r\n    var get$1 = function (element, key) {\r\n      var v = element.dom().getAttribute(key);\r\n      return v === null ? undefined : v;\r\n    };\r\n    var has$1 = function (element, key) {\r\n      var dom = element.dom();\r\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\r\n    };\r\n    var remove = function (element, key) {\r\n      element.dom().removeAttribute(key);\r\n    };\r\n\r\n    var internalSet = function (dom, property, value$$1) {\r\n      if (!isString(value$$1)) {\r\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value$$1, ':: Element ', dom);\r\n        throw new Error('CSS value must be a string: ' + value$$1);\r\n      }\r\n      if (isSupported(dom)) {\r\n        dom.style.setProperty(property, value$$1);\r\n      }\r\n    };\r\n    var setAll$1 = function (element, css) {\r\n      var dom = element.dom();\r\n      each$3(css, function (v, k) {\r\n        internalSet(dom, k, v);\r\n      });\r\n    };\r\n    var get$2 = function (element, property) {\r\n      var dom = element.dom();\r\n      var styles = window.getComputedStyle(dom);\r\n      var r = styles.getPropertyValue(property);\r\n      var v = r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\r\n      return v === null ? undefined : v;\r\n    };\r\n    var getUnsafeProperty = function (dom, property) {\r\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\r\n    };\r\n    var getRaw = function (element, property) {\r\n      var dom = element.dom();\r\n      var raw = getUnsafeProperty(dom, property);\r\n      return Option.from(raw).filter(function (r) {\r\n        return r.length > 0;\r\n      });\r\n    };\r\n\r\n    var Immutable = function () {\r\n      var fields = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n        fields[_i] = arguments[_i];\r\n      }\r\n      return function () {\r\n        var values = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          values[_i] = arguments[_i];\r\n        }\r\n        if (fields.length !== values.length) {\r\n          throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\r\n        }\r\n        var struct = {};\r\n        each(fields, function (name, i) {\r\n          struct[name] = constant(values[i]);\r\n        });\r\n        return struct;\r\n      };\r\n    };\r\n\r\n    var toArray$1 = function (target, f) {\r\n      var r = [];\r\n      var recurse = function (e) {\r\n        r.push(e);\r\n        return f(e);\r\n      };\r\n      var cur = f(target);\r\n      do {\r\n        cur = cur.bind(recurse);\r\n      } while (cur.isSome());\r\n      return r;\r\n    };\r\n    var Recurse = { toArray: toArray$1 };\r\n\r\n    var node = function () {\r\n      var f = Global$1.getOrDie('Node');\r\n      return f;\r\n    };\r\n    var compareDocumentPosition = function (a, b, match) {\r\n      return (a.compareDocumentPosition(b) & match) !== 0;\r\n    };\r\n    var documentPositionPreceding = function (a, b) {\r\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);\r\n    };\r\n    var documentPositionContainedBy = function (a, b) {\r\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);\r\n    };\r\n    var Node$1 = {\r\n      documentPositionPreceding: documentPositionPreceding,\r\n      documentPositionContainedBy: documentPositionContainedBy\r\n    };\r\n\r\n    var ELEMENT$1 = ELEMENT;\r\n    var DOCUMENT$1 = DOCUMENT;\r\n    var is$1 = function (element, selector) {\r\n      var elem = element.dom();\r\n      if (elem.nodeType !== ELEMENT$1) {\r\n        return false;\r\n      } else if (elem.matches !== undefined) {\r\n        return elem.matches(selector);\r\n      } else if (elem.msMatchesSelector !== undefined) {\r\n        return elem.msMatchesSelector(selector);\r\n      } else if (elem.webkitMatchesSelector !== undefined) {\r\n        return elem.webkitMatchesSelector(selector);\r\n      } else if (elem.mozMatchesSelector !== undefined) {\r\n        return elem.mozMatchesSelector(selector);\r\n      } else {\r\n        throw new Error('Browser lacks native selectors');\r\n      }\r\n    };\r\n    var bypassSelector = function (dom) {\r\n      return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;\r\n    };\r\n    var all = function (selector, scope) {\r\n      var base = scope === undefined ? document : scope.dom();\r\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element$$1.fromDom);\r\n    };\r\n    var one = function (selector, scope) {\r\n      var base = scope === undefined ? document : scope.dom();\r\n      return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element$$1.fromDom);\r\n    };\r\n\r\n    var eq = function (e1, e2) {\r\n      return e1.dom() === e2.dom();\r\n    };\r\n    var regularContains = function (e1, e2) {\r\n      var d1 = e1.dom();\r\n      var d2 = e2.dom();\r\n      return d1 === d2 ? false : d1.contains(d2);\r\n    };\r\n    var ieContains = function (e1, e2) {\r\n      return Node$1.documentPositionContainedBy(e1.dom(), e2.dom());\r\n    };\r\n    var browser = PlatformDetection$1.detect().browser;\r\n    var contains$3 = browser.isIE() ? ieContains : regularContains;\r\n\r\n    var owner = function (element) {\r\n      return Element$$1.fromDom(element.dom().ownerDocument);\r\n    };\r\n    var documentElement = function (element) {\r\n      return Element$$1.fromDom(element.dom().ownerDocument.documentElement);\r\n    };\r\n    var defaultView = function (element) {\r\n      var el = element.dom();\r\n      var defView = el.ownerDocument.defaultView;\r\n      return Element$$1.fromDom(defView);\r\n    };\r\n    var parent = function (element) {\r\n      var dom = element.dom();\r\n      return Option.from(dom.parentNode).map(Element$$1.fromDom);\r\n    };\r\n    var parents = function (element, isRoot) {\r\n      var stop = isFunction(isRoot) ? isRoot : constant(false);\r\n      var dom = element.dom();\r\n      var ret = [];\r\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\r\n        var rawParent = dom.parentNode;\r\n        var p = Element$$1.fromDom(rawParent);\r\n        ret.push(p);\r\n        if (stop(p) === true) {\r\n          break;\r\n        } else {\r\n          dom = rawParent;\r\n        }\r\n      }\r\n      return ret;\r\n    };\r\n    var prevSibling = function (element) {\r\n      var dom = element.dom();\r\n      return Option.from(dom.previousSibling).map(Element$$1.fromDom);\r\n    };\r\n    var nextSibling = function (element) {\r\n      var dom = element.dom();\r\n      return Option.from(dom.nextSibling).map(Element$$1.fromDom);\r\n    };\r\n    var prevSiblings = function (element) {\r\n      return reverse(Recurse.toArray(element, prevSibling));\r\n    };\r\n    var nextSiblings = function (element) {\r\n      return Recurse.toArray(element, nextSibling);\r\n    };\r\n    var children = function (element) {\r\n      var dom = element.dom();\r\n      return map(dom.childNodes, Element$$1.fromDom);\r\n    };\r\n    var child = function (element, index) {\r\n      var cs = element.dom().childNodes;\r\n      return Option.from(cs[index]).map(Element$$1.fromDom);\r\n    };\r\n    var firstChild = function (element) {\r\n      return child(element, 0);\r\n    };\r\n    var lastChild = function (element) {\r\n      return child(element, element.dom().childNodes.length - 1);\r\n    };\r\n    var childNodesCount = function (element) {\r\n      return element.dom().childNodes.length;\r\n    };\r\n    var spot = Immutable('element', 'offset');\r\n\r\n    var browser$1 = PlatformDetection$1.detect().browser;\r\n    var firstElement = function (nodes) {\r\n      return find(nodes, isElement);\r\n    };\r\n    var getTableCaptionDeltaY = function (elm) {\r\n      if (browser$1.isFirefox() && name(elm) === 'table') {\r\n        return firstElement(children(elm)).filter(function (elm) {\r\n          return name(elm) === 'caption';\r\n        }).bind(function (caption) {\r\n          return firstElement(nextSiblings(caption)).map(function (body) {\r\n            var bodyTop = body.dom().offsetTop;\r\n            var captionTop = caption.dom().offsetTop;\r\n            var captionHeight = caption.dom().offsetHeight;\r\n            return bodyTop <= captionTop ? -captionHeight : 0;\r\n          });\r\n        }).getOr(0);\r\n      } else {\r\n        return 0;\r\n      }\r\n    };\r\n    var getPos = function (body, elm, rootElm) {\r\n      var x = 0, y = 0, offsetParent$$1;\r\n      var doc = body.ownerDocument;\r\n      var pos;\r\n      rootElm = rootElm ? rootElm : body;\r\n      if (elm) {\r\n        if (rootElm === body && elm.getBoundingClientRect && get$2(Element$$1.fromDom(body), 'position') === 'static') {\r\n          pos = elm.getBoundingClientRect();\r\n          x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\r\n          y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\r\n          return {\r\n            x: x,\r\n            y: y\r\n          };\r\n        }\r\n        offsetParent$$1 = elm;\r\n        while (offsetParent$$1 && offsetParent$$1 !== rootElm && offsetParent$$1.nodeType) {\r\n          x += offsetParent$$1.offsetLeft || 0;\r\n          y += offsetParent$$1.offsetTop || 0;\r\n          offsetParent$$1 = offsetParent$$1.offsetParent;\r\n        }\r\n        offsetParent$$1 = elm.parentNode;\r\n        while (offsetParent$$1 && offsetParent$$1 !== rootElm && offsetParent$$1.nodeType) {\r\n          x -= offsetParent$$1.scrollLeft || 0;\r\n          y -= offsetParent$$1.scrollTop || 0;\r\n          offsetParent$$1 = offsetParent$$1.parentNode;\r\n        }\r\n        y += getTableCaptionDeltaY(Element$$1.fromDom(elm));\r\n      }\r\n      return {\r\n        x: x,\r\n        y: y\r\n      };\r\n    };\r\n    var Position = { getPos: getPos };\r\n\r\n    var nu$3 = function (baseFn) {\r\n      var data = Option.none();\r\n      var callbacks = [];\r\n      var map$$1 = function (f) {\r\n        return nu$3(function (nCallback) {\r\n          get(function (data) {\r\n            nCallback(f(data));\r\n          });\r\n        });\r\n      };\r\n      var get = function (nCallback) {\r\n        if (isReady())\r\n          call(nCallback);\r\n        else\r\n          callbacks.push(nCallback);\r\n      };\r\n      var set = function (x) {\r\n        data = Option.some(x);\r\n        run(callbacks);\r\n        callbacks = [];\r\n      };\r\n      var isReady = function () {\r\n        return data.isSome();\r\n      };\r\n      var run = function (cbs) {\r\n        each(cbs, call);\r\n      };\r\n      var call = function (cb) {\r\n        data.each(function (x) {\r\n          setTimeout(function () {\r\n            cb(x);\r\n          }, 0);\r\n        });\r\n      };\r\n      baseFn(set);\r\n      return {\r\n        get: get,\r\n        map: map$$1,\r\n        isReady: isReady\r\n      };\r\n    };\r\n    var pure$1 = function (a) {\r\n      return nu$3(function (callback) {\r\n        callback(a);\r\n      });\r\n    };\r\n    var LazyValue = {\r\n      nu: nu$3,\r\n      pure: pure$1\r\n    };\r\n\r\n    var bounce = function (f) {\r\n      return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          args[_i] = arguments[_i];\r\n        }\r\n        var me = this;\r\n        setTimeout(function () {\r\n          f.apply(me, args);\r\n        }, 0);\r\n      };\r\n    };\r\n\r\n    var nu$4 = function (baseFn) {\r\n      var get = function (callback) {\r\n        baseFn(bounce(callback));\r\n      };\r\n      var map = function (fab) {\r\n        return nu$4(function (callback) {\r\n          get(function (a) {\r\n            var value = fab(a);\r\n            callback(value);\r\n          });\r\n        });\r\n      };\r\n      var bind = function (aFutureB) {\r\n        return nu$4(function (callback) {\r\n          get(function (a) {\r\n            aFutureB(a).get(callback);\r\n          });\r\n        });\r\n      };\r\n      var anonBind = function (futureB) {\r\n        return nu$4(function (callback) {\r\n          get(function (a) {\r\n            futureB.get(callback);\r\n          });\r\n        });\r\n      };\r\n      var toLazy = function () {\r\n        return LazyValue.nu(get);\r\n      };\r\n      var toCached = function () {\r\n        var cache = null;\r\n        return nu$4(function (callback) {\r\n          if (cache === null) {\r\n            cache = toLazy();\r\n          }\r\n          cache.get(callback);\r\n        });\r\n      };\r\n      return {\r\n        map: map,\r\n        bind: bind,\r\n        anonBind: anonBind,\r\n        toLazy: toLazy,\r\n        toCached: toCached,\r\n        get: get\r\n      };\r\n    };\r\n    var pure$2 = function (a) {\r\n      return nu$4(function (callback) {\r\n        callback(a);\r\n      });\r\n    };\r\n    var Future = {\r\n      nu: nu$4,\r\n      pure: pure$2\r\n    };\r\n\r\n    var par = function (asyncValues, nu) {\r\n      return nu(function (callback) {\r\n        var r = [];\r\n        var count = 0;\r\n        var cb = function (i) {\r\n          return function (value) {\r\n            r[i] = value;\r\n            count++;\r\n            if (count >= asyncValues.length) {\r\n              callback(r);\r\n            }\r\n          };\r\n        };\r\n        if (asyncValues.length === 0) {\r\n          callback([]);\r\n        } else {\r\n          each(asyncValues, function (asyncValue, i) {\r\n            asyncValue.get(cb(i));\r\n          });\r\n        }\r\n      });\r\n    };\r\n\r\n    var par$1 = function (futures) {\r\n      return par(futures, Future.nu);\r\n    };\r\n\r\n    var value$1 = function (o) {\r\n      var is = function (v) {\r\n        return o === v;\r\n      };\r\n      var or = function (opt) {\r\n        return value$1(o);\r\n      };\r\n      var orThunk = function (f) {\r\n        return value$1(o);\r\n      };\r\n      var map = function (f) {\r\n        return value$1(f(o));\r\n      };\r\n      var mapError = function (f) {\r\n        return value$1(o);\r\n      };\r\n      var each = function (f) {\r\n        f(o);\r\n      };\r\n      var bind = function (f) {\r\n        return f(o);\r\n      };\r\n      var fold = function (_, onValue) {\r\n        return onValue(o);\r\n      };\r\n      var exists = function (f) {\r\n        return f(o);\r\n      };\r\n      var forall = function (f) {\r\n        return f(o);\r\n      };\r\n      var toOption = function () {\r\n        return Option.some(o);\r\n      };\r\n      return {\r\n        is: is,\r\n        isValue: always,\r\n        isError: never,\r\n        getOr: constant(o),\r\n        getOrThunk: constant(o),\r\n        getOrDie: constant(o),\r\n        or: or,\r\n        orThunk: orThunk,\r\n        fold: fold,\r\n        map: map,\r\n        mapError: mapError,\r\n        each: each,\r\n        bind: bind,\r\n        exists: exists,\r\n        forall: forall,\r\n        toOption: toOption\r\n      };\r\n    };\r\n    var error = function (message) {\r\n      var getOrThunk = function (f) {\r\n        return f();\r\n      };\r\n      var getOrDie = function () {\r\n        return die(String(message))();\r\n      };\r\n      var or = function (opt) {\r\n        return opt;\r\n      };\r\n      var orThunk = function (f) {\r\n        return f();\r\n      };\r\n      var map = function (f) {\r\n        return error(message);\r\n      };\r\n      var mapError = function (f) {\r\n        return error(f(message));\r\n      };\r\n      var bind = function (f) {\r\n        return error(message);\r\n      };\r\n      var fold = function (onError, _) {\r\n        return onError(message);\r\n      };\r\n      return {\r\n        is: never,\r\n        isValue: never,\r\n        isError: always,\r\n        getOr: identity,\r\n        getOrThunk: getOrThunk,\r\n        getOrDie: getOrDie,\r\n        or: or,\r\n        orThunk: orThunk,\r\n        fold: fold,\r\n        map: map,\r\n        mapError: mapError,\r\n        each: noop,\r\n        bind: bind,\r\n        exists: never,\r\n        forall: always,\r\n        toOption: Option.none\r\n      };\r\n    };\r\n    var Result = {\r\n      value: value$1,\r\n      error: error\r\n    };\r\n\r\n    function StyleSheetLoader(document$$1, settings) {\r\n      if (settings === void 0) {\r\n        settings = {};\r\n      }\r\n      var idCount = 0;\r\n      var loadedStates = {};\r\n      var maxLoadTime;\r\n      maxLoadTime = settings.maxLoadTime || 5000;\r\n      var appendToHead = function (node) {\r\n        document$$1.getElementsByTagName('head')[0].appendChild(node);\r\n      };\r\n      var load = function (url, loadedCallback, errorCallback) {\r\n        var link, style, startTime, state;\r\n        var passed = function () {\r\n          var callbacks = state.passed;\r\n          var i = callbacks.length;\r\n          while (i--) {\r\n            callbacks[i]();\r\n          }\r\n          state.status = 2;\r\n          state.passed = [];\r\n          state.failed = [];\r\n        };\r\n        var failed = function () {\r\n          var callbacks = state.failed;\r\n          var i = callbacks.length;\r\n          while (i--) {\r\n            callbacks[i]();\r\n          }\r\n          state.status = 3;\r\n          state.passed = [];\r\n          state.failed = [];\r\n        };\r\n        var isOldWebKit = function () {\r\n          var webKitChunks = navigator.userAgent.match(/WebKit\\/(\\d*)/);\r\n          return !!(webKitChunks && parseInt(webKitChunks[1], 10) < 536);\r\n        };\r\n        var wait = function (testCallback, waitCallback) {\r\n          if (!testCallback()) {\r\n            if (new Date().getTime() - startTime < maxLoadTime) {\r\n              Delay.setTimeout(waitCallback);\r\n            } else {\r\n              failed();\r\n            }\r\n          }\r\n        };\r\n        var waitForWebKitLinkLoaded = function () {\r\n          wait(function () {\r\n            var styleSheets = document$$1.styleSheets;\r\n            var styleSheet, i = styleSheets.length, owner;\r\n            while (i--) {\r\n              styleSheet = styleSheets[i];\r\n              owner = styleSheet.ownerNode ? styleSheet.ownerNode : styleSheet.owningElement;\r\n              if (owner && owner.id === link.id) {\r\n                passed();\r\n                return true;\r\n              }\r\n            }\r\n          }, waitForWebKitLinkLoaded);\r\n        };\r\n        var waitForGeckoLinkLoaded = function () {\r\n          wait(function () {\r\n            try {\r\n              var cssRules = style.sheet.cssRules;\r\n              passed();\r\n              return !!cssRules;\r\n            } catch (ex) {\r\n            }\r\n          }, waitForGeckoLinkLoaded);\r\n        };\r\n        url = Tools._addCacheSuffix(url);\r\n        if (!loadedStates[url]) {\r\n          state = {\r\n            passed: [],\r\n            failed: []\r\n          };\r\n          loadedStates[url] = state;\r\n        } else {\r\n          state = loadedStates[url];\r\n        }\r\n        if (loadedCallback) {\r\n          state.passed.push(loadedCallback);\r\n        }\r\n        if (errorCallback) {\r\n          state.failed.push(errorCallback);\r\n        }\r\n        if (state.status === 1) {\r\n          return;\r\n        }\r\n        if (state.status === 2) {\r\n          passed();\r\n          return;\r\n        }\r\n        if (state.status === 3) {\r\n          failed();\r\n          return;\r\n        }\r\n        state.status = 1;\r\n        link = document$$1.createElement('link');\r\n        link.rel = 'stylesheet';\r\n        link.type = 'text/css';\r\n        link.id = 'u' + idCount++;\r\n        link.async = false;\r\n        link.defer = false;\r\n        startTime = new Date().getTime();\r\n        if (settings.contentCssCors) {\r\n          link.crossOrigin = 'anonymous';\r\n        }\r\n        if ('onload' in link && !isOldWebKit()) {\r\n          link.onload = waitForWebKitLinkLoaded;\r\n          link.onerror = failed;\r\n        } else {\r\n          if (navigator.userAgent.indexOf('Firefox') > 0) {\r\n            style = document$$1.createElement('style');\r\n            style.textContent = '@import \"' + url + '\"';\r\n            waitForGeckoLinkLoaded();\r\n            appendToHead(style);\r\n            return;\r\n          }\r\n          waitForWebKitLinkLoaded();\r\n        }\r\n        appendToHead(link);\r\n        link.href = url;\r\n      };\r\n      var loadF = function (url) {\r\n        return Future.nu(function (resolve) {\r\n          load(url, compose(resolve, constant(Result.value(url))), compose(resolve, constant(Result.error(url))));\r\n        });\r\n      };\r\n      var unbox = function (result) {\r\n        return result.fold(identity, identity);\r\n      };\r\n      var loadAll = function (urls, success, failure) {\r\n        par$1(map(urls, loadF)).get(function (result) {\r\n          var parts = partition(result, function (r) {\r\n            return r.isValue();\r\n          });\r\n          if (parts.fail.length > 0) {\r\n            failure(parts.fail.map(unbox));\r\n          } else {\r\n            success(parts.pass.map(unbox));\r\n          }\r\n        });\r\n      };\r\n      return {\r\n        load: load,\r\n        loadAll: loadAll\r\n      };\r\n    }\r\n\r\n    function TreeWalker (startNode, rootNode) {\r\n      var node = startNode;\r\n      var findSibling = function (node, startName, siblingName, shallow) {\r\n        var sibling, parent;\r\n        if (node) {\r\n          if (!shallow && node[startName]) {\r\n            return node[startName];\r\n          }\r\n          if (node !== rootNode) {\r\n            sibling = node[siblingName];\r\n            if (sibling) {\r\n              return sibling;\r\n            }\r\n            for (parent = node.parentNode; parent && parent !== rootNode; parent = parent.parentNode) {\r\n              sibling = parent[siblingName];\r\n              if (sibling) {\r\n                return sibling;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      var findPreviousNode = function (node, startName, siblingName, shallow) {\r\n        var sibling, parent, child;\r\n        if (node) {\r\n          sibling = node[siblingName];\r\n          if (rootNode && sibling === rootNode) {\r\n            return;\r\n          }\r\n          if (sibling) {\r\n            if (!shallow) {\r\n              for (child = sibling[startName]; child; child = child[startName]) {\r\n                if (!child[startName]) {\r\n                  return child;\r\n                }\r\n              }\r\n            }\r\n            return sibling;\r\n          }\r\n          parent = node.parentNode;\r\n          if (parent && parent !== rootNode) {\r\n            return parent;\r\n          }\r\n        }\r\n      };\r\n      this.current = function () {\r\n        return node;\r\n      };\r\n      this.next = function (shallow) {\r\n        node = findSibling(node, 'firstChild', 'nextSibling', shallow);\r\n        return node;\r\n      };\r\n      this.prev = function (shallow) {\r\n        node = findSibling(node, 'lastChild', 'previousSibling', shallow);\r\n        return node;\r\n      };\r\n      this.prev2 = function (shallow) {\r\n        node = findPreviousNode(node, 'lastChild', 'previousSibling', shallow);\r\n        return node;\r\n      };\r\n    }\r\n\r\n    var blocks = [\r\n      'article',\r\n      'aside',\r\n      'details',\r\n      'div',\r\n      'dt',\r\n      'figcaption',\r\n      'footer',\r\n      'form',\r\n      'fieldset',\r\n      'header',\r\n      'hgroup',\r\n      'html',\r\n      'main',\r\n      'nav',\r\n      'section',\r\n      'summary',\r\n      'body',\r\n      'p',\r\n      'dl',\r\n      'multicol',\r\n      'dd',\r\n      'figure',\r\n      'address',\r\n      'center',\r\n      'blockquote',\r\n      'h1',\r\n      'h2',\r\n      'h3',\r\n      'h4',\r\n      'h5',\r\n      'h6',\r\n      'listing',\r\n      'xmp',\r\n      'pre',\r\n      'plaintext',\r\n      'menu',\r\n      'dir',\r\n      'ul',\r\n      'ol',\r\n      'li',\r\n      'hr',\r\n      'table',\r\n      'tbody',\r\n      'thead',\r\n      'tfoot',\r\n      'th',\r\n      'tr',\r\n      'td',\r\n      'caption'\r\n    ];\r\n    var voids = [\r\n      'area',\r\n      'base',\r\n      'basefont',\r\n      'br',\r\n      'col',\r\n      'frame',\r\n      'hr',\r\n      'img',\r\n      'input',\r\n      'isindex',\r\n      'link',\r\n      'meta',\r\n      'param',\r\n      'embed',\r\n      'source',\r\n      'wbr',\r\n      'track'\r\n    ];\r\n    var tableCells = [\r\n      'td',\r\n      'th'\r\n    ];\r\n    var tableSections = [\r\n      'thead',\r\n      'tbody',\r\n      'tfoot'\r\n    ];\r\n    var textBlocks = [\r\n      'h1',\r\n      'h2',\r\n      'h3',\r\n      'h4',\r\n      'h5',\r\n      'h6',\r\n      'p',\r\n      'div',\r\n      'address',\r\n      'pre',\r\n      'form',\r\n      'blockquote',\r\n      'center',\r\n      'dir',\r\n      'fieldset',\r\n      'header',\r\n      'footer',\r\n      'article',\r\n      'section',\r\n      'hgroup',\r\n      'aside',\r\n      'nav',\r\n      'figure'\r\n    ];\r\n    var headings = [\r\n      'h1',\r\n      'h2',\r\n      'h3',\r\n      'h4',\r\n      'h5',\r\n      'h6'\r\n    ];\r\n    var listItems = [\r\n      'li',\r\n      'dd',\r\n      'dt'\r\n    ];\r\n    var lists = [\r\n      'ul',\r\n      'ol',\r\n      'dl'\r\n    ];\r\n    var wsElements = [\r\n      'pre',\r\n      'script',\r\n      'textarea',\r\n      'style'\r\n    ];\r\n    var lazyLookup = function (items) {\r\n      var lookup;\r\n      return function (node) {\r\n        lookup = lookup ? lookup : mapToObject(items, constant(true));\r\n        return lookup.hasOwnProperty(name(node));\r\n      };\r\n    };\r\n    var isHeading = lazyLookup(headings);\r\n    var isBlock = lazyLookup(blocks);\r\n    var isInline = function (node) {\r\n      return isElement(node) && !isBlock(node);\r\n    };\r\n    var isBr = function (node) {\r\n      return isElement(node) && name(node) === 'br';\r\n    };\r\n    var isTextBlock = lazyLookup(textBlocks);\r\n    var isList = lazyLookup(lists);\r\n    var isListItem = lazyLookup(listItems);\r\n    var isVoid = lazyLookup(voids);\r\n    var isTableSection = lazyLookup(tableSections);\r\n    var isTableCell = lazyLookup(tableCells);\r\n    var isWsPreserveElement = lazyLookup(wsElements);\r\n\r\n    var isNodeType = function (type) {\r\n      return function (node) {\r\n        return !!node && node.nodeType === type;\r\n      };\r\n    };\r\n    var isElement$1 = isNodeType(1);\r\n    var matchNodeNames = function (names) {\r\n      var items = names.toLowerCase().split(' ');\r\n      return function (node) {\r\n        var i, name;\r\n        if (node && node.nodeType) {\r\n          name = node.nodeName.toLowerCase();\r\n          for (i = 0; i < items.length; i++) {\r\n            if (name === items[i]) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n        return false;\r\n      };\r\n    };\r\n    var matchStyleValues = function (name, values) {\r\n      var items = values.toLowerCase().split(' ');\r\n      return function (node) {\r\n        var i, cssValue;\r\n        if (isElement$1(node)) {\r\n          for (i = 0; i < items.length; i++) {\r\n            var computed = node.ownerDocument.defaultView.getComputedStyle(node, null);\r\n            cssValue = computed ? computed.getPropertyValue(name) : null;\r\n            if (cssValue === items[i]) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n        return false;\r\n      };\r\n    };\r\n    var hasPropValue = function (propName, propValue) {\r\n      return function (node) {\r\n        return isElement$1(node) && node[propName] === propValue;\r\n      };\r\n    };\r\n    var hasAttribute = function (attrName, attrValue) {\r\n      return function (node) {\r\n        return isElement$1(node) && node.hasAttribute(attrName);\r\n      };\r\n    };\r\n    var hasAttributeValue = function (attrName, attrValue) {\r\n      return function (node) {\r\n        return isElement$1(node) && node.getAttribute(attrName) === attrValue;\r\n      };\r\n    };\r\n    var isBogus = function (node) {\r\n      return isElement$1(node) && node.hasAttribute('data-mce-bogus');\r\n    };\r\n    var isBogusAll = function (node) {\r\n      return isElement$1(node) && node.getAttribute('data-mce-bogus') === 'all';\r\n    };\r\n    var isTable = function (node) {\r\n      return isElement$1(node) && node.tagName === 'TABLE';\r\n    };\r\n    var hasContentEditableState = function (value) {\r\n      return function (node) {\r\n        if (isElement$1(node)) {\r\n          if (node.contentEditable === value) {\r\n            return true;\r\n          }\r\n          if (node.getAttribute('data-mce-contenteditable') === value) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      };\r\n    };\r\n    var isText$1 = isNodeType(3);\r\n    var isComment$1 = isNodeType(8);\r\n    var isDocument$1 = isNodeType(9);\r\n    var isDocumentFragment = isNodeType(11);\r\n    var isBr$1 = matchNodeNames('br');\r\n    var isContentEditableTrue = hasContentEditableState('true');\r\n    var isContentEditableFalse = hasContentEditableState('false');\r\n    var NodeType = {\r\n      isText: isText$1,\r\n      isElement: isElement$1,\r\n      isComment: isComment$1,\r\n      isDocument: isDocument$1,\r\n      isDocumentFragment: isDocumentFragment,\r\n      isBr: isBr$1,\r\n      isContentEditableTrue: isContentEditableTrue,\r\n      isContentEditableFalse: isContentEditableFalse,\r\n      matchNodeNames: matchNodeNames,\r\n      hasPropValue: hasPropValue,\r\n      hasAttribute: hasAttribute,\r\n      hasAttributeValue: hasAttributeValue,\r\n      matchStyleValues: matchStyleValues,\r\n      isBogus: isBogus,\r\n      isBogusAll: isBogusAll,\r\n      isTable: isTable\r\n    };\r\n\r\n    var surroundedBySpans = function (node) {\r\n      var previousIsSpan = node.previousSibling && node.previousSibling.nodeName === 'SPAN';\r\n      var nextIsSpan = node.nextSibling && node.nextSibling.nodeName === 'SPAN';\r\n      return previousIsSpan && nextIsSpan;\r\n    };\r\n    var isBookmarkNode = function (node) {\r\n      return node && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\r\n    };\r\n    var trimNode = function (dom, node) {\r\n      var i, children = node.childNodes;\r\n      if (NodeType.isElement(node) && isBookmarkNode(node)) {\r\n        return;\r\n      }\r\n      for (i = children.length - 1; i >= 0; i--) {\r\n        trimNode(dom, children[i]);\r\n      }\r\n      if (NodeType.isDocument(node) === false) {\r\n        if (NodeType.isText(node) && node.nodeValue.length > 0) {\r\n          var trimmedLength = Tools.trim(node.nodeValue).length;\r\n          if (dom.isBlock(node.parentNode) || trimmedLength > 0) {\r\n            return;\r\n          }\r\n          if (trimmedLength === 0 && surroundedBySpans(node)) {\r\n            return;\r\n          }\r\n        } else if (NodeType.isElement(node)) {\r\n          children = node.childNodes;\r\n          if (children.length === 1 && isBookmarkNode(children[0])) {\r\n            node.parentNode.insertBefore(children[0], node);\r\n          }\r\n          if (children.length || isVoid(Element$$1.fromDom(node))) {\r\n            return;\r\n          }\r\n        }\r\n        dom.remove(node);\r\n      }\r\n      return node;\r\n    };\r\n    var TrimNode = { trimNode: trimNode };\r\n\r\n    var makeMap$1 = Tools.makeMap;\r\n    var namedEntities, baseEntities, reverseEntities;\r\n    var attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\r\n    var textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\r\n    var rawCharsRegExp = /[<>&\\\"\\']/g;\r\n    var entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\r\n    var asciiMap = {\r\n      128: '\\u20AC',\r\n      130: '\\u201A',\r\n      131: '\\u0192',\r\n      132: '\\u201E',\r\n      133: '\\u2026',\r\n      134: '\\u2020',\r\n      135: '\\u2021',\r\n      136: '\\u02c6',\r\n      137: '\\u2030',\r\n      138: '\\u0160',\r\n      139: '\\u2039',\r\n      140: '\\u0152',\r\n      142: '\\u017d',\r\n      145: '\\u2018',\r\n      146: '\\u2019',\r\n      147: '\\u201C',\r\n      148: '\\u201D',\r\n      149: '\\u2022',\r\n      150: '\\u2013',\r\n      151: '\\u2014',\r\n      152: '\\u02DC',\r\n      153: '\\u2122',\r\n      154: '\\u0161',\r\n      155: '\\u203A',\r\n      156: '\\u0153',\r\n      158: '\\u017e',\r\n      159: '\\u0178'\r\n    };\r\n    baseEntities = {\r\n      '\"': '&quot;',\r\n      '\\'': '&#39;',\r\n      '<': '&lt;',\r\n      '>': '&gt;',\r\n      '&': '&amp;',\r\n      '`': '&#96;'\r\n    };\r\n    reverseEntities = {\r\n      '&lt;': '<',\r\n      '&gt;': '>',\r\n      '&amp;': '&',\r\n      '&quot;': '\"',\r\n      '&apos;': '\\''\r\n    };\r\n    var nativeDecode = function (text) {\r\n      var elm;\r\n      elm = Element$$1.fromTag('div').dom();\r\n      elm.innerHTML = text;\r\n      return elm.textContent || elm.innerText || text;\r\n    };\r\n    var buildEntitiesLookup = function (items, radix) {\r\n      var i, chr, entity;\r\n      var lookup = {};\r\n      if (items) {\r\n        items = items.split(',');\r\n        radix = radix || 10;\r\n        for (i = 0; i < items.length; i += 2) {\r\n          chr = String.fromCharCode(parseInt(items[i], radix));\r\n          if (!baseEntities[chr]) {\r\n            entity = '&' + items[i + 1] + ';';\r\n            lookup[chr] = entity;\r\n            lookup[entity] = chr;\r\n          }\r\n        }\r\n        return lookup;\r\n      }\r\n    };\r\n    namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\r\n    var encodeRaw = function (text, attr) {\r\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\r\n        return baseEntities[chr] || chr;\r\n      });\r\n    };\r\n    var encodeAllRaw = function (text) {\r\n      return ('' + text).replace(rawCharsRegExp, function (chr) {\r\n        return baseEntities[chr] || chr;\r\n      });\r\n    };\r\n    var encodeNumeric = function (text, attr) {\r\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\r\n        if (chr.length > 1) {\r\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\r\n        }\r\n        return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\r\n      });\r\n    };\r\n    var encodeNamed = function (text, attr, entities) {\r\n      entities = entities || namedEntities;\r\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\r\n        return baseEntities[chr] || entities[chr] || chr;\r\n      });\r\n    };\r\n    var getEncodeFunc = function (name, entities) {\r\n      var entitiesMap = buildEntitiesLookup(entities) || namedEntities;\r\n      var encodeNamedAndNumeric = function (text, attr) {\r\n        return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\r\n          if (baseEntities[chr] !== undefined) {\r\n            return baseEntities[chr];\r\n          }\r\n          if (entitiesMap[chr] !== undefined) {\r\n            return entitiesMap[chr];\r\n          }\r\n          if (chr.length > 1) {\r\n            return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\r\n          }\r\n          return '&#' + chr.charCodeAt(0) + ';';\r\n        });\r\n      };\r\n      var encodeCustomNamed = function (text, attr) {\r\n        return encodeNamed(text, attr, entitiesMap);\r\n      };\r\n      var nameMap = makeMap$1(name.replace(/\\+/g, ','));\r\n      if (nameMap.named && nameMap.numeric) {\r\n        return encodeNamedAndNumeric;\r\n      }\r\n      if (nameMap.named) {\r\n        if (entities) {\r\n          return encodeCustomNamed;\r\n        }\r\n        return encodeNamed;\r\n      }\r\n      if (nameMap.numeric) {\r\n        return encodeNumeric;\r\n      }\r\n      return encodeRaw;\r\n    };\r\n    var decode = function (text) {\r\n      return text.replace(entityRegExp, function (all, numeric) {\r\n        if (numeric) {\r\n          if (numeric.charAt(0).toLowerCase() === 'x') {\r\n            numeric = parseInt(numeric.substr(1), 16);\r\n          } else {\r\n            numeric = parseInt(numeric, 10);\r\n          }\r\n          if (numeric > 65535) {\r\n            numeric -= 65536;\r\n            return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\r\n          }\r\n          return asciiMap[numeric] || String.fromCharCode(numeric);\r\n        }\r\n        return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\r\n      });\r\n    };\r\n    var Entities = {\r\n      encodeRaw: encodeRaw,\r\n      encodeAllRaw: encodeAllRaw,\r\n      encodeNumeric: encodeNumeric,\r\n      encodeNamed: encodeNamed,\r\n      getEncodeFunc: getEncodeFunc,\r\n      decode: decode\r\n    };\r\n\r\n    var mapCache = {}, dummyObj = {};\r\n    var makeMap$2 = Tools.makeMap, each$4 = Tools.each, extend$1 = Tools.extend, explode$1 = Tools.explode, inArray$1 = Tools.inArray;\r\n    var split = function (items, delim) {\r\n      items = Tools.trim(items);\r\n      return items ? items.split(delim || ' ') : [];\r\n    };\r\n    var compileSchema = function (type) {\r\n      var schema = {};\r\n      var globalAttributes, blockContent;\r\n      var phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\r\n      var add = function (name, attributes, children) {\r\n        var ni, attributesOrder, element;\r\n        var arrayToMap = function (array, obj) {\r\n          var map = {};\r\n          var i, l;\r\n          for (i = 0, l = array.length; i < l; i++) {\r\n            map[array[i]] = obj || {};\r\n          }\r\n          return map;\r\n        };\r\n        children = children || [];\r\n        attributes = attributes || '';\r\n        if (typeof children === 'string') {\r\n          children = split(children);\r\n        }\r\n        name = split(name);\r\n        ni = name.length;\r\n        while (ni--) {\r\n          attributesOrder = split([\r\n            globalAttributes,\r\n            attributes\r\n          ].join(' '));\r\n          element = {\r\n            attributes: arrayToMap(attributesOrder),\r\n            attributesOrder: attributesOrder,\r\n            children: arrayToMap(children, dummyObj)\r\n          };\r\n          schema[name[ni]] = element;\r\n        }\r\n      };\r\n      var addAttrs = function (name, attributes) {\r\n        var ni, schemaItem, i, l;\r\n        name = split(name);\r\n        ni = name.length;\r\n        attributes = split(attributes);\r\n        while (ni--) {\r\n          schemaItem = schema[name[ni]];\r\n          for (i = 0, l = attributes.length; i < l; i++) {\r\n            schemaItem.attributes[attributes[i]] = {};\r\n            schemaItem.attributesOrder.push(attributes[i]);\r\n          }\r\n        }\r\n      };\r\n      if (mapCache[type]) {\r\n        return mapCache[type];\r\n      }\r\n      globalAttributes = 'id accesskey class dir lang style tabindex title role';\r\n      blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\r\n      phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\r\n      if (type !== 'html4') {\r\n        globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\r\n        blockContent += ' article aside details dialog figure main header footer hgroup section nav';\r\n        phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\r\n      }\r\n      if (type !== 'html5-strict') {\r\n        globalAttributes += ' xml:lang';\r\n        html4PhrasingContent = 'acronym applet basefont big font strike tt';\r\n        phrasingContent = [\r\n          phrasingContent,\r\n          html4PhrasingContent\r\n        ].join(' ');\r\n        each$4(split(html4PhrasingContent), function (name) {\r\n          add(name, '', phrasingContent);\r\n        });\r\n        html4BlockContent = 'center dir isindex noframes';\r\n        blockContent = [\r\n          blockContent,\r\n          html4BlockContent\r\n        ].join(' ');\r\n        flowContent = [\r\n          blockContent,\r\n          phrasingContent\r\n        ].join(' ');\r\n        each$4(split(html4BlockContent), function (name) {\r\n          add(name, '', flowContent);\r\n        });\r\n      }\r\n      flowContent = flowContent || [\r\n        blockContent,\r\n        phrasingContent\r\n      ].join(' ');\r\n      add('html', 'manifest', 'head body');\r\n      add('head', '', 'base command link meta noscript script style title');\r\n      add('title hr noscript br');\r\n      add('base', 'href target');\r\n      add('link', 'href rel media hreflang type sizes hreflang');\r\n      add('meta', 'name http-equiv content charset');\r\n      add('style', 'media type scoped');\r\n      add('script', 'src async defer type charset');\r\n      add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\r\n      add('address dt dd div caption', '', flowContent);\r\n      add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\r\n      add('blockquote', 'cite', flowContent);\r\n      add('ol', 'reversed start type', 'li');\r\n      add('ul', '', 'li');\r\n      add('li', 'value', flowContent);\r\n      add('dl', '', 'dt dd');\r\n      add('a', 'href target rel media hreflang type', phrasingContent);\r\n      add('q', 'cite', phrasingContent);\r\n      add('ins del', 'cite datetime', flowContent);\r\n      add('img', 'src sizes srcset alt usemap ismap width height');\r\n      add('iframe', 'src name width height', flowContent);\r\n      add('embed', 'src type width height');\r\n      add('object', 'data type typemustmatch name usemap form width height', [\r\n        flowContent,\r\n        'param'\r\n      ].join(' '));\r\n      add('param', 'name value');\r\n      add('map', 'name', [\r\n        flowContent,\r\n        'area'\r\n      ].join(' '));\r\n      add('area', 'alt coords shape href target rel media hreflang type');\r\n      add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\r\n      add('colgroup', 'span', 'col');\r\n      add('col', 'span');\r\n      add('tbody thead tfoot', '', 'tr');\r\n      add('tr', '', 'td th');\r\n      add('td', 'colspan rowspan headers', flowContent);\r\n      add('th', 'colspan rowspan headers scope abbr', flowContent);\r\n      add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\r\n      add('fieldset', 'disabled form name', [\r\n        flowContent,\r\n        'legend'\r\n      ].join(' '));\r\n      add('label', 'form for', phrasingContent);\r\n      add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\r\n      add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\r\n      add('select', 'disabled form multiple name required size', 'option optgroup');\r\n      add('optgroup', 'disabled label', 'option');\r\n      add('option', 'disabled label selected value');\r\n      add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\r\n      add('menu', 'type label', [\r\n        flowContent,\r\n        'li'\r\n      ].join(' '));\r\n      add('noscript', '', flowContent);\r\n      if (type !== 'html4') {\r\n        add('wbr');\r\n        add('ruby', '', [\r\n          phrasingContent,\r\n          'rt rp'\r\n        ].join(' '));\r\n        add('figcaption', '', flowContent);\r\n        add('mark rt rp summary bdi', '', phrasingContent);\r\n        add('canvas', 'width height', flowContent);\r\n        add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\r\n          flowContent,\r\n          'track source'\r\n        ].join(' '));\r\n        add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\r\n          flowContent,\r\n          'track source'\r\n        ].join(' '));\r\n        add('picture', '', 'img source');\r\n        add('source', 'src srcset type media sizes');\r\n        add('track', 'kind src srclang label default');\r\n        add('datalist', '', [\r\n          phrasingContent,\r\n          'option'\r\n        ].join(' '));\r\n        add('article section nav aside main header footer', '', flowContent);\r\n        add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\r\n        add('figure', '', [\r\n          flowContent,\r\n          'figcaption'\r\n        ].join(' '));\r\n        add('time', 'datetime', phrasingContent);\r\n        add('dialog', 'open', flowContent);\r\n        add('command', 'type label icon disabled checked radiogroup command');\r\n        add('output', 'for form name', phrasingContent);\r\n        add('progress', 'value max', phrasingContent);\r\n        add('meter', 'value min max low high optimum', phrasingContent);\r\n        add('details', 'open', [\r\n          flowContent,\r\n          'summary'\r\n        ].join(' '));\r\n        add('keygen', 'autofocus challenge disabled form keytype name');\r\n      }\r\n      if (type !== 'html5-strict') {\r\n        addAttrs('script', 'language xml:space');\r\n        addAttrs('style', 'xml:space');\r\n        addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\r\n        addAttrs('embed', 'align name hspace vspace');\r\n        addAttrs('param', 'valuetype type');\r\n        addAttrs('a', 'charset name rev shape coords');\r\n        addAttrs('br', 'clear');\r\n        addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\r\n        addAttrs('img', 'name longdesc align border hspace vspace');\r\n        addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\r\n        addAttrs('font basefont', 'size color face');\r\n        addAttrs('input', 'usemap align');\r\n        addAttrs('select', 'onchange');\r\n        addAttrs('textarea');\r\n        addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\r\n        addAttrs('ul', 'type compact');\r\n        addAttrs('li', 'type');\r\n        addAttrs('ol dl menu dir', 'compact');\r\n        addAttrs('pre', 'width xml:space');\r\n        addAttrs('hr', 'align noshade size width');\r\n        addAttrs('isindex', 'prompt');\r\n        addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\r\n        addAttrs('col', 'width align char charoff valign');\r\n        addAttrs('colgroup', 'width align char charoff valign');\r\n        addAttrs('thead', 'align char charoff valign');\r\n        addAttrs('tr', 'align char charoff valign bgcolor');\r\n        addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\r\n        addAttrs('form', 'accept');\r\n        addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\r\n        addAttrs('tfoot', 'align char charoff valign');\r\n        addAttrs('tbody', 'align char charoff valign');\r\n        addAttrs('area', 'nohref');\r\n        addAttrs('body', 'background bgcolor text link vlink alink');\r\n      }\r\n      if (type !== 'html4') {\r\n        addAttrs('input button select textarea', 'autofocus');\r\n        addAttrs('input textarea', 'placeholder');\r\n        addAttrs('a', 'download');\r\n        addAttrs('link script img', 'crossorigin');\r\n        addAttrs('iframe', 'sandbox seamless allowfullscreen');\r\n      }\r\n      each$4(split('a form meter progress dfn'), function (name) {\r\n        if (schema[name]) {\r\n          delete schema[name].children[name];\r\n        }\r\n      });\r\n      delete schema.caption.children.table;\r\n      delete schema.script;\r\n      mapCache[type] = schema;\r\n      return schema;\r\n    };\r\n    var compileElementMap = function (value, mode) {\r\n      var styles;\r\n      if (value) {\r\n        styles = {};\r\n        if (typeof value === 'string') {\r\n          value = { '*': value };\r\n        }\r\n        each$4(value, function (value, key) {\r\n          styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$1(value, /[, ]/);\r\n        });\r\n      }\r\n      return styles;\r\n    };\r\n    function Schema(settings) {\r\n      var elements = {};\r\n      var children = {};\r\n      var patternElements = [];\r\n      var validStyles;\r\n      var invalidStyles;\r\n      var schemaItems;\r\n      var whiteSpaceElementsMap, selfClosingElementsMap, shortEndedElementsMap, boolAttrMap, validClasses;\r\n      var blockElementsMap, nonEmptyElementsMap, moveCaretBeforeOnEnterElementsMap, textBlockElementsMap, textInlineElementsMap;\r\n      var customElementsMap = {}, specialElements = {};\r\n      var createLookupTable = function (option, defaultValue, extendWith) {\r\n        var value = settings[option];\r\n        if (!value) {\r\n          value = mapCache[option];\r\n          if (!value) {\r\n            value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\r\n            value = extend$1(value, extendWith);\r\n            mapCache[option] = value;\r\n          }\r\n        } else {\r\n          value = makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\r\n        }\r\n        return value;\r\n      };\r\n      settings = settings || {};\r\n      schemaItems = compileSchema(settings.schema);\r\n      if (settings.verify_html === false) {\r\n        settings.valid_elements = '*[*]';\r\n      }\r\n      validStyles = compileElementMap(settings.valid_styles);\r\n      invalidStyles = compileElementMap(settings.invalid_styles, 'map');\r\n      validClasses = compileElementMap(settings.valid_classes, 'map');\r\n      whiteSpaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\r\n      selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\r\n      shortEndedElementsMap = createLookupTable('short_ended_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\r\n      boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls');\r\n      nonEmptyElementsMap = createLookupTable('non_empty_elements', 'td th iframe video audio object ' + 'script pre code', shortEndedElementsMap);\r\n      moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', 'table', nonEmptyElementsMap);\r\n      textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\r\n      blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\r\n      textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font strike u var cite ' + 'dfn code mark q sup sub samp');\r\n      each$4((settings.special || 'script noscript noframes noembed title style textarea xmp').split(' '), function (name) {\r\n        specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\r\n      });\r\n      var patternToRegExp = function (str) {\r\n        return new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\r\n      };\r\n      var addValidElements = function (validElements) {\r\n        var ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder, prefix, outputName, globalAttributes, globalAttributesOrder, key, value;\r\n        var elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)\\])?$/, attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/, hasPatternsRegExp = /[*?+]/;\r\n        if (validElements) {\r\n          validElements = split(validElements, ',');\r\n          if (elements['@']) {\r\n            globalAttributes = elements['@'].attributes;\r\n            globalAttributesOrder = elements['@'].attributesOrder;\r\n          }\r\n          for (ei = 0, el = validElements.length; ei < el; ei++) {\r\n            matches = elementRuleRegExp.exec(validElements[ei]);\r\n            if (matches) {\r\n              prefix = matches[1];\r\n              elementName = matches[2];\r\n              outputName = matches[3];\r\n              attrData = matches[5];\r\n              attributes = {};\r\n              attributesOrder = [];\r\n              element = {\r\n                attributes: attributes,\r\n                attributesOrder: attributesOrder\r\n              };\r\n              if (prefix === '#') {\r\n                element.paddEmpty = true;\r\n              }\r\n              if (prefix === '-') {\r\n                element.removeEmpty = true;\r\n              }\r\n              if (matches[4] === '!') {\r\n                element.removeEmptyAttrs = true;\r\n              }\r\n              if (globalAttributes) {\r\n                for (key in globalAttributes) {\r\n                  attributes[key] = globalAttributes[key];\r\n                }\r\n                attributesOrder.push.apply(attributesOrder, globalAttributesOrder);\r\n              }\r\n              if (attrData) {\r\n                attrData = split(attrData, '|');\r\n                for (ai = 0, al = attrData.length; ai < al; ai++) {\r\n                  matches = attrRuleRegExp.exec(attrData[ai]);\r\n                  if (matches) {\r\n                    attr = {};\r\n                    attrType = matches[1];\r\n                    attrName = matches[2].replace(/[\\\\:]:/g, ':');\r\n                    prefix = matches[3];\r\n                    value = matches[4];\r\n                    if (attrType === '!') {\r\n                      element.attributesRequired = element.attributesRequired || [];\r\n                      element.attributesRequired.push(attrName);\r\n                      attr.required = true;\r\n                    }\r\n                    if (attrType === '-') {\r\n                      delete attributes[attrName];\r\n                      attributesOrder.splice(inArray$1(attributesOrder, attrName), 1);\r\n                      continue;\r\n                    }\r\n                    if (prefix) {\r\n                      if (prefix === '=') {\r\n                        element.attributesDefault = element.attributesDefault || [];\r\n                        element.attributesDefault.push({\r\n                          name: attrName,\r\n                          value: value\r\n                        });\r\n                        attr.defaultValue = value;\r\n                      }\r\n                      if (prefix === ':') {\r\n                        element.attributesForced = element.attributesForced || [];\r\n                        element.attributesForced.push({\r\n                          name: attrName,\r\n                          value: value\r\n                        });\r\n                        attr.forcedValue = value;\r\n                      }\r\n                      if (prefix === '<') {\r\n                        attr.validValues = makeMap$2(value, '?');\r\n                      }\r\n                    }\r\n                    if (hasPatternsRegExp.test(attrName)) {\r\n                      element.attributePatterns = element.attributePatterns || [];\r\n                      attr.pattern = patternToRegExp(attrName);\r\n                      element.attributePatterns.push(attr);\r\n                    } else {\r\n                      if (!attributes[attrName]) {\r\n                        attributesOrder.push(attrName);\r\n                      }\r\n                      attributes[attrName] = attr;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              if (!globalAttributes && elementName === '@') {\r\n                globalAttributes = attributes;\r\n                globalAttributesOrder = attributesOrder;\r\n              }\r\n              if (outputName) {\r\n                element.outputName = elementName;\r\n                elements[outputName] = element;\r\n              }\r\n              if (hasPatternsRegExp.test(elementName)) {\r\n                element.pattern = patternToRegExp(elementName);\r\n                patternElements.push(element);\r\n              } else {\r\n                elements[elementName] = element;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      var setValidElements = function (validElements) {\r\n        elements = {};\r\n        patternElements = [];\r\n        addValidElements(validElements);\r\n        each$4(schemaItems, function (element, name) {\r\n          children[name] = element.children;\r\n        });\r\n      };\r\n      var addCustomElements = function (customElements) {\r\n        var customElementRegExp = /^(~)?(.+)$/;\r\n        if (customElements) {\r\n          mapCache.text_block_elements = mapCache.block_elements = null;\r\n          each$4(split(customElements, ','), function (rule) {\r\n            var matches = customElementRegExp.exec(rule), inline = matches[1] === '~', cloneName = inline ? 'span' : 'div', name = matches[2];\r\n            children[name] = children[cloneName];\r\n            customElementsMap[name] = cloneName;\r\n            if (!inline) {\r\n              blockElementsMap[name.toUpperCase()] = {};\r\n              blockElementsMap[name] = {};\r\n            }\r\n            if (!elements[name]) {\r\n              var customRule = elements[cloneName];\r\n              customRule = extend$1({}, customRule);\r\n              delete customRule.removeEmptyAttrs;\r\n              delete customRule.removeEmpty;\r\n              elements[name] = customRule;\r\n            }\r\n            each$4(children, function (element, elmName) {\r\n              if (element[cloneName]) {\r\n                children[elmName] = element = extend$1({}, children[elmName]);\r\n                element[name] = element[cloneName];\r\n              }\r\n            });\r\n          });\r\n        }\r\n      };\r\n      var addValidChildren = function (validChildren) {\r\n        var childRuleRegExp = /^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;\r\n        mapCache[settings.schema] = null;\r\n        if (validChildren) {\r\n          each$4(split(validChildren, ','), function (rule) {\r\n            var matches = childRuleRegExp.exec(rule);\r\n            var parent, prefix;\r\n            if (matches) {\r\n              prefix = matches[1];\r\n              if (prefix) {\r\n                parent = children[matches[2]];\r\n              } else {\r\n                parent = children[matches[2]] = { '#comment': {} };\r\n              }\r\n              parent = children[matches[2]];\r\n              each$4(split(matches[3], '|'), function (child) {\r\n                if (prefix === '-') {\r\n                  delete parent[child];\r\n                } else {\r\n                  parent[child] = {};\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n      };\r\n      var getElementRule = function (name) {\r\n        var element = elements[name], i;\r\n        if (element) {\r\n          return element;\r\n        }\r\n        i = patternElements.length;\r\n        while (i--) {\r\n          element = patternElements[i];\r\n          if (element.pattern.test(name)) {\r\n            return element;\r\n          }\r\n        }\r\n      };\r\n      if (!settings.valid_elements) {\r\n        each$4(schemaItems, function (element, name) {\r\n          elements[name] = {\r\n            attributes: element.attributes,\r\n            attributesOrder: element.attributesOrder\r\n          };\r\n          children[name] = element.children;\r\n        });\r\n        if (settings.schema !== 'html5') {\r\n          each$4(split('strong/b em/i'), function (item) {\r\n            item = split(item, '/');\r\n            elements[item[1]].outputName = item[0];\r\n          });\r\n        }\r\n        each$4(split('ol ul sub sup blockquote span font a table tbody tr strong em b i'), function (name) {\r\n          if (elements[name]) {\r\n            elements[name].removeEmpty = true;\r\n          }\r\n        });\r\n        each$4(split('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), function (name) {\r\n          elements[name].paddEmpty = true;\r\n        });\r\n        each$4(split('span'), function (name) {\r\n          elements[name].removeEmptyAttrs = true;\r\n        });\r\n      } else {\r\n        setValidElements(settings.valid_elements);\r\n      }\r\n      addCustomElements(settings.custom_elements);\r\n      addValidChildren(settings.valid_children);\r\n      addValidElements(settings.extended_valid_elements);\r\n      addValidChildren('+ol[ul|ol],+ul[ul|ol]');\r\n      each$4({\r\n        dd: 'dl',\r\n        dt: 'dl',\r\n        li: 'ul ol',\r\n        td: 'tr',\r\n        th: 'tr',\r\n        tr: 'tbody thead tfoot',\r\n        tbody: 'table',\r\n        thead: 'table',\r\n        tfoot: 'table',\r\n        legend: 'fieldset',\r\n        area: 'map',\r\n        param: 'video audio object'\r\n      }, function (parents, item) {\r\n        if (elements[item]) {\r\n          elements[item].parentsRequired = split(parents);\r\n        }\r\n      });\r\n      if (settings.invalid_elements) {\r\n        each$4(explode$1(settings.invalid_elements), function (item) {\r\n          if (elements[item]) {\r\n            delete elements[item];\r\n          }\r\n        });\r\n      }\r\n      if (!getElementRule('span')) {\r\n        addValidElements('span[!data-mce-type|*]');\r\n      }\r\n      var getValidStyles = function () {\r\n        return validStyles;\r\n      };\r\n      var getInvalidStyles = function () {\r\n        return invalidStyles;\r\n      };\r\n      var getValidClasses = function () {\r\n        return validClasses;\r\n      };\r\n      var getBoolAttrs = function () {\r\n        return boolAttrMap;\r\n      };\r\n      var getBlockElements = function () {\r\n        return blockElementsMap;\r\n      };\r\n      var getTextBlockElements = function () {\r\n        return textBlockElementsMap;\r\n      };\r\n      var getTextInlineElements = function () {\r\n        return textInlineElementsMap;\r\n      };\r\n      var getShortEndedElements = function () {\r\n        return shortEndedElementsMap;\r\n      };\r\n      var getSelfClosingElements = function () {\r\n        return selfClosingElementsMap;\r\n      };\r\n      var getNonEmptyElements = function () {\r\n        return nonEmptyElementsMap;\r\n      };\r\n      var getMoveCaretBeforeOnEnterElements = function () {\r\n        return moveCaretBeforeOnEnterElementsMap;\r\n      };\r\n      var getWhiteSpaceElements = function () {\r\n        return whiteSpaceElementsMap;\r\n      };\r\n      var getSpecialElements = function () {\r\n        return specialElements;\r\n      };\r\n      var isValidChild = function (name, child) {\r\n        var parent = children[name.toLowerCase()];\r\n        return !!(parent && parent[child.toLowerCase()]);\r\n      };\r\n      var isValid = function (name, attr) {\r\n        var attrPatterns, i;\r\n        var rule = getElementRule(name);\r\n        if (rule) {\r\n          if (attr) {\r\n            if (rule.attributes[attr]) {\r\n              return true;\r\n            }\r\n            attrPatterns = rule.attributePatterns;\r\n            if (attrPatterns) {\r\n              i = attrPatterns.length;\r\n              while (i--) {\r\n                if (attrPatterns[i].pattern.test(name)) {\r\n                  return true;\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      };\r\n      var getCustomElements = function () {\r\n        return customElementsMap;\r\n      };\r\n      return {\r\n        children: children,\r\n        elements: elements,\r\n        getValidStyles: getValidStyles,\r\n        getValidClasses: getValidClasses,\r\n        getBlockElements: getBlockElements,\r\n        getInvalidStyles: getInvalidStyles,\r\n        getShortEndedElements: getShortEndedElements,\r\n        getTextBlockElements: getTextBlockElements,\r\n        getTextInlineElements: getTextInlineElements,\r\n        getBoolAttrs: getBoolAttrs,\r\n        getElementRule: getElementRule,\r\n        getSelfClosingElements: getSelfClosingElements,\r\n        getNonEmptyElements: getNonEmptyElements,\r\n        getMoveCaretBeforeOnEnterElements: getMoveCaretBeforeOnEnterElements,\r\n        getWhiteSpaceElements: getWhiteSpaceElements,\r\n        getSpecialElements: getSpecialElements,\r\n        isValidChild: isValidChild,\r\n        isValid: isValid,\r\n        getCustomElements: getCustomElements,\r\n        addValidElements: addValidElements,\r\n        setValidElements: setValidElements,\r\n        addCustomElements: addCustomElements,\r\n        addValidChildren: addValidChildren\r\n      };\r\n    }\r\n\r\n    var toHex = function (match, r, g, b) {\r\n      var hex = function (val) {\r\n        val = parseInt(val, 10).toString(16);\r\n        return val.length > 1 ? val : '0' + val;\r\n      };\r\n      return '#' + hex(r) + hex(g) + hex(b);\r\n    };\r\n    function Styles(settings, schema) {\r\n      var rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\r\n      var urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\r\n      var styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\r\n      var trimRightRegExp = /\\s+$/;\r\n      var i;\r\n      var encodingLookup = {};\r\n      var encodingItems;\r\n      var validStyles;\r\n      var invalidStyles;\r\n      var invisibleChar = '\\uFEFF';\r\n      settings = settings || {};\r\n      if (schema) {\r\n        validStyles = schema.getValidStyles();\r\n        invalidStyles = schema.getInvalidStyles();\r\n      }\r\n      encodingItems = ('\\\\\" \\\\\\' \\\\; \\\\: ; : ' + invisibleChar).split(' ');\r\n      for (i = 0; i < encodingItems.length; i++) {\r\n        encodingLookup[encodingItems[i]] = invisibleChar + i;\r\n        encodingLookup[invisibleChar + i] = encodingItems[i];\r\n      }\r\n      return {\r\n        toHex: function (color) {\r\n          return color.replace(rgbRegExp, toHex);\r\n        },\r\n        parse: function (css) {\r\n          var styles = {};\r\n          var matches, name, value, isEncoded;\r\n          var urlConverter = settings.url_converter;\r\n          var urlConverterScope = settings.url_converter_scope || this;\r\n          var compress = function (prefix, suffix, noJoin) {\r\n            var top, right, bottom, left;\r\n            top = styles[prefix + '-top' + suffix];\r\n            if (!top) {\r\n              return;\r\n            }\r\n            right = styles[prefix + '-right' + suffix];\r\n            if (!right) {\r\n              return;\r\n            }\r\n            bottom = styles[prefix + '-bottom' + suffix];\r\n            if (!bottom) {\r\n              return;\r\n            }\r\n            left = styles[prefix + '-left' + suffix];\r\n            if (!left) {\r\n              return;\r\n            }\r\n            var box = [\r\n              top,\r\n              right,\r\n              bottom,\r\n              left\r\n            ];\r\n            i = box.length - 1;\r\n            while (i--) {\r\n              if (box[i] !== box[i + 1]) {\r\n                break;\r\n              }\r\n            }\r\n            if (i > -1 && noJoin) {\r\n              return;\r\n            }\r\n            styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\r\n            delete styles[prefix + '-top' + suffix];\r\n            delete styles[prefix + '-right' + suffix];\r\n            delete styles[prefix + '-bottom' + suffix];\r\n            delete styles[prefix + '-left' + suffix];\r\n          };\r\n          var canCompress = function (key) {\r\n            var value = styles[key], i;\r\n            if (!value) {\r\n              return;\r\n            }\r\n            value = value.split(' ');\r\n            i = value.length;\r\n            while (i--) {\r\n              if (value[i] !== value[0]) {\r\n                return false;\r\n              }\r\n            }\r\n            styles[key] = value[0];\r\n            return true;\r\n          };\r\n          var compress2 = function (target, a, b, c) {\r\n            if (!canCompress(a)) {\r\n              return;\r\n            }\r\n            if (!canCompress(b)) {\r\n              return;\r\n            }\r\n            if (!canCompress(c)) {\r\n              return;\r\n            }\r\n            styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\r\n            delete styles[a];\r\n            delete styles[b];\r\n            delete styles[c];\r\n          };\r\n          var encode = function (str) {\r\n            isEncoded = true;\r\n            return encodingLookup[str];\r\n          };\r\n          var decode = function (str, keepSlashes) {\r\n            if (isEncoded) {\r\n              str = str.replace(/\\uFEFF[0-9]/g, function (str) {\r\n                return encodingLookup[str];\r\n              });\r\n            }\r\n            if (!keepSlashes) {\r\n              str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\r\n            }\r\n            return str;\r\n          };\r\n          var decodeSingleHexSequence = function (escSeq) {\r\n            return String.fromCharCode(parseInt(escSeq.slice(1), 16));\r\n          };\r\n          var decodeHexSequences = function (value) {\r\n            return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\r\n          };\r\n          var processUrl = function (match, url, url2, url3, str, str2) {\r\n            str = str || str2;\r\n            if (str) {\r\n              str = decode(str);\r\n              return '\\'' + str.replace(/\\'/g, '\\\\\\'') + '\\'';\r\n            }\r\n            url = decode(url || url2 || url3);\r\n            if (!settings.allow_script_urls) {\r\n              var scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\r\n              if (/(java|vb)script:/i.test(scriptUrl)) {\r\n                return '';\r\n              }\r\n              if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\r\n                return '';\r\n              }\r\n            }\r\n            if (urlConverter) {\r\n              url = urlConverter.call(urlConverterScope, url, 'style');\r\n            }\r\n            return 'url(\\'' + url.replace(/\\'/g, '\\\\\\'') + '\\')';\r\n          };\r\n          if (css) {\r\n            css = css.replace(/[\\u0000-\\u001F]/g, '');\r\n            css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, function (str) {\r\n              return str.replace(/[;:]/g, encode);\r\n            });\r\n            while (matches = styleRegExp.exec(css)) {\r\n              styleRegExp.lastIndex = matches.index + matches[0].length;\r\n              name = matches[1].replace(trimRightRegExp, '').toLowerCase();\r\n              value = matches[2].replace(trimRightRegExp, '');\r\n              if (name && value) {\r\n                name = decodeHexSequences(name);\r\n                value = decodeHexSequences(value);\r\n                if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\r\n                  continue;\r\n                }\r\n                if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\r\n                  continue;\r\n                }\r\n                if (name === 'font-weight' && value === '700') {\r\n                  value = 'bold';\r\n                } else if (name === 'color' || name === 'background-color') {\r\n                  value = value.toLowerCase();\r\n                }\r\n                value = value.replace(rgbRegExp, toHex);\r\n                value = value.replace(urlOrStrRegExp, processUrl);\r\n                styles[name] = isEncoded ? decode(value, true) : value;\r\n              }\r\n            }\r\n            compress('border', '', true);\r\n            compress('border', '-width');\r\n            compress('border', '-color');\r\n            compress('border', '-style');\r\n            compress('padding', '');\r\n            compress('margin', '');\r\n            compress2('border', 'border-width', 'border-style', 'border-color');\r\n            if (styles.border === 'medium none') {\r\n              delete styles.border;\r\n            }\r\n            if (styles['border-image'] === 'none') {\r\n              delete styles['border-image'];\r\n            }\r\n          }\r\n          return styles;\r\n        },\r\n        serialize: function (styles, elementName) {\r\n          var css = '', name, value;\r\n          var serializeStyles = function (name) {\r\n            var styleList, i, l, value;\r\n            styleList = validStyles[name];\r\n            if (styleList) {\r\n              for (i = 0, l = styleList.length; i < l; i++) {\r\n                name = styleList[i];\r\n                value = styles[name];\r\n                if (value) {\r\n                  css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\r\n                }\r\n              }\r\n            }\r\n          };\r\n          var isValid = function (name, elementName) {\r\n            var styleMap;\r\n            styleMap = invalidStyles['*'];\r\n            if (styleMap && styleMap[name]) {\r\n              return false;\r\n            }\r\n            styleMap = invalidStyles[elementName];\r\n            if (styleMap && styleMap[name]) {\r\n              return false;\r\n            }\r\n            return true;\r\n          };\r\n          if (elementName && validStyles) {\r\n            serializeStyles('*');\r\n            serializeStyles(elementName);\r\n          } else {\r\n            for (name in styles) {\r\n              value = styles[name];\r\n              if (value && (!invalidStyles || isValid(name, elementName))) {\r\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\r\n              }\r\n            }\r\n          }\r\n          return css;\r\n        }\r\n      };\r\n    }\r\n\r\n    var each$5 = Tools.each;\r\n    var grep$1 = Tools.grep;\r\n    var isIE = Env.ie;\r\n    var simpleSelectorRe = /^([a-z0-9],?)+$/i;\r\n    var whiteSpaceRegExp$2 = /^[ \\t\\r\\n]*$/;\r\n    var setupAttrHooks = function (styles, settings, getContext) {\r\n      var attrHooks = {};\r\n      var keepValues = settings.keep_values;\r\n      var keepUrlHook = {\r\n        set: function ($elm, value, name$$1) {\r\n          if (settings.url_converter) {\r\n            value = settings.url_converter.call(settings.url_converter_scope || getContext(), value, name$$1, $elm[0]);\r\n          }\r\n          $elm.attr('data-mce-' + name$$1, value).attr(name$$1, value);\r\n        },\r\n        get: function ($elm, name$$1) {\r\n          return $elm.attr('data-mce-' + name$$1) || $elm.attr(name$$1);\r\n        }\r\n      };\r\n      attrHooks = {\r\n        style: {\r\n          set: function ($elm, value) {\r\n            if (value !== null && typeof value === 'object') {\r\n              $elm.css(value);\r\n              return;\r\n            }\r\n            if (keepValues) {\r\n              $elm.attr('data-mce-style', value);\r\n            }\r\n            $elm.attr('style', value);\r\n          },\r\n          get: function ($elm) {\r\n            var value = $elm.attr('data-mce-style') || $elm.attr('style');\r\n            value = styles.serialize(styles.parse(value), $elm[0].nodeName);\r\n            return value;\r\n          }\r\n        }\r\n      };\r\n      if (keepValues) {\r\n        attrHooks.href = attrHooks.src = keepUrlHook;\r\n      }\r\n      return attrHooks;\r\n    };\r\n    var updateInternalStyleAttr = function (styles, $elm) {\r\n      var rawValue = $elm.attr('style');\r\n      var value = styles.serialize(styles.parse(rawValue), $elm[0].nodeName);\r\n      if (!value) {\r\n        value = null;\r\n      }\r\n      $elm.attr('data-mce-style', value);\r\n    };\r\n    var findNodeIndex = function (node, normalized) {\r\n      var idx = 0, lastNodeType, nodeType;\r\n      if (node) {\r\n        for (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\r\n          nodeType = node.nodeType;\r\n          if (normalized && nodeType === 3) {\r\n            if (nodeType === lastNodeType || !node.nodeValue.length) {\r\n              continue;\r\n            }\r\n          }\r\n          idx++;\r\n          lastNodeType = nodeType;\r\n        }\r\n      }\r\n      return idx;\r\n    };\r\n    function DOMUtils(doc, settings) {\r\n      var _this = this;\r\n      if (settings === void 0) {\r\n        settings = {};\r\n      }\r\n      var attrHooks;\r\n      var addedStyles = {};\r\n      var win = window;\r\n      var files = {};\r\n      var counter = 0;\r\n      var stdMode = true;\r\n      var boxModel = true;\r\n      var styleSheetLoader = StyleSheetLoader(doc, { contentCssCors: settings.contentCssCors });\r\n      var boundEvents = [];\r\n      var schema = settings.schema ? settings.schema : Schema({});\r\n      var styles = Styles({\r\n        url_converter: settings.url_converter,\r\n        url_converter_scope: settings.url_converter_scope\r\n      }, settings.schema);\r\n      var events = settings.ownEvents ? new EventUtils(settings.proxy) : EventUtils.Event;\r\n      var blockElementsMap = schema.getBlockElements();\r\n      var $ = DomQuery.overrideDefaults(function () {\r\n        return {\r\n          context: doc,\r\n          element: self$$1.getRoot()\r\n        };\r\n      });\r\n      var isBlock = function (node) {\r\n        if (typeof node === 'string') {\r\n          return !!blockElementsMap[node];\r\n        } else if (node) {\r\n          var type = node.nodeType;\r\n          if (type) {\r\n            return !!(type === 1 && blockElementsMap[node.nodeName]);\r\n          }\r\n        }\r\n        return false;\r\n      };\r\n      var get = function (elm) {\r\n        if (elm && doc && typeof elm === 'string') {\r\n          var node = doc.getElementById(elm);\r\n          if (node && node.id !== elm) {\r\n            return doc.getElementsByName(elm)[1];\r\n          } else {\r\n            return node;\r\n          }\r\n        }\r\n        return elm;\r\n      };\r\n      var $$ = function (elm) {\r\n        if (typeof elm === 'string') {\r\n          elm = get(elm);\r\n        }\r\n        return $(elm);\r\n      };\r\n      var getAttrib = function (elm, name$$1, defaultVal) {\r\n        var hook, value;\r\n        var $elm = $$(elm);\r\n        if ($elm.length) {\r\n          hook = attrHooks[name$$1];\r\n          if (hook && hook.get) {\r\n            value = hook.get($elm, name$$1);\r\n          } else {\r\n            value = $elm.attr(name$$1);\r\n          }\r\n        }\r\n        if (typeof value === 'undefined') {\r\n          value = defaultVal || '';\r\n        }\r\n        return value;\r\n      };\r\n      var getAttribs = function (elm) {\r\n        var node = get(elm);\r\n        if (!node) {\r\n          return [];\r\n        }\r\n        return node.attributes;\r\n      };\r\n      var setAttrib = function (elm, name$$1, value) {\r\n        var originalValue, hook;\r\n        if (value === '') {\r\n          value = null;\r\n        }\r\n        var $elm = $$(elm);\r\n        originalValue = $elm.attr(name$$1);\r\n        if (!$elm.length) {\r\n          return;\r\n        }\r\n        hook = attrHooks[name$$1];\r\n        if (hook && hook.set) {\r\n          hook.set($elm, value, name$$1);\r\n        } else {\r\n          $elm.attr(name$$1, value);\r\n        }\r\n        if (originalValue !== value && settings.onSetAttrib) {\r\n          settings.onSetAttrib({\r\n            attrElm: $elm,\r\n            attrName: name$$1,\r\n            attrValue: value\r\n          });\r\n        }\r\n      };\r\n      var clone = function (node, deep) {\r\n        if (!isIE || node.nodeType !== 1 || deep) {\r\n          return node.cloneNode(deep);\r\n        }\r\n        if (!deep) {\r\n          var clone_1 = doc.createElement(node.nodeName);\r\n          each$5(getAttribs(node), function (attr) {\r\n            setAttrib(clone_1, attr.nodeName, getAttrib(node, attr.nodeName));\r\n          });\r\n          return clone_1;\r\n        }\r\n        return null;\r\n      };\r\n      var getRoot = function () {\r\n        return settings.root_element || doc.body;\r\n      };\r\n      var getViewPort = function (argWin) {\r\n        var actWin = !argWin ? win : argWin;\r\n        var doc = actWin.document;\r\n        var rootElm = boxModel ? doc.documentElement : doc.body;\r\n        return {\r\n          x: actWin.pageXOffset || rootElm.scrollLeft,\r\n          y: actWin.pageYOffset || rootElm.scrollTop,\r\n          w: actWin.innerWidth || rootElm.clientWidth,\r\n          h: actWin.innerHeight || rootElm.clientHeight\r\n        };\r\n      };\r\n      var getPos = function (elm, rootElm) {\r\n        return Position.getPos(doc.body, get(elm), rootElm);\r\n      };\r\n      var setStyle = function (elm, name$$1, value) {\r\n        var $elm = $$(elm).css(name$$1, value);\r\n        if (settings.update_styles) {\r\n          updateInternalStyleAttr(styles, $elm);\r\n        }\r\n      };\r\n      var setStyles = function (elm, stylesArg) {\r\n        var $elm = $$(elm).css(stylesArg);\r\n        if (settings.update_styles) {\r\n          updateInternalStyleAttr(styles, $elm);\r\n        }\r\n      };\r\n      var getStyle = function (elm, name$$1, computed) {\r\n        var $elm = $$(elm);\r\n        if (computed) {\r\n          return $elm.css(name$$1);\r\n        }\r\n        name$$1 = name$$1.replace(/-(\\D)/g, function (a, b) {\r\n          return b.toUpperCase();\r\n        });\r\n        if (name$$1 === 'float') {\r\n          name$$1 = Env.ie && Env.ie < 12 ? 'styleFloat' : 'cssFloat';\r\n        }\r\n        return $elm[0] && $elm[0].style ? $elm[0].style[name$$1] : undefined;\r\n      };\r\n      var getSize = function (elm) {\r\n        var w, h;\r\n        elm = get(elm);\r\n        w = getStyle(elm, 'width');\r\n        h = getStyle(elm, 'height');\r\n        if (w.indexOf('px') === -1) {\r\n          w = 0;\r\n        }\r\n        if (h.indexOf('px') === -1) {\r\n          h = 0;\r\n        }\r\n        return {\r\n          w: parseInt(w, 10) || elm.offsetWidth || elm.clientWidth,\r\n          h: parseInt(h, 10) || elm.offsetHeight || elm.clientHeight\r\n        };\r\n      };\r\n      var getRect = function (elm) {\r\n        var pos, size;\r\n        elm = get(elm);\r\n        pos = getPos(elm);\r\n        size = getSize(elm);\r\n        return {\r\n          x: pos.x,\r\n          y: pos.y,\r\n          w: size.w,\r\n          h: size.h\r\n        };\r\n      };\r\n      var is = function (elm, selector) {\r\n        var i;\r\n        if (!elm) {\r\n          return false;\r\n        }\r\n        if (!Array.isArray(elm)) {\r\n          if (selector === '*') {\r\n            return elm.nodeType === 1;\r\n          }\r\n          if (simpleSelectorRe.test(selector)) {\r\n            var selectors = selector.toLowerCase().split(/,/);\r\n            var elmName = elm.nodeName.toLowerCase();\r\n            for (i = selectors.length - 1; i >= 0; i--) {\r\n              if (selectors[i] === elmName) {\r\n                return true;\r\n              }\r\n            }\r\n            return false;\r\n          }\r\n          if (elm.nodeType && elm.nodeType !== 1) {\r\n            return false;\r\n          }\r\n        }\r\n        var elms = !Array.isArray(elm) ? [elm] : elm;\r\n        return Sizzle(selector, elms[0].ownerDocument || elms[0], null, elms).length > 0;\r\n      };\r\n      var getParents = function (elm, selector, root, collect) {\r\n        var result = [];\r\n        var selectorVal;\r\n        var node = get(elm);\r\n        collect = collect === undefined;\r\n        root = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\r\n        if (Tools.is(selector, 'string')) {\r\n          selectorVal = selector;\r\n          if (selector === '*') {\r\n            selector = function (node) {\r\n              return node.nodeType === 1;\r\n            };\r\n          } else {\r\n            selector = function (node) {\r\n              return is(node, selectorVal);\r\n            };\r\n          }\r\n        }\r\n        while (node) {\r\n          if (node === root || !node.nodeType || node.nodeType === 9) {\r\n            break;\r\n          }\r\n          if (!selector || typeof selector === 'function' && selector(node)) {\r\n            if (collect) {\r\n              result.push(node);\r\n            } else {\r\n              return [node];\r\n            }\r\n          }\r\n          node = node.parentNode;\r\n        }\r\n        return collect ? result : null;\r\n      };\r\n      var getParent = function (node, selector, root) {\r\n        var parents = getParents(node, selector, root, false);\r\n        return parents && parents.length > 0 ? parents[0] : null;\r\n      };\r\n      var _findSib = function (node, selector, name$$1) {\r\n        var func = selector;\r\n        if (node) {\r\n          if (typeof selector === 'string') {\r\n            func = function (node) {\r\n              return is(node, selector);\r\n            };\r\n          }\r\n          for (node = node[name$$1]; node; node = node[name$$1]) {\r\n            if (typeof func === 'function' && func(node)) {\r\n              return node;\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      };\r\n      var getNext = function (node, selector) {\r\n        return _findSib(node, selector, 'nextSibling');\r\n      };\r\n      var getPrev = function (node, selector) {\r\n        return _findSib(node, selector, 'previousSibling');\r\n      };\r\n      var select = function (selector, scope) {\r\n        return Sizzle(selector, get(scope) || settings.root_element || doc, []);\r\n      };\r\n      var run = function (elm, func, scope) {\r\n        var result;\r\n        var node = typeof elm === 'string' ? get(elm) : elm;\r\n        if (!node) {\r\n          return false;\r\n        }\r\n        if (Tools.isArray(node) && (node.length || node.length === 0)) {\r\n          result = [];\r\n          each$5(node, function (elm, i) {\r\n            if (elm) {\r\n              if (typeof elm === 'string') {\r\n                elm = get(elm);\r\n              }\r\n              result.push(func.call(scope, elm, i));\r\n            }\r\n          });\r\n          return result;\r\n        }\r\n        var context = scope ? scope : _this;\r\n        return func.call(context, node);\r\n      };\r\n      var setAttribs = function (elm, attrs) {\r\n        $$(elm).each(function (i, node) {\r\n          each$5(attrs, function (value, name$$1) {\r\n            setAttrib(node, name$$1, value);\r\n          });\r\n        });\r\n      };\r\n      var setHTML = function (elm, html) {\r\n        var $elm = $$(elm);\r\n        if (isIE) {\r\n          $elm.each(function (i, target) {\r\n            if (target.canHaveHTML === false) {\r\n              return;\r\n            }\r\n            while (target.firstChild) {\r\n              target.removeChild(target.firstChild);\r\n            }\r\n            try {\r\n              target.innerHTML = '<br>' + html;\r\n              target.removeChild(target.firstChild);\r\n            } catch (ex) {\r\n              DomQuery('<div></div>').html('<br>' + html).contents().slice(1).appendTo(target);\r\n            }\r\n            return html;\r\n          });\r\n        } else {\r\n          $elm.html(html);\r\n        }\r\n      };\r\n      var add = function (parentElm, name$$1, attrs, html, create) {\r\n        return run(parentElm, function (parentElm) {\r\n          var newElm = typeof name$$1 === 'string' ? doc.createElement(name$$1) : name$$1;\r\n          setAttribs(newElm, attrs);\r\n          if (html) {\r\n            if (typeof html !== 'string' && html.nodeType) {\r\n              newElm.appendChild(html);\r\n            } else if (typeof html === 'string') {\r\n              setHTML(newElm, html);\r\n            }\r\n          }\r\n          return !create ? parentElm.appendChild(newElm) : newElm;\r\n        });\r\n      };\r\n      var create = function (name$$1, attrs, html) {\r\n        return add(doc.createElement(name$$1), name$$1, attrs, html, true);\r\n      };\r\n      var decode = Entities.decode;\r\n      var encode = Entities.encodeAllRaw;\r\n      var createHTML = function (name$$1, attrs, html) {\r\n        var outHtml = '', key;\r\n        outHtml += '<' + name$$1;\r\n        for (key in attrs) {\r\n          if (attrs.hasOwnProperty(key) && attrs[key] !== null && typeof attrs[key] !== 'undefined') {\r\n            outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\r\n          }\r\n        }\r\n        if (typeof html !== 'undefined') {\r\n          return outHtml + '>' + html + '</' + name$$1 + '>';\r\n        }\r\n        return outHtml + ' />';\r\n      };\r\n      var createFragment = function (html) {\r\n        var node;\r\n        var container = doc.createElement('div');\r\n        var frag = doc.createDocumentFragment();\r\n        if (html) {\r\n          container.innerHTML = html;\r\n        }\r\n        while (node = container.firstChild) {\r\n          frag.appendChild(node);\r\n        }\r\n        return frag;\r\n      };\r\n      var remove = function (node, keepChildren) {\r\n        var $node = $$(node);\r\n        if (keepChildren) {\r\n          $node.each(function () {\r\n            var child;\r\n            while (child = this.firstChild) {\r\n              if (child.nodeType === 3 && child.data.length === 0) {\r\n                this.removeChild(child);\r\n              } else {\r\n                this.parentNode.insertBefore(child, this);\r\n              }\r\n            }\r\n          }).remove();\r\n        } else {\r\n          $node.remove();\r\n        }\r\n        return $node.length > 1 ? $node.toArray() : $node[0];\r\n      };\r\n      var removeAllAttribs = function (e) {\r\n        return run(e, function (e) {\r\n          var i;\r\n          var attrs = e.attributes;\r\n          for (i = attrs.length - 1; i >= 0; i--) {\r\n            e.removeAttributeNode(attrs.item(i));\r\n          }\r\n        });\r\n      };\r\n      var parseStyle = function (cssText) {\r\n        return styles.parse(cssText);\r\n      };\r\n      var serializeStyle = function (stylesArg, name$$1) {\r\n        return styles.serialize(stylesArg, name$$1);\r\n      };\r\n      var addStyle = function (cssText) {\r\n        var head, styleElm;\r\n        if (self$$1 !== DOMUtils.DOM && doc === document) {\r\n          if (addedStyles[cssText]) {\r\n            return;\r\n          }\r\n          addedStyles[cssText] = true;\r\n        }\r\n        styleElm = doc.getElementById('mceDefaultStyles');\r\n        if (!styleElm) {\r\n          styleElm = doc.createElement('style');\r\n          styleElm.id = 'mceDefaultStyles';\r\n          styleElm.type = 'text/css';\r\n          head = doc.getElementsByTagName('head')[0];\r\n          if (head.firstChild) {\r\n            head.insertBefore(styleElm, head.firstChild);\r\n          } else {\r\n            head.appendChild(styleElm);\r\n          }\r\n        }\r\n        if (styleElm.styleSheet) {\r\n          styleElm.styleSheet.cssText += cssText;\r\n        } else {\r\n          styleElm.appendChild(doc.createTextNode(cssText));\r\n        }\r\n      };\r\n      var loadCSS = function (url) {\r\n        var head;\r\n        if (self$$1 !== DOMUtils.DOM && doc === document) {\r\n          DOMUtils.DOM.loadCSS(url);\r\n          return;\r\n        }\r\n        if (!url) {\r\n          url = '';\r\n        }\r\n        head = doc.getElementsByTagName('head')[0];\r\n        each$5(url.split(','), function (url) {\r\n          var link;\r\n          url = Tools._addCacheSuffix(url);\r\n          if (files[url]) {\r\n            return;\r\n          }\r\n          files[url] = true;\r\n          link = create('link', {\r\n            rel: 'stylesheet',\r\n            href: url\r\n          });\r\n          head.appendChild(link);\r\n        });\r\n      };\r\n      var toggleClass = function (elm, cls, state) {\r\n        $$(elm).toggleClass(cls, state).each(function () {\r\n          if (this.className === '') {\r\n            DomQuery(this).attr('class', null);\r\n          }\r\n        });\r\n      };\r\n      var addClass = function (elm, cls) {\r\n        $$(elm).addClass(cls);\r\n      };\r\n      var removeClass = function (elm, cls) {\r\n        toggleClass(elm, cls, false);\r\n      };\r\n      var hasClass = function (elm, cls) {\r\n        return $$(elm).hasClass(cls);\r\n      };\r\n      var show = function (elm) {\r\n        $$(elm).show();\r\n      };\r\n      var hide = function (elm) {\r\n        $$(elm).hide();\r\n      };\r\n      var isHidden = function (elm) {\r\n        return $$(elm).css('display') === 'none';\r\n      };\r\n      var uniqueId = function (prefix) {\r\n        return (!prefix ? 'mce_' : prefix) + counter++;\r\n      };\r\n      var getOuterHTML = function (elm) {\r\n        var node = typeof elm === 'string' ? get(elm) : elm;\r\n        return NodeType.isElement(node) ? node.outerHTML : DomQuery('<div></div>').append(DomQuery(node).clone()).html();\r\n      };\r\n      var setOuterHTML = function (elm, html) {\r\n        $$(elm).each(function () {\r\n          try {\r\n            if ('outerHTML' in this) {\r\n              this.outerHTML = html;\r\n              return;\r\n            }\r\n          } catch (ex) {\r\n          }\r\n          remove(DomQuery(this).html(html), true);\r\n        });\r\n      };\r\n      var insertAfter = function (node, reference) {\r\n        var referenceNode = get(reference);\r\n        return run(node, function (node) {\r\n          var parent$$1, nextSibling;\r\n          parent$$1 = referenceNode.parentNode;\r\n          nextSibling = referenceNode.nextSibling;\r\n          if (nextSibling) {\r\n            parent$$1.insertBefore(node, nextSibling);\r\n          } else {\r\n            parent$$1.appendChild(node);\r\n          }\r\n          return node;\r\n        });\r\n      };\r\n      var replace = function (newElm, oldElm, keepChildren) {\r\n        return run(oldElm, function (oldElm) {\r\n          if (Tools.is(oldElm, 'array')) {\r\n            newElm = newElm.cloneNode(true);\r\n          }\r\n          if (keepChildren) {\r\n            each$5(grep$1(oldElm.childNodes), function (node) {\r\n              newElm.appendChild(node);\r\n            });\r\n          }\r\n          return oldElm.parentNode.replaceChild(newElm, oldElm);\r\n        });\r\n      };\r\n      var rename = function (elm, name$$1) {\r\n        var newElm;\r\n        if (elm.nodeName !== name$$1.toUpperCase()) {\r\n          newElm = create(name$$1);\r\n          each$5(getAttribs(elm), function (attrNode) {\r\n            setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\r\n          });\r\n          replace(newElm, elm, true);\r\n        }\r\n        return newElm || elm;\r\n      };\r\n      var findCommonAncestor = function (a, b) {\r\n        var ps = a, pe;\r\n        while (ps) {\r\n          pe = b;\r\n          while (pe && ps !== pe) {\r\n            pe = pe.parentNode;\r\n          }\r\n          if (ps === pe) {\r\n            break;\r\n          }\r\n          ps = ps.parentNode;\r\n        }\r\n        if (!ps && a.ownerDocument) {\r\n          return a.ownerDocument.documentElement;\r\n        }\r\n        return ps;\r\n      };\r\n      var toHex = function (rgbVal) {\r\n        return styles.toHex(Tools.trim(rgbVal));\r\n      };\r\n      var isEmpty = function (node, elements) {\r\n        var i, attributes, type, whitespace, walker, name$$1, brCount = 0;\r\n        node = node.firstChild;\r\n        if (node) {\r\n          walker = new TreeWalker(node, node.parentNode);\r\n          elements = elements || (schema ? schema.getNonEmptyElements() : null);\r\n          whitespace = schema ? schema.getWhiteSpaceElements() : {};\r\n          do {\r\n            type = node.nodeType;\r\n            if (NodeType.isElement(node)) {\r\n              var bogusVal = node.getAttribute('data-mce-bogus');\r\n              if (bogusVal) {\r\n                node = walker.next(bogusVal === 'all');\r\n                continue;\r\n              }\r\n              name$$1 = node.nodeName.toLowerCase();\r\n              if (elements && elements[name$$1]) {\r\n                if (name$$1 === 'br') {\r\n                  brCount++;\r\n                  node = walker.next();\r\n                  continue;\r\n                }\r\n                return false;\r\n              }\r\n              attributes = getAttribs(node);\r\n              i = attributes.length;\r\n              while (i--) {\r\n                name$$1 = attributes[i].nodeName;\r\n                if (name$$1 === 'name' || name$$1 === 'data-mce-bookmark') {\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n            if (type === 8) {\r\n              return false;\r\n            }\r\n            if (type === 3 && !whiteSpaceRegExp$2.test(node.nodeValue)) {\r\n              return false;\r\n            }\r\n            if (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && whiteSpaceRegExp$2.test(node.nodeValue)) {\r\n              return false;\r\n            }\r\n            node = walker.next();\r\n          } while (node);\r\n        }\r\n        return brCount <= 1;\r\n      };\r\n      var createRng = function () {\r\n        return doc.createRange();\r\n      };\r\n      var split = function (parentElm, splitElm, replacementElm) {\r\n        var r = createRng(), bef, aft, pa;\r\n        if (parentElm && splitElm) {\r\n          r.setStart(parentElm.parentNode, findNodeIndex(parentElm));\r\n          r.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\r\n          bef = r.extractContents();\r\n          r = createRng();\r\n          r.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\r\n          r.setEnd(parentElm.parentNode, findNodeIndex(parentElm) + 1);\r\n          aft = r.extractContents();\r\n          pa = parentElm.parentNode;\r\n          pa.insertBefore(TrimNode.trimNode(self$$1, bef), parentElm);\r\n          if (replacementElm) {\r\n            pa.insertBefore(replacementElm, parentElm);\r\n          } else {\r\n            pa.insertBefore(splitElm, parentElm);\r\n          }\r\n          pa.insertBefore(TrimNode.trimNode(self$$1, aft), parentElm);\r\n          remove(parentElm);\r\n          return replacementElm || splitElm;\r\n        }\r\n      };\r\n      var bind = function (target, name$$1, func, scope) {\r\n        if (Tools.isArray(target)) {\r\n          var i = target.length;\r\n          while (i--) {\r\n            target[i] = bind(target[i], name$$1, func, scope);\r\n          }\r\n          return target;\r\n        }\r\n        if (settings.collect && (target === doc || target === win)) {\r\n          boundEvents.push([\r\n            target,\r\n            name$$1,\r\n            func,\r\n            scope\r\n          ]);\r\n        }\r\n        return events.bind(target, name$$1, func, scope || self$$1);\r\n      };\r\n      var unbind = function (target, name$$1, func) {\r\n        var i;\r\n        if (Tools.isArray(target)) {\r\n          i = target.length;\r\n          while (i--) {\r\n            target[i] = unbind(target[i], name$$1, func);\r\n          }\r\n          return target;\r\n        }\r\n        if (boundEvents && (target === doc || target === win)) {\r\n          i = boundEvents.length;\r\n          while (i--) {\r\n            var item = boundEvents[i];\r\n            if (target === item[0] && (!name$$1 || name$$1 === item[1]) && (!func || func === item[2])) {\r\n              events.unbind(item[0], item[1], item[2]);\r\n            }\r\n          }\r\n        }\r\n        return events.unbind(target, name$$1, func);\r\n      };\r\n      var fire = function (target, name$$1, evt) {\r\n        return events.fire(target, name$$1, evt);\r\n      };\r\n      var getContentEditable = function (node) {\r\n        if (node && NodeType.isElement(node)) {\r\n          var contentEditable = node.getAttribute('data-mce-contenteditable');\r\n          if (contentEditable && contentEditable !== 'inherit') {\r\n            return contentEditable;\r\n          }\r\n          return node.contentEditable !== 'inherit' ? node.contentEditable : null;\r\n        } else {\r\n          return null;\r\n        }\r\n      };\r\n      var getContentEditableParent = function (node) {\r\n        var root = getRoot();\r\n        var state = null;\r\n        for (; node && node !== root; node = node.parentNode) {\r\n          state = getContentEditable(node);\r\n          if (state !== null) {\r\n            break;\r\n          }\r\n        }\r\n        return state;\r\n      };\r\n      var destroy = function () {\r\n        if (boundEvents) {\r\n          var i = boundEvents.length;\r\n          while (i--) {\r\n            var item = boundEvents[i];\r\n            events.unbind(item[0], item[1], item[2]);\r\n          }\r\n        }\r\n        if (Sizzle.setDocument) {\r\n          Sizzle.setDocument();\r\n        }\r\n      };\r\n      var isChildOf = function (node, parent$$1) {\r\n        while (node) {\r\n          if (parent$$1 === node) {\r\n            return true;\r\n          }\r\n          node = node.parentNode;\r\n        }\r\n        return false;\r\n      };\r\n      var dumpRng = function (r) {\r\n        return 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\r\n      };\r\n      var self$$1 = {\r\n        doc: doc,\r\n        settings: settings,\r\n        win: win,\r\n        files: files,\r\n        stdMode: stdMode,\r\n        boxModel: boxModel,\r\n        styleSheetLoader: styleSheetLoader,\r\n        boundEvents: boundEvents,\r\n        styles: styles,\r\n        schema: schema,\r\n        events: events,\r\n        isBlock: isBlock,\r\n        $: $,\r\n        $$: $$,\r\n        root: null,\r\n        clone: clone,\r\n        getRoot: getRoot,\r\n        getViewPort: getViewPort,\r\n        getRect: getRect,\r\n        getSize: getSize,\r\n        getParent: getParent,\r\n        getParents: getParents,\r\n        get: get,\r\n        getNext: getNext,\r\n        getPrev: getPrev,\r\n        select: select,\r\n        is: is,\r\n        add: add,\r\n        create: create,\r\n        createHTML: createHTML,\r\n        createFragment: createFragment,\r\n        remove: remove,\r\n        setStyle: setStyle,\r\n        getStyle: getStyle,\r\n        setStyles: setStyles,\r\n        removeAllAttribs: removeAllAttribs,\r\n        setAttrib: setAttrib,\r\n        setAttribs: setAttribs,\r\n        getAttrib: getAttrib,\r\n        getPos: getPos,\r\n        parseStyle: parseStyle,\r\n        serializeStyle: serializeStyle,\r\n        addStyle: addStyle,\r\n        loadCSS: loadCSS,\r\n        addClass: addClass,\r\n        removeClass: removeClass,\r\n        hasClass: hasClass,\r\n        toggleClass: toggleClass,\r\n        show: show,\r\n        hide: hide,\r\n        isHidden: isHidden,\r\n        uniqueId: uniqueId,\r\n        setHTML: setHTML,\r\n        getOuterHTML: getOuterHTML,\r\n        setOuterHTML: setOuterHTML,\r\n        decode: decode,\r\n        encode: encode,\r\n        insertAfter: insertAfter,\r\n        replace: replace,\r\n        rename: rename,\r\n        findCommonAncestor: findCommonAncestor,\r\n        toHex: toHex,\r\n        run: run,\r\n        getAttribs: getAttribs,\r\n        isEmpty: isEmpty,\r\n        createRng: createRng,\r\n        nodeIndex: findNodeIndex,\r\n        split: split,\r\n        bind: bind,\r\n        unbind: unbind,\r\n        fire: fire,\r\n        getContentEditable: getContentEditable,\r\n        getContentEditableParent: getContentEditableParent,\r\n        destroy: destroy,\r\n        isChildOf: isChildOf,\r\n        dumpRng: dumpRng\r\n      };\r\n      attrHooks = setupAttrHooks(styles, settings, function () {\r\n        return self$$1;\r\n      });\r\n      return self$$1;\r\n    }\r\n    (function (DOMUtils) {\r\n      DOMUtils.DOM = DOMUtils(document);\r\n      DOMUtils.nodeIndex = findNodeIndex;\r\n    }(DOMUtils || (DOMUtils = {})));\r\n    var DOMUtils$1 = DOMUtils;\r\n\r\n    var DOM = DOMUtils$1.DOM;\r\n    var each$6 = Tools.each, grep$2 = Tools.grep;\r\n    var isFunction$1 = function (f) {\r\n      return typeof f === 'function';\r\n    };\r\n    var ScriptLoader = function () {\r\n      var QUEUED = 0;\r\n      var LOADING = 1;\r\n      var LOADED = 2;\r\n      var FAILED = 3;\r\n      var states = {};\r\n      var queue = [];\r\n      var scriptLoadedCallbacks = {};\r\n      var queueLoadedCallbacks = [];\r\n      var loading = 0;\r\n      var loadScript = function (url, success, failure) {\r\n        var dom = DOM;\r\n        var elm, id;\r\n        var done = function () {\r\n          dom.remove(id);\r\n          if (elm) {\r\n            elm.onreadystatechange = elm.onload = elm = null;\r\n          }\r\n          success();\r\n        };\r\n        var error = function () {\r\n          if (isFunction$1(failure)) {\r\n            failure();\r\n          } else {\r\n            if (typeof console !== 'undefined' && console.log) {\r\n              console.log('Failed to load script: ' + url);\r\n            }\r\n          }\r\n        };\r\n        id = dom.uniqueId();\r\n        elm = document.createElement('script');\r\n        elm.id = id;\r\n        elm.type = 'text/javascript';\r\n        elm.src = Tools._addCacheSuffix(url);\r\n        elm.onload = done;\r\n        elm.onerror = error;\r\n        (document.getElementsByTagName('head')[0] || document.body).appendChild(elm);\r\n      };\r\n      this.isDone = function (url) {\r\n        return states[url] === LOADED;\r\n      };\r\n      this.markDone = function (url) {\r\n        states[url] = LOADED;\r\n      };\r\n      this.add = this.load = function (url, success, scope, failure) {\r\n        var state = states[url];\r\n        if (state === undefined) {\r\n          queue.push(url);\r\n          states[url] = QUEUED;\r\n        }\r\n        if (success) {\r\n          if (!scriptLoadedCallbacks[url]) {\r\n            scriptLoadedCallbacks[url] = [];\r\n          }\r\n          scriptLoadedCallbacks[url].push({\r\n            success: success,\r\n            failure: failure,\r\n            scope: scope || this\r\n          });\r\n        }\r\n      };\r\n      this.remove = function (url) {\r\n        delete states[url];\r\n        delete scriptLoadedCallbacks[url];\r\n      };\r\n      this.loadQueue = function (success, scope, failure) {\r\n        this.loadScripts(queue, success, scope, failure);\r\n      };\r\n      this.loadScripts = function (scripts, success, scope, failure) {\r\n        var loadScripts;\r\n        var failures = [];\r\n        var execCallbacks = function (name$$1, url) {\r\n          each$6(scriptLoadedCallbacks[url], function (callback) {\r\n            if (isFunction$1(callback[name$$1])) {\r\n              callback[name$$1].call(callback.scope);\r\n            }\r\n          });\r\n          scriptLoadedCallbacks[url] = undefined;\r\n        };\r\n        queueLoadedCallbacks.push({\r\n          success: success,\r\n          failure: failure,\r\n          scope: scope || this\r\n        });\r\n        loadScripts = function () {\r\n          var loadingScripts = grep$2(scripts);\r\n          scripts.length = 0;\r\n          each$6(loadingScripts, function (url) {\r\n            if (states[url] === LOADED) {\r\n              execCallbacks('success', url);\r\n              return;\r\n            }\r\n            if (states[url] === FAILED) {\r\n              execCallbacks('failure', url);\r\n              return;\r\n            }\r\n            if (states[url] !== LOADING) {\r\n              states[url] = LOADING;\r\n              loading++;\r\n              loadScript(url, function () {\r\n                states[url] = LOADED;\r\n                loading--;\r\n                execCallbacks('success', url);\r\n                loadScripts();\r\n              }, function () {\r\n                states[url] = FAILED;\r\n                loading--;\r\n                failures.push(url);\r\n                execCallbacks('failure', url);\r\n                loadScripts();\r\n              });\r\n            }\r\n          });\r\n          if (!loading) {\r\n            var notifyCallbacks = queueLoadedCallbacks.slice(0);\r\n            queueLoadedCallbacks.length = 0;\r\n            each$6(notifyCallbacks, function (callback) {\r\n              if (failures.length === 0) {\r\n                if (isFunction$1(callback.success)) {\r\n                  callback.success.call(callback.scope);\r\n                }\r\n              } else {\r\n                if (isFunction$1(callback.failure)) {\r\n                  callback.failure.call(callback.scope, failures);\r\n                }\r\n              }\r\n            });\r\n          }\r\n        };\r\n        loadScripts();\r\n      };\r\n    };\r\n    ScriptLoader.ScriptLoader = new ScriptLoader();\r\n\r\n    var each$7 = Tools.each;\r\n    function AddOnManager() {\r\n      var _this = this;\r\n      var items = [];\r\n      var urls = {};\r\n      var lookup = {};\r\n      var _listeners = [];\r\n      var get = function (name) {\r\n        if (lookup[name]) {\r\n          return lookup[name].instance;\r\n        }\r\n        return undefined;\r\n      };\r\n      var dependencies = function (name) {\r\n        var result;\r\n        if (lookup[name]) {\r\n          result = lookup[name].dependencies;\r\n        }\r\n        return result || [];\r\n      };\r\n      var requireLangPack = function (name, languages) {\r\n        var language = AddOnManager.language;\r\n        if (language && AddOnManager.languageLoad !== false) {\r\n          if (languages) {\r\n            languages = ',' + languages + ',';\r\n            if (languages.indexOf(',' + language.substr(0, 2) + ',') !== -1) {\r\n              language = language.substr(0, 2);\r\n            } else if (languages.indexOf(',' + language + ',') === -1) {\r\n              return;\r\n            }\r\n          }\r\n          ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\r\n        }\r\n      };\r\n      var add = function (id, addOn, dependencies) {\r\n        items.push(addOn);\r\n        lookup[id] = {\r\n          instance: addOn,\r\n          dependencies: dependencies\r\n        };\r\n        var result = partition(_listeners, function (listener) {\r\n          return listener.name === id;\r\n        });\r\n        _listeners = result.fail;\r\n        each$7(result.pass, function (listener) {\r\n          listener.callback();\r\n        });\r\n        return addOn;\r\n      };\r\n      var remove = function (name) {\r\n        delete urls[name];\r\n        delete lookup[name];\r\n      };\r\n      var createUrl = function (baseUrl, dep) {\r\n        if (typeof dep === 'object') {\r\n          return dep;\r\n        }\r\n        return typeof baseUrl === 'string' ? {\r\n          prefix: '',\r\n          resource: dep,\r\n          suffix: ''\r\n        } : {\r\n          prefix: baseUrl.prefix,\r\n          resource: dep,\r\n          suffix: baseUrl.suffix\r\n        };\r\n      };\r\n      var addComponents = function (pluginName, scripts) {\r\n        var pluginUrl = _this.urls[pluginName];\r\n        each$7(scripts, function (script) {\r\n          ScriptLoader.ScriptLoader.add(pluginUrl + '/' + script);\r\n        });\r\n      };\r\n      var loadDependencies = function (name, addOnUrl, success, scope) {\r\n        var deps = dependencies(name);\r\n        each$7(deps, function (dep) {\r\n          var newUrl = createUrl(addOnUrl, dep);\r\n          load(newUrl.resource, newUrl, undefined, undefined);\r\n        });\r\n        if (success) {\r\n          if (scope) {\r\n            success.call(scope);\r\n          } else {\r\n            success.call(ScriptLoader);\r\n          }\r\n        }\r\n      };\r\n      var load = function (name, addOnUrl, success, scope, failure) {\r\n        if (urls[name]) {\r\n          return;\r\n        }\r\n        var urlString = typeof addOnUrl === 'string' ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\r\n        if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\r\n          urlString = AddOnManager.baseURL + '/' + urlString;\r\n        }\r\n        urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\r\n        if (lookup[name]) {\r\n          loadDependencies(name, addOnUrl, success, scope);\r\n        } else {\r\n          ScriptLoader.ScriptLoader.add(urlString, function () {\r\n            return loadDependencies(name, addOnUrl, success, scope);\r\n          }, scope, failure);\r\n        }\r\n      };\r\n      var waitFor = function (name, callback) {\r\n        if (lookup.hasOwnProperty(name)) {\r\n          callback();\r\n        } else {\r\n          _listeners.push({\r\n            name: name,\r\n            callback: callback\r\n          });\r\n        }\r\n      };\r\n      return {\r\n        items: items,\r\n        urls: urls,\r\n        lookup: lookup,\r\n        _listeners: _listeners,\r\n        get: get,\r\n        dependencies: dependencies,\r\n        requireLangPack: requireLangPack,\r\n        add: add,\r\n        remove: remove,\r\n        createUrl: createUrl,\r\n        addComponents: addComponents,\r\n        load: load,\r\n        waitFor: waitFor\r\n      };\r\n    }\r\n    (function (AddOnManager) {\r\n      AddOnManager.PluginManager = AddOnManager();\r\n      AddOnManager.ThemeManager = AddOnManager();\r\n    }(AddOnManager || (AddOnManager = {})));\r\n\r\n    var before = function (marker, element) {\r\n      var parent$$1 = parent(marker);\r\n      parent$$1.each(function (v) {\r\n        v.dom().insertBefore(element.dom(), marker.dom());\r\n      });\r\n    };\r\n    var after = function (marker, element) {\r\n      var sibling = nextSibling(marker);\r\n      sibling.fold(function () {\r\n        var parent$$1 = parent(marker);\r\n        parent$$1.each(function (v) {\r\n          append(v, element);\r\n        });\r\n      }, function (v) {\r\n        before(v, element);\r\n      });\r\n    };\r\n    var prepend = function (parent$$1, element) {\r\n      var firstChild$$1 = firstChild(parent$$1);\r\n      firstChild$$1.fold(function () {\r\n        append(parent$$1, element);\r\n      }, function (v) {\r\n        parent$$1.dom().insertBefore(element.dom(), v.dom());\r\n      });\r\n    };\r\n    var append = function (parent$$1, element) {\r\n      parent$$1.dom().appendChild(element.dom());\r\n    };\r\n    var wrap$1 = function (element, wrapper) {\r\n      before(element, wrapper);\r\n      append(wrapper, element);\r\n    };\r\n\r\n    var before$1 = function (marker, elements) {\r\n      each(elements, function (x) {\r\n        before(marker, x);\r\n      });\r\n    };\r\n    var append$1 = function (parent, elements) {\r\n      each(elements, function (x) {\r\n        append(parent, x);\r\n      });\r\n    };\r\n\r\n    var empty = function (element) {\r\n      element.dom().textContent = '';\r\n      each(children(element), function (rogue) {\r\n        remove$2(rogue);\r\n      });\r\n    };\r\n    var remove$2 = function (element) {\r\n      var dom = element.dom();\r\n      if (dom.parentNode !== null) {\r\n        dom.parentNode.removeChild(dom);\r\n      }\r\n    };\r\n    var unwrap = function (wrapper) {\r\n      var children$$1 = children(wrapper);\r\n      if (children$$1.length > 0) {\r\n        before$1(wrapper, children$$1);\r\n      }\r\n      remove$2(wrapper);\r\n    };\r\n\r\n    var first$1 = function (fn, rate) {\r\n      var timer = null;\r\n      var cancel = function () {\r\n        if (timer !== null) {\r\n          clearTimeout(timer);\r\n          timer = null;\r\n        }\r\n      };\r\n      var throttle = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          args[_i] = arguments[_i];\r\n        }\r\n        if (timer === null) {\r\n          timer = setTimeout(function () {\r\n            fn.apply(null, args);\r\n            timer = null;\r\n          }, rate);\r\n        }\r\n      };\r\n      return {\r\n        cancel: cancel,\r\n        throttle: throttle\r\n      };\r\n    };\r\n    var last$3 = function (fn, rate) {\r\n      var timer = null;\r\n      var cancel = function () {\r\n        if (timer !== null) {\r\n          clearTimeout(timer);\r\n          timer = null;\r\n        }\r\n      };\r\n      var throttle = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n          args[_i] = arguments[_i];\r\n        }\r\n        if (timer !== null)\r\n          clearTimeout(timer);\r\n        timer = setTimeout(function () {\r\n          fn.apply(null, args);\r\n          timer = null;\r\n        }, rate);\r\n      };\r\n      return {\r\n        cancel: cancel,\r\n        throttle: throttle\r\n      };\r\n    };\r\n\r\n    var Cell = function (initial) {\r\n      var value = initial;\r\n      var get = function () {\r\n        return value;\r\n      };\r\n      var set = function (v) {\r\n        value = v;\r\n      };\r\n      var clone = function () {\r\n        return Cell(get());\r\n      };\r\n      return {\r\n        get: get,\r\n        set: set,\r\n        clone: clone\r\n      };\r\n    };\r\n\r\n    var read = function (element, attr) {\r\n      var value = get$1(element, attr);\r\n      return value === undefined || value === '' ? [] : value.split(' ');\r\n    };\r\n    var add = function (element, attr, id) {\r\n      var old = read(element, attr);\r\n      var nu = old.concat([id]);\r\n      set(element, attr, nu.join(' '));\r\n      return true;\r\n    };\r\n    var remove$3 = function (element, attr, id) {\r\n      var nu = filter(read(element, attr), function (v) {\r\n        return v !== id;\r\n      });\r\n      if (nu.length > 0) {\r\n        set(element, attr, nu.join(' '));\r\n      } else {\r\n        remove(element, attr);\r\n      }\r\n      return false;\r\n    };\r\n\r\n    var supports = function (element) {\r\n      return element.dom().classList !== undefined;\r\n    };\r\n    var get$3 = function (element) {\r\n      return read(element, 'class');\r\n    };\r\n    var add$1 = function (element, clazz) {\r\n      return add(element, 'class', clazz);\r\n    };\r\n    var remove$4 = function (element, clazz) {\r\n      return remove$3(element, 'class', clazz);\r\n    };\r\n\r\n    var add$2 = function (element, clazz) {\r\n      if (supports(element)) {\r\n        element.dom().classList.add(clazz);\r\n      } else {\r\n        add$1(element, clazz);\r\n      }\r\n    };\r\n    var cleanClass = function (element) {\r\n      var classList = supports(element) ? element.dom().classList : get$3(element);\r\n      if (classList.length === 0) {\r\n        remove(element, 'class');\r\n      }\r\n    };\r\n    var remove$5 = function (element, clazz) {\r\n      if (supports(element)) {\r\n        var classList = element.dom().classList;\r\n        classList.remove(clazz);\r\n      } else {\r\n        remove$4(element, clazz);\r\n      }\r\n      cleanClass(element);\r\n    };\r\n    var has$2 = function (element, clazz) {\r\n      return supports(element) && element.dom().classList.contains(clazz);\r\n    };\r\n\r\n    var descendants = function (scope, predicate) {\r\n      var result = [];\r\n      each(children(scope), function (x) {\r\n        if (predicate(x)) {\r\n          result = result.concat([x]);\r\n        }\r\n        result = result.concat(descendants(x, predicate));\r\n      });\r\n      return result;\r\n    };\r\n\r\n    var descendants$1 = function (scope, selector) {\r\n      return all(selector, scope);\r\n    };\r\n\r\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\r\n      return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);\r\n    }\r\n\r\n    var ancestor = function (scope, predicate, isRoot) {\r\n      var element = scope.dom();\r\n      var stop = isFunction(isRoot) ? isRoot : constant(false);\r\n      while (element.parentNode) {\r\n        element = element.parentNode;\r\n        var el = Element$$1.fromDom(element);\r\n        if (predicate(el)) {\r\n          return Option.some(el);\r\n        } else if (stop(el)) {\r\n          break;\r\n        }\r\n      }\r\n      return Option.none();\r\n    };\r\n    var closest = function (scope, predicate, isRoot) {\r\n      var is = function (s) {\r\n        return predicate(s);\r\n      };\r\n      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\r\n    };\r\n\r\n    var ancestor$1 = function (scope, selector, isRoot) {\r\n      return ancestor(scope, function (e) {\r\n        return is$1(e, selector);\r\n      }, isRoot);\r\n    };\r\n    var descendant$1 = function (scope, selector) {\r\n      return one(selector, scope);\r\n    };\r\n    var closest$1 = function (scope, selector, isRoot) {\r\n      return ClosestOrAncestor(is$1, ancestor$1, scope, selector, isRoot);\r\n    };\r\n\r\n    var annotation = constant('mce-annotation');\r\n    var dataAnnotation = constant('data-mce-annotation');\r\n    var dataAnnotationId = constant('data-mce-annotation-uid');\r\n\r\n    var identify = function (editor, annotationName) {\r\n      var rng = editor.selection.getRng();\r\n      var start = Element$$1.fromDom(rng.startContainer);\r\n      var root = Element$$1.fromDom(editor.getBody());\r\n      var selector = annotationName.fold(function () {\r\n        return '.' + annotation();\r\n      }, function (an) {\r\n        return '[' + dataAnnotation() + '=\"' + an + '\"]';\r\n      });\r\n      var newStart = child(start, rng.startOffset).getOr(start);\r\n      var closest = closest$1(newStart, selector, function (n) {\r\n        return eq(n, root);\r\n      });\r\n      var getAttr = function (c, property) {\r\n        if (has$1(c, property)) {\r\n          return Option.some(get$1(c, property));\r\n        } else {\r\n          return Option.none();\r\n        }\r\n      };\r\n      return closest.bind(function (c) {\r\n        return getAttr(c, '' + dataAnnotationId()).bind(function (uid) {\r\n          return getAttr(c, '' + dataAnnotation()).map(function (name$$1) {\r\n            var elements = findMarkers(editor, uid);\r\n            return {\r\n              uid: uid,\r\n              name: name$$1,\r\n              elements: elements\r\n            };\r\n          });\r\n        });\r\n      });\r\n    };\r\n    var isAnnotation = function (elem) {\r\n      return isElement(elem) && has$2(elem, annotation());\r\n    };\r\n    var findMarkers = function (editor, uid) {\r\n      var body = Element$$1.fromDom(editor.getBody());\r\n      return descendants$1(body, '[' + dataAnnotationId() + '=\"' + uid + '\"]');\r\n    };\r\n    var findAll = function (editor, name$$1) {\r\n      var body = Element$$1.fromDom(editor.getBody());\r\n      var markers = descendants$1(body, '[' + dataAnnotation() + '=\"' + name$$1 + '\"]');\r\n      var directory = {};\r\n      each(markers, function (m) {\r\n        var uid = get$1(m, dataAnnotationId());\r\n        var nodesAlready = directory.hasOwnProperty(uid) ? directory[uid] : [];\r\n        directory[uid] = nodesAlready.concat([m]);\r\n      });\r\n      return directory;\r\n    };\r\n\r\n    var setup = function (editor, registry) {\r\n      var changeCallbacks = Cell({});\r\n      var initData = function () {\r\n        return {\r\n          listeners: [],\r\n          previous: Cell(Option.none())\r\n        };\r\n      };\r\n      var withCallbacks = function (name, f) {\r\n        updateCallbacks(name, function (data) {\r\n          f(data);\r\n          return data;\r\n        });\r\n      };\r\n      var updateCallbacks = function (name, f) {\r\n        var callbackMap = changeCallbacks.get();\r\n        var data = callbackMap.hasOwnProperty(name) ? callbackMap[name] : initData();\r\n        var outputData = f(data);\r\n        callbackMap[name] = outputData;\r\n        changeCallbacks.set(callbackMap);\r\n      };\r\n      var fireCallbacks = function (name, uid, elements) {\r\n        withCallbacks(name, function (data) {\r\n          each(data.listeners, function (f) {\r\n            return f(true, name, {\r\n              uid: uid,\r\n              nodes: map(elements, function (elem) {\r\n                return elem.dom();\r\n              })\r\n            });\r\n          });\r\n        });\r\n      };\r\n      var fireNoAnnotation = function (name) {\r\n        withCallbacks(name, function (data) {\r\n          each(data.listeners, function (f) {\r\n            return f(false, name);\r\n          });\r\n        });\r\n      };\r\n      var onNodeChange = last$3(function () {\r\n        var callbackMap = changeCallbacks.get();\r\n        var annotations = sort(keys(callbackMap));\r\n        each(annotations, function (name) {\r\n          updateCallbacks(name, function (data) {\r\n            var prev = data.previous.get();\r\n            identify(editor, Option.some(name)).fold(function () {\r\n              if (prev.isSome()) {\r\n                fireNoAnnotation(name);\r\n                data.previous.set(Option.none());\r\n              }\r\n            }, function (_a) {\r\n              var uid = _a.uid, name = _a.name, elements = _a.elements;\r\n              if (!prev.is(uid)) {\r\n                fireCallbacks(name, uid, elements);\r\n                data.previous.set(Option.some(uid));\r\n              }\r\n            });\r\n            return {\r\n              previous: data.previous,\r\n              listeners: data.listeners\r\n            };\r\n          });\r\n        });\r\n      }, 30);\r\n      editor.on('remove', function () {\r\n        onNodeChange.cancel();\r\n      });\r\n      editor.on('nodeChange', function () {\r\n        onNodeChange.throttle();\r\n      });\r\n      var addListener = function (name, f) {\r\n        updateCallbacks(name, function (data) {\r\n          return {\r\n            previous: data.previous,\r\n            listeners: data.listeners.concat([f])\r\n          };\r\n        });\r\n      };\r\n      return { addListener: addListener };\r\n    };\r\n\r\n    var setup$1 = function (editor, registry) {\r\n      var identifyParserNode = function (span) {\r\n        var optAnnotation = Option.from(span.attributes.map[dataAnnotation()]);\r\n        return optAnnotation.bind(registry.lookup);\r\n      };\r\n      editor.on('init', function () {\r\n        editor.serializer.addNodeFilter('span', function (spans) {\r\n          each(spans, function (span) {\r\n            identifyParserNode(span).each(function (settings) {\r\n              if (settings.persistent === false) {\r\n                span.unwrap();\r\n              }\r\n            });\r\n          });\r\n        });\r\n      });\r\n    };\r\n\r\n    var create$1 = function () {\r\n      var annotations = {};\r\n      var register = function (name, settings) {\r\n        annotations[name] = {\r\n          name: name,\r\n          settings: settings\r\n        };\r\n      };\r\n      var lookup = function (name) {\r\n        return annotations.hasOwnProperty(name) ? Option.from(annotations[name]).map(function (a) {\r\n          return a.settings;\r\n        }) : Option.none();\r\n      };\r\n      return {\r\n        register: register,\r\n        lookup: lookup\r\n      };\r\n    };\r\n\r\n    function __rest(s, e) {\r\n      var t = {};\r\n      for (var p in s)\r\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n          t[p] = s[p];\r\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++)\r\n          if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n      return t;\r\n    }\r\n\r\n    var unique = 0;\r\n    var generate = function (prefix) {\r\n      var date = new Date();\r\n      var time = date.getTime();\r\n      var random = Math.floor(Math.random() * 1000000000);\r\n      unique++;\r\n      return prefix + '_' + random + unique + String(time);\r\n    };\r\n\r\n    var add$3 = function (element, classes) {\r\n      each(classes, function (x) {\r\n        add$2(element, x);\r\n      });\r\n    };\r\n\r\n    var clone$1 = function (original, isDeep) {\r\n      return Element$$1.fromDom(original.dom().cloneNode(isDeep));\r\n    };\r\n    var shallow = function (original) {\r\n      return clone$1(original, false);\r\n    };\r\n    var deep = function (original) {\r\n      return clone$1(original, true);\r\n    };\r\n\r\n    var fromHtml$1 = function (html, scope) {\r\n      var doc = scope || document;\r\n      var div = doc.createElement('div');\r\n      div.innerHTML = html;\r\n      return children(Element$$1.fromDom(div));\r\n    };\r\n\r\n    var get$5 = function (element) {\r\n      return element.dom().innerHTML;\r\n    };\r\n    var set$2 = function (element, content) {\r\n      var owner$$1 = owner(element);\r\n      var docDom = owner$$1.dom();\r\n      var fragment = Element$$1.fromDom(docDom.createDocumentFragment());\r\n      var contentElements = fromHtml$1(content, docDom);\r\n      append$1(fragment, contentElements);\r\n      empty(element);\r\n      append(element, fragment);\r\n    };\r\n\r\n    var ZWSP = '\\uFEFF';\r\n    var isZwsp = function (chr) {\r\n      return chr === ZWSP;\r\n    };\r\n    var trim$3 = function (text) {\r\n      return text.replace(new RegExp(ZWSP, 'g'), '');\r\n    };\r\n    var Zwsp = {\r\n      isZwsp: isZwsp,\r\n      ZWSP: ZWSP,\r\n      trim: trim$3\r\n    };\r\n\r\n    var isElement$2 = NodeType.isElement;\r\n    var isText$2 = NodeType.isText;\r\n    var isCaretContainerBlock = function (node) {\r\n      if (isText$2(node)) {\r\n        node = node.parentNode;\r\n      }\r\n      return isElement$2(node) && node.hasAttribute('data-mce-caret');\r\n    };\r\n    var isCaretContainerInline = function (node) {\r\n      return isText$2(node) && Zwsp.isZwsp(node.data);\r\n    };\r\n    var isCaretContainer = function (node) {\r\n      return isCaretContainerBlock(node) || isCaretContainerInline(node);\r\n    };\r\n    var hasContent = function (node) {\r\n      return node.firstChild !== node.lastChild || !NodeType.isBr(node.firstChild);\r\n    };\r\n    var insertInline = function (node, before) {\r\n      var doc, sibling, textNode, parentNode;\r\n      doc = node.ownerDocument;\r\n      textNode = doc.createTextNode(Zwsp.ZWSP);\r\n      parentNode = node.parentNode;\r\n      if (!before) {\r\n        sibling = node.nextSibling;\r\n        if (isText$2(sibling)) {\r\n          if (isCaretContainer(sibling)) {\r\n            return sibling;\r\n          }\r\n          if (startsWithCaretContainer(sibling)) {\r\n            sibling.splitText(1);\r\n            return sibling;\r\n          }\r\n        }\r\n        if (node.nextSibling) {\r\n          parentNode.insertBefore(textNode, node.nextSibling);\r\n        } else {\r\n          parentNode.appendChild(textNode);\r\n        }\r\n      } else {\r\n        sibling = node.previousSibling;\r\n        if (isText$2(sibling)) {\r\n          if (isCaretContainer(sibling)) {\r\n            return sibling;\r\n          }\r\n          if (endsWithCaretContainer(sibling)) {\r\n            return sibling.splitText(sibling.data.length - 1);\r\n          }\r\n        }\r\n        parentNode.insertBefore(textNode, node);\r\n      }\r\n      return textNode;\r\n    };\r\n    var isBeforeInline = function (pos) {\r\n      var container = pos.container();\r\n      if (!pos || !NodeType.isText(container)) {\r\n        return false;\r\n      }\r\n      return container.data.charAt(pos.offset()) === Zwsp.ZWSP || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\r\n    };\r\n    var isAfterInline = function (pos) {\r\n      var container = pos.container();\r\n      if (!pos || !NodeType.isText(container)) {\r\n        return false;\r\n      }\r\n      return container.data.charAt(pos.offset() - 1) === Zwsp.ZWSP || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\r\n    };\r\n    var createBogusBr = function () {\r\n      var br = document.createElement('br');\r\n      br.setAttribute('data-mce-bogus', '1');\r\n      return br;\r\n    };\r\n    var insertBlock = function (blockName, node, before) {\r\n      var doc, blockNode, parentNode;\r\n      doc = node.ownerDocument;\r\n      blockNode = doc.createElement(blockName);\r\n      blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\r\n      blockNode.setAttribute('data-mce-bogus', 'all');\r\n      blockNode.appendChild(createBogusBr());\r\n      parentNode = node.parentNode;\r\n      if (!before) {\r\n        if (node.nextSibling) {\r\n          parentNode.insertBefore(blockNode, node.nextSibling);\r\n        } else {\r\n          parentNode.appendChild(blockNode);\r\n        }\r\n      } else {\r\n        parentNode.insertBefore(blockNode, node);\r\n      }\r\n      return blockNode;\r\n    };\r\n    var startsWithCaretContainer = function (node) {\r\n      return isText$2(node) && node.data[0] === Zwsp.ZWSP;\r\n    };\r\n    var endsWithCaretContainer = function (node) {\r\n      return isText$2(node) && node.data[node.data.length - 1] === Zwsp.ZWSP;\r\n    };\r\n    var trimBogusBr = function (elm) {\r\n      var brs = elm.getElementsByTagName('br');\r\n      var lastBr = brs[brs.length - 1];\r\n      if (NodeType.isBogus(lastBr)) {\r\n        lastBr.parentNode.removeChild(lastBr);\r\n      }\r\n    };\r\n    var showCaretContainerBlock = function (caretContainer) {\r\n      if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\r\n        trimBogusBr(caretContainer);\r\n        caretContainer.removeAttribute('data-mce-caret');\r\n        caretContainer.removeAttribute('data-mce-bogus');\r\n        caretContainer.removeAttribute('style');\r\n        caretContainer.removeAttribute('_moz_abspos');\r\n        return caretContainer;\r\n      }\r\n      return null;\r\n    };\r\n    var isRangeInCaretContainerBlock = function (range) {\r\n      return isCaretContainerBlock(range.startContainer);\r\n    };\r\n\r\n    var isContentEditableTrue$1 = NodeType.isContentEditableTrue;\r\n    var isContentEditableFalse$1 = NodeType.isContentEditableFalse;\r\n    var isBr$2 = NodeType.isBr;\r\n    var isText$3 = NodeType.isText;\r\n    var isInvalidTextElement = NodeType.matchNodeNames('script style textarea');\r\n    var isAtomicInline = NodeType.matchNodeNames('img input textarea hr iframe video audio object');\r\n    var isTable$1 = NodeType.matchNodeNames('table');\r\n    var isCaretContainer$1 = isCaretContainer;\r\n    var isCaretCandidate = function (node) {\r\n      if (isCaretContainer$1(node)) {\r\n        return false;\r\n      }\r\n      if (isText$3(node)) {\r\n        if (isInvalidTextElement(node.parentNode)) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n      return isAtomicInline(node) || isBr$2(node) || isTable$1(node) || isNonUiContentEditableFalse(node);\r\n    };\r\n    var isUnselectable = function (node) {\r\n      return NodeType.isElement(node) && node.getAttribute('unselectable') === 'true';\r\n    };\r\n    var isNonUiContentEditableFalse = function (node) {\r\n      return isUnselectable(node) === false && isContentEditableFalse$1(node);\r\n    };\r\n    var isInEditable = function (node, root) {\r\n      for (node = node.parentNode; node && node !== root; node = node.parentNode) {\r\n        if (isNonUiContentEditableFalse(node)) {\r\n          return false;\r\n        }\r\n        if (isContentEditableTrue$1(node)) {\r\n          return true;\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n    var isAtomicContentEditableFalse = function (node) {\r\n      if (!isNonUiContentEditableFalse(node)) {\r\n        return false;\r\n      }\r\n      return foldl(from$1(node.getElementsByTagName('*')), function (result, elm) {\r\n        return result || isContentEditableTrue$1(elm);\r\n      }, false) !== true;\r\n    };\r\n    var isAtomic = function (node) {\r\n      return isAtomicInline(node) || isAtomicContentEditableFalse(node);\r\n    };\r\n    var isEditableCaretCandidate = function (node, root) {\r\n      return isCaretCandidate(node) && isInEditable(node, root);\r\n    };\r\n\r\n    var round = Math.round;\r\n    var clone$2 = function (rect) {\r\n      if (!rect) {\r\n        return {\r\n          left: 0,\r\n          top: 0,\r\n          bottom: 0,\r\n          right: 0,\r\n          width: 0,\r\n          height: 0\r\n        };\r\n      }\r\n      return {\r\n        left: round(rect.left),\r\n        top: round(rect.top),\r\n        bottom: round(rect.bottom),\r\n        right: round(rect.right),\r\n        width: round(rect.width),\r\n        height: round(rect.height)\r\n      };\r\n    };\r\n    var collapse = function (rect, toStart) {\r\n      rect = clone$2(rect);\r\n      if (toStart) {\r\n        rect.right = rect.left;\r\n      } else {\r\n        rect.left = rect.left + rect.width;\r\n        rect.right = rect.left;\r\n      }\r\n      rect.width = 0;\r\n      return rect;\r\n    };\r\n    var isEqual = function (rect1, rect2) {\r\n      return rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\r\n    };\r\n    var isValidOverflow = function (overflowY, rect1, rect2) {\r\n      return overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\r\n    };\r\n    var isAbove = function (rect1, rect2) {\r\n      if (rect1.bottom - rect1.height / 2 < rect2.top) {\r\n        return true;\r\n      }\r\n      if (rect1.top > rect2.bottom) {\r\n        return false;\r\n      }\r\n      return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\r\n    };\r\n    var isBelow = function (rect1, rect2) {\r\n      if (rect1.top > rect2.bottom) {\r\n        return true;\r\n      }\r\n      if (rect1.bottom < rect2.top) {\r\n        return false;\r\n      }\r\n      return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\r\n    };\r\n    var containsXY = function (rect, clientX, clientY) {\r\n      return clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\r\n    };\r\n    var overflowX = function (outer, inner) {\r\n      if (inner.left > outer.left && inner.right < outer.right) {\r\n        return 0;\r\n      } else {\r\n        return inner.left < outer.left ? inner.left - outer.left : inner.right - outer.right;\r\n      }\r\n    };\r\n    var overflowY = function (outer, inner) {\r\n      if (inner.top > outer.top && inner.bottom < outer.bottom) {\r\n        return 0;\r\n      } else {\r\n        return inner.top < outer.top ? inner.top - outer.top : inner.bottom - outer.bottom;\r\n      }\r\n    };\r\n    var getOverflow = function (outer, inner) {\r\n      return {\r\n        x: overflowX(outer, inner),\r\n        y: overflowY(outer, inner)\r\n      };\r\n    };\r\n\r\n    var getSelectedNode = function (range) {\r\n      var startContainer = range.startContainer, startOffset = range.startOffset;\r\n      if (startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\r\n        return startContainer.childNodes[startOffset];\r\n      }\r\n      return null;\r\n    };\r\n    var getNode = function (container, offset) {\r\n      if (container.nodeType === 1 && container.hasChildNodes()) {\r\n        if (offset >= container.childNodes.length) {\r\n          offset = container.childNodes.length - 1;\r\n        }\r\n        container = container.childNodes[offset];\r\n      }\r\n      return container;\r\n    };\r\n\r\n    var extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08E3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\uA69E-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\uFE2F\\uff9e-\\uff9f]');\r\n    var isExtendingChar = function (ch) {\r\n      return typeof ch === 'string' && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\r\n    };\r\n\r\n    var liftN = function (arr, f) {\r\n      var r = [];\r\n      for (var i = 0; i < arr.length; i++) {\r\n        var x = arr[i];\r\n        if (x.isSome()) {\r\n          r.push(x.getOrDie());\r\n        } else {\r\n          return Option.none();\r\n        }\r\n      }\r\n      return Option.some(f.apply(null, r));\r\n    };\r\n\r\n    var slice$3 = [].slice;\r\n    var or = function () {\r\n      var x = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n        x[_i] = arguments[_i];\r\n      }\r\n      var args = slice$3.call(arguments);\r\n      return function (x) {\r\n        for (var i = 0; i < args.length; i++) {\r\n          if (args[i](x)) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      };\r\n    };\r\n    var and = function () {\r\n      var x = [];\r\n      for (var _i = 0; _i < arguments.length; _i++) {\r\n        x[_i] = arguments[_i];\r\n      }\r\n      var args = slice$3.call(arguments);\r\n      return function (x) {\r\n        for (var i = 0; i < args.length; i++) {\r\n          if (!args[i](x)) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      };\r\n    };\r\n    var Predicate = {\r\n      and: and,\r\n      or: or\r\n    };\r\n\r\n    var isElement$3 = NodeType.isElement;\r\n    var isCaretCandidate$1 = isCaretCandidate;\r\n    var isBlock$1 = NodeType.matchStyleValues('display', 'block table');\r\n    var isFloated = NodeType.matchStyleValues('float', 'left right');\r\n    var isValidElementCaretCandidate = Predicate.and(isElement$3, isCaretCandidate$1, not(isFloated));\r\n    var isNotPre = not(NodeType.matchStyleValues('white-space', 'pre pre-line pre-wrap'));\r\n    var isText$4 = NodeType.isText;\r\n    var isBr$3 = NodeType.isBr;\r\n    var nodeIndex = DOMUtils$1.nodeIndex;\r\n    var resolveIndex = getNode;\r\n    var createRange = function (doc) {\r\n      return 'createRange' in doc ? doc.createRange() : DOMUtils$1.DOM.createRng();\r\n    };\r\n    var isWhiteSpace = function (chr) {\r\n      return chr && /[\\r\\n\\t ]/.test(chr);\r\n    };\r\n    var isRange = function (rng) {\r\n      return !!rng.setStart && !!rng.setEnd;\r\n    };\r\n    var isHiddenWhiteSpaceRange = function (range$$1) {\r\n      var container = range$$1.startContainer;\r\n      var offset = range$$1.startOffset;\r\n      var text;\r\n      if (isWhiteSpace(range$$1.toString()) && isNotPre(container.parentNode) && NodeType.isText(container)) {\r\n        text = container.data;\r\n        if (isWhiteSpace(text[offset - 1]) || isWhiteSpace(text[offset + 1])) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    var getBrClientRect = function (brNode) {\r\n      var doc = brNode.ownerDocument;\r\n      var rng = createRange(doc);\r\n      var nbsp = doc.createTextNode('\\xA0');\r\n      var parentNode = brNode.parentNode;\r\n      var clientRect;\r\n      parentNode.insertBefore(nbsp, brNode);\r\n      rng.setStart(nbsp, 0);\r\n      rng.setEnd(nbsp, 1);\r\n      clientRect = clone$2(rng.getBoundingClientRect());\r\n      parentNode.removeChild(nbsp);\r\n      return clientRect;\r\n    };\r\n    var getBoundingClientRectWebKitText = function (rng) {\r\n      var sc = rng.startContainer;\r\n      var ec = rng.endContainer;\r\n      var so = rng.startOffset;\r\n      var eo = rng.endOffset;\r\n      if (sc === ec && NodeType.isText(ec) && so === 0 && eo === 1) {\r\n        var newRng = rng.cloneRange();\r\n        newRng.setEndAfter(ec);\r\n        return getBoundingClientRect(newRng);\r\n      } else {\r\n        return null;\r\n      }\r\n    };\r\n    var isZeroRect = function (r) {\r\n      return r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\r\n    };\r\n    var getBoundingClientRect = function (item) {\r\n      var clientRect, clientRects;\r\n      clientRects = item.getClientRects();\r\n      if (clientRects.length > 0) {\r\n        clientRect = clone$2(clientRects[0]);\r\n      } else {\r\n        clientRect = clone$2(item.getBoundingClientRect());\r\n      }\r\n      if (!isRange(item) && isBr$3(item) && isZeroRect(clientRect)) {\r\n        return getBrClientRect(item);\r\n      }\r\n      if (isZeroRect(clientRect) && isRange(item)) {\r\n        return getBoundingClientRectWebKitText(item);\r\n      }\r\n      return clientRect;\r\n    };\r\n    var collapseAndInflateWidth = function (clientRect, toStart) {\r\n      var newClientRect = collapse(clientRect, toStart);\r\n      newClientRect.width = 1;\r\n      newClientRect.right = newClientRect.left + 1;\r\n      return newClientRect;\r\n    };\r\n    var getCaretPositionClientRects = function (caretPosition) {\r\n      var clientRects = [];\r\n      var beforeNode, node;\r\n      var addUniqueAndValidRect = function (clientRect) {\r\n        if (clientRect.height === 0) {\r\n          return;\r\n        }\r\n        if (clientRects.length > 0) {\r\n          if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\r\n            return;\r\n          }\r\n        }\r\n        clientRects.push(clientRect);\r\n      };\r\n      var addCharacterOffset = function (container, offset) {\r\n        var range$$1 = createRange(container.ownerDocument);\r\n        if (offset < container.data.length) {\r\n          if (isExtendingChar(container.data[offset])) {\r\n            return clientRects;\r\n          }\r\n          if (isExtendingChar(container.data[offset - 1])) {\r\n            range$$1.setStart(container, offset);\r\n            range$$1.setEnd(container, offset + 1);\r\n            if (!isHiddenWhiteSpaceRange(range$$1)) {\r\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range$$1), false));\r\n              return clientRects;\r\n            }\r\n          }\r\n        }\r\n        if (offset > 0) {\r\n          range$$1.setStart(container, offset - 1);\r\n          range$$1.setEnd(container, offset);\r\n          if (!isHiddenWhiteSpaceRange(range$$1)) {\r\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range$$1), false));\r\n          }\r\n        }\r\n        if (offset < container.data.length) {\r\n          range$$1.setStart(container, offset);\r\n          range$$1.setEnd(container, offset + 1);\r\n          if (!isHiddenWhiteSpaceRange(range$$1)) {\r\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range$$1), true));\r\n          }\r\n        }\r\n      };\r\n      if (isText$4(caretPosition.container())) {\r\n        addCharacterOffset(caretPosition.container(), caretPosition.offset());\r\n        return clientRects;\r\n      }\r\n      if (isElement$3(caretPosition.container())) {\r\n        if (caretPosition.isAtEnd()) {\r\n          node = resolveIndex(caretPosition.container(), caretPosition.offset());\r\n          if (isText$4(node)) {\r\n            addCharacterOffset(node, node.data.length);\r\n          }\r\n          if (isValidElementCaretCandidate(node) && !isBr$3(node)) {\r\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\r\n          }\r\n        } else {\r\n          node = resolveIndex(caretPosition.container(), caretPosition.offset());\r\n          if (isText$4(node)) {\r\n            addCharacterOffset(node, 0);\r\n          }\r\n          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\r\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\r\n            return clientRects;\r\n          }\r\n          beforeNode = resolveIndex(caretPosition.container(), caretPosition.offset() - 1);\r\n          if (isValidElementCaretCandidate(beforeNode) && !isBr$3(beforeNode)) {\r\n            if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\r\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(beforeNode), false));\r\n            }\r\n          }\r\n          if (isValidElementCaretCandidate(node)) {\r\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), true));\r\n          }\r\n        }\r\n      }\r\n      return clientRects;\r\n    };\r\n    function CaretPosition(container, offset, clientRects) {\r\n      var isAtStart = function () {\r\n        if (isText$4(container)) {\r\n          return offset === 0;\r\n        }\r\n        return offset === 0;\r\n      };\r\n      var isAtEnd = function () {\r\n        if (isText$4(container)) {\r\n          return offset >= container.data.length;\r\n        }\r\n        return offset >= container.childNodes.length;\r\n      };\r\n      var toRange = function () {\r\n        var range$$1;\r\n        range$$1 = createRange(container.ownerDocument);\r\n        range$$1.setStart(container, offset);\r\n        range$$1.setEnd(container, offset);\r\n        return range$$1;\r\n      };\r\n      var getClientRects = function () {\r\n        if (!clientRects) {\r\n          clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\r\n        }\r\n        return clientRects;\r\n      };\r\n      var isVisible = function () {\r\n        return getClientRects().length > 0;\r\n      };\r\n      var isEqual$$1 = function (caretPosition) {\r\n        return caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\r\n      };\r\n      var getNode$$1 = function (before) {\r\n        return resolveIndex(container, before ? offset - 1 : offset);\r\n      };\r\n      return {\r\n        container: constant(container),\r\n        offset: constant(offset),\r\n        toRange: toRange,\r\n        getClientRects: getClientRects,\r\n        isVisible: isVisible,\r\n        isAtStart: isAtStart,\r\n        isAtEnd: isAtEnd,\r\n        isEqual: isEqual$$1,\r\n        getNode: getNode$$1\r\n      };\r\n    }\r\n    (function (CaretPosition) {\r\n      CaretPosition.fromRangeStart = function (range$$1) {\r\n        return CaretPosition(range$$1.startContainer, range$$1.startOffset);\r\n      };\r\n      CaretPosition.fromRangeEnd = function (range$$1) {\r\n        return CaretPosition(range$$1.endContainer, range$$1.endOffset);\r\n      };\r\n      CaretPosition.after = function (node) {\r\n        return CaretPosition(node.parentNode, nodeIndex(node) + 1);\r\n      };\r\n      CaretPosition.before = function (node) {\r\n        return CaretPosition(node.parentNode, nodeIndex(node));\r\n      };\r\n      CaretPosition.isAbove = function (pos1, pos2) {\r\n        return liftN([\r\n          head(pos2.getClientRects()),\r\n          last(pos1.getClientRects())\r\n        ], isAbove).getOr(false);\r\n      };\r\n      CaretPosition.isBelow = function (pos1, pos2) {\r\n        return liftN([\r\n          last(pos2.getClientRects()),\r\n          head(pos1.getClientRects())\r\n        ], isBelow).getOr(false);\r\n      };\r\n      CaretPosition.isAtStart = function (pos) {\r\n        return pos ? pos.isAtStart() : false;\r\n      };\r\n      CaretPosition.isAtEnd = function (pos) {\r\n        return pos ? pos.isAtEnd() : false;\r\n      };\r\n      CaretPosition.isTextPosition = function (pos) {\r\n        return pos ? NodeType.isText(pos.container()) : false;\r\n      };\r\n      CaretPosition.isElementPosition = function (pos) {\r\n        return CaretPosition.isTextPosition(pos) === false;\r\n      };\r\n    }(CaretPosition || (CaretPosition = {})));\r\n    var CaretPosition$1 = CaretPosition;\r\n\r\n    var isText$5 = NodeType.isText;\r\n    var isBogus$1 = NodeType.isBogus;\r\n    var nodeIndex$1 = DOMUtils$1.nodeIndex;\r\n    var normalizedParent = function (node) {\r\n      var parentNode = node.parentNode;\r\n      if (isBogus$1(parentNode)) {\r\n        return normalizedParent(parentNode);\r\n      }\r\n      return parentNode;\r\n    };\r\n    var getChildNodes = function (node) {\r\n      if (!node) {\r\n        return [];\r\n      }\r\n      return ArrUtils.reduce(node.childNodes, function (result, node) {\r\n        if (isBogus$1(node) && node.nodeName !== 'BR') {\r\n          result = result.concat(getChildNodes(node));\r\n        } else {\r\n          result.push(node);\r\n        }\r\n        return result;\r\n      }, []);\r\n    };\r\n    var normalizedTextOffset = function (node, offset) {\r\n      while (node = node.previousSibling) {\r\n        if (!isText$5(node)) {\r\n          break;\r\n        }\r\n        offset += node.data.length;\r\n      }\r\n      return offset;\r\n    };\r\n    var equal$1 = function (a) {\r\n      return function (b) {\r\n        return a === b;\r\n      };\r\n    };\r\n    var normalizedNodeIndex = function (node) {\r\n      var nodes, index, numTextFragments;\r\n      nodes = getChildNodes(normalizedParent(node));\r\n      index = ArrUtils.findIndex(nodes, equal$1(node), node);\r\n      nodes = nodes.slice(0, index + 1);\r\n      numTextFragments = ArrUtils.reduce(nodes, function (result, node, i) {\r\n        if (isText$5(node) && isText$5(nodes[i - 1])) {\r\n          result++;\r\n        }\r\n        return result;\r\n      }, 0);\r\n      nodes = ArrUtils.filter(nodes, NodeType.matchNodeNames(node.nodeName));\r\n      index = ArrUtils.findIndex(nodes, equal$1(node), node);\r\n      return index - numTextFragments;\r\n    };\r\n    var createPathItem = function (node) {\r\n      var name;\r\n      if (isText$5(node)) {\r\n        name = 'text()';\r\n      } else {\r\n        name = node.nodeName.toLowerCase();\r\n      }\r\n      return name + '[' + normalizedNodeIndex(node) + ']';\r\n    };\r\n    var parentsUntil = function (root, node, predicate) {\r\n      var parents = [];\r\n      for (node = node.parentNode; node !== root; node = node.parentNode) {\r\n        if (predicate && predicate(node)) {\r\n          break;\r\n        }\r\n        parents.push(node);\r\n      }\r\n      return parents;\r\n    };\r\n    var create$2 = function (root, caretPosition) {\r\n      var container, offset, path = [], outputOffset, childNodes, parents;\r\n      container = caretPosition.container();\r\n      offset = caretPosition.offset();\r\n      if (isText$5(container)) {\r\n        outputOffset = normalizedTextOffset(container, offset);\r\n      } else {\r\n        childNodes = container.childNodes;\r\n        if (offset >= childNodes.length) {\r\n          outputOffset = 'after';\r\n          offset = childNodes.length - 1;\r\n        } else {\r\n          outputOffset = 'before';\r\n        }\r\n        container = childNodes[offset];\r\n      }\r\n      path.push(createPathItem(container));\r\n      parents = parentsUntil(root, container);\r\n      parents = ArrUtils.filter(parents, not(NodeType.isBogus));\r\n      path = path.concat(ArrUtils.map(parents, function (node) {\r\n        return createPathItem(node);\r\n      }));\r\n      return path.reverse().join('/') + ',' + outputOffset;\r\n    };\r\n    var resolvePathItem = function (node, name, index) {\r\n      var nodes = getChildNodes(node);\r\n      nodes = ArrUtils.filter(nodes, function (node, index) {\r\n        return !isText$5(node) || !isText$5(nodes[index - 1]);\r\n      });\r\n      nodes = ArrUtils.filter(nodes, NodeType.matchNodeNames(name));\r\n      return nodes[index];\r\n    };\r\n    var findTextPosition = function (container, offset) {\r\n      var node = container, targetOffset = 0, dataLen;\r\n      while (isText$5(node)) {\r\n        dataLen = node.data.length;\r\n        if (offset >= targetOffset && offset <= targetOffset + dataLen) {\r\n          container = node;\r\n          offset = offset - targetOffset;\r\n          break;\r\n        }\r\n        if (!isText$5(node.nextSibling)) {\r\n          container = node;\r\n          offset = dataLen;\r\n          break;\r\n        }\r\n        targetOffset += dataLen;\r\n        node = node.nextSibling;\r\n      }\r\n      if (isText$5(container) && offset > container.data.length) {\r\n        offset = container.data.length;\r\n      }\r\n      return CaretPosition$1(container, offset);\r\n    };\r\n    var resolve$2 = function (root, path) {\r\n      var parts, container, offset;\r\n      if (!path) {\r\n        return null;\r\n      }\r\n      parts = path.split(',');\r\n      path = parts[0].split('/');\r\n      offset = parts.length > 1 ? parts[1] : 'before';\r\n      container = ArrUtils.reduce(path, function (result, value) {\r\n        value = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\r\n        if (!value) {\r\n          return null;\r\n        }\r\n        if (value[1] === 'text()') {\r\n          value[1] = '#text';\r\n        }\r\n        return resolvePathItem(result, value[1], parseInt(value[2], 10));\r\n      }, root);\r\n      if (!container) {\r\n        return null;\r\n      }\r\n      if (!isText$5(container)) {\r\n        if (offset === 'after') {\r\n          offset = nodeIndex$1(container) + 1;\r\n        } else {\r\n          offset = nodeIndex$1(container);\r\n        }\r\n        return CaretPosition$1(container.parentNode, offset);\r\n      }\r\n      return findTextPosition(container, parseInt(offset, 10));\r\n    };\r\n\r\n    var trimEmptyTextNode = function (dom, node) {\r\n      if (NodeType.isText(node) && node.data.length === 0) {\r\n        dom.remove(node);\r\n      }\r\n    };\r\n    var insertNode = function (dom, rng, node) {\r\n      rng.insertNode(node);\r\n      trimEmptyTextNode(dom, node.previousSibling);\r\n      trimEmptyTextNode(dom, node.nextSibling);\r\n    };\r\n    var insertFragment = function (dom, rng, frag) {\r\n      var firstChild = Option.from(frag.firstChild);\r\n      var lastChild = Option.from(frag.lastChild);\r\n      rng.insertNode(frag);\r\n      firstChild.each(function (child) {\r\n        return trimEmptyTextNode(dom, child.previousSibling);\r\n      });\r\n      lastChild.each(function (child) {\r\n        return trimEmptyTextNode(dom, child.nextSibling);\r\n      });\r\n    };\r\n    var rangeInsertNode = function (dom, rng, node) {\r\n      if (NodeType.isDocumentFragment(node)) {\r\n        insertFragment(dom, rng, node);\r\n      } else {\r\n        insertNode(dom, rng, node);\r\n      }\r\n    };\r\n\r\n    var isContentEditableFalse$2 = NodeType.isContentEditableFalse;\r\n    var getNormalizedTextOffset = function (trim, container, offset) {\r\n      var node, trimmedOffset;\r\n      trimmedOffset = trim(container.data.slice(0, offset)).length;\r\n      for (node = container.previousSibling; node && NodeType.isText(node); node = node.previousSibling) {\r\n        trimmedOffset += trim(node.data).length;\r\n      }\r\n      return trimmedOffset;\r\n    };\r\n    var getPoint = function (dom, trim, normalized, rng, start) {\r\n      var container = rng[start ? 'startContainer' : 'endContainer'];\r\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\r\n      var point = [];\r\n      var childNodes, after = 0;\r\n      var root = dom.getRoot();\r\n      if (NodeType.isText(container)) {\r\n        point.push(normalized ? getNormalizedTextOffset(trim, container, offset) : offset);\r\n      } else {\r\n        childNodes = container.childNodes;\r\n        if (offset >= childNodes.length && childNodes.length) {\r\n          after = 1;\r\n          offset = Math.max(0, childNodes.length - 1);\r\n        }\r\n        point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\r\n      }\r\n      for (; container && container !== root; container = container.parentNode) {\r\n        point.push(dom.nodeIndex(container, normalized));\r\n      }\r\n      return point;\r\n    };\r\n    var getLocation = function (trim, selection, normalized, rng) {\r\n      var dom = selection.dom, bookmark = {};\r\n      bookmark.start = getPoint(dom, trim, normalized, rng, true);\r\n      if (!selection.isCollapsed()) {\r\n        bookmark.end = getPoint(dom, trim, normalized, rng, false);\r\n      }\r\n      return bookmark;\r\n    };\r\n    var findIndex$3 = function (dom, name, element) {\r\n      var count = 0;\r\n      Tools.each(dom.select(name), function (node) {\r\n        if (node.getAttribute('data-mce-bogus') === 'all') {\r\n          return;\r\n        }\r\n        if (node === element) {\r\n          return false;\r\n        }\r\n        count++;\r\n      });\r\n      return count;\r\n    };\r\n    var moveEndPoint = function (rng, start) {\r\n      var container, offset, childNodes;\r\n      var prefix = start ? 'start' : 'end';\r\n      container = rng[prefix + 'Container'];\r\n      offset = rng[prefix + 'Offset'];\r\n      if (NodeType.isElement(container) && container.nodeName === 'TR') {\r\n        childNodes = container.childNodes;\r\n        container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\r\n        if (container) {\r\n          offset = start ? 0 : container.childNodes.length;\r\n          rng['set' + (start ? 'Start' : 'End')](container, offset);\r\n        }\r\n      }\r\n    };\r\n    var normalizeTableCellSelection = function (rng) {\r\n      moveEndPoint(rng, true);\r\n      moveEndPoint(rng, false);\r\n      return rng;\r\n    };\r\n    var findSibling = function (node, offset) {\r\n      var sibling;\r\n      if (NodeType.isElement(node)) {\r\n        node = getNode(node, offset);\r\n        if (isContentEditableFalse$2(node)) {\r\n          return node;\r\n        }\r\n      }\r\n      if (isCaretContainer(node)) {\r\n        if (NodeType.isText(node) && isCaretContainerBlock(node)) {\r\n          node = node.parentNode;\r\n        }\r\n        sibling = node.previousSibling;\r\n        if (isContentEditableFalse$2(sibling)) {\r\n          return sibling;\r\n        }\r\n        sibling = node.nextSibling;\r\n        if (isContentEditableFalse$2(sibling)) {\r\n          return sibling;\r\n        }\r\n      }\r\n    };\r\n    var findAdjacentContentEditableFalseElm = function (rng) {\r\n      return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\r\n    };\r\n    var getOffsetBookmark = function (trim, normalized, selection) {\r\n      var element = selection.getNode();\r\n      var name = element ? element.nodeName : null;\r\n      var rng = selection.getRng();\r\n      if (isContentEditableFalse$2(element) || name === 'IMG') {\r\n        return {\r\n          name: name,\r\n          index: findIndex$3(selection.dom, name, element)\r\n        };\r\n      }\r\n      var sibling = findAdjacentContentEditableFalseElm(rng);\r\n      if (sibling) {\r\n        name = sibling.tagName;\r\n        return {\r\n          name: name,\r\n          index: findIndex$3(selection.dom, name, sibling)\r\n        };\r\n      }\r\n      return getLocation(trim, selection, normalized, rng);\r\n    };\r\n    var getCaretBookmark = function (selection) {\r\n      var rng = selection.getRng();\r\n      return {\r\n        start: create$2(selection.dom.getRoot(), CaretPosition$1.fromRangeStart(rng)),\r\n        end: create$2(selection.dom.getRoot(), CaretPosition$1.fromRangeEnd(rng))\r\n      };\r\n    };\r\n    var getRangeBookmark = function (selection) {\r\n      return { rng: selection.getRng() };\r\n    };\r\n    var createBookmarkSpan = function (dom, id, filled) {\r\n      var args = {\r\n        'data-mce-type': 'bookmark',\r\n        'id': id,\r\n        'style': 'overflow:hidden;line-height:0px'\r\n      };\r\n      return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\r\n    };\r\n    var getPersistentBookmark = function (selection, filled) {\r\n      var dom = selection.dom;\r\n      var rng = selection.getRng();\r\n      var id = dom.uniqueId();\r\n      var collapsed = selection.isCollapsed();\r\n      var element = selection.getNode();\r\n      var name = element.nodeName;\r\n      if (name === 'IMG') {\r\n        return {\r\n          name: name,\r\n          index: findIndex$3(dom, name, element)\r\n        };\r\n      }\r\n      var rng2 = normalizeTableCellSelection(rng.cloneRange());\r\n      if (!collapsed) {\r\n        rng2.collapse(false);\r\n        var endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\r\n        rangeInsertNode(dom, rng2, endBookmarkNode);\r\n      }\r\n      rng = normalizeTableCellSelection(rng);\r\n      rng.collapse(true);\r\n      var startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\r\n      rangeInsertNode(dom, rng, startBookmarkNode);\r\n      selection.moveToBookmark({\r\n        id: id,\r\n        keep: 1\r\n      });\r\n      return { id: id };\r\n    };\r\n    var getBookmark = function (selection, type, normalized) {\r\n      if (type === 2) {\r\n        return getOffsetBookmark(Zwsp.trim, normalized, selection);\r\n      } else if (type === 3) {\r\n        return getCaretBookmark(selection);\r\n      } else if (type) {\r\n        return getRangeBookmark(selection);\r\n      } else {\r\n        return getPersistentBookmark(selection, false);\r\n      }\r\n    };\r\n    var GetBookmark = {\r\n      getBookmark: getBookmark,\r\n      getUndoBookmark: curry(getOffsetBookmark, identity, true),\r\n      getPersistentBookmark: getPersistentBookmark\r\n    };\r\n\r\n    var CARET_ID = '_mce_caret';\r\n    var isCaretNode = function (node) {\r\n      return NodeType.isElement(node) && node.id === CARET_ID;\r\n    };\r\n    var getParentCaretContainer = function (body, node) {\r\n      while (node && node !== body) {\r\n        if (node.id === CARET_ID) {\r\n          return node;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n\r\n    var isElement$4 = NodeType.isElement;\r\n    var isText$6 = NodeType.isText;\r\n    var removeNode = function (node) {\r\n      var parentNode = node.parentNode;\r\n      if (parentNode) {\r\n        parentNode.removeChild(node);\r\n      }\r\n    };\r\n    var getNodeValue = function (node) {\r\n      try {\r\n        return node.nodeValue;\r\n      } catch (ex) {\r\n        return '';\r\n      }\r\n    };\r\n    var setNodeValue = function (node, text) {\r\n      if (text.length === 0) {\r\n        removeNode(node);\r\n      } else {\r\n        node.nodeValue = text;\r\n      }\r\n    };\r\n    var trimCount = function (text) {\r\n      var trimmedText = Zwsp.trim(text);\r\n      return {\r\n        count: text.length - trimmedText.length,\r\n        text: trimmedText\r\n      };\r\n    };\r\n    var removeUnchanged = function (caretContainer, pos) {\r\n      remove$7(caretContainer);\r\n      return pos;\r\n    };\r\n    var removeTextAndReposition = function (caretContainer, pos) {\r\n      var before = trimCount(caretContainer.data.substr(0, pos.offset()));\r\n      var after = trimCount(caretContainer.data.substr(pos.offset()));\r\n      var text = before.text + after.text;\r\n      if (text.length > 0) {\r\n        setNodeValue(caretContainer, text);\r\n        return CaretPosition$1(caretContainer, pos.offset() - before.count);\r\n      } else {\r\n        return pos;\r\n      }\r\n    };\r\n    var removeElementAndReposition = function (caretContainer, pos) {\r\n      var parentNode = pos.container();\r\n      var newPosition = indexOf(from$1(parentNode.childNodes), caretContainer).map(function (index) {\r\n        return index < pos.offset() ? CaretPosition$1(parentNode, pos.offset() - 1) : pos;\r\n      }).getOr(pos);\r\n      remove$7(caretContainer);\r\n      return newPosition;\r\n    };\r\n    var removeTextCaretContainer = function (caretContainer, pos) {\r\n      return isText$6(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\r\n    };\r\n    var removeElementCaretContainer = function (caretContainer, pos) {\r\n      return pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\r\n    };\r\n    var removeAndReposition = function (container, pos) {\r\n      return CaretPosition$1.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\r\n    };\r\n    var remove$7 = function (caretContainerNode) {\r\n      if (isElement$4(caretContainerNode) && isCaretContainer(caretContainerNode)) {\r\n        if (hasContent(caretContainerNode)) {\r\n          caretContainerNode.removeAttribute('data-mce-caret');\r\n        } else {\r\n          removeNode(caretContainerNode);\r\n        }\r\n      }\r\n      if (isText$6(caretContainerNode)) {\r\n        var text = Zwsp.trim(getNodeValue(caretContainerNode));\r\n        setNodeValue(caretContainerNode, text);\r\n      }\r\n    };\r\n    var CaretContainerRemove = {\r\n      removeAndReposition: removeAndReposition,\r\n      remove: remove$7\r\n    };\r\n\r\n    var browser$2 = PlatformDetection$1.detect().browser;\r\n    var isContentEditableFalse$3 = NodeType.isContentEditableFalse;\r\n    var isTableCell$1 = function (node) {\r\n      return NodeType.isElement(node) && /^(TD|TH)$/i.test(node.tagName);\r\n    };\r\n    var getAbsoluteClientRect = function (root, element, before) {\r\n      var clientRect = collapse(element.getBoundingClientRect(), before);\r\n      var docElm, scrollX, scrollY, margin, rootRect;\r\n      if (root.tagName === 'BODY') {\r\n        docElm = root.ownerDocument.documentElement;\r\n        scrollX = root.scrollLeft || docElm.scrollLeft;\r\n        scrollY = root.scrollTop || docElm.scrollTop;\r\n      } else {\r\n        rootRect = root.getBoundingClientRect();\r\n        scrollX = root.scrollLeft - rootRect.left;\r\n        scrollY = root.scrollTop - rootRect.top;\r\n      }\r\n      clientRect.left += scrollX;\r\n      clientRect.right += scrollX;\r\n      clientRect.top += scrollY;\r\n      clientRect.bottom += scrollY;\r\n      clientRect.width = 1;\r\n      margin = element.offsetWidth - element.clientWidth;\r\n      if (margin > 0) {\r\n        if (before) {\r\n          margin *= -1;\r\n        }\r\n        clientRect.left += margin;\r\n        clientRect.right += margin;\r\n      }\r\n      return clientRect;\r\n    };\r\n    var trimInlineCaretContainers = function (root) {\r\n      var contentEditableFalseNodes, node, sibling, i, data;\r\n      contentEditableFalseNodes = DomQuery('*[contentEditable=false]', root);\r\n      for (i = 0; i < contentEditableFalseNodes.length; i++) {\r\n        node = contentEditableFalseNodes[i];\r\n        sibling = node.previousSibling;\r\n        if (endsWithCaretContainer(sibling)) {\r\n          data = sibling.data;\r\n          if (data.length === 1) {\r\n            sibling.parentNode.removeChild(sibling);\r\n          } else {\r\n            sibling.deleteData(data.length - 1, 1);\r\n          }\r\n        }\r\n        sibling = node.nextSibling;\r\n        if (startsWithCaretContainer(sibling)) {\r\n          data = sibling.data;\r\n          if (data.length === 1) {\r\n            sibling.parentNode.removeChild(sibling);\r\n          } else {\r\n            sibling.deleteData(0, 1);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    var FakeCaret = function (root, isBlock, hasFocus) {\r\n      var lastVisualCaret = Cell(Option.none());\r\n      var cursorInterval, caretContainerNode;\r\n      var show = function (before, element) {\r\n        var clientRect, rng;\r\n        hide();\r\n        if (isTableCell$1(element)) {\r\n          return null;\r\n        }\r\n        if (isBlock(element)) {\r\n          caretContainerNode = insertBlock('p', element, before);\r\n          clientRect = getAbsoluteClientRect(root, element, before);\r\n          DomQuery(caretContainerNode).css('top', clientRect.top);\r\n          var caret = DomQuery('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(clientRect).appendTo(root)[0];\r\n          lastVisualCaret.set(Option.some({\r\n            caret: caret,\r\n            element: element,\r\n            before: before\r\n          }));\r\n          lastVisualCaret.get().each(function (caretState) {\r\n            if (before) {\r\n              DomQuery(caretState.caret).addClass('mce-visual-caret-before');\r\n            }\r\n          });\r\n          startBlink();\r\n          rng = element.ownerDocument.createRange();\r\n          rng.setStart(caretContainerNode, 0);\r\n          rng.setEnd(caretContainerNode, 0);\r\n        } else {\r\n          caretContainerNode = insertInline(element, before);\r\n          rng = element.ownerDocument.createRange();\r\n          if (isContentEditableFalse$3(caretContainerNode.nextSibling)) {\r\n            rng.setStart(caretContainerNode, 0);\r\n            rng.setEnd(caretContainerNode, 0);\r\n          } else {\r\n            rng.setStart(caretContainerNode, 1);\r\n            rng.setEnd(caretContainerNode, 1);\r\n          }\r\n          return rng;\r\n        }\r\n        return rng;\r\n      };\r\n      var hide = function () {\r\n        trimInlineCaretContainers(root);\r\n        if (caretContainerNode) {\r\n          CaretContainerRemove.remove(caretContainerNode);\r\n          caretContainerNode = null;\r\n        }\r\n        lastVisualCaret.get().each(function (caretState) {\r\n          DomQuery(caretState.caret).remove();\r\n          lastVisualCaret.set(Option.none());\r\n        });\r\n        clearInterval(cursorInterval);\r\n      };\r\n      var startBlink = function () {\r\n        cursorInterval = Delay.setInterval(function () {\r\n          if (hasFocus()) {\r\n            DomQuery('div.mce-visual-caret', root).toggleClass('mce-visual-caret-hidden');\r\n          } else {\r\n            DomQuery('div.mce-visual-caret', root).addClass('mce-visual-caret-hidden');\r\n          }\r\n        }, 500);\r\n      };\r\n      var reposition = function () {\r\n        lastVisualCaret.get().each(function (caretState) {\r\n          var clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\r\n          DomQuery(caretState.caret).css(clientRect);\r\n        });\r\n      };\r\n      var destroy = function () {\r\n        return Delay.clearInterval(cursorInterval);\r\n      };\r\n      var getCss = function () {\r\n        return '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\r\n      };\r\n      return {\r\n        show: show,\r\n        hide: hide,\r\n        getCss: getCss,\r\n        reposition: reposition,\r\n        destroy: destroy\r\n      };\r\n    };\r\n    var isFakeCaretTableBrowser = function () {\r\n      return browser$2.isIE() || browser$2.isEdge() || browser$2.isFirefox();\r\n    };\r\n    var isFakeCaretTarget = function (node) {\r\n      return isContentEditableFalse$3(node) || NodeType.isTable(node) && isFakeCaretTableBrowser();\r\n    };\r\n\r\n    var is$3 = function (expected) {\r\n      return function (actual) {\r\n        return expected === actual;\r\n      };\r\n    };\r\n    var isNbsp = is$3('\\xA0');\r\n    var isWhiteSpace$1 = function (chr) {\r\n      return /^[\\r\\n\\t ]$/.test(chr);\r\n    };\r\n    var isContent = function (chr) {\r\n      return !isWhiteSpace$1(chr) && !isNbsp(chr);\r\n    };\r\n\r\n    var isContentEditableFalse$4 = NodeType.isContentEditableFalse;\r\n    var isBlockLike = NodeType.matchStyleValues('display', 'block table table-cell table-caption list-item');\r\n    var isCaretContainer$2 = isCaretContainer;\r\n    var isCaretContainerBlock$1 = isCaretContainerBlock;\r\n    var isElement$5 = NodeType.isElement;\r\n    var isCaretCandidate$2 = isCaretCandidate;\r\n    var isForwards = function (direction) {\r\n      return direction > 0;\r\n    };\r\n    var isBackwards = function (direction) {\r\n      return direction < 0;\r\n    };\r\n    var skipCaretContainers = function (walk, shallow) {\r\n      var node;\r\n      while (node = walk(shallow)) {\r\n        if (!isCaretContainerBlock$1(node)) {\r\n          return node;\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n    var findNode = function (node, direction, predicateFn, rootNode, shallow) {\r\n      var walker = new TreeWalker(node, rootNode);\r\n      if (isBackwards(direction)) {\r\n        if (isContentEditableFalse$4(node) || isCaretContainerBlock$1(node)) {\r\n          node = skipCaretContainers(walker.prev, true);\r\n          if (predicateFn(node)) {\r\n            return node;\r\n          }\r\n        }\r\n        while (node = skipCaretContainers(walker.prev, shallow)) {\r\n          if (predicateFn(node)) {\r\n            return node;\r\n          }\r\n        }\r\n      }\r\n      if (isForwards(direction)) {\r\n        if (isContentEditableFalse$4(node) || isCaretContainerBlock$1(node)) {\r\n          node = skipCaretContainers(walker.next, true);\r\n          if (predicateFn(node)) {\r\n            return node;\r\n          }\r\n        }\r\n        while (node = skipCaretContainers(walker.next, shallow)) {\r\n          if (predicateFn(node)) {\r\n            return node;\r\n          }\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n    var getParentBlock = function (node, rootNode) {\r\n      while (node && node !== rootNode) {\r\n        if (isBlockLike(node)) {\r\n          return node;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n    var isInSameBlock = function (caretPosition1, caretPosition2, rootNode) {\r\n      return getParentBlock(caretPosition1.container(), rootNode) === getParentBlock(caretPosition2.container(), rootNode);\r\n    };\r\n    var getChildNodeAtRelativeOffset = function (relativeOffset, caretPosition) {\r\n      var container, offset;\r\n      if (!caretPosition) {\r\n        return null;\r\n      }\r\n      container = caretPosition.container();\r\n      offset = caretPosition.offset();\r\n      if (!isElement$5(container)) {\r\n        return null;\r\n      }\r\n      return container.childNodes[offset + relativeOffset];\r\n    };\r\n    var beforeAfter = function (before, node) {\r\n      var range = node.ownerDocument.createRange();\r\n      if (before) {\r\n        range.setStartBefore(node);\r\n        range.setEndBefore(node);\r\n      } else {\r\n        range.setStartAfter(node);\r\n        range.setEndAfter(node);\r\n      }\r\n      return range;\r\n    };\r\n    var isNodesInSameBlock = function (root, node1, node2) {\r\n      return getParentBlock(node1, root) === getParentBlock(node2, root);\r\n    };\r\n    var lean = function (left, root, node) {\r\n      var sibling, siblingName;\r\n      if (left) {\r\n        siblingName = 'previousSibling';\r\n      } else {\r\n        siblingName = 'nextSibling';\r\n      }\r\n      while (node && node !== root) {\r\n        sibling = node[siblingName];\r\n        if (isCaretContainer$2(sibling)) {\r\n          sibling = sibling[siblingName];\r\n        }\r\n        if (isContentEditableFalse$4(sibling)) {\r\n          if (isNodesInSameBlock(root, sibling, node)) {\r\n            return sibling;\r\n          }\r\n          break;\r\n        }\r\n        if (isCaretCandidate$2(sibling)) {\r\n          break;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n    var before$2 = curry(beforeAfter, true);\r\n    var after$2 = curry(beforeAfter, false);\r\n    var normalizeRange = function (direction, root, range) {\r\n      var node, container, offset, location;\r\n      var leanLeft = curry(lean, true, root);\r\n      var leanRight = curry(lean, false, root);\r\n      container = range.startContainer;\r\n      offset = range.startOffset;\r\n      if (isCaretContainerBlock(container)) {\r\n        if (!isElement$5(container)) {\r\n          container = container.parentNode;\r\n        }\r\n        location = container.getAttribute('data-mce-caret');\r\n        if (location === 'before') {\r\n          node = container.nextSibling;\r\n          if (isFakeCaretTarget(node)) {\r\n            return before$2(node);\r\n          }\r\n        }\r\n        if (location === 'after') {\r\n          node = container.previousSibling;\r\n          if (isFakeCaretTarget(node)) {\r\n            return after$2(node);\r\n          }\r\n        }\r\n      }\r\n      if (!range.collapsed) {\r\n        return range;\r\n      }\r\n      if (NodeType.isText(container)) {\r\n        if (isCaretContainer$2(container)) {\r\n          if (direction === 1) {\r\n            node = leanRight(container);\r\n            if (node) {\r\n              return before$2(node);\r\n            }\r\n            node = leanLeft(container);\r\n            if (node) {\r\n              return after$2(node);\r\n            }\r\n          }\r\n          if (direction === -1) {\r\n            node = leanLeft(container);\r\n            if (node) {\r\n              return after$2(node);\r\n            }\r\n            node = leanRight(container);\r\n            if (node) {\r\n              return before$2(node);\r\n            }\r\n          }\r\n          return range;\r\n        }\r\n        if (endsWithCaretContainer(container) && offset >= container.data.length - 1) {\r\n          if (direction === 1) {\r\n            node = leanRight(container);\r\n            if (node) {\r\n              return before$2(node);\r\n            }\r\n          }\r\n          return range;\r\n        }\r\n        if (startsWithCaretContainer(container) && offset <= 1) {\r\n          if (direction === -1) {\r\n            node = leanLeft(container);\r\n            if (node) {\r\n              return after$2(node);\r\n            }\r\n          }\r\n          return range;\r\n        }\r\n        if (offset === container.data.length) {\r\n          node = leanRight(container);\r\n          if (node) {\r\n            return before$2(node);\r\n          }\r\n          return range;\r\n        }\r\n        if (offset === 0) {\r\n          node = leanLeft(container);\r\n          if (node) {\r\n            return after$2(node);\r\n          }\r\n          return range;\r\n        }\r\n      }\r\n      return range;\r\n    };\r\n    var isNextToContentEditableFalse = function (relativeOffset, caretPosition) {\r\n      var node = getChildNodeAtRelativeOffset(relativeOffset, caretPosition);\r\n      return isContentEditableFalse$4(node) && !NodeType.isBogusAll(node);\r\n    };\r\n    var isNextToTable = function (relativeOffset, caretPosition) {\r\n      return NodeType.isTable(getChildNodeAtRelativeOffset(relativeOffset, caretPosition));\r\n    };\r\n    var getRelativeCefElm = function (forward, caretPosition) {\r\n      return Option.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition)).filter(isContentEditableFalse$4);\r\n    };\r\n    var getNormalizedRangeEndPoint = function (direction, root, range) {\r\n      var normalizedRange = normalizeRange(direction, root, range);\r\n      if (direction === -1) {\r\n        return CaretPosition.fromRangeStart(normalizedRange);\r\n      }\r\n      return CaretPosition.fromRangeEnd(normalizedRange);\r\n    };\r\n    var isBeforeContentEditableFalse = curry(isNextToContentEditableFalse, 0);\r\n    var isAfterContentEditableFalse = curry(isNextToContentEditableFalse, -1);\r\n    var isBeforeTable = curry(isNextToTable, 0);\r\n    var isAfterTable = curry(isNextToTable, -1);\r\n    var isChar = function (forward, predicate, pos) {\r\n      return Option.from(pos.container()).filter(NodeType.isText).exists(function (text) {\r\n        var delta = forward ? 0 : -1;\r\n        return predicate(text.data.charAt(pos.offset() + delta));\r\n      });\r\n    };\r\n    var isBeforeSpace = curry(isChar, true, isWhiteSpace$1);\r\n    var isAfterSpace = curry(isChar, false, isWhiteSpace$1);\r\n    var getElementFromPosition = function (pos) {\r\n      return Option.from(pos.getNode()).map(Element$$1.fromDom);\r\n    };\r\n    var getElementFromPrevPosition = function (pos) {\r\n      return Option.from(pos.getNode(true)).map(Element$$1.fromDom);\r\n    };\r\n    var getVisualCaretPosition = function (walkFn, caretPosition) {\r\n      while (caretPosition = walkFn(caretPosition)) {\r\n        if (caretPosition.isVisible()) {\r\n          return caretPosition;\r\n        }\r\n      }\r\n      return caretPosition;\r\n    };\r\n    var isMoveInsideSameBlock = function (from, to) {\r\n      var inSameBlock = isInSameBlock(from, to);\r\n      if (!inSameBlock && NodeType.isBr(from.getNode())) {\r\n        return true;\r\n      }\r\n      return inSameBlock;\r\n    };\r\n\r\n    var HDirection;\r\n    (function (HDirection) {\r\n      HDirection[HDirection['Backwards'] = -1] = 'Backwards';\r\n      HDirection[HDirection['Forwards'] = 1] = 'Forwards';\r\n    }(HDirection || (HDirection = {})));\r\n    var isContentEditableFalse$5 = NodeType.isContentEditableFalse;\r\n    var isText$7 = NodeType.isText;\r\n    var isElement$6 = NodeType.isElement;\r\n    var isBr$4 = NodeType.isBr;\r\n    var isCaretCandidate$3 = isCaretCandidate;\r\n    var isAtomic$1 = isAtomic;\r\n    var isEditableCaretCandidate$1 = isEditableCaretCandidate;\r\n    var getParents = function (node, root) {\r\n      var parents = [];\r\n      while (node && node !== root) {\r\n        parents.push(node);\r\n        node = node.parentNode;\r\n      }\r\n      return parents;\r\n    };\r\n    var nodeAtIndex = function (container, offset) {\r\n      if (container.hasChildNodes() && offset < container.childNodes.length) {\r\n        return container.childNodes[offset];\r\n      }\r\n      return null;\r\n    };\r\n    var getCaretCandidatePosition = function (direction, node) {\r\n      if (isForwards(direction)) {\r\n        if (isCaretCandidate$3(node.previousSibling) && !isText$7(node.previousSibling)) {\r\n          return CaretPosition$1.before(node);\r\n        }\r\n        if (isText$7(node)) {\r\n          return CaretPosition$1(node, 0);\r\n        }\r\n      }\r\n      if (isBackwards(direction)) {\r\n        if (isCaretCandidate$3(node.nextSibling) && !isText$7(node.nextSibling)) {\r\n          return CaretPosition$1.after(node);\r\n        }\r\n        if (isText$7(node)) {\r\n          return CaretPosition$1(node, node.data.length);\r\n        }\r\n      }\r\n      if (isBackwards(direction)) {\r\n        if (isBr$4(node)) {\r\n          return CaretPosition$1.before(node);\r\n        }\r\n        return CaretPosition$1.after(node);\r\n      }\r\n      return CaretPosition$1.before(node);\r\n    };\r\n    var moveForwardFromBr = function (root, nextNode) {\r\n      var nextSibling = nextNode.nextSibling;\r\n      if (nextSibling && isCaretCandidate$3(nextSibling)) {\r\n        if (isText$7(nextSibling)) {\r\n          return CaretPosition$1(nextSibling, 0);\r\n        } else {\r\n          return CaretPosition$1.before(nextSibling);\r\n        }\r\n      } else {\r\n        return findCaretPosition(HDirection.Forwards, CaretPosition$1.after(nextNode), root);\r\n      }\r\n    };\r\n    var findCaretPosition = function (direction, startPos, root) {\r\n      var node, nextNode, innerNode;\r\n      var rootContentEditableFalseElm, caretPosition;\r\n      if (!isElement$6(root) || !startPos) {\r\n        return null;\r\n      }\r\n      if (startPos.isEqual(CaretPosition$1.after(root)) && root.lastChild) {\r\n        caretPosition = CaretPosition$1.after(root.lastChild);\r\n        if (isBackwards(direction) && isCaretCandidate$3(root.lastChild) && isElement$6(root.lastChild)) {\r\n          return isBr$4(root.lastChild) ? CaretPosition$1.before(root.lastChild) : caretPosition;\r\n        }\r\n      } else {\r\n        caretPosition = startPos;\r\n      }\r\n      var container = caretPosition.container();\r\n      var offset = caretPosition.offset();\r\n      if (isText$7(container)) {\r\n        if (isBackwards(direction) && offset > 0) {\r\n          return CaretPosition$1(container, --offset);\r\n        }\r\n        if (isForwards(direction) && offset < container.length) {\r\n          return CaretPosition$1(container, ++offset);\r\n        }\r\n        node = container;\r\n      } else {\r\n        if (isBackwards(direction) && offset > 0) {\r\n          nextNode = nodeAtIndex(container, offset - 1);\r\n          if (isCaretCandidate$3(nextNode)) {\r\n            if (!isAtomic$1(nextNode)) {\r\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\r\n              if (innerNode) {\r\n                if (isText$7(innerNode)) {\r\n                  return CaretPosition$1(innerNode, innerNode.data.length);\r\n                }\r\n                return CaretPosition$1.after(innerNode);\r\n              }\r\n            }\r\n            if (isText$7(nextNode)) {\r\n              return CaretPosition$1(nextNode, nextNode.data.length);\r\n            }\r\n            return CaretPosition$1.before(nextNode);\r\n          }\r\n        }\r\n        if (isForwards(direction) && offset < container.childNodes.length) {\r\n          nextNode = nodeAtIndex(container, offset);\r\n          if (isCaretCandidate$3(nextNode)) {\r\n            if (isBr$4(nextNode)) {\r\n              return moveForwardFromBr(root, nextNode);\r\n            }\r\n            if (!isAtomic$1(nextNode)) {\r\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\r\n              if (innerNode) {\r\n                if (isText$7(innerNode)) {\r\n                  return CaretPosition$1(innerNode, 0);\r\n                }\r\n                return CaretPosition$1.before(innerNode);\r\n              }\r\n            }\r\n            if (isText$7(nextNode)) {\r\n              return CaretPosition$1(nextNode, 0);\r\n            }\r\n            return CaretPosition$1.after(nextNode);\r\n          }\r\n        }\r\n        node = nextNode ? nextNode : caretPosition.getNode();\r\n      }\r\n      if (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart()) {\r\n        node = findNode(node, direction, constant(true), root, true);\r\n        if (isEditableCaretCandidate$1(node, root)) {\r\n          return getCaretCandidatePosition(direction, node);\r\n        }\r\n      }\r\n      nextNode = findNode(node, direction, isEditableCaretCandidate$1, root);\r\n      rootContentEditableFalseElm = ArrUtils.last(filter(getParents(container, root), isContentEditableFalse$5));\r\n      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\r\n        if (isForwards(direction)) {\r\n          caretPosition = CaretPosition$1.after(rootContentEditableFalseElm);\r\n        } else {\r\n          caretPosition = CaretPosition$1.before(rootContentEditableFalseElm);\r\n        }\r\n        return caretPosition;\r\n      }\r\n      if (nextNode) {\r\n        return getCaretCandidatePosition(direction, nextNode);\r\n      }\r\n      return null;\r\n    };\r\n    var CaretWalker = function (root) {\r\n      return {\r\n        next: function (caretPosition) {\r\n          return findCaretPosition(HDirection.Forwards, caretPosition, root);\r\n        },\r\n        prev: function (caretPosition) {\r\n          return findCaretPosition(HDirection.Backwards, caretPosition, root);\r\n        }\r\n      };\r\n    };\r\n\r\n    var walkToPositionIn = function (forward, root, start) {\r\n      var position = forward ? CaretPosition$1.before(start) : CaretPosition$1.after(start);\r\n      return fromPosition(forward, root, position);\r\n    };\r\n    var afterElement = function (node) {\r\n      return NodeType.isBr(node) ? CaretPosition$1.before(node) : CaretPosition$1.after(node);\r\n    };\r\n    var isBeforeOrStart = function (position) {\r\n      if (CaretPosition$1.isTextPosition(position)) {\r\n        return position.offset() === 0;\r\n      } else {\r\n        return isCaretCandidate(position.getNode());\r\n      }\r\n    };\r\n    var isAfterOrEnd = function (position) {\r\n      if (CaretPosition$1.isTextPosition(position)) {\r\n        var container = position.container();\r\n        return position.offset() === container.data.length;\r\n      } else {\r\n        return isCaretCandidate(position.getNode(true));\r\n      }\r\n    };\r\n    var isBeforeAfterSameElement = function (from, to) {\r\n      return !CaretPosition$1.isTextPosition(from) && !CaretPosition$1.isTextPosition(to) && from.getNode() === to.getNode(true);\r\n    };\r\n    var isAtBr = function (position) {\r\n      return !CaretPosition$1.isTextPosition(position) && NodeType.isBr(position.getNode());\r\n    };\r\n    var shouldSkipPosition = function (forward, from, to) {\r\n      if (forward) {\r\n        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\r\n      } else {\r\n        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\r\n      }\r\n    };\r\n    var fromPosition = function (forward, root, pos) {\r\n      var walker = CaretWalker(root);\r\n      return Option.from(forward ? walker.next(pos) : walker.prev(pos));\r\n    };\r\n    var navigate = function (forward, root, from) {\r\n      return fromPosition(forward, root, from).bind(function (to) {\r\n        if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\r\n          return fromPosition(forward, root, to);\r\n        } else {\r\n          return Option.some(to);\r\n        }\r\n      });\r\n    };\r\n    var positionIn = function (forward, element) {\r\n      var startNode = forward ? element.firstChild : element.lastChild;\r\n      if (NodeType.isText(startNode)) {\r\n        return Option.some(CaretPosition$1(startNode, forward ? 0 : startNode.data.length));\r\n      } else if (startNode) {\r\n        if (isCaretCandidate(startNode)) {\r\n          return Option.some(forward ? CaretPosition$1.before(startNode) : afterElement(startNode));\r\n        } else {\r\n          return walkToPositionIn(forward, element, startNode);\r\n        }\r\n      } else {\r\n        return Option.none();\r\n      }\r\n    };\r\n    var nextPosition = curry(fromPosition, true);\r\n    var prevPosition = curry(fromPosition, false);\r\n    var CaretFinder = {\r\n      fromPosition: fromPosition,\r\n      nextPosition: nextPosition,\r\n      prevPosition: prevPosition,\r\n      navigate: navigate,\r\n      positionIn: positionIn,\r\n      firstPositionIn: curry(positionIn, true),\r\n      lastPositionIn: curry(positionIn, false)\r\n    };\r\n\r\n    var isStringPathBookmark = function (bookmark) {\r\n      return typeof bookmark.start === 'string';\r\n    };\r\n    var isRangeBookmark = function (bookmark) {\r\n      return bookmark.hasOwnProperty('rng');\r\n    };\r\n    var isIdBookmark = function (bookmark) {\r\n      return bookmark.hasOwnProperty('id');\r\n    };\r\n    var isIndexBookmark = function (bookmark) {\r\n      return bookmark.hasOwnProperty('name');\r\n    };\r\n    var isPathBookmark = function (bookmark) {\r\n      return Tools.isArray(bookmark.start);\r\n    };\r\n\r\n    var addBogus = function (dom, node) {\r\n      if (dom.isBlock(node) && !node.innerHTML && !Env.ie) {\r\n        node.innerHTML = '<br data-mce-bogus=\"1\" />';\r\n      }\r\n      return node;\r\n    };\r\n    var resolveCaretPositionBookmark = function (dom, bookmark) {\r\n      var rng, pos;\r\n      rng = dom.createRng();\r\n      pos = resolve$2(dom.getRoot(), bookmark.start);\r\n      rng.setStart(pos.container(), pos.offset());\r\n      pos = resolve$2(dom.getRoot(), bookmark.end);\r\n      rng.setEnd(pos.container(), pos.offset());\r\n      return rng;\r\n    };\r\n    var insertZwsp = function (node, rng) {\r\n      var textNode = node.ownerDocument.createTextNode(Zwsp.ZWSP);\r\n      node.appendChild(textNode);\r\n      rng.setStart(textNode, 0);\r\n      rng.setEnd(textNode, 0);\r\n    };\r\n    var isEmpty = function (node) {\r\n      return node.hasChildNodes() === false;\r\n    };\r\n    var tryFindRangePosition = function (node, rng) {\r\n      return CaretFinder.lastPositionIn(node).fold(function () {\r\n        return false;\r\n      }, function (pos) {\r\n        rng.setStart(pos.container(), pos.offset());\r\n        rng.setEnd(pos.container(), pos.offset());\r\n        return true;\r\n      });\r\n    };\r\n    var padEmptyCaretContainer = function (root, node, rng) {\r\n      if (isEmpty(node) && getParentCaretContainer(root, node)) {\r\n        insertZwsp(node, rng);\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n    var setEndPoint = function (dom, start, bookmark, rng) {\r\n      var point = bookmark[start ? 'start' : 'end'];\r\n      var i, node, offset, children;\r\n      var root = dom.getRoot();\r\n      if (point) {\r\n        offset = point[0];\r\n        for (node = root, i = point.length - 1; i >= 1; i--) {\r\n          children = node.childNodes;\r\n          if (padEmptyCaretContainer(root, node, rng)) {\r\n            return true;\r\n          }\r\n          if (point[i] > children.length - 1) {\r\n            if (padEmptyCaretContainer(root, node, rng)) {\r\n              return true;\r\n            }\r\n            return tryFindRangePosition(node, rng);\r\n          }\r\n          node = children[point[i]];\r\n        }\r\n        if (node.nodeType === 3) {\r\n          offset = Math.min(point[0], node.nodeValue.length);\r\n        }\r\n        if (node.nodeType === 1) {\r\n          offset = Math.min(point[0], node.childNodes.length);\r\n        }\r\n        if (start) {\r\n          rng.setStart(node, offset);\r\n        } else {\r\n          rng.setEnd(node, offset);\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n    var isValidTextNode = function (node) {\r\n      return NodeType.isText(node) && node.data.length > 0;\r\n    };\r\n    var restoreEndPoint = function (dom, suffix, bookmark) {\r\n      var marker = dom.get(bookmark.id + '_' + suffix), node, idx, next, prev;\r\n      var keep = bookmark.keep;\r\n      var container, offset;\r\n      if (marker) {\r\n        node = marker.parentNode;\r\n        if (suffix === 'start') {\r\n          if (!keep) {\r\n            idx = dom.nodeIndex(marker);\r\n          } else {\r\n            if (marker.hasChildNodes()) {\r\n              node = marker.firstChild;\r\n              idx = 1;\r\n            } else if (isValidTextNode(marker.nextSibling)) {\r\n              node = marker.nextSibling;\r\n              idx = 0;\r\n            } else if (isValidTextNode(marker.previousSibling)) {\r\n              node = marker.previousSibling;\r\n              idx = marker.previousSibling.data.length;\r\n            } else {\r\n              node = marker.parentNode;\r\n              idx = dom.nodeIndex(marker) + 1;\r\n            }\r\n          }\r\n          container = node;\r\n          offset = idx;\r\n        } else {\r\n          if (!keep) {\r\n            idx = dom.nodeIndex(marker);\r\n          } else {\r\n            if (marker.hasChildNodes()) {\r\n              node = marker.firstChild;\r\n              idx = 1;\r\n            } else if (isValidTextNode(marker.previousSibling)) {\r\n              node = marker.previousSibling;\r\n              idx = marker.previousSibling.data.length;\r\n            } else {\r\n              node = marker.parentNode;\r\n              idx = dom.nodeIndex(marker);\r\n            }\r\n          }\r\n          container = node;\r\n          offset = idx;\r\n        }\r\n        if (!keep) {\r\n          prev = marker.previousSibling;\r\n          next = marker.nextSibling;\r\n          Tools.each(Tools.grep(marker.childNodes), function (node) {\r\n            if (NodeType.isText(node)) {\r\n              node.nodeValue = node.nodeValue.replace(/\\uFEFF/g, '');\r\n            }\r\n          });\r\n          while (marker = dom.get(bookmark.id + '_' + suffix)) {\r\n            dom.remove(marker, true);\r\n          }\r\n          if (prev && next && prev.nodeType === next.nodeType && NodeType.isText(prev) && !Env.opera) {\r\n            idx = prev.nodeValue.length;\r\n            prev.appendData(next.nodeValue);\r\n            dom.remove(next);\r\n            if (suffix === 'start') {\r\n              container = prev;\r\n              offset = idx;\r\n            } else {\r\n              container = prev;\r\n              offset = idx;\r\n            }\r\n          }\r\n        }\r\n        return Option.some(CaretPosition$1(container, offset));\r\n      } else {\r\n        return Option.none();\r\n      }\r\n    };\r\n    var alt = function (o1, o2) {\r\n      return o1.isSome() ? o1 : o2;\r\n    };\r\n    var resolvePaths = function (dom, bookmark) {\r\n      var rng = dom.createRng();\r\n      if (setEndPoint(dom, true, bookmark, rng) && setEndPoint(dom, false, bookmark, rng)) {\r\n        return Option.some(rng);\r\n      } else {\r\n        return Option.none();\r\n      }\r\n    };\r\n    var resolveId = function (dom, bookmark) {\r\n      var startPos = restoreEndPoint(dom, 'start', bookmark);\r\n      var endPos = restoreEndPoint(dom, 'end', bookmark);\r\n      return liftN([\r\n        startPos,\r\n        alt(endPos, startPos)\r\n      ], function (spos, epos) {\r\n        var rng = dom.createRng();\r\n        rng.setStart(addBogus(dom, spos.container()), spos.offset());\r\n        rng.setEnd(addBogus(dom, epos.container()), epos.offset());\r\n        return rng;\r\n      });\r\n    };\r\n    var resolveIndex$1 = function (dom, bookmark) {\r\n      return Option.from(dom.select(bookmark.name)[bookmark.index]).map(function (elm) {\r\n        var rng = dom.createRng();\r\n        rng.selectNode(elm);\r\n        return rng;\r\n      });\r\n    };\r\n    var resolve$3 = function (selection, bookmark) {\r\n      var dom = selection.dom;\r\n      if (bookmark) {\r\n        if (isPathBookmark(bookmark)) {\r\n          return resolvePaths(dom, bookmark);\r\n        } else if (isStringPathBookmark(bookmark)) {\r\n          return Option.some(resolveCaretPositionBookmark(dom, bookmark));\r\n        } else if (isIdBookmark(bookmark)) {\r\n          return resolveId(dom, bookmark);\r\n        } else if (isIndexBookmark(bookmark)) {\r\n          return resolveIndex$1(dom, bookmark);\r\n        } else if (isRangeBookmark(bookmark)) {\r\n          return Option.some(bookmark.rng);\r\n        }\r\n      }\r\n      return Option.none();\r\n    };\r\n    var ResolveBookmark = { resolve: resolve$3 };\r\n\r\n    var getBookmark$1 = function (selection, type, normalized) {\r\n      return GetBookmark.getBookmark(selection, type, normalized);\r\n    };\r\n    var moveToBookmark = function (selection, bookmark) {\r\n      ResolveBookmark.resolve(selection, bookmark).each(function (rng) {\r\n        selection.setRng(rng);\r\n      });\r\n    };\r\n    var isBookmarkNode$1 = function (node) {\r\n      return NodeType.isElement(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\r\n    };\r\n    var Bookmarks = {\r\n      getBookmark: getBookmark$1,\r\n      moveToBookmark: moveToBookmark,\r\n      isBookmarkNode: isBookmarkNode$1\r\n    };\r\n\r\n    var isInlineBlock = function (node) {\r\n      return node && /^(IMG)$/.test(node.nodeName);\r\n    };\r\n    var moveStart = function (dom, selection, rng) {\r\n      var offset = rng.startOffset;\r\n      var container = rng.startContainer, walker, node, nodes;\r\n      if (rng.startContainer === rng.endContainer) {\r\n        if (isInlineBlock(rng.startContainer.childNodes[rng.startOffset])) {\r\n          return;\r\n        }\r\n      }\r\n      if (container.nodeType === 1) {\r\n        nodes = container.childNodes;\r\n        if (offset < nodes.length) {\r\n          container = nodes[offset];\r\n          walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\r\n        } else {\r\n          container = nodes[nodes.length - 1];\r\n          walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\r\n          walker.next(true);\r\n        }\r\n        for (node = walker.current(); node; node = walker.next()) {\r\n          if (node.nodeType === 3 && !isWhiteSpaceNode(node)) {\r\n            rng.setStart(node, 0);\r\n            selection.setRng(rng);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n    };\r\n    var getNonWhiteSpaceSibling = function (node, next, inc) {\r\n      if (node) {\r\n        next = next ? 'nextSibling' : 'previousSibling';\r\n        for (node = inc ? node : node[next]; node; node = node[next]) {\r\n          if (node.nodeType === 1 || !isWhiteSpaceNode(node)) {\r\n            return node;\r\n          }\r\n        }\r\n      }\r\n    };\r\n    var isTextBlock$1 = function (editor, name) {\r\n      if (name.nodeType) {\r\n        name = name.nodeName;\r\n      }\r\n      return !!editor.schema.getTextBlockElements()[name.toLowerCase()];\r\n    };\r\n    var isValid = function (ed, parent, child) {\r\n      return ed.schema.isValidChild(parent, child);\r\n    };\r\n    var isWhiteSpaceNode = function (node) {\r\n      return node && node.nodeType === 3 && /^([\\t \\r\\n]+|)$/.test(node.nodeValue);\r\n    };\r\n    var replaceVars = function (value, vars) {\r\n      if (typeof value !== 'string') {\r\n        value = value(vars);\r\n      } else if (vars) {\r\n        value = value.replace(/%(\\w+)/g, function (str, name) {\r\n          return vars[name] || str;\r\n        });\r\n      }\r\n      return value;\r\n    };\r\n    var isEq = function (str1, str2) {\r\n      str1 = str1 || '';\r\n      str2 = str2 || '';\r\n      str1 = '' + (str1.nodeName || str1);\r\n      str2 = '' + (str2.nodeName || str2);\r\n      return str1.toLowerCase() === str2.toLowerCase();\r\n    };\r\n    var normalizeStyleValue = function (dom, value, name) {\r\n      if (name === 'color' || name === 'backgroundColor') {\r\n        value = dom.toHex(value);\r\n      }\r\n      if (name === 'fontWeight' && value === 700) {\r\n        value = 'bold';\r\n      }\r\n      if (name === 'fontFamily') {\r\n        value = value.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\r\n      }\r\n      return '' + value;\r\n    };\r\n    var getStyle = function (dom, node, name) {\r\n      return normalizeStyleValue(dom, dom.getStyle(node, name), name);\r\n    };\r\n    var getTextDecoration = function (dom, node) {\r\n      var decoration;\r\n      dom.getParent(node, function (n) {\r\n        decoration = dom.getStyle(n, 'text-decoration');\r\n        return decoration && decoration !== 'none';\r\n      });\r\n      return decoration;\r\n    };\r\n    var getParents$1 = function (dom, node, selector) {\r\n      return dom.getParents(node, selector, dom.getRoot());\r\n    };\r\n    var FormatUtils = {\r\n      isInlineBlock: isInlineBlock,\r\n      moveStart: moveStart,\r\n      getNonWhiteSpaceSibling: getNonWhiteSpaceSibling,\r\n      isTextBlock: isTextBlock$1,\r\n      isValid: isValid,\r\n      isWhiteSpaceNode: isWhiteSpaceNode,\r\n      replaceVars: replaceVars,\r\n      isEq: isEq,\r\n      normalizeStyleValue: normalizeStyleValue,\r\n      getStyle: getStyle,\r\n      getTextDecoration: getTextDecoration,\r\n      getParents: getParents$1\r\n    };\r\n\r\n    var isBookmarkNode$2 = Bookmarks.isBookmarkNode;\r\n    var getParents$2 = FormatUtils.getParents, isWhiteSpaceNode$1 = FormatUtils.isWhiteSpaceNode, isTextBlock$2 = FormatUtils.isTextBlock;\r\n    var findLeaf = function (node, offset) {\r\n      if (typeof offset === 'undefined') {\r\n        offset = node.nodeType === 3 ? node.length : node.childNodes.length;\r\n      }\r\n      while (node && node.hasChildNodes()) {\r\n        node = node.childNodes[offset];\r\n        if (node) {\r\n          offset = node.nodeType === 3 ? node.length : node.childNodes.length;\r\n        }\r\n      }\r\n      return {\r\n        node: node,\r\n        offset: offset\r\n      };\r\n    };\r\n    var excludeTrailingWhitespace = function (endContainer, endOffset) {\r\n      var leaf = findLeaf(endContainer, endOffset);\r\n      if (leaf.node) {\r\n        while (leaf.node && leaf.offset === 0 && leaf.node.previousSibling) {\r\n          leaf = findLeaf(leaf.node.previousSibling);\r\n        }\r\n        if (leaf.node && leaf.offset > 0 && leaf.node.nodeType === 3 && leaf.node.nodeValue.charAt(leaf.offset - 1) === ' ') {\r\n          if (leaf.offset > 1) {\r\n            endContainer = leaf.node;\r\n            endContainer.splitText(leaf.offset - 1);\r\n          }\r\n        }\r\n      }\r\n      return endContainer;\r\n    };\r\n    var isBogusBr = function (node) {\r\n      return node.nodeName === 'BR' && node.getAttribute('data-mce-bogus') && !node.nextSibling;\r\n    };\r\n    var findParentContentEditable = function (dom, node) {\r\n      var parent = node;\r\n      while (parent) {\r\n        if (parent.nodeType === 1 && dom.getContentEditable(parent)) {\r\n          return dom.getContentEditable(parent) === 'false' ? parent : node;\r\n        }\r\n        parent = parent.parentNode;\r\n      }\r\n      return node;\r\n    };\r\n    var findSpace = function (start, remove, node, offset) {\r\n      var pos, pos2;\r\n      var str = node.nodeValue;\r\n      if (typeof offset === 'undefined') {\r\n        offset = start ? str.length : 0;\r\n      }\r\n      if (start) {\r\n        pos = str.lastIndexOf(' ', offset);\r\n        pos2 = str.lastIndexOf('\\xA0', offset);\r\n        pos = pos > pos2 ? pos : pos2;\r\n        if (pos !== -1 && !remove && (pos < offset || !start) && pos <= str.length) {\r\n          pos++;\r\n        }\r\n      } else {\r\n        pos = str.indexOf(' ', offset);\r\n        pos2 = str.indexOf('\\xA0', offset);\r\n        pos = pos !== -1 && (pos2 === -1 || pos < pos2) ? pos : pos2;\r\n      }\r\n      return pos;\r\n    };\r\n    var findWordEndPoint = function (dom, body, container, offset, start, remove) {\r\n      var walker, node, pos, lastTextNode;\r\n      if (container.nodeType === 3) {\r\n        pos = findSpace(start, remove, container, offset);\r\n        if (pos !== -1) {\r\n          return {\r\n            container: container,\r\n            offset: pos\r\n          };\r\n        }\r\n        lastTextNode = container;\r\n      }\r\n      walker = new TreeWalker(container, dom.getParent(container, dom.isBlock) || body);\r\n      while (node = walker[start ? 'prev' : 'next']()) {\r\n        if (node.nodeType === 3 && !isBookmarkNode$2(node.parentNode)) {\r\n          lastTextNode = node;\r\n          pos = findSpace(start, remove, node);\r\n          if (pos !== -1) {\r\n            return {\r\n              container: node,\r\n              offset: pos\r\n            };\r\n          }\r\n        } else if (dom.isBlock(node) || FormatUtils.isEq(node, 'BR')) {\r\n          break;\r\n        }\r\n      }\r\n      if (lastTextNode) {\r\n        if (start) {\r\n          offset = 0;\r\n        } else {\r\n          offset = lastTextNode.length;\r\n        }\r\n        return {\r\n          container: lastTextNode,\r\n          offset: offset\r\n        };\r\n      }\r\n    };\r\n    var findSelectorEndPoint = function (dom, format, rng, container, siblingName) {\r\n      var parents, i, y, curFormat;\r\n      if (container.nodeType === 3 && container.nodeValue.length === 0 && container[siblingName]) {\r\n        container = container[siblingName];\r\n      }\r\n      parents = getParents$2(dom, container);\r\n      for (i = 0; i < parents.length; i++) {\r\n        for (y = 0; y < format.length; y++) {\r\n          curFormat = format[y];\r\n          if ('collapsed' in curFormat && curFormat.collapsed !== rng.collapsed) {\r\n            continue;\r\n          }\r\n          if (dom.is(parents[i], curFormat.selector)) {\r\n            return parents[i];\r\n          }\r\n        }\r\n      }\r\n      return container;\r\n    };\r\n    var findBlockEndPoint = function (editor, format, container, siblingName) {\r\n      var node;\r\n      var dom = editor.dom;\r\n      var root = dom.getRoot();\r\n      if (!format[0].wrapper) {\r\n        node = dom.getParent(container, format[0].block, root);\r\n      }\r\n      if (!node) {\r\n        var scopeRoot = dom.getParent(container, 'LI,TD,TH');\r\n        node = dom.getParent(container.nodeType === 3 ? container.parentNode : container, function (node) {\r\n          return node !== root && isTextBlock$2(editor, node);\r\n        }, scopeRoot);\r\n      }\r\n      if (node && format[0].wrapper) {\r\n        node = getParents$2(dom, node, 'ul,ol').reverse()[0] || node;\r\n      }\r\n      if (!node) {\r\n        node = container;\r\n        while (node[siblingName] && !dom.isBlock(node[siblingName])) {\r\n          node = node[siblingName];\r\n          if (FormatUtils.isEq(node, 'br')) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return node || container;\r\n    };\r\n    var findParentContainer = function (dom, format, startContainer, startOffset, endContainer, endOffset, start) {\r\n      var container, parent, sibling, siblingName, root;\r\n      container = parent = start ? startContainer : endContainer;\r\n      siblingName = start ? 'previousSibling' : 'nextSibling';\r\n      root = dom.getRoot();\r\n      if (container.nodeType === 3 && !isWhiteSpaceNode$1(container)) {\r\n        if (start ? startOffset > 0 : endOffset < container.nodeValue.length) {\r\n          return container;\r\n        }\r\n      }\r\n      while (true) {\r\n        if (!format[0].block_expand && dom.isBlock(parent)) {\r\n          return parent;\r\n        }\r\n        for (sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\r\n          if (!isBookmarkNode$2(sibling) && !isWhiteSpaceNode$1(sibling) && !isBogusBr(sibling)) {\r\n            return parent;\r\n          }\r\n        }\r\n        if (parent === root || parent.parentNode === root) {\r\n          container = parent;\r\n          break;\r\n        }\r\n        parent = parent.parentNode;\r\n      }\r\n      return container;\r\n    };\r\n    var expandRng = function (editor, rng, format, remove) {\r\n      var endPoint, startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\r\n      var dom = editor.dom;\r\n      if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\r\n        startContainer = getNode(startContainer, startOffset);\r\n        if (startContainer.nodeType === 3) {\r\n          startOffset = 0;\r\n        }\r\n      }\r\n      if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\r\n        endContainer = getNode(endContainer, rng.collapsed ? endOffset : endOffset - 1);\r\n        if (endContainer.nodeType === 3) {\r\n          endOffset = endContainer.nodeValue.length;\r\n        }\r\n      }\r\n      startContainer = findParentContentEditable(dom, startContainer);\r\n      endContainer = findParentContentEditable(dom, endContainer);\r\n      if (isBookmarkNode$2(startContainer.parentNode) || isBookmarkNode$2(startContainer)) {\r\n        startContainer = isBookmarkNode$2(startContainer) ? startContainer : startContainer.parentNode;\r\n        if (rng.collapsed) {\r\n          startContainer = startContainer.previousSibling || startContainer;\r\n        } else {\r\n          startContainer = startContainer.nextSibling || startContainer;\r\n        }\r\n        if (startContainer.nodeType === 3) {\r\n          startOffset = rng.collapsed ? startContainer.length : 0;\r\n        }\r\n      }\r\n      if (isBookmarkNode$2(endContainer.parentNode) || isBookmarkNode$2(endContainer)) {\r\n        endContainer = isBookmarkNode$2(endContainer) ? endContainer : endContainer.parentNode;\r\n        if (rng.collapsed) {\r\n          endContainer = endContainer.nextSibling || endContainer;\r\n        } else {\r\n          endContainer = endContainer.previousSibling || endContainer;\r\n        }\r\n        if (endContainer.nodeType === 3) {\r\n          endOffset = rng.collapsed ? 0 : endContainer.length;\r\n        }\r\n      }\r\n      if (rng.collapsed) {\r\n        endPoint = findWordEndPoint(dom, editor.getBody(), startContainer, startOffset, true, remove);\r\n        if (endPoint) {\r\n          startContainer = endPoint.container;\r\n          startOffset = endPoint.offset;\r\n        }\r\n        endPoint = findWordEndPoint(dom, editor.getBody(), endContainer, endOffset, false, remove);\r\n        if (endPoint) {\r\n          endContainer = endPoint.container;\r\n          endOffset = endPoint.offset;\r\n        }\r\n      }\r\n      if (format[0].inline) {\r\n        endContainer = remove ? endContainer : excludeTrailingWhitespace(endContainer, endOffset);\r\n      }\r\n      if (format[0].inline || format[0].block_expand) {\r\n        if (!format[0].inline || (startContainer.nodeType !== 3 || startOffset === 0)) {\r\n          startContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, true);\r\n        }\r\n        if (!format[0].inline || (endContainer.nodeType !== 3 || endOffset === endContainer.nodeValue.length)) {\r\n          endContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, false);\r\n        }\r\n      }\r\n      if (format[0].selector && format[0].expand !== false && !format[0].inline) {\r\n        startContainer = findSelectorEndPoint(dom, format, rng, startContainer, 'previousSibling');\r\n        endContainer = findSelectorEndPoint(dom, format, rng, endContainer, 'nextSibling');\r\n      }\r\n      if (format[0].block || format[0].selector) {\r\n        startContainer = findBlockEndPoint(editor, format, startContainer, 'previousSibling');\r\n        endContainer = findBlockEndPoint(editor, format, endContainer, 'nextSibling');\r\n        if (format[0].block) {\r\n          if (!dom.isBlock(startContainer)) {\r\n            startContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, true);\r\n          }\r\n          if (!dom.isBlock(endContainer)) {\r\n            endContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, false);\r\n          }\r\n        }\r\n      }\r\n      if (startContainer.nodeType === 1) {\r\n        startOffset = dom.nodeIndex(startContainer);\r\n        startContainer = startContainer.parentNode;\r\n      }\r\n      if (endContainer.nodeType === 1) {\r\n        endOffset = dom.nodeIndex(endContainer) + 1;\r\n        endContainer = endContainer.parentNode;\r\n      }\r\n      return {\r\n        startContainer: startContainer,\r\n        startOffset: startOffset,\r\n        endContainer: endContainer,\r\n        endOffset: endOffset\r\n      };\r\n    };\r\n    var ExpandRange = { expandRng: expandRng };\r\n\r\n    var each$8 = Tools.each;\r\n    var getEndChild = function (container, index) {\r\n      var childNodes = container.childNodes;\r\n      index--;\r\n      if (index > childNodes.length - 1) {\r\n        index = childNodes.length - 1;\r\n      } else if (index < 0) {\r\n        index = 0;\r\n      }\r\n      return childNodes[index] || container;\r\n    };\r\n    var walk$1 = function (dom, rng, callback) {\r\n      var startContainer = rng.startContainer;\r\n      var startOffset = rng.startOffset;\r\n      var endContainer = rng.endContainer;\r\n      var endOffset = rng.endOffset;\r\n      var ancestor;\r\n      var startPoint;\r\n      var endPoint;\r\n      var node;\r\n      var parent;\r\n      var siblings;\r\n      var nodes;\r\n      nodes = dom.select('td[data-mce-selected],th[data-mce-selected]');\r\n      if (nodes.length > 0) {\r\n        each$8(nodes, function (node) {\r\n          callback([node]);\r\n        });\r\n        return;\r\n      }\r\n      var exclude = function (nodes) {\r\n        var node;\r\n        node = nodes[0];\r\n        if (node.nodeType === 3 && node === startContainer && startOffset >= node.nodeValue.length) {\r\n          nodes.splice(0, 1);\r\n        }\r\n        node = nodes[nodes.length - 1];\r\n        if (endOffset === 0 && nodes.length > 0 && node === endContainer && node.nodeType === 3) {\r\n          nodes.splice(nodes.length - 1, 1);\r\n        }\r\n        return nodes;\r\n      };\r\n      var collectSiblings = function (node, name, endNode) {\r\n        var siblings = [];\r\n        for (; node && node !== endNode; node = node[name]) {\r\n          siblings.push(node);\r\n        }\r\n        return siblings;\r\n      };\r\n      var findEndPoint = function (node, root) {\r\n        do {\r\n          if (node.parentNode === root) {\r\n            return node;\r\n          }\r\n          node = node.parentNode;\r\n        } while (node);\r\n      };\r\n      var walkBoundary = function (startNode, endNode, next) {\r\n        var siblingName = next ? 'nextSibling' : 'previousSibling';\r\n        for (node = startNode, parent = node.parentNode; node && node !== endNode; node = parent) {\r\n          parent = node.parentNode;\r\n          siblings = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\r\n          if (siblings.length) {\r\n            if (!next) {\r\n              siblings.reverse();\r\n            }\r\n            callback(exclude(siblings));\r\n          }\r\n        }\r\n      };\r\n      if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\r\n        startContainer = startContainer.childNodes[startOffset];\r\n      }\r\n      if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\r\n        endContainer = getEndChild(endContainer, endOffset);\r\n      }\r\n      if (startContainer === endContainer) {\r\n        return callback(exclude([startContainer]));\r\n      }\r\n      ancestor = dom.findCommonAncestor(startContainer, endContainer);\r\n      for (node = startContainer; node; node = node.parentNode) {\r\n        if (node === endContainer) {\r\n          return walkBoundary(startContainer, ancestor, true);\r\n        }\r\n        if (node === ancestor) {\r\n          break;\r\n        }\r\n      }\r\n      for (node = endContainer; node; node = node.parentNode) {\r\n        if (node === startContainer) {\r\n          return walkBoundary(endContainer, ancestor);\r\n        }\r\n        if (node === ancestor) {\r\n          break;\r\n        }\r\n      }\r\n      startPoint = findEndPoint(startContainer, ancestor) || startContainer;\r\n      endPoint = findEndPoint(endContainer, ancestor) || endContainer;\r\n      walkBoundary(startContainer, startPoint, true);\r\n      siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\r\n      if (siblings.length) {\r\n        callback(exclude(siblings));\r\n      }\r\n      walkBoundary(endContainer, endPoint);\r\n    };\r\n    var RangeWalk = { walk: walk$1 };\r\n\r\n    var zeroWidth = function () {\r\n      return '\\uFEFF';\r\n    };\r\n\r\n    function NodeValue (is, name) {\r\n      var get = function (element) {\r\n        if (!is(element)) {\r\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\r\n        }\r\n        return getOption(element).getOr('');\r\n      };\r\n      var getOptionIE10 = function (element) {\r\n        try {\r\n          return getOptionSafe(element);\r\n        } catch (e) {\r\n          return Option.none();\r\n        }\r\n      };\r\n      var getOptionSafe = function (element) {\r\n        return is(element) ? Option.from(element.dom().nodeValue) : Option.none();\r\n      };\r\n      var browser = PlatformDetection$1.detect().browser;\r\n      var getOption = browser.isIE() && browser.version.major === 10 ? getOptionIE10 : getOptionSafe;\r\n      var set = function (element, value) {\r\n        if (!is(element)) {\r\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\r\n        }\r\n        element.dom().nodeValue = value;\r\n      };\r\n      return {\r\n        get: get,\r\n        getOption: getOption,\r\n        set: set\r\n      };\r\n    }\r\n\r\n    var api = NodeValue(isText, 'text');\r\n    var get$6 = function (element) {\r\n      return api.get(element);\r\n    };\r\n\r\n    var isZeroWidth = function (elem) {\r\n      return isText(elem) && get$6(elem) === zeroWidth();\r\n    };\r\n    var context = function (editor, elem, wrapName, nodeName) {\r\n      return parent(elem).fold(function () {\r\n        return 'skipping';\r\n      }, function (parent$$1) {\r\n        if (nodeName === 'br' || isZeroWidth(elem)) {\r\n          return 'valid';\r\n        } else if (isAnnotation(elem)) {\r\n          return 'existing';\r\n        } else if (isCaretNode(elem)) {\r\n          return 'caret';\r\n        } else if (!FormatUtils.isValid(editor, wrapName, nodeName) || !FormatUtils.isValid(editor, name(parent$$1), wrapName)) {\r\n          return 'invalid-child';\r\n        } else {\r\n          return 'valid';\r\n        }\r\n      });\r\n    };\r\n\r\n    var shouldApplyToTrailingSpaces = function (rng) {\r\n      return rng.startContainer.nodeType === 3 && rng.startContainer.nodeValue.length >= rng.startOffset && rng.startContainer.nodeValue[rng.startOffset] === '\\xA0';\r\n    };\r\n    var applyWordGrab = function (editor, rng) {\r\n      var r = ExpandRange.expandRng(editor, rng, [{ inline: true }], shouldApplyToTrailingSpaces(rng));\r\n      rng.setStart(r.startContainer, r.startOffset);\r\n      rng.setEnd(r.endContainer, r.endOffset);\r\n      editor.selection.setRng(rng);\r\n    };\r\n    var makeAnnotation = function (eDoc, _a, annotationName, decorate) {\r\n      var _b = _a.uid, uid = _b === void 0 ? generate('mce-annotation') : _b, data = __rest(_a, ['uid']);\r\n      var master = Element$$1.fromTag('span', eDoc);\r\n      add$2(master, annotation());\r\n      set(master, '' + dataAnnotationId(), uid);\r\n      set(master, '' + dataAnnotation(), annotationName);\r\n      var _c = decorate(uid, data), _d = _c.attributes, attributes = _d === void 0 ? {} : _d, _e = _c.classes, classes = _e === void 0 ? [] : _e;\r\n      setAll(master, attributes);\r\n      add$3(master, classes);\r\n      return master;\r\n    };\r\n    var annotate = function (editor, rng, annotationName, decorate, data) {\r\n      var newWrappers = [];\r\n      var master = makeAnnotation(editor.getDoc(), data, annotationName, decorate);\r\n      var wrapper = Cell(Option.none());\r\n      var finishWrapper = function () {\r\n        wrapper.set(Option.none());\r\n      };\r\n      var getOrOpenWrapper = function () {\r\n        return wrapper.get().getOrThunk(function () {\r\n          var nu = shallow(master);\r\n          newWrappers.push(nu);\r\n          wrapper.set(Option.some(nu));\r\n          return nu;\r\n        });\r\n      };\r\n      var processElements = function (elems) {\r\n        each(elems, processElement);\r\n      };\r\n      var processElement = function (elem) {\r\n        var ctx = context(editor, elem, 'span', name(elem));\r\n        switch (ctx) {\r\n        case 'invalid-child': {\r\n            finishWrapper();\r\n            var children$$1 = children(elem);\r\n            processElements(children$$1);\r\n            finishWrapper();\r\n            break;\r\n          }\r\n        case 'valid': {\r\n            var w = getOrOpenWrapper();\r\n            wrap$1(elem, w);\r\n            break;\r\n          }\r\n        case 'skipping':\r\n        case 'existing':\r\n        case 'caret':\r\n        }\r\n      };\r\n      var processNodes = function (nodes) {\r\n        var elems = map(nodes, Element$$1.fromDom);\r\n        processElements(elems);\r\n      };\r\n      RangeWalk.walk(editor.dom, rng, function (nodes) {\r\n        finishWrapper();\r\n        processNodes(nodes);\r\n      });\r\n      return newWrappers;\r\n    };\r\n    var annotateWithBookmark = function (editor, name$$1, settings, data) {\r\n      editor.undoManager.transact(function () {\r\n        var initialRng = editor.selection.getRng();\r\n        if (initialRng.collapsed) {\r\n          applyWordGrab(editor, initialRng);\r\n        }\r\n        if (editor.selection.getRng().collapsed) {\r\n          var wrapper = makeAnnotation(editor.getDoc(), data, name$$1, settings.decorate);\r\n          set$2(wrapper, '\\xA0');\r\n          editor.selection.getRng().insertNode(wrapper.dom());\r\n          editor.selection.select(wrapper.dom());\r\n        } else {\r\n          var bookmark = GetBookmark.getPersistentBookmark(editor.selection, false);\r\n          var rng = editor.selection.getRng();\r\n          annotate(editor, rng, name$$1, settings.decorate, data);\r\n          editor.selection.moveToBookmark(bookmark);\r\n        }\r\n      });\r\n    };\r\n\r\n    function Annotator (editor) {\r\n      var registry = create$1();\r\n      setup$1(editor, registry);\r\n      var changes = setup(editor, registry);\r\n      return {\r\n        register: function (name, settings) {\r\n          registry.register(name, settings);\r\n        },\r\n        annotate: function (name, data) {\r\n          registry.lookup(name).each(function (settings) {\r\n            annotateWithBookmark(editor, name, settings, data);\r\n          });\r\n        },\r\n        annotationChanged: function (name, callback) {\r\n          changes.addListener(name, callback);\r\n        },\r\n        remove: function (name) {\r\n          identify(editor, Option.some(name)).each(function (_a) {\r\n            var elements = _a.elements;\r\n            each(elements, unwrap);\r\n          });\r\n        },\r\n        getAll: function (name) {\r\n          var directory = findAll(editor, name);\r\n          return map$2(directory, function (elems) {\r\n            return map(elems, function (elem) {\r\n              return elem.dom();\r\n            });\r\n          });\r\n        }\r\n      };\r\n    }\r\n\r\n    var hasOnlyOneChild = function (node) {\r\n      return node.firstChild && node.firstChild === node.lastChild;\r\n    };\r\n    var isPaddingNode = function (node) {\r\n      return node.name === 'br' || node.value === '\\xA0';\r\n    };\r\n    var isPaddedEmptyBlock = function (schema, node) {\r\n      var blockElements = schema.getBlockElements();\r\n      return blockElements[node.name] && hasOnlyOneChild(node) && isPaddingNode(node.firstChild);\r\n    };\r\n    var isEmptyFragmentElement = function (schema, node) {\r\n      var nonEmptyElements = schema.getNonEmptyElements();\r\n      return node && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\r\n    };\r\n    var isListFragment = function (schema, fragment) {\r\n      var firstChild = fragment.firstChild;\r\n      var lastChild = fragment.lastChild;\r\n      if (firstChild && firstChild.name === 'meta') {\r\n        firstChild = firstChild.next;\r\n      }\r\n      if (lastChild && lastChild.attr('id') === 'mce_marker') {\r\n        lastChild = lastChild.prev;\r\n      }\r\n      if (isEmptyFragmentElement(schema, lastChild)) {\r\n        lastChild = lastChild.prev;\r\n      }\r\n      if (!firstChild || firstChild !== lastChild) {\r\n        return false;\r\n      }\r\n      return firstChild.name === 'ul' || firstChild.name === 'ol';\r\n    };\r\n    var cleanupDomFragment = function (domFragment) {\r\n      var firstChild = domFragment.firstChild;\r\n      var lastChild = domFragment.lastChild;\r\n      if (firstChild && firstChild.nodeName === 'META') {\r\n        firstChild.parentNode.removeChild(firstChild);\r\n      }\r\n      if (lastChild && lastChild.id === 'mce_marker') {\r\n        lastChild.parentNode.removeChild(lastChild);\r\n      }\r\n      return domFragment;\r\n    };\r\n    var toDomFragment = function (dom, serializer, fragment) {\r\n      var html = serializer.serialize(fragment);\r\n      var domFragment = dom.createFragment(html);\r\n      return cleanupDomFragment(domFragment);\r\n    };\r\n    var listItems$1 = function (elm) {\r\n      return Tools.grep(elm.childNodes, function (child) {\r\n        return child.nodeName === 'LI';\r\n      });\r\n    };\r\n    var isPadding = function (node) {\r\n      return node.data === '\\xA0' || NodeType.isBr(node);\r\n    };\r\n    var isListItemPadded = function (node) {\r\n      return node && node.firstChild && node.firstChild === node.lastChild && isPadding(node.firstChild);\r\n    };\r\n    var isEmptyOrPadded = function (elm) {\r\n      return !elm.firstChild || isListItemPadded(elm);\r\n    };\r\n    var trimListItems = function (elms) {\r\n      return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\r\n    };\r\n    var getParentLi = function (dom, node) {\r\n      var parentBlock = dom.getParent(node, dom.isBlock);\r\n      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\r\n    };\r\n    var isParentBlockLi = function (dom, node) {\r\n      return !!getParentLi(dom, node);\r\n    };\r\n    var getSplit = function (parentNode, rng) {\r\n      var beforeRng = rng.cloneRange();\r\n      var afterRng = rng.cloneRange();\r\n      beforeRng.setStartBefore(parentNode);\r\n      afterRng.setEndAfter(parentNode);\r\n      return [\r\n        beforeRng.cloneContents(),\r\n        afterRng.cloneContents()\r\n      ];\r\n    };\r\n    var findFirstIn = function (node, rootNode) {\r\n      var caretPos = CaretPosition$1.before(node);\r\n      var caretWalker = CaretWalker(rootNode);\r\n      var newCaretPos = caretWalker.next(caretPos);\r\n      return newCaretPos ? newCaretPos.toRange() : null;\r\n    };\r\n    var findLastOf = function (node, rootNode) {\r\n      var caretPos = CaretPosition$1.after(node);\r\n      var caretWalker = CaretWalker(rootNode);\r\n      var newCaretPos = caretWalker.prev(caretPos);\r\n      return newCaretPos ? newCaretPos.toRange() : null;\r\n    };\r\n    var insertMiddle = function (target, elms, rootNode, rng) {\r\n      var parts = getSplit(target, rng);\r\n      var parentElm = target.parentNode;\r\n      parentElm.insertBefore(parts[0], target);\r\n      Tools.each(elms, function (li) {\r\n        parentElm.insertBefore(li, target);\r\n      });\r\n      parentElm.insertBefore(parts[1], target);\r\n      parentElm.removeChild(target);\r\n      return findLastOf(elms[elms.length - 1], rootNode);\r\n    };\r\n    var insertBefore = function (target, elms, rootNode) {\r\n      var parentElm = target.parentNode;\r\n      Tools.each(elms, function (elm) {\r\n        parentElm.insertBefore(elm, target);\r\n      });\r\n      return findFirstIn(target, rootNode);\r\n    };\r\n    var insertAfter = function (target, elms, rootNode, dom) {\r\n      dom.insertAfter(elms.reverse(), target);\r\n      return findLastOf(elms[0], rootNode);\r\n    };\r\n    var insertAtCaret = function (serializer, dom, rng, fragment) {\r\n      var domFragment = toDomFragment(dom, serializer, fragment);\r\n      var liTarget = getParentLi(dom, rng.startContainer);\r\n      var liElms = trimListItems(listItems$1(domFragment.firstChild));\r\n      var BEGINNING = 1, END = 2;\r\n      var rootNode = dom.getRoot();\r\n      var isAt = function (location) {\r\n        var caretPos = CaretPosition$1.fromRangeStart(rng);\r\n        var caretWalker = CaretWalker(dom.getRoot());\r\n        var newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\r\n        return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\r\n      };\r\n      if (isAt(BEGINNING)) {\r\n        return insertBefore(liTarget, liElms, rootNode);\r\n      } else if (isAt(END)) {\r\n        return insertAfter(liTarget, liElms, rootNode, dom);\r\n      }\r\n      return insertMiddle(liTarget, liElms, rootNode, rng);\r\n    };\r\n    var InsertList = {\r\n      isListFragment: isListFragment,\r\n      insertAtCaret: insertAtCaret,\r\n      isParentBlockLi: isParentBlockLi,\r\n      trimListItems: trimListItems,\r\n      listItems: listItems$1\r\n    };\r\n\r\n    var each$9 = Tools.each;\r\n    var ElementUtils = function (dom) {\r\n      this.compare = function (node1, node2) {\r\n        if (node1.nodeName !== node2.nodeName) {\r\n          return false;\r\n        }\r\n        var getAttribs = function (node) {\r\n          var attribs = {};\r\n          each$9(dom.getAttribs(node), function (attr) {\r\n            var name = attr.nodeName.toLowerCase();\r\n            if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\r\n              attribs[name] = dom.getAttrib(node, name);\r\n            }\r\n          });\r\n          return attribs;\r\n        };\r\n        var compareObjects = function (obj1, obj2) {\r\n          var value, name;\r\n          for (name in obj1) {\r\n            if (obj1.hasOwnProperty(name)) {\r\n              value = obj2[name];\r\n              if (typeof value === 'undefined') {\r\n                return false;\r\n              }\r\n              if (obj1[name] !== value) {\r\n                return false;\r\n              }\r\n              delete obj2[name];\r\n            }\r\n          }\r\n          for (name in obj2) {\r\n            if (obj2.hasOwnProperty(name)) {\r\n              return false;\r\n            }\r\n          }\r\n          return true;\r\n        };\r\n        if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\r\n          return false;\r\n        }\r\n        if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\r\n          return false;\r\n        }\r\n        return !Bookmarks.isBookmarkNode(node1) && !Bookmarks.isBookmarkNode(node2);\r\n      };\r\n    };\r\n\r\n    var getLastChildren = function (elm) {\r\n      var children$$1 = [];\r\n      var rawNode = elm.dom();\r\n      while (rawNode) {\r\n        children$$1.push(Element$$1.fromDom(rawNode));\r\n        rawNode = rawNode.lastChild;\r\n      }\r\n      return children$$1;\r\n    };\r\n    var removeTrailingBr = function (elm) {\r\n      var allBrs = descendants$1(elm, 'br');\r\n      var brs = filter(getLastChildren(elm).slice(-1), isBr);\r\n      if (allBrs.length === brs.length) {\r\n        each(brs, remove$2);\r\n      }\r\n    };\r\n    var fillWithPaddingBr = function (elm) {\r\n      empty(elm);\r\n      append(elm, Element$$1.fromHtml('<br data-mce-bogus=\"1\">'));\r\n    };\r\n    var isPaddingContents = function (elm) {\r\n      return isText(elm) ? get$6(elm) === '\\xA0' : isBr(elm);\r\n    };\r\n    var isPaddedElement = function (elm) {\r\n      return filter(children(elm), isPaddingContents).length === 1;\r\n    };\r\n    var trimBlockTrailingBr = function (elm) {\r\n      lastChild(elm).each(function (lastChild$$1) {\r\n        prevSibling(lastChild$$1).each(function (lastChildPrevSibling) {\r\n          if (isBlock(elm) && isBr(lastChild$$1) && isBlock(lastChildPrevSibling)) {\r\n            remove$2(lastChild$$1);\r\n          }\r\n        });\r\n      });\r\n    };\r\n    var PaddingBr = {\r\n      removeTrailingBr: removeTrailingBr,\r\n      fillWithPaddingBr: fillWithPaddingBr,\r\n      isPaddedElement: isPaddedElement,\r\n      trimBlockTrailingBr: trimBlockTrailingBr\r\n    };\r\n\r\n    var makeMap$3 = Tools.makeMap;\r\n    function Writer (settings) {\r\n      var html = [];\r\n      var indent, indentBefore, indentAfter, encode, htmlOutput;\r\n      settings = settings || {};\r\n      indent = settings.indent;\r\n      indentBefore = makeMap$3(settings.indent_before || '');\r\n      indentAfter = makeMap$3(settings.indent_after || '');\r\n      encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\r\n      htmlOutput = settings.element_format === 'html';\r\n      return {\r\n        start: function (name, attrs, empty) {\r\n          var i, l, attr, value;\r\n          if (indent && indentBefore[name] && html.length > 0) {\r\n            value = html[html.length - 1];\r\n            if (value.length > 0 && value !== '\\n') {\r\n              html.push('\\n');\r\n            }\r\n          }\r\n          html.push('<', name);\r\n          if (attrs) {\r\n            for (i = 0, l = attrs.length; i < l; i++) {\r\n              attr = attrs[i];\r\n              html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\r\n            }\r\n          }\r\n          if (!empty || htmlOutput) {\r\n            html[html.length] = '>';\r\n          } else {\r\n            html[html.length] = ' />';\r\n          }\r\n          if (empty && indent && indentAfter[name] && html.length > 0) {\r\n            value = html[html.length - 1];\r\n            if (value.length > 0 && value !== '\\n') {\r\n              html.push('\\n');\r\n            }\r\n          }\r\n        },\r\n        end: function (name) {\r\n          var value;\r\n          html.push('</', name, '>');\r\n          if (indent && indentAfter[name] && html.length > 0) {\r\n            value = html[html.length - 1];\r\n            if (value.length > 0 && value !== '\\n') {\r\n              html.push('\\n');\r\n            }\r\n          }\r\n        },\r\n        text: function (text, raw) {\r\n          if (text.length > 0) {\r\n            html[html.length] = raw ? text : encode(text);\r\n          }\r\n        },\r\n        cdata: function (text) {\r\n          html.push('<![CDATA[', text, ']]>');\r\n        },\r\n        comment: function (text) {\r\n          html.push('<!--', text, '-->');\r\n        },\r\n        pi: function (name, text) {\r\n          if (text) {\r\n            html.push('<?', name, ' ', encode(text), '?>');\r\n          } else {\r\n            html.push('<?', name, '?>');\r\n          }\r\n          if (indent) {\r\n            html.push('\\n');\r\n          }\r\n        },\r\n        doctype: function (text) {\r\n          html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\r\n        },\r\n        reset: function () {\r\n          html.length = 0;\r\n        },\r\n        getContent: function () {\r\n          return html.join('').replace(/\\n$/, '');\r\n        }\r\n      };\r\n    }\r\n\r\n    function Serializer (settings, schema) {\r\n      if (schema === void 0) {\r\n        schema = Schema();\r\n      }\r\n      var writer = Writer(settings);\r\n      settings = settings || {};\r\n      settings.validate = 'validate' in settings ? settings.validate : true;\r\n      var serialize = function (node) {\r\n        var handlers, validate;\r\n        validate = settings.validate;\r\n        handlers = {\r\n          3: function (node) {\r\n            writer.text(node.value, node.raw);\r\n          },\r\n          8: function (node) {\r\n            writer.comment(node.value);\r\n          },\r\n          7: function (node) {\r\n            writer.pi(node.name, node.value);\r\n          },\r\n          10: function (node) {\r\n            writer.doctype(node.value);\r\n          },\r\n          4: function (node) {\r\n            writer.cdata(node.value);\r\n          },\r\n          11: function (node) {\r\n            if (node = node.firstChild) {\r\n              do {\r\n                walk(node);\r\n              } while (node = node.next);\r\n            }\r\n          }\r\n        };\r\n        writer.reset();\r\n        var walk = function (node) {\r\n          var handler = handlers[node.type];\r\n          var name, isEmpty, attrs, attrName, attrValue, sortedAttrs, i, l, elementRule;\r\n          if (!handler) {\r\n            name = node.name;\r\n            isEmpty = node.shortEnded;\r\n            attrs = node.attributes;\r\n            if (validate && attrs && attrs.length > 1) {\r\n              sortedAttrs = [];\r\n              sortedAttrs.map = {};\r\n              elementRule = schema.getElementRule(node.name);\r\n              if (elementRule) {\r\n                for (i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\r\n                  attrName = elementRule.attributesOrder[i];\r\n                  if (attrName in attrs.map) {\r\n                    attrValue = attrs.map[attrName];\r\n                    sortedAttrs.map[attrName] = attrValue;\r\n                    sortedAttrs.push({\r\n                      name: attrName,\r\n                      value: attrValue\r\n                    });\r\n                  }\r\n                }\r\n                for (i = 0, l = attrs.length; i < l; i++) {\r\n                  attrName = attrs[i].name;\r\n                  if (!(attrName in sortedAttrs.map)) {\r\n                    attrValue = attrs.map[attrName];\r\n                    sortedAttrs.map[attrName] = attrValue;\r\n                    sortedAttrs.push({\r\n                      name: attrName,\r\n                      value: attrValue\r\n                    });\r\n                  }\r\n                }\r\n                attrs = sortedAttrs;\r\n              }\r\n            }\r\n            writer.start(node.name, attrs, isEmpty);\r\n            if (!isEmpty) {\r\n              if (node = node.firstChild) {\r\n                do {\r\n                  walk(node);\r\n                } while (node = node.next);\r\n              }\r\n              writer.end(name);\r\n            }\r\n          } else {\r\n            handler(node);\r\n          }\r\n        };\r\n        if (node.type === 1 && !settings.inner) {\r\n          walk(node);\r\n        } else {\r\n          handlers[11](node);\r\n        }\r\n        return writer.getContent();\r\n      };\r\n      return { serialize: serialize };\r\n    }\r\n\r\n    var createRange$1 = function (sc, so, ec, eo) {\r\n      var rng = document.createRange();\r\n      rng.setStart(sc, so);\r\n      rng.setEnd(ec, eo);\r\n      return rng;\r\n    };\r\n    var normalizeBlockSelectionRange = function (rng) {\r\n      var startPos = CaretPosition$1.fromRangeStart(rng);\r\n      var endPos = CaretPosition$1.fromRangeEnd(rng);\r\n      var rootNode = rng.commonAncestorContainer;\r\n      return CaretFinder.fromPosition(false, rootNode, endPos).map(function (newEndPos) {\r\n        if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\r\n          return createRange$1(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\r\n        } else {\r\n          return rng;\r\n        }\r\n      }).getOr(rng);\r\n    };\r\n    var normalize = function (rng) {\r\n      return rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\r\n    };\r\n    var RangeNormalizer = { normalize: normalize };\r\n\r\n    var isAfterNbsp = function (container, offset) {\r\n      return NodeType.isText(container) && container.nodeValue[offset - 1] === '\\xA0';\r\n    };\r\n    var trimOrPadLeftRight = function (rng, html) {\r\n      var container, offset;\r\n      container = rng.startContainer;\r\n      offset = rng.startOffset;\r\n      var hasSiblingText = function (siblingName) {\r\n        return container[siblingName] && container[siblingName].nodeType === 3;\r\n      };\r\n      if (container.nodeType === 3) {\r\n        if (offset > 0) {\r\n          html = html.replace(/^&nbsp;/, ' ');\r\n        } else if (!hasSiblingText('previousSibling')) {\r\n          html = html.replace(/^ /, '&nbsp;');\r\n        }\r\n        if (offset < container.length) {\r\n          html = html.replace(/&nbsp;(<br>|)$/, ' ');\r\n        } else if (!hasSiblingText('nextSibling')) {\r\n          html = html.replace(/(&nbsp;| )(<br>|)$/, '&nbsp;');\r\n        }\r\n      }\r\n      return html;\r\n    };\r\n    var trimNbspAfterDeleteAndPadValue = function (rng, value) {\r\n      var container, offset;\r\n      container = rng.startContainer;\r\n      offset = rng.startOffset;\r\n      if (container.nodeType === 3 && rng.collapsed) {\r\n        if (container.data[offset] === '\\xA0') {\r\n          container.deleteData(offset, 1);\r\n          if (!/[\\u00a0| ]$/.test(value)) {\r\n            value += ' ';\r\n          }\r\n        } else if (container.data[offset - 1] === '\\xA0') {\r\n          container.deleteData(offset - 1, 1);\r\n          if (!/[\\u00a0| ]$/.test(value)) {\r\n            value = ' ' + value;\r\n          }\r\n        }\r\n      }\r\n      return value;\r\n    };\r\n\r\n    var isTableCell$2 = NodeType.matchNodeNames('td th');\r\n    var selectionSetContent = function (editor, content) {\r\n      var rng = editor.selection.getRng();\r\n      var container = rng.startContainer;\r\n      var offset = rng.startOffset;\r\n      if (rng.collapsed && isAfterNbsp(container, offset) && NodeType.isText(container)) {\r\n        container.insertData(offset - 1, ' ');\r\n        container.deleteData(offset, 1);\r\n        rng.setStart(container, offset);\r\n        rng.setEnd(container, offset);\r\n        editor.selection.setRng(rng);\r\n      }\r\n      editor.selection.setContent(content);\r\n    };\r\n    var validInsertion = function (editor, value, parentNode) {\r\n      if (parentNode.getAttribute('data-mce-bogus') === 'all') {\r\n        parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\r\n      } else {\r\n        var node = parentNode.firstChild;\r\n        var node2 = parentNode.lastChild;\r\n        if (!node || node === node2 && node.nodeName === 'BR') {\r\n          editor.dom.setHTML(parentNode, value);\r\n        } else {\r\n          selectionSetContent(editor, value);\r\n        }\r\n      }\r\n    };\r\n    var trimBrsFromTableCell = function (dom, elm) {\r\n      Option.from(dom.getParent(elm, 'td,th')).map(Element$$1.fromDom).each(PaddingBr.trimBlockTrailingBr);\r\n    };\r\n    var reduceInlineTextElements = function (editor, merge) {\r\n      var textInlineElements = editor.schema.getTextInlineElements();\r\n      var dom = editor.dom;\r\n      if (merge) {\r\n        var root_1 = editor.getBody(), elementUtils_1 = new ElementUtils(dom);\r\n        Tools.each(dom.select('*[data-mce-fragment]'), function (node) {\r\n          for (var testNode = node.parentNode; testNode && testNode !== root_1; testNode = testNode.parentNode) {\r\n            if (textInlineElements[node.nodeName.toLowerCase()] && elementUtils_1.compare(testNode, node)) {\r\n              dom.remove(node, true);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    };\r\n    var markFragmentElements = function (fragment) {\r\n      var node = fragment;\r\n      while (node = node.walk()) {\r\n        if (node.type === 1) {\r\n          node.attr('data-mce-fragment', '1');\r\n        }\r\n      }\r\n    };\r\n    var umarkFragmentElements = function (elm) {\r\n      Tools.each(elm.getElementsByTagName('*'), function (elm) {\r\n        elm.removeAttribute('data-mce-fragment');\r\n      });\r\n    };\r\n    var isPartOfFragment = function (node) {\r\n      return !!node.getAttribute('data-mce-fragment');\r\n    };\r\n    var canHaveChildren = function (editor, node) {\r\n      return node && !editor.schema.getShortEndedElements()[node.nodeName];\r\n    };\r\n    var moveSelectionToMarker = function (editor, marker) {\r\n      var parentEditableFalseElm, parentBlock, nextRng;\r\n      var dom = editor.dom, selection = editor.selection;\r\n      var node, node2;\r\n      var getContentEditableFalseParent = function (node) {\r\n        var root = editor.getBody();\r\n        for (; node && node !== root; node = node.parentNode) {\r\n          if (editor.dom.getContentEditable(node) === 'false') {\r\n            return node;\r\n          }\r\n        }\r\n        return null;\r\n      };\r\n      if (!marker) {\r\n        return;\r\n      }\r\n      editor.selection.scrollIntoView(marker);\r\n      parentEditableFalseElm = getContentEditableFalseParent(marker);\r\n      if (parentEditableFalseElm) {\r\n        dom.remove(marker);\r\n        selection.select(parentEditableFalseElm);\r\n        return;\r\n      }\r\n      var rng = dom.createRng();\r\n      node = marker.previousSibling;\r\n      if (node && node.nodeType === 3) {\r\n        rng.setStart(node, node.nodeValue.length);\r\n        if (!Env.ie) {\r\n          node2 = marker.nextSibling;\r\n          if (node2 && node2.nodeType === 3) {\r\n            node.appendData(node2.data);\r\n            node2.parentNode.removeChild(node2);\r\n          }\r\n        }\r\n      } else {\r\n        rng.setStartBefore(marker);\r\n        rng.setEndBefore(marker);\r\n      }\r\n      var findNextCaretRng = function (rng) {\r\n        var caretPos = CaretPosition$1.fromRangeStart(rng);\r\n        var caretWalker = CaretWalker(editor.getBody());\r\n        caretPos = caretWalker.next(caretPos);\r\n        if (caretPos) {\r\n          return caretPos.toRange();\r\n        }\r\n      };\r\n      parentBlock = dom.getParent(marker, dom.isBlock);\r\n      dom.remove(marker);\r\n      if (parentBlock && dom.isEmpty(parentBlock)) {\r\n        editor.$(parentBlock).empty();\r\n        rng.setStart(parentBlock, 0);\r\n        rng.setEnd(parentBlock, 0);\r\n        if (!isTableCell$2(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\r\n          rng = nextRng;\r\n          dom.remove(parentBlock);\r\n        } else {\r\n          dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));\r\n        }\r\n      }\r\n      selection.setRng(rng);\r\n    };\r\n    var insertHtmlAtCaret = function (editor, value, details) {\r\n      var parser, serializer, parentNode, rootNode, fragment, args;\r\n      var marker, rng, node, bookmarkHtml, merge;\r\n      var selection = editor.selection, dom = editor.dom;\r\n      if (/^ | $/.test(value)) {\r\n        value = trimOrPadLeftRight(selection.getRng(), value);\r\n      }\r\n      parser = editor.parser;\r\n      merge = details.merge;\r\n      serializer = Serializer({ validate: editor.settings.validate }, editor.schema);\r\n      bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;&#x200B;</span>';\r\n      args = {\r\n        content: value,\r\n        format: 'html',\r\n        selection: true,\r\n        paste: details.paste\r\n      };\r\n      args = editor.fire('BeforeSetContent', args);\r\n      if (args.isDefaultPrevented()) {\r\n        editor.fire('SetContent', {\r\n          content: args.content,\r\n          format: 'html',\r\n          selection: true,\r\n          paste: details.paste\r\n        });\r\n        return;\r\n      }\r\n      value = args.content;\r\n      if (value.indexOf('{$caret}') === -1) {\r\n        value += '{$caret}';\r\n      }\r\n      value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\r\n      rng = selection.getRng();\r\n      var caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\r\n      var body = editor.getBody();\r\n      if (caretElement === body && selection.isCollapsed()) {\r\n        if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\r\n          rng = dom.createRng();\r\n          rng.setStart(body.firstChild, 0);\r\n          rng.setEnd(body.firstChild, 0);\r\n          selection.setRng(rng);\r\n        }\r\n      }\r\n      if (!selection.isCollapsed()) {\r\n        editor.selection.setRng(RangeNormalizer.normalize(editor.selection.getRng()));\r\n        editor.getDoc().execCommand('Delete', false, null);\r\n        value = trimNbspAfterDeleteAndPadValue(editor.selection.getRng(), value);\r\n      }\r\n      parentNode = selection.getNode();\r\n      var parserArgs = {\r\n        context: parentNode.nodeName.toLowerCase(),\r\n        data: details.data,\r\n        insert: true\r\n      };\r\n      fragment = parser.parse(value, parserArgs);\r\n      if (details.paste === true && InsertList.isListFragment(editor.schema, fragment) && InsertList.isParentBlockLi(dom, parentNode)) {\r\n        rng = InsertList.insertAtCaret(serializer, dom, editor.selection.getRng(), fragment);\r\n        editor.selection.setRng(rng);\r\n        editor.fire('SetContent', args);\r\n        return;\r\n      }\r\n      markFragmentElements(fragment);\r\n      node = fragment.lastChild;\r\n      if (node.attr('id') === 'mce_marker') {\r\n        marker = node;\r\n        for (node = node.prev; node; node = node.walk(true)) {\r\n          if (node.type === 3 || !dom.isBlock(node.name)) {\r\n            if (editor.schema.isValidChild(node.parent.name, 'span')) {\r\n              node.parent.insert(marker, node, node.name === 'br');\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      editor._selectionOverrides.showBlockCaretContainer(parentNode);\r\n      if (!parserArgs.invalid) {\r\n        value = serializer.serialize(fragment);\r\n        validInsertion(editor, value, parentNode);\r\n      } else {\r\n        selectionSetContent(editor, bookmarkHtml);\r\n        parentNode = selection.getNode();\r\n        rootNode = editor.getBody();\r\n        if (parentNode.nodeType === 9) {\r\n          parentNode = node = rootNode;\r\n        } else {\r\n          node = parentNode;\r\n        }\r\n        while (node !== rootNode) {\r\n          parentNode = node;\r\n          node = node.parentNode;\r\n        }\r\n        value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\r\n        value = serializer.serialize(parser.parse(value.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i, function () {\r\n          return serializer.serialize(fragment);\r\n        })));\r\n        if (parentNode === rootNode) {\r\n          dom.setHTML(rootNode, value);\r\n        } else {\r\n          dom.setOuterHTML(parentNode, value);\r\n        }\r\n      }\r\n      reduceInlineTextElements(editor, merge);\r\n      moveSelectionToMarker(editor, dom.get('mce_marker'));\r\n      umarkFragmentElements(editor.getBody());\r\n      trimBrsFromTableCell(editor.dom, editor.selection.getStart());\r\n      editor.fire('SetContent', args);\r\n      editor.addVisual();\r\n    };\r\n    var processValue = function (value) {\r\n      var details;\r\n      if (typeof value !== 'string') {\r\n        details = Tools.extend({\r\n          paste: value.paste,\r\n          data: { paste: value.paste }\r\n        }, value);\r\n        return {\r\n          content: value.content,\r\n          details: details\r\n        };\r\n      }\r\n      return {\r\n        content: value,\r\n        details: {}\r\n      };\r\n    };\r\n    var insertAtCaret$1 = function (editor, value) {\r\n      var result = processValue(value);\r\n      insertHtmlAtCaret(editor, result.content, result.details);\r\n    };\r\n    var InsertContent = { insertAtCaret: insertAtCaret$1 };\r\n\r\n    var sectionResult = Immutable('sections', 'settings');\r\n    var detection = PlatformDetection$1.detect();\r\n    var isTouch = detection.deviceType.isTouch();\r\n    var mobilePlugins = [\r\n      'lists',\r\n      'autolink',\r\n      'autosave'\r\n    ];\r\n    var defaultMobileSettings = { theme: 'mobile' };\r\n    var normalizePlugins = function (plugins) {\r\n      var pluginNames = isArray(plugins) ? plugins.join(' ') : plugins;\r\n      var trimmedPlugins = map(isString(pluginNames) ? pluginNames.split(' ') : [], trim$2);\r\n      return filter(trimmedPlugins, function (item) {\r\n        return item.length > 0;\r\n      });\r\n    };\r\n    var filterMobilePlugins = function (plugins) {\r\n      return filter(plugins, curry(contains, mobilePlugins));\r\n    };\r\n    var extractSections = function (keys$$1, settings) {\r\n      var result = bifilter(settings, function (value, key) {\r\n        return contains(keys$$1, key);\r\n      });\r\n      return sectionResult(result.t, result.f);\r\n    };\r\n    var getSection = function (sectionResult, name, defaults) {\r\n      var sections = sectionResult.sections();\r\n      var sectionSettings = sections.hasOwnProperty(name) ? sections[name] : {};\r\n      return Tools.extend({}, defaults, sectionSettings);\r\n    };\r\n    var hasSection = function (sectionResult, name) {\r\n      return sectionResult.sections().hasOwnProperty(name);\r\n    };\r\n    var getDefaultSettings = function (id, documentBaseUrl, editor) {\r\n      return {\r\n        id: id,\r\n        theme: 'modern',\r\n        delta_width: 0,\r\n        delta_height: 0,\r\n        popup_css: '',\r\n        plugins: '',\r\n        document_base_url: documentBaseUrl,\r\n        add_form_submit_trigger: true,\r\n        submit_patch: true,\r\n        add_unload_trigger: true,\r\n        convert_urls: true,\r\n        relative_urls: true,\r\n        remove_script_host: true,\r\n        object_resizing: true,\r\n        doctype: '<!DOCTYPE html>',\r\n        visual: true,\r\n        font_size_style_values: 'xx-small,x-small,small,medium,large,x-large,xx-large',\r\n        font_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',\r\n        forced_root_block: 'p',\r\n        hidden_input: true,\r\n        render_ui: true,\r\n        indentation: '40px',\r\n        inline_styles: true,\r\n        convert_fonts_to_spans: true,\r\n        indent: 'simple',\r\n        indent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\r\n        indent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\r\n        entity_encoding: 'named',\r\n        url_converter: editor.convertURL,\r\n        url_converter_scope: editor,\r\n        ie7_compat: true\r\n      };\r\n    };\r\n    var getExternalPlugins = function (overrideSettings, settings) {\r\n      var userDefinedExternalPlugins = settings.external_plugins ? settings.external_plugins : {};\r\n      if (overrideSettings && overrideSettings.external_plugins) {\r\n        return Tools.extend({}, overrideSettings.external_plugins, userDefinedExternalPlugins);\r\n      } else {\r\n        return userDefinedExternalPlugins;\r\n      }\r\n    };\r\n    var combinePlugins = function (forcedPlugins, plugins) {\r\n      return [].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));\r\n    };\r\n    var processPlugins = function (isTouchDevice, sectionResult, defaultOverrideSettings, settings) {\r\n      var forcedPlugins = normalizePlugins(defaultOverrideSettings.forced_plugins);\r\n      var plugins = normalizePlugins(settings.plugins);\r\n      var platformPlugins = isTouchDevice && hasSection(sectionResult, 'mobile') ? filterMobilePlugins(plugins) : plugins;\r\n      var combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\r\n      return Tools.extend(settings, { plugins: combinedPlugins.join(' ') });\r\n    };\r\n    var isOnMobile = function (isTouchDevice, sectionResult) {\r\n      var isInline = sectionResult.settings().inline;\r\n      return isTouchDevice && hasSection(sectionResult, 'mobile') && !isInline;\r\n    };\r\n    var combineSettings = function (isTouchDevice, defaultSettings, defaultOverrideSettings, settings) {\r\n      var sectionResult = extractSections(['mobile'], settings);\r\n      var extendedSettings = Tools.extend(defaultSettings, defaultOverrideSettings, sectionResult.settings(), isOnMobile(isTouchDevice, sectionResult) ? getSection(sectionResult, 'mobile', defaultMobileSettings) : {}, {\r\n        validate: true,\r\n        content_editable: sectionResult.settings().inline,\r\n        external_plugins: getExternalPlugins(defaultOverrideSettings, sectionResult.settings())\r\n      });\r\n      return processPlugins(isTouchDevice, sectionResult, defaultOverrideSettings, extendedSettings);\r\n    };\r\n    var getEditorSettings = function (editor, id, documentBaseUrl, defaultOverrideSettings, settings) {\r\n      var defaultSettings = getDefaultSettings(id, documentBaseUrl, editor);\r\n      return combineSettings(isTouch, defaultSettings, defaultOverrideSettings, settings);\r\n    };\r\n    var getFiltered = function (predicate, editor, name) {\r\n      return Option.from(editor.settings[name]).filter(predicate);\r\n    };\r\n    var getString = curry(getFiltered, isString);\r\n    var getParamObject = function (value) {\r\n      var output = {};\r\n      if (typeof value === 'string') {\r\n        each(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function (val) {\r\n          var arr = val.split('=');\r\n          if (arr.length > 1) {\r\n            output[Tools.trim(arr[0])] = Tools.trim(arr[1]);\r\n          } else {\r\n            output[Tools.trim(arr[0])] = Tools.trim(arr);\r\n          }\r\n        });\r\n      } else {\r\n        output = value;\r\n      }\r\n      return output;\r\n    };\r\n    var isArrayOf = function (p) {\r\n      return function (a) {\r\n        return isArray(a) && forall(a, p);\r\n      };\r\n    };\r\n    var getParam = function (editor, name, defaultVal, type) {\r\n      var value = name in editor.settings ? editor.settings[name] : defaultVal;\r\n      if (type === 'hash') {\r\n        return getParamObject(value);\r\n      } else if (type === 'string') {\r\n        return getFiltered(isString, editor, name).getOr(defaultVal);\r\n      } else if (type === 'number') {\r\n        return getFiltered(isNumber, editor, name).getOr(defaultVal);\r\n      } else if (type === 'boolean') {\r\n        return getFiltered(isBoolean, editor, name).getOr(defaultVal);\r\n      } else if (type === 'object') {\r\n        return getFiltered(isObject, editor, name).getOr(defaultVal);\r\n      } else if (type === 'array') {\r\n        return getFiltered(isArray, editor, name).getOr(defaultVal);\r\n      } else if (type === 'string[]') {\r\n        return getFiltered(isArrayOf(isString), editor, name).getOr(defaultVal);\r\n      } else if (type === 'function') {\r\n        return getFiltered(isFunction, editor, name).getOr(defaultVal);\r\n      } else {\r\n        return value;\r\n      }\r\n    };\r\n\r\n    var strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\r\n    var hasStrongRtl = function (text) {\r\n      return strongRtl.test(text);\r\n    };\r\n\r\n    var isInlineTarget = function (editor, elm) {\r\n      var selector = getString(editor, 'inline_boundaries_selector').getOr('a[href],code');\r\n      return is$1(Element$$1.fromDom(elm), selector);\r\n    };\r\n    var isRtl = function (element) {\r\n      return DOMUtils$1.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl(element.textContent);\r\n    };\r\n    var findInlineParents = function (isInlineTarget, rootNode, pos) {\r\n      return filter(DOMUtils$1.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\r\n    };\r\n    var findRootInline = function (isInlineTarget, rootNode, pos) {\r\n      var parents = findInlineParents(isInlineTarget, rootNode, pos);\r\n      return Option.from(parents[parents.length - 1]);\r\n    };\r\n    var hasSameParentBlock = function (rootNode, node1, node2) {\r\n      var block1 = getParentBlock(node1, rootNode);\r\n      var block2 = getParentBlock(node2, rootNode);\r\n      return block1 && block1 === block2;\r\n    };\r\n    var isAtZwsp = function (pos) {\r\n      return isBeforeInline(pos) || isAfterInline(pos);\r\n    };\r\n    var normalizePosition = function (forward, pos) {\r\n      if (!pos) {\r\n        return pos;\r\n      }\r\n      var container = pos.container(), offset = pos.offset();\r\n      if (forward) {\r\n        if (isCaretContainerInline(container)) {\r\n          if (NodeType.isText(container.nextSibling)) {\r\n            return CaretPosition$1(container.nextSibling, 0);\r\n          } else {\r\n            return CaretPosition$1.after(container);\r\n          }\r\n        } else {\r\n          return isBeforeInline(pos) ? CaretPosition$1(container, offset + 1) : pos;\r\n        }\r\n      } else {\r\n        if (isCaretContainerInline(container)) {\r\n          if (NodeType.isText(container.previousSibling)) {\r\n            return CaretPosition$1(container.previousSibling, container.previousSibling.data.length);\r\n          } else {\r\n            return CaretPosition$1.before(container);\r\n          }\r\n        } else {\r\n          return isAfterInline(pos) ? CaretPosition$1(container, offset - 1) : pos;\r\n        }\r\n      }\r\n    };\r\n    var normalizeForwards = curry(normalizePosition, true);\r\n    var normalizeBackwards = curry(normalizePosition, false);\r\n    var InlineUtils = {\r\n      isInlineTarget: isInlineTarget,\r\n      findRootInline: findRootInline,\r\n      isRtl: isRtl,\r\n      isAtZwsp: isAtZwsp,\r\n      normalizePosition: normalizePosition,\r\n      normalizeForwards: normalizeForwards,\r\n      normalizeBackwards: normalizeBackwards,\r\n      hasSameParentBlock: hasSameParentBlock\r\n    };\r\n\r\n    var isBeforeRoot = function (rootNode) {\r\n      return function (elm) {\r\n        return eq(rootNode, Element$$1.fromDom(elm.dom().parentNode));\r\n      };\r\n    };\r\n    var getParentBlock$1 = function (rootNode, elm) {\r\n      return contains$3(rootNode, elm) ? closest(elm, function (element) {\r\n        return isTextBlock(element) || isListItem(element);\r\n      }, isBeforeRoot(rootNode)) : Option.none();\r\n    };\r\n    var placeCaretInEmptyBody = function (editor) {\r\n      var body = editor.getBody();\r\n      var node = body.firstChild && editor.dom.isBlock(body.firstChild) ? body.firstChild : body;\r\n      editor.selection.setCursorLocation(node, 0);\r\n    };\r\n    var paddEmptyBody = function (editor) {\r\n      if (editor.dom.isEmpty(editor.getBody())) {\r\n        editor.setContent('');\r\n        placeCaretInEmptyBody(editor);\r\n      }\r\n    };\r\n    var willDeleteLastPositionInElement = function (forward, fromPos, elm) {\r\n      return liftN([\r\n        CaretFinder.firstPositionIn(elm),\r\n        CaretFinder.lastPositionIn(elm)\r\n      ], function (firstPos, lastPos) {\r\n        var normalizedFirstPos = InlineUtils.normalizePosition(true, firstPos);\r\n        var normalizedLastPos = InlineUtils.normalizePosition(false, lastPos);\r\n        var normalizedFromPos = InlineUtils.normalizePosition(false, fromPos);\r\n        if (forward) {\r\n          return CaretFinder.nextPosition(elm, normalizedFromPos).map(function (nextPos) {\r\n            return nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos);\r\n          }).getOr(false);\r\n        } else {\r\n          return CaretFinder.prevPosition(elm, normalizedFromPos).map(function (prevPos) {\r\n            return prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos);\r\n          }).getOr(false);\r\n        }\r\n      }).getOr(true);\r\n    };\r\n    var DeleteUtils = {\r\n      getParentBlock: getParentBlock$1,\r\n      paddEmptyBody: paddEmptyBody,\r\n      willDeleteLastPositionInElement: willDeleteLastPositionInElement\r\n    };\r\n\r\n    var ancestor$2 = function (scope, selector, isRoot) {\r\n      return ancestor$1(scope, selector, isRoot).isSome();\r\n    };\r\n\r\n    var hasWhitespacePreserveParent = function (rootNode, node) {\r\n      var rootElement = Element$$1.fromDom(rootNode);\r\n      var startNode = Element$$1.fromDom(node);\r\n      return ancestor$2(startNode, 'pre,code', curry(eq, rootElement));\r\n    };\r\n    var isWhitespace = function (rootNode, node) {\r\n      return NodeType.isText(node) && /^[ \\t\\r\\n]*$/.test(node.data) && hasWhitespacePreserveParent(rootNode, node) === false;\r\n    };\r\n    var isNamedAnchor = function (node) {\r\n      return NodeType.isElement(node) && node.nodeName === 'A' && node.hasAttribute('name');\r\n    };\r\n    var isContent$1 = function (rootNode, node) {\r\n      return isCaretCandidate(node) && isWhitespace(rootNode, node) === false || isNamedAnchor(node) || isBookmark(node);\r\n    };\r\n    var isBookmark = NodeType.hasAttribute('data-mce-bookmark');\r\n    var isBogus$2 = NodeType.hasAttribute('data-mce-bogus');\r\n    var isBogusAll$1 = NodeType.hasAttributeValue('data-mce-bogus', 'all');\r\n    var isEmptyNode = function (targetNode) {\r\n      var walker, node, brCount = 0;\r\n      if (isContent$1(targetNode, targetNode)) {\r\n        return false;\r\n      } else {\r\n        node = targetNode.firstChild;\r\n        if (!node) {\r\n          return true;\r\n        }\r\n        walker = new TreeWalker(node, targetNode);\r\n        do {\r\n          if (isBogusAll$1(node)) {\r\n            node = walker.next(true);\r\n            continue;\r\n          }\r\n          if (isBogus$2(node)) {\r\n            node = walker.next();\r\n            continue;\r\n          }\r\n          if (NodeType.isBr(node)) {\r\n            brCount++;\r\n            node = walker.next();\r\n            continue;\r\n          }\r\n          if (isContent$1(targetNode, node)) {\r\n            return false;\r\n          }\r\n          node = walker.next();\r\n        } while (node);\r\n        return brCount <= 1;\r\n      }\r\n    };\r\n    var isEmpty$1 = function (elm) {\r\n      return isEmptyNode(elm.dom());\r\n    };\r\n    var Empty = { isEmpty: isEmpty$1 };\r\n\r\n    var BlockPosition = Immutable('block', 'position');\r\n    var BlockBoundary = Immutable('from', 'to');\r\n    var getBlockPosition = function (rootNode, pos) {\r\n      var rootElm = Element$$1.fromDom(rootNode);\r\n      var containerElm = Element$$1.fromDom(pos.container());\r\n      return DeleteUtils.getParentBlock(rootElm, containerElm).map(function (block) {\r\n        return BlockPosition(block, pos);\r\n      });\r\n    };\r\n    var isDifferentBlocks = function (blockBoundary) {\r\n      return eq(blockBoundary.from().block(), blockBoundary.to().block()) === false;\r\n    };\r\n    var hasSameParent = function (blockBoundary) {\r\n      return parent(blockBoundary.from().block()).bind(function (parent1) {\r\n        return parent(blockBoundary.to().block()).filter(function (parent2) {\r\n          return eq(parent1, parent2);\r\n        });\r\n      }).isSome();\r\n    };\r\n    var isEditable = function (blockBoundary) {\r\n      return NodeType.isContentEditableFalse(blockBoundary.from().block()) === false && NodeType.isContentEditableFalse(blockBoundary.to().block()) === false;\r\n    };\r\n    var skipLastBr = function (rootNode, forward, blockPosition) {\r\n      if (NodeType.isBr(blockPosition.position().getNode()) && Empty.isEmpty(blockPosition.block()) === false) {\r\n        return CaretFinder.positionIn(false, blockPosition.block().dom()).bind(function (lastPositionInBlock) {\r\n          if (lastPositionInBlock.isEqual(blockPosition.position())) {\r\n            return CaretFinder.fromPosition(forward, rootNode, lastPositionInBlock).bind(function (to) {\r\n              return getBlockPosition(rootNode, to);\r\n            });\r\n          } else {\r\n            return Option.some(blockPosition);\r\n          }\r\n        }).getOr(blockPosition);\r\n      } else {\r\n        return blockPosition;\r\n      }\r\n    };\r\n    var readFromRange = function (rootNode, forward, rng) {\r\n      var fromBlockPos = getBlockPosition(rootNode, CaretPosition$1.fromRangeStart(rng));\r\n      var toBlockPos = fromBlockPos.bind(function (blockPos) {\r\n        return CaretFinder.fromPosition(forward, rootNode, blockPos.position()).bind(function (to) {\r\n          return getBlockPosition(rootNode, to).map(function (blockPos) {\r\n            return skipLastBr(rootNode, forward, blockPos);\r\n          });\r\n        });\r\n      });\r\n      return liftN([\r\n        fromBlockPos,\r\n        toBlockPos\r\n      ], BlockBoundary).filter(function (blockBoundary) {\r\n        return isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable(blockBoundary);\r\n      });\r\n    };\r\n    var read$1 = function (rootNode, forward, rng) {\r\n      return rng.collapsed ? readFromRange(rootNode, forward, rng) : Option.none();\r\n    };\r\n    var BlockMergeBoundary = { read: read$1 };\r\n\r\n    var dropLast = function (xs) {\r\n      return xs.slice(0, -1);\r\n    };\r\n    var parentsUntil$1 = function (start, root, predicate) {\r\n      if (contains$3(root, start)) {\r\n        return dropLast(parents(start, function (elm) {\r\n          return predicate(elm) || eq(elm, root);\r\n        }));\r\n      } else {\r\n        return [];\r\n      }\r\n    };\r\n    var parents$1 = function (start, root) {\r\n      return parentsUntil$1(start, root, constant(false));\r\n    };\r\n    var parentsAndSelf = function (start, root) {\r\n      return [start].concat(parents$1(start, root));\r\n    };\r\n    var Parents = {\r\n      parentsUntil: parentsUntil$1,\r\n      parents: parents$1,\r\n      parentsAndSelf: parentsAndSelf\r\n    };\r\n\r\n    var getChildrenUntilBlockBoundary = function (block) {\r\n      var children$$1 = children(block);\r\n      return findIndex(children$$1, isBlock).fold(function () {\r\n        return children$$1;\r\n      }, function (index) {\r\n        return children$$1.slice(0, index);\r\n      });\r\n    };\r\n    var extractChildren = function (block) {\r\n      var children$$1 = getChildrenUntilBlockBoundary(block);\r\n      each(children$$1, remove$2);\r\n      return children$$1;\r\n    };\r\n    var removeEmptyRoot = function (rootNode, block) {\r\n      var parents$$1 = Parents.parentsAndSelf(block, rootNode);\r\n      return find(parents$$1.reverse(), Empty.isEmpty).each(remove$2);\r\n    };\r\n    var isEmptyBefore = function (el) {\r\n      return filter(prevSiblings(el), function (el) {\r\n        return !Empty.isEmpty(el);\r\n      }).length === 0;\r\n    };\r\n    var nestedBlockMerge = function (rootNode, fromBlock, toBlock, insertionPoint) {\r\n      if (Empty.isEmpty(toBlock)) {\r\n        PaddingBr.fillWithPaddingBr(toBlock);\r\n        return CaretFinder.firstPositionIn(toBlock.dom());\r\n      }\r\n      if (isEmptyBefore(insertionPoint) && Empty.isEmpty(fromBlock)) {\r\n        before(insertionPoint, Element$$1.fromTag('br'));\r\n      }\r\n      var position = CaretFinder.prevPosition(toBlock.dom(), CaretPosition$1.before(insertionPoint.dom()));\r\n      each(extractChildren(fromBlock), function (child$$1) {\r\n        before(insertionPoint, child$$1);\r\n      });\r\n      removeEmptyRoot(rootNode, fromBlock);\r\n      return position;\r\n    };\r\n    var sidelongBlockMerge = function (rootNode, fromBlock, toBlock) {\r\n      if (Empty.isEmpty(toBlock)) {\r\n        remove$2(toBlock);\r\n        if (Empty.isEmpty(fromBlock)) {\r\n          PaddingBr.fillWithPaddingBr(fromBlock);\r\n        }\r\n        return CaretFinder.firstPositionIn(fromBlock.dom());\r\n      }\r\n      var position = CaretFinder.lastPositionIn(toBlock.dom());\r\n      each(extractChildren(fromBlock), function (child$$1) {\r\n        append(toBlock, child$$1);\r\n      });\r\n      removeEmptyRoot(rootNode, fromBlock);\r\n      return position;\r\n    };\r\n    var findInsertionPoint = function (toBlock, block) {\r\n      var parentsAndSelf = Parents.parentsAndSelf(block, toBlock);\r\n      return Option.from(parentsAndSelf[parentsAndSelf.length - 1]);\r\n    };\r\n    var getInsertionPoint = function (fromBlock, toBlock) {\r\n      return contains$3(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Option.none();\r\n    };\r\n    var trimBr = function (first, block) {\r\n      CaretFinder.positionIn(first, block.dom()).map(function (position) {\r\n        return position.getNode();\r\n      }).map(Element$$1.fromDom).filter(isBr).each(remove$2);\r\n    };\r\n    var mergeBlockInto = function (rootNode, fromBlock, toBlock) {\r\n      trimBr(true, fromBlock);\r\n      trimBr(false, toBlock);\r\n      return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\r\n    };\r\n    var mergeBlocks = function (rootNode, forward, block1, block2) {\r\n      return forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\r\n    };\r\n    var MergeBlocks = { mergeBlocks: mergeBlocks };\r\n\r\n    var backspaceDelete = function (editor, forward) {\r\n      var position;\r\n      var rootNode = Element$$1.fromDom(editor.getBody());\r\n      position = BlockMergeBoundary.read(rootNode.dom(), forward, editor.selection.getRng()).bind(function (blockBoundary) {\r\n        return MergeBlocks.mergeBlocks(rootNode, forward, blockBoundary.from().block(), blockBoundary.to().block());\r\n      });\r\n      position.each(function (pos) {\r\n        editor.selection.setRng(pos.toRange());\r\n      });\r\n      return position.isSome();\r\n    };\r\n    var BlockBoundaryDelete = { backspaceDelete: backspaceDelete };\r\n\r\n    var deleteRangeMergeBlocks = function (rootNode, selection) {\r\n      var rng = selection.getRng();\r\n      return liftN([\r\n        DeleteUtils.getParentBlock(rootNode, Element$$1.fromDom(rng.startContainer)),\r\n        DeleteUtils.getParentBlock(rootNode, Element$$1.fromDom(rng.endContainer))\r\n      ], function (block1, block2) {\r\n        if (eq(block1, block2) === false) {\r\n          rng.deleteContents();\r\n          MergeBlocks.mergeBlocks(rootNode, true, block1, block2).each(function (pos) {\r\n            selection.setRng(pos.toRange());\r\n          });\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      }).getOr(false);\r\n    };\r\n    var isRawNodeInTable = function (root, rawNode) {\r\n      var node = Element$$1.fromDom(rawNode);\r\n      var isRoot = curry(eq, root);\r\n      return ancestor(node, isTableCell, isRoot).isSome();\r\n    };\r\n    var isSelectionInTable = function (root, rng) {\r\n      return isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\r\n    };\r\n    var isEverythingSelected = function (root, rng) {\r\n      var noPrevious = CaretFinder.prevPosition(root.dom(), CaretPosition$1.fromRangeStart(rng)).isNone();\r\n      var noNext = CaretFinder.nextPosition(root.dom(), CaretPosition$1.fromRangeEnd(rng)).isNone();\r\n      return !isSelectionInTable(root, rng) && noPrevious && noNext;\r\n    };\r\n    var emptyEditor = function (editor) {\r\n      editor.setContent('');\r\n      editor.selection.setCursorLocation();\r\n      return true;\r\n    };\r\n    var deleteRange = function (editor) {\r\n      var rootNode = Element$$1.fromDom(editor.getBody());\r\n      var rng = editor.selection.getRng();\r\n      return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\r\n    };\r\n    var backspaceDelete$1 = function (editor, forward) {\r\n      return editor.selection.isCollapsed() ? false : deleteRange(editor);\r\n    };\r\n    var BlockRangeDelete = { backspaceDelete: backspaceDelete$1 };\r\n\r\n    var generate$1 = function (cases) {\r\n      if (!isArray(cases)) {\r\n        throw new Error('cases must be an array');\r\n      }\r\n      if (cases.length === 0) {\r\n        throw new Error('there must be at least one case');\r\n      }\r\n      var constructors = [];\r\n      var adt = {};\r\n      each(cases, function (acase, count) {\r\n        var keys$$1 = keys(acase);\r\n        if (keys$$1.length !== 1) {\r\n          throw new Error('one and only one name per case');\r\n        }\r\n        var key = keys$$1[0];\r\n        var value = acase[key];\r\n        if (adt[key] !== undefined) {\r\n          throw new Error('duplicate key detected:' + key);\r\n        } else if (key === 'cata') {\r\n          throw new Error('cannot have a case named cata (sorry)');\r\n        } else if (!isArray(value)) {\r\n          throw new Error('case arguments must be an array');\r\n        }\r\n        constructors.push(key);\r\n        adt[key] = function () {\r\n          var argLength = arguments.length;\r\n          if (argLength !== value.length) {\r\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\r\n          }\r\n          var args = new Array(argLength);\r\n          for (var i = 0; i < args.length; i++)\r\n            args[i] = arguments[i];\r\n          var match = function (branches) {\r\n            var branchKeys = keys(branches);\r\n            if (constructors.length !== branchKeys.length) {\r\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\r\n            }\r\n            var allReqd = forall(constructors, function (reqKey) {\r\n              return contains(branchKeys, reqKey);\r\n            });\r\n            if (!allReqd)\r\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\r\n            return branches[key].apply(null, args);\r\n          };\r\n          return {\r\n            fold: function () {\r\n              if (arguments.length !== cases.length) {\r\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + arguments.length);\r\n              }\r\n              var target = arguments[count];\r\n              return target.apply(null, args);\r\n            },\r\n            match: match,\r\n            log: function (label) {\r\n              console.log(label, {\r\n                constructors: constructors,\r\n                constructor: key,\r\n                params: args\r\n              });\r\n            }\r\n          };\r\n        };\r\n      });\r\n      return adt;\r\n    };\r\n    var Adt = { generate: generate$1 };\r\n\r\n    var isBr$5 = function (pos) {\r\n      return getElementFromPosition(pos).exists(isBr);\r\n    };\r\n    var findBr = function (forward, root, pos) {\r\n      var parentBlocks = filter(Parents.parentsAndSelf(Element$$1.fromDom(pos.container()), root), isBlock);\r\n      var scope = head(parentBlocks).getOr(root);\r\n      return CaretFinder.fromPosition(forward, scope.dom(), pos).filter(isBr$5);\r\n    };\r\n    var isBeforeBr = function (root, pos) {\r\n      return getElementFromPosition(pos).exists(isBr) || findBr(true, root, pos).isSome();\r\n    };\r\n    var isAfterBr = function (root, pos) {\r\n      return getElementFromPrevPosition(pos).exists(isBr) || findBr(false, root, pos).isSome();\r\n    };\r\n    var findPreviousBr = curry(findBr, false);\r\n    var findNextBr = curry(findBr, true);\r\n\r\n    var isCompoundElement = function (node) {\r\n      return isTableCell(Element$$1.fromDom(node)) || isListItem(Element$$1.fromDom(node));\r\n    };\r\n    var DeleteAction = Adt.generate([\r\n      { remove: ['element'] },\r\n      { moveToElement: ['element'] },\r\n      { moveToPosition: ['position'] }\r\n    ]);\r\n    var isAtContentEditableBlockCaret = function (forward, from) {\r\n      var elm = from.getNode(forward === false);\r\n      var caretLocation = forward ? 'after' : 'before';\r\n      return NodeType.isElement(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\r\n    };\r\n    var isDeleteFromCefDifferentBlocks = function (root, forward, from, to) {\r\n      var inSameBlock = function (elm) {\r\n        return isInline(Element$$1.fromDom(elm)) && !isInSameBlock(from, to, root);\r\n      };\r\n      return getRelativeCefElm(!forward, from).fold(function () {\r\n        return getRelativeCefElm(forward, to).fold(constant(false), inSameBlock);\r\n      }, inSameBlock);\r\n    };\r\n    var deleteEmptyBlockOrMoveToCef = function (root, forward, from, to) {\r\n      var toCefElm = to.getNode(forward === false);\r\n      return DeleteUtils.getParentBlock(Element$$1.fromDom(root), Element$$1.fromDom(from.getNode())).map(function (blockElm) {\r\n        return Empty.isEmpty(blockElm) ? DeleteAction.remove(blockElm.dom()) : DeleteAction.moveToElement(toCefElm);\r\n      }).orThunk(function () {\r\n        return Option.some(DeleteAction.moveToElement(toCefElm));\r\n      });\r\n    };\r\n    var findCefPosition = function (root, forward, from) {\r\n      return CaretFinder.fromPosition(forward, root, from).bind(function (to) {\r\n        if (isCompoundElement(to.getNode())) {\r\n          return Option.none();\r\n        } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\r\n          return Option.none();\r\n        } else if (forward && NodeType.isContentEditableFalse(to.getNode())) {\r\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\r\n        } else if (forward === false && NodeType.isContentEditableFalse(to.getNode(true))) {\r\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\r\n        } else if (forward && isAfterContentEditableFalse(from)) {\r\n          return Option.some(DeleteAction.moveToPosition(to));\r\n        } else if (forward === false && isBeforeContentEditableFalse(from)) {\r\n          return Option.some(DeleteAction.moveToPosition(to));\r\n        } else {\r\n          return Option.none();\r\n        }\r\n      });\r\n    };\r\n    var getContentEditableBlockAction = function (forward, elm) {\r\n      if (forward && NodeType.isContentEditableFalse(elm.nextSibling)) {\r\n        return Option.some(DeleteAction.moveToElement(elm.nextSibling));\r\n      } else if (forward === false && NodeType.isContentEditableFalse(elm.previousSibling)) {\r\n        return Option.some(DeleteAction.moveToElement(elm.previousSibling));\r\n      } else {\r\n        return Option.none();\r\n      }\r\n    };\r\n    var skipMoveToActionFromInlineCefToContent = function (root, from, deleteAction) {\r\n      return deleteAction.fold(function (elm) {\r\n        return Option.some(DeleteAction.remove(elm));\r\n      }, function (elm) {\r\n        return Option.some(DeleteAction.moveToElement(elm));\r\n      }, function (to) {\r\n        if (isInSameBlock(from, to, root)) {\r\n          return Option.none();\r\n        } else {\r\n          return Option.some(DeleteAction.moveToPosition(to));\r\n        }\r\n      });\r\n    };\r\n    var getContentEditableAction = function (root, forward, from) {\r\n      if (isAtContentEditableBlockCaret(forward, from)) {\r\n        return getContentEditableBlockAction(forward, from.getNode(forward === false)).fold(function () {\r\n          return findCefPosition(root, forward, from);\r\n        }, Option.some);\r\n      } else {\r\n        return findCefPosition(root, forward, from).bind(function (deleteAction) {\r\n          return skipMoveToActionFromInlineCefToContent(root, from, deleteAction);\r\n        });\r\n      }\r\n    };\r\n    var read$2 = function (root, forward, rng) {\r\n      var normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\r\n      var from = CaretPosition$1.fromRangeStart(normalizedRange);\r\n      var rootElement = Element$$1.fromDom(root);\r\n      if (forward === false && isAfterContentEditableFalse(from)) {\r\n        return Option.some(DeleteAction.remove(from.getNode(true)));\r\n      } else if (forward && isBeforeContentEditableFalse(from)) {\r\n        return Option.some(DeleteAction.remove(from.getNode()));\r\n      } else if (forward === false && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from)) {\r\n        return findPreviousBr(rootElement, from).map(function (br) {\r\n          return DeleteAction.remove(br.getNode());\r\n        });\r\n      } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr(rootElement, from)) {\r\n        return findNextBr(rootElement, from).map(function (br) {\r\n          return DeleteAction.remove(br.getNode());\r\n        });\r\n      } else {\r\n        return getContentEditableAction(root, forward, from);\r\n      }\r\n    };\r\n\r\n    var isCollapsibleWhitespace = function (c) {\r\n      return ' \\f\\n\\r\\t\\x0B'.indexOf(c) !== -1;\r\n    };\r\n    var normalizeContent = function (content, isStartOfContent, isEndOfContent) {\r\n      var result = foldl(content.split(''), function (acc, c) {\r\n        if (isCollapsibleWhitespace(c) || c === '\\xA0') {\r\n          if (acc.previousCharIsSpace || acc.str === '' && isStartOfContent || acc.str.length === content.length - 1 && isEndOfContent) {\r\n            return {\r\n              previousCharIsSpace: false,\r\n              str: acc.str + '\\xA0'\r\n            };\r\n          } else {\r\n            return {\r\n              previousCharIsSpace: true,\r\n              str: acc.str + ' '\r\n            };\r\n          }\r\n        } else {\r\n          return {\r\n            previousCharIsSpace: false,\r\n            str: acc.str + c\r\n          };\r\n        }\r\n      }, {\r\n        previousCharIsSpace: false,\r\n        str: ''\r\n      });\r\n      return result.str;\r\n    };\r\n    var normalize$1 = function (node, offset, count) {\r\n      if (count === 0) {\r\n        return;\r\n      }\r\n      var whitespace = node.data.slice(offset, offset + count);\r\n      var isEndOfContent = offset + count >= node.data.length;\r\n      var isStartOfContent = offset === 0;\r\n      node.replaceData(offset, count, normalizeContent(whitespace, isStartOfContent, isEndOfContent));\r\n    };\r\n    var normalizeWhitespaceAfter = function (node, offset) {\r\n      var content = node.data.slice(offset);\r\n      var whitespaceCount = content.length - lTrim(content).length;\r\n      return normalize$1(node, offset, whitespaceCount);\r\n    };\r\n    var normalizeWhitespaceBefore = function (node, offset) {\r\n      var content = node.data.slice(0, offset);\r\n      var whitespaceCount = content.length - rTrim(content).length;\r\n      return normalize$1(node, offset - whitespaceCount, whitespaceCount);\r\n    };\r\n    var mergeTextNodes = function (prevNode, nextNode, normalizeWhitespace) {\r\n      var whitespaceOffset = rTrim(prevNode.data).length;\r\n      prevNode.appendData(nextNode.data);\r\n      remove$2(Element$$1.fromDom(nextNode));\r\n      if (normalizeWhitespace) {\r\n        normalizeWhitespaceAfter(prevNode, whitespaceOffset);\r\n      }\r\n      return prevNode;\r\n    };\r\n\r\n    var needsReposition = function (pos, elm) {\r\n      var container = pos.container();\r\n      var offset = pos.offset();\r\n      return CaretPosition$1.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition$1.before(elm).offset();\r\n    };\r\n    var reposition = function (elm, pos) {\r\n      return needsReposition(pos, elm) ? CaretPosition$1(pos.container(), pos.offset() - 1) : pos;\r\n    };\r\n    var beforeOrStartOf = function (node) {\r\n      return NodeType.isText(node) ? CaretPosition$1(node, 0) : CaretPosition$1.before(node);\r\n    };\r\n    var afterOrEndOf = function (node) {\r\n      return NodeType.isText(node) ? CaretPosition$1(node, node.data.length) : CaretPosition$1.after(node);\r\n    };\r\n    var getPreviousSiblingCaretPosition = function (elm) {\r\n      if (isCaretCandidate(elm.previousSibling)) {\r\n        return Option.some(afterOrEndOf(elm.previousSibling));\r\n      } else {\r\n        return elm.previousSibling ? CaretFinder.lastPositionIn(elm.previousSibling) : Option.none();\r\n      }\r\n    };\r\n    var getNextSiblingCaretPosition = function (elm) {\r\n      if (isCaretCandidate(elm.nextSibling)) {\r\n        return Option.some(beforeOrStartOf(elm.nextSibling));\r\n      } else {\r\n        return elm.nextSibling ? CaretFinder.firstPositionIn(elm.nextSibling) : Option.none();\r\n      }\r\n    };\r\n    var findCaretPositionBackwardsFromElm = function (rootElement, elm) {\r\n      var startPosition = CaretPosition$1.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);\r\n      return CaretFinder.prevPosition(rootElement, startPosition).fold(function () {\r\n        return CaretFinder.nextPosition(rootElement, CaretPosition$1.after(elm));\r\n      }, Option.some);\r\n    };\r\n    var findCaretPositionForwardsFromElm = function (rootElement, elm) {\r\n      return CaretFinder.nextPosition(rootElement, CaretPosition$1.after(elm)).fold(function () {\r\n        return CaretFinder.prevPosition(rootElement, CaretPosition$1.before(elm));\r\n      }, Option.some);\r\n    };\r\n    var findCaretPositionBackwards = function (rootElement, elm) {\r\n      return getPreviousSiblingCaretPosition(elm).orThunk(function () {\r\n        return getNextSiblingCaretPosition(elm);\r\n      }).orThunk(function () {\r\n        return findCaretPositionBackwardsFromElm(rootElement, elm);\r\n      });\r\n    };\r\n    var findCaretPositionForward = function (rootElement, elm) {\r\n      return getNextSiblingCaretPosition(elm).orThunk(function () {\r\n        return getPreviousSiblingCaretPosition(elm);\r\n      }).orThunk(function () {\r\n        return findCaretPositionForwardsFromElm(rootElement, elm);\r\n      });\r\n    };\r\n    var findCaretPosition$1 = function (forward, rootElement, elm) {\r\n      return forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\r\n    };\r\n    var findCaretPosOutsideElmAfterDelete = function (forward, rootElement, elm) {\r\n      return findCaretPosition$1(forward, rootElement, elm).map(curry(reposition, elm));\r\n    };\r\n    var setSelection = function (editor, forward, pos) {\r\n      pos.fold(function () {\r\n        editor.focus();\r\n      }, function (pos) {\r\n        editor.selection.setRng(pos.toRange(), forward);\r\n      });\r\n    };\r\n    var eqRawNode = function (rawNode) {\r\n      return function (elm) {\r\n        return elm.dom() === rawNode;\r\n      };\r\n    };\r\n    var isBlock$2 = function (editor, elm) {\r\n      return elm && editor.schema.getBlockElements().hasOwnProperty(name(elm));\r\n    };\r\n    var paddEmptyBlock = function (elm) {\r\n      if (Empty.isEmpty(elm)) {\r\n        var br = Element$$1.fromHtml('<br data-mce-bogus=\"1\">');\r\n        empty(elm);\r\n        append(elm, br);\r\n        return Option.some(CaretPosition$1.before(br.dom()));\r\n      } else {\r\n        return Option.none();\r\n      }\r\n    };\r\n    var deleteNormalized = function (elm, afterDeletePosOpt, normalizeWhitespace) {\r\n      var prevTextOpt = prevSibling(elm).filter(function (e) {\r\n        return NodeType.isText(e.dom());\r\n      });\r\n      var nextTextOpt = nextSibling(elm).filter(function (e) {\r\n        return NodeType.isText(e.dom());\r\n      });\r\n      remove$2(elm);\r\n      return liftN([\r\n        prevTextOpt,\r\n        nextTextOpt,\r\n        afterDeletePosOpt\r\n      ], function (prev, next, pos) {\r\n        var prevNode = prev.dom(), nextNode = next.dom();\r\n        var offset = prevNode.data.length;\r\n        mergeTextNodes(prevNode, nextNode, normalizeWhitespace);\r\n        return pos.container() === nextNode ? CaretPosition$1(prevNode, offset) : pos;\r\n      }).orThunk(function () {\r\n        if (normalizeWhitespace) {\r\n          prevTextOpt.each(function (elm) {\r\n            return normalizeWhitespaceBefore(elm.dom(), elm.dom().length);\r\n          });\r\n          nextTextOpt.each(function (elm) {\r\n            return normalizeWhitespaceAfter(elm.dom(), 0);\r\n          });\r\n        }\r\n        return afterDeletePosOpt;\r\n      });\r\n    };\r\n    var isInlineElement = function (editor, element) {\r\n      return has(editor.schema.getTextInlineElements(), name(element));\r\n    };\r\n    var deleteElement = function (editor, forward, elm, moveCaret) {\r\n      if (moveCaret === void 0) {\r\n        moveCaret = true;\r\n      }\r\n      var afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom());\r\n      var parentBlock = ancestor(elm, curry(isBlock$2, editor), eqRawNode(editor.getBody()));\r\n      var normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, isInlineElement(editor, elm));\r\n      if (editor.dom.isEmpty(editor.getBody())) {\r\n        editor.setContent('');\r\n        editor.selection.setCursorLocation();\r\n      } else {\r\n        parentBlock.bind(paddEmptyBlock).fold(function () {\r\n          if (moveCaret) {\r\n            setSelection(editor, forward, normalizedAfterDeletePos);\r\n          }\r\n        }, function (paddPos) {\r\n          if (moveCaret) {\r\n            setSelection(editor, forward, Option.some(paddPos));\r\n          }\r\n        });\r\n      }\r\n    };\r\n    var DeleteElement = { deleteElement: deleteElement };\r\n\r\n    var deleteElement$1 = function (editor, forward) {\r\n      return function (element) {\r\n        editor._selectionOverrides.hideFakeCaret();\r\n        DeleteElement.deleteElement(editor, forward, Element$$1.fromDom(element));\r\n        return true;\r\n      };\r\n    };\r\n    var moveToElement = function (editor, forward) {\r\n      return function (element) {\r\n        var pos = forward ? CaretPosition$1.before(element) : CaretPosition$1.after(element);\r\n        editor.selection.setRng(pos.toRange());\r\n        return true;\r\n      };\r\n    };\r\n    var moveToPosition = function (editor) {\r\n      return function (pos) {\r\n        editor.selection.setRng(pos.toRange());\r\n        return true;\r\n      };\r\n    };\r\n    var backspaceDeleteCaret = function (editor, forward) {\r\n      var result = read$2(editor.getBody(), forward, editor.selection.getRng()).map(function (deleteAction) {\r\n        return deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor));\r\n      });\r\n      return result.getOr(false);\r\n    };\r\n    var deleteOffscreenSelection = function (rootElement) {\r\n      each(descendants$1(rootElement, '.mce-offscreen-selection'), remove$2);\r\n    };\r\n    var backspaceDeleteRange = function (editor, forward) {\r\n      var selectedElement = editor.selection.getNode();\r\n      if (NodeType.isContentEditableFalse(selectedElement)) {\r\n        deleteOffscreenSelection(Element$$1.fromDom(editor.getBody()));\r\n        DeleteElement.deleteElement(editor, forward, Element$$1.fromDom(editor.selection.getNode()));\r\n        DeleteUtils.paddEmptyBody(editor);\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n    var getContentEditableRoot = function (root, node) {\r\n      while (node && node !== root) {\r\n        if (NodeType.isContentEditableTrue(node) || NodeType.isContentEditableFalse(node)) {\r\n          return node;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n    var paddEmptyElement = function (editor) {\r\n      var br;\r\n      var ceRoot = getContentEditableRoot(editor.getBody(), editor.selection.getNode());\r\n      if (NodeType.isContentEditableTrue(ceRoot) && editor.dom.isBlock(ceRoot) && editor.dom.isEmpty(ceRoot)) {\r\n        br = editor.dom.create('br', { 'data-mce-bogus': '1' });\r\n        editor.dom.setHTML(ceRoot, '');\r\n        ceRoot.appendChild(br);\r\n        editor.selection.setRng(CaretPosition$1.before(br).toRange());\r\n      }\r\n      return true;\r\n    };\r\n    var backspaceDelete$2 = function (editor, forward) {\r\n      if (editor.selection.isCollapsed()) {\r\n        return backspaceDeleteCaret(editor, forward);\r\n      } else {\r\n        return backspaceDeleteRange(editor, forward);\r\n      }\r\n    };\r\n    var CefDelete = {\r\n      backspaceDelete: backspaceDelete$2,\r\n      paddEmptyElement: paddEmptyElement\r\n    };\r\n\r\n    var isText$8 = NodeType.isText;\r\n    var startsWithCaretContainer$1 = function (node) {\r\n      return isText$8(node) && node.data[0] === Zwsp.ZWSP;\r\n    };\r\n    var endsWithCaretContainer$1 = function (node) {\r\n      return isText$8(node) && node.data[node.data.length - 1] === Zwsp.ZWSP;\r\n    };\r\n    var createZwsp = function (node) {\r\n      return node.ownerDocument.createTextNode(Zwsp.ZWSP);\r\n    };\r\n    var insertBefore$1 = function (node) {\r\n      if (isText$8(node.previousSibling)) {\r\n        if (endsWithCaretContainer$1(node.previousSibling)) {\r\n          return node.previousSibling;\r\n        } else {\r\n          node.previousSibling.appendData(Zwsp.ZWSP);\r\n          return node.previousSibling;\r\n        }\r\n      } else if (isText$8(node)) {\r\n        if (startsWithCaretContainer$1(node)) {\r\n          return node;\r\n        } else {\r\n          node.insertData(0, Zwsp.ZWSP);\r\n          return node;\r\n        }\r\n      } else {\r\n        var newNode = createZwsp(node);\r\n        node.parentNode.insertBefore(newNode, node);\r\n        return newNode;\r\n      }\r\n    };\r\n    var insertAfter$1 = function (node) {\r\n      if (isText$8(node.nextSibling)) {\r\n        if (startsWithCaretContainer$1(node.nextSibling)) {\r\n          return node.nextSibling;\r\n        } else {\r\n          node.nextSibling.insertData(0, Zwsp.ZWSP);\r\n          return node.nextSibling;\r\n        }\r\n      } else if (isText$8(node)) {\r\n        if (endsWithCaretContainer$1(node)) {\r\n          return node;\r\n        } else {\r\n          node.appendData(Zwsp.ZWSP);\r\n          return node;\r\n        }\r\n      } else {\r\n        var newNode = createZwsp(node);\r\n        if (node.nextSibling) {\r\n          node.parentNode.insertBefore(newNode, node.nextSibling);\r\n        } else {\r\n          node.parentNode.appendChild(newNode);\r\n        }\r\n        return newNode;\r\n      }\r\n    };\r\n    var insertInline$1 = function (before, node) {\r\n      return before ? insertBefore$1(node) : insertAfter$1(node);\r\n    };\r\n    var insertInlineBefore = curry(insertInline$1, true);\r\n    var insertInlineAfter = curry(insertInline$1, false);\r\n\r\n    var insertInlinePos = function (pos, before) {\r\n      if (NodeType.isText(pos.container())) {\r\n        return insertInline$1(before, pos.container());\r\n      } else {\r\n        return insertInline$1(before, pos.getNode());\r\n      }\r\n    };\r\n    var isPosCaretContainer = function (pos, caret) {\r\n      var caretNode = caret.get();\r\n      return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\r\n    };\r\n    var renderCaret = function (caret, location) {\r\n      return location.fold(function (element) {\r\n        CaretContainerRemove.remove(caret.get());\r\n        var text = insertInlineBefore(element);\r\n        caret.set(text);\r\n        return Option.some(CaretPosition$1(text, text.length - 1));\r\n      }, function (element) {\r\n        return CaretFinder.firstPositionIn(element).map(function (pos) {\r\n          if (!isPosCaretContainer(pos, caret)) {\r\n            CaretContainerRemove.remove(caret.get());\r\n            var text = insertInlinePos(pos, true);\r\n            caret.set(text);\r\n            return CaretPosition$1(text, 1);\r\n          } else {\r\n            return CaretPosition$1(caret.get(), 1);\r\n          }\r\n        });\r\n      }, function (element) {\r\n        return CaretFinder.lastPositionIn(element).map(function (pos) {\r\n          if (!isPosCaretContainer(pos, caret)) {\r\n            CaretContainerRemove.remove(caret.get());\r\n            var text = insertInlinePos(pos, false);\r\n            caret.set(text);\r\n            return CaretPosition$1(text, text.length - 1);\r\n          } else {\r\n            return CaretPosition$1(caret.get(), caret.get().length - 1);\r\n          }\r\n        });\r\n      }, function (element) {\r\n        CaretContainerRemove.remove(caret.get());\r\n        var text = insertInlineAfter(element);\r\n        caret.set(text);\r\n        return Option.some(CaretPosition$1(text, 1));\r\n      });\r\n    };\r\n    var BoundaryCaret = { renderCaret: renderCaret };\r\n\r\n    var evaluateUntil = function (fns, args) {\r\n      for (var i = 0; i < fns.length; i++) {\r\n        var result = fns[i].apply(null, args);\r\n        if (result.isSome()) {\r\n          return result;\r\n        }\r\n      }\r\n      return Option.none();\r\n    };\r\n    var LazyEvaluator = { evaluateUntil: evaluateUntil };\r\n\r\n    var Location = Adt.generate([\r\n      { before: ['element'] },\r\n      { start: ['element'] },\r\n      { end: ['element'] },\r\n      { after: ['element'] }\r\n    ]);\r\n    var rescope = function (rootNode, node) {\r\n      var parentBlock = getParentBlock(node, rootNode);\r\n      return parentBlock ? parentBlock : rootNode;\r\n    };\r\n    var before$3 = function (isInlineTarget, rootNode, pos) {\r\n      var nPos = InlineUtils.normalizeForwards(pos);\r\n      var scope = rescope(rootNode, nPos.container());\r\n      return InlineUtils.findRootInline(isInlineTarget, scope, nPos).fold(function () {\r\n        return CaretFinder.nextPosition(scope, nPos).bind(curry(InlineUtils.findRootInline, isInlineTarget, scope)).map(function (inline) {\r\n          return Location.before(inline);\r\n        });\r\n      }, Option.none);\r\n    };\r\n    var isNotInsideFormatCaretContainer = function (rootNode, elm) {\r\n      return getParentCaretContainer(rootNode, elm) === null;\r\n    };\r\n    var findInsideRootInline = function (isInlineTarget, rootNode, pos) {\r\n      return InlineUtils.findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\r\n    };\r\n    var start = function (isInlineTarget, rootNode, pos) {\r\n      var nPos = InlineUtils.normalizeBackwards(pos);\r\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\r\n        var prevPos = CaretFinder.prevPosition(inline, nPos);\r\n        return prevPos.isNone() ? Option.some(Location.start(inline)) : Option.none();\r\n      });\r\n    };\r\n    var end = function (isInlineTarget, rootNode, pos) {\r\n      var nPos = InlineUtils.normalizeForwards(pos);\r\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\r\n        var nextPos = CaretFinder.nextPosition(inline, nPos);\r\n        return nextPos.isNone() ? Option.some(Location.end(inline)) : Option.none();\r\n      });\r\n    };\r\n    var after$3 = function (isInlineTarget, rootNode, pos) {\r\n      var nPos = InlineUtils.normalizeBackwards(pos);\r\n      var scope = rescope(rootNode, nPos.container());\r\n      return InlineUtils.findRootInline(isInlineTarget, scope, nPos).fold(function () {\r\n        return CaretFinder.prevPosition(scope, nPos).bind(curry(InlineUtils.findRootInline, isInlineTarget, scope)).map(function (inline) {\r\n          return Location.after(inline);\r\n        });\r\n      }, Option.none);\r\n    };\r\n    var isValidLocation = function (location) {\r\n      return InlineUtils.isRtl(getElement(location)) === false;\r\n    };\r\n    var readLocation = function (isInlineTarget, rootNode, pos) {\r\n      var location = LazyEvaluator.evaluateUntil([\r\n        before$3,\r\n        start,\r\n        end,\r\n        after$3\r\n      ], [\r\n        isInlineTarget,\r\n        rootNode,\r\n        pos\r\n      ]);\r\n      return location.filter(isValidLocation);\r\n    };\r\n    var getElement = function (location) {\r\n      return location.fold(identity, identity, identity, identity);\r\n    };\r\n    var getName = function (location) {\r\n      return location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\r\n    };\r\n    var outside = function (location) {\r\n      return location.fold(Location.before, Location.before, Location.after, Location.after);\r\n    };\r\n    var inside = function (location) {\r\n      return location.fold(Location.start, Location.start, Location.end, Location.end);\r\n    };\r\n    var isEq$1 = function (location1, location2) {\r\n      return getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\r\n    };\r\n    var betweenInlines = function (forward, isInlineTarget, rootNode, from, to, location) {\r\n      return liftN([\r\n        InlineUtils.findRootInline(isInlineTarget, rootNode, from),\r\n        InlineUtils.findRootInline(isInlineTarget, rootNode, to)\r\n      ], function (fromInline, toInline) {\r\n        if (fromInline !== toInline && InlineUtils.hasSameParentBlock(rootNode, fromInline, toInline)) {\r\n          return Location.after(forward ? fromInline : toInline);\r\n        } else {\r\n          return location;\r\n        }\r\n      }).getOr(location);\r\n    };\r\n    var skipNoMovement = function (fromLocation, toLocation) {\r\n      return fromLocation.fold(constant(true), function (fromLocation) {\r\n        return !isEq$1(fromLocation, toLocation);\r\n      });\r\n    };\r\n    var findLocationTraverse = function (forward, isInlineTarget, rootNode, fromLocation, pos) {\r\n      var from = InlineUtils.normalizePosition(forward, pos);\r\n      var to = CaretFinder.fromPosition(forward, rootNode, from).map(curry(InlineUtils.normalizePosition, forward));\r\n      var location = to.fold(function () {\r\n        return fromLocation.map(outside);\r\n      }, function (to) {\r\n        return readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation));\r\n      });\r\n      return location.filter(isValidLocation);\r\n    };\r\n    var findLocationSimple = function (forward, location) {\r\n      if (forward) {\r\n        return location.fold(compose(Option.some, Location.start), Option.none, compose(Option.some, Location.after), Option.none);\r\n      } else {\r\n        return location.fold(Option.none, compose(Option.some, Location.before), Option.none, compose(Option.some, Location.end));\r\n      }\r\n    };\r\n    var findLocation = function (forward, isInlineTarget, rootNode, pos) {\r\n      var from = InlineUtils.normalizePosition(forward, pos);\r\n      var fromLocation = readLocation(isInlineTarget, rootNode, from);\r\n      return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(function () {\r\n        return findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos);\r\n      });\r\n    };\r\n    var BoundaryLocation = {\r\n      readLocation: readLocation,\r\n      findLocation: findLocation,\r\n      prevLocation: curry(findLocation, false),\r\n      nextLocation: curry(findLocation, true),\r\n      getElement: getElement,\r\n      outside: outside,\r\n      inside: inside\r\n    };\r\n\r\n    var hasSelectionModifyApi = function (editor) {\r\n      return isFunction(editor.selection.getSel().modify);\r\n    };\r\n    var moveRel = function (forward, selection, pos) {\r\n      var delta = forward ? 1 : -1;\r\n      selection.setRng(CaretPosition$1(pos.container(), pos.offset() + delta).toRange());\r\n      selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\r\n      return true;\r\n    };\r\n    var moveByWord = function (forward, editor) {\r\n      var rng = editor.selection.getRng();\r\n      var pos = forward ? CaretPosition$1.fromRangeEnd(rng) : CaretPosition$1.fromRangeStart(rng);\r\n      if (!hasSelectionModifyApi(editor)) {\r\n        return false;\r\n      } else if (forward && isBeforeInline(pos)) {\r\n        return moveRel(true, editor.selection, pos);\r\n      } else if (!forward && isAfterInline(pos)) {\r\n        return moveRel(false, editor.selection, pos);\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n    var WordSelection = {\r\n      hasSelectionModifyApi: hasSelectionModifyApi,\r\n      moveByWord: moveByWord\r\n    };\r\n\r\n    var setCaretPosition = function (editor, pos) {\r\n      var rng = editor.dom.createRng();\r\n      rng.setStart(pos.container(), pos.offset());\r\n      rng.setEnd(pos.container(), pos.offset());\r\n      editor.selection.setRng(rng);\r\n    };\r\n    var isFeatureEnabled = function (editor) {\r\n      return editor.settings.inline_boundaries !== false;\r\n    };\r\n    var setSelected = function (state, elm) {\r\n      if (state) {\r\n        elm.setAttribute('data-mce-selected', 'inline-boundary');\r\n      } else {\r\n        elm.removeAttribute('data-mce-selected');\r\n      }\r\n    };\r\n    var renderCaretLocation = function (editor, caret, location) {\r\n      return BoundaryCaret.renderCaret(caret, location).map(function (pos) {\r\n        setCaretPosition(editor, pos);\r\n        return location;\r\n      });\r\n    };\r\n    var findLocation$1 = function (editor, caret, forward) {\r\n      var rootNode = editor.getBody();\r\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\r\n      var location = BoundaryLocation.findLocation(forward, isInlineTarget, rootNode, from);\r\n      return location.bind(function (location) {\r\n        return renderCaretLocation(editor, caret, location);\r\n      });\r\n    };\r\n    var toggleInlines = function (isInlineTarget, dom, elms) {\r\n      var selectedInlines = filter(dom.select('*[data-mce-selected=\"inline-boundary\"]'), isInlineTarget);\r\n      var targetInlines = filter(elms, isInlineTarget);\r\n      each(difference(selectedInlines, targetInlines), curry(setSelected, false));\r\n      each(difference(targetInlines, selectedInlines), curry(setSelected, true));\r\n    };\r\n    var safeRemoveCaretContainer = function (editor, caret) {\r\n      if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {\r\n        var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n        if (CaretPosition$1.isTextPosition(pos) && InlineUtils.isAtZwsp(pos) === false) {\r\n          setCaretPosition(editor, CaretContainerRemove.removeAndReposition(caret.get(), pos));\r\n          caret.set(null);\r\n        }\r\n      }\r\n    };\r\n    var renderInsideInlineCaret = function (isInlineTarget, editor, caret, elms) {\r\n      if (editor.selection.isCollapsed()) {\r\n        var inlines = filter(elms, isInlineTarget);\r\n        each(inlines, function (inline) {\r\n          var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n          BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), pos).bind(function (location) {\r\n            return renderCaretLocation(editor, caret, location);\r\n          });\r\n        });\r\n      }\r\n    };\r\n    var move = function (editor, caret, forward) {\r\n      return function () {\r\n        return isFeatureEnabled(editor) ? findLocation$1(editor, caret, forward).isSome() : false;\r\n      };\r\n    };\r\n    var moveWord = function (forward, editor, caret) {\r\n      return function () {\r\n        return isFeatureEnabled(editor) ? WordSelection.moveByWord(forward, editor) : false;\r\n      };\r\n    };\r\n    var setupSelectedState = function (editor) {\r\n      var caret = Cell(null);\r\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\r\n      editor.on('NodeChange', function (e) {\r\n        if (isFeatureEnabled(editor)) {\r\n          toggleInlines(isInlineTarget, editor.dom, e.parents);\r\n          safeRemoveCaretContainer(editor, caret);\r\n          renderInsideInlineCaret(isInlineTarget, editor, caret, e.parents);\r\n        }\r\n      });\r\n      return caret;\r\n    };\r\n    var moveNextWord = curry(moveWord, true);\r\n    var movePrevWord = curry(moveWord, false);\r\n    var BoundarySelection = {\r\n      move: move,\r\n      moveNextWord: moveNextWord,\r\n      movePrevWord: movePrevWord,\r\n      setupSelectedState: setupSelectedState,\r\n      setCaretPosition: setCaretPosition\r\n    };\r\n\r\n    var isFeatureEnabled$1 = function (editor) {\r\n      return editor.settings.inline_boundaries !== false;\r\n    };\r\n    var rangeFromPositions = function (from, to) {\r\n      var range = document.createRange();\r\n      range.setStart(from.container(), from.offset());\r\n      range.setEnd(to.container(), to.offset());\r\n      return range;\r\n    };\r\n    var hasOnlyTwoOrLessPositionsLeft = function (elm) {\r\n      return liftN([\r\n        CaretFinder.firstPositionIn(elm),\r\n        CaretFinder.lastPositionIn(elm)\r\n      ], function (firstPos, lastPos) {\r\n        var normalizedFirstPos = InlineUtils.normalizePosition(true, firstPos);\r\n        var normalizedLastPos = InlineUtils.normalizePosition(false, lastPos);\r\n        return CaretFinder.nextPosition(elm, normalizedFirstPos).map(function (pos) {\r\n          return pos.isEqual(normalizedLastPos);\r\n        }).getOr(true);\r\n      }).getOr(true);\r\n    };\r\n    var setCaretLocation = function (editor, caret) {\r\n      return function (location$$1) {\r\n        return BoundaryCaret.renderCaret(caret, location$$1).map(function (pos) {\r\n          BoundarySelection.setCaretPosition(editor, pos);\r\n          return true;\r\n        }).getOr(false);\r\n      };\r\n    };\r\n    var deleteFromTo = function (editor, caret, from, to) {\r\n      var rootNode = editor.getBody();\r\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\r\n      editor.undoManager.ignore(function () {\r\n        editor.selection.setRng(rangeFromPositions(from, to));\r\n        editor.execCommand('Delete');\r\n        BoundaryLocation.readLocation(isInlineTarget, rootNode, CaretPosition$1.fromRangeStart(editor.selection.getRng())).map(BoundaryLocation.inside).map(setCaretLocation(editor, caret));\r\n      });\r\n      editor.nodeChanged();\r\n    };\r\n    var rescope$1 = function (rootNode, node) {\r\n      var parentBlock = getParentBlock(node, rootNode);\r\n      return parentBlock ? parentBlock : rootNode;\r\n    };\r\n    var backspaceDeleteCollapsed = function (editor, caret, forward, from) {\r\n      var rootNode = rescope$1(editor.getBody(), from.container());\r\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\r\n      var fromLocation = BoundaryLocation.readLocation(isInlineTarget, rootNode, from);\r\n      return fromLocation.bind(function (location$$1) {\r\n        if (forward) {\r\n          return location$$1.fold(constant(Option.some(BoundaryLocation.inside(location$$1))), Option.none, constant(Option.some(BoundaryLocation.outside(location$$1))), Option.none);\r\n        } else {\r\n          return location$$1.fold(Option.none, constant(Option.some(BoundaryLocation.outside(location$$1))), Option.none, constant(Option.some(BoundaryLocation.inside(location$$1))));\r\n        }\r\n      }).map(setCaretLocation(editor, caret)).getOrThunk(function () {\r\n        var toPosition = CaretFinder.navigate(forward, rootNode, from);\r\n        var toLocation = toPosition.bind(function (pos) {\r\n          return BoundaryLocation.readLocation(isInlineTarget, rootNode, pos);\r\n        });\r\n        if (fromLocation.isSome() && toLocation.isSome()) {\r\n          return InlineUtils.findRootInline(isInlineTarget, rootNode, from).map(function (elm) {\r\n            if (hasOnlyTwoOrLessPositionsLeft(elm)) {\r\n              DeleteElement.deleteElement(editor, forward, Element$$1.fromDom(elm));\r\n              return true;\r\n            } else {\r\n              return false;\r\n            }\r\n          }).getOr(false);\r\n        } else {\r\n          return toLocation.bind(function (_) {\r\n            return toPosition.map(function (to) {\r\n              if (forward) {\r\n                deleteFromTo(editor, caret, from, to);\r\n              } else {\r\n                deleteFromTo(editor, caret, to, from);\r\n              }\r\n              return true;\r\n            });\r\n          }).getOr(false);\r\n        }\r\n      });\r\n    };\r\n    var backspaceDelete$3 = function (editor, caret, forward) {\r\n      if (editor.selection.isCollapsed() && isFeatureEnabled$1(editor)) {\r\n        var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n        return backspaceDeleteCollapsed(editor, caret, forward, from);\r\n      }\r\n      return false;\r\n    };\r\n    var InlineBoundaryDelete = { backspaceDelete: backspaceDelete$3 };\r\n\r\n    var tableCellRng = Immutable('start', 'end');\r\n    var tableSelection = Immutable('rng', 'table', 'cells');\r\n    var deleteAction = Adt.generate([\r\n      { removeTable: ['element'] },\r\n      { emptyCells: ['cells'] }\r\n    ]);\r\n    var isRootFromElement = function (root) {\r\n      return curry(eq, root);\r\n    };\r\n    var getClosestCell = function (container, isRoot) {\r\n      return closest$1(Element$$1.fromDom(container), 'td,th', isRoot);\r\n    };\r\n    var getClosestTable = function (cell, isRoot) {\r\n      return ancestor$1(cell, 'table', isRoot);\r\n    };\r\n    var isExpandedCellRng = function (cellRng) {\r\n      return eq(cellRng.start(), cellRng.end()) === false;\r\n    };\r\n    var getTableFromCellRng = function (cellRng, isRoot) {\r\n      return getClosestTable(cellRng.start(), isRoot).bind(function (startParentTable) {\r\n        return getClosestTable(cellRng.end(), isRoot).bind(function (endParentTable) {\r\n          return eq(startParentTable, endParentTable) ? Option.some(startParentTable) : Option.none();\r\n        });\r\n      });\r\n    };\r\n    var getTableCells = function (table) {\r\n      return descendants$1(table, 'td,th');\r\n    };\r\n    var getCellRangeFromStartTable = function (cellRng, isRoot) {\r\n      return getClosestTable(cellRng.start(), isRoot).bind(function (table) {\r\n        return last(getTableCells(table)).map(function (endCell) {\r\n          return tableCellRng(cellRng.start(), endCell);\r\n        });\r\n      });\r\n    };\r\n    var partialSelection = function (isRoot, rng) {\r\n      var startCell = getClosestCell(rng.startContainer, isRoot);\r\n      var endCell = getClosestCell(rng.endContainer, isRoot);\r\n      return rng.collapsed ? Option.none() : liftN([\r\n        startCell,\r\n        endCell\r\n      ], tableCellRng).fold(function () {\r\n        return startCell.fold(function () {\r\n          return endCell.bind(function (endCell) {\r\n            return getClosestTable(endCell, isRoot).bind(function (table) {\r\n              return head(getTableCells(table)).map(function (startCell) {\r\n                return tableCellRng(startCell, endCell);\r\n              });\r\n            });\r\n          });\r\n        }, function (startCell) {\r\n          return getClosestTable(startCell, isRoot).bind(function (table) {\r\n            return last(getTableCells(table)).map(function (endCell) {\r\n              return tableCellRng(startCell, endCell);\r\n            });\r\n          });\r\n        });\r\n      }, function (cellRng) {\r\n        return isWithinSameTable(isRoot, cellRng) ? Option.none() : getCellRangeFromStartTable(cellRng, isRoot);\r\n      });\r\n    };\r\n    var isWithinSameTable = function (isRoot, cellRng) {\r\n      return getTableFromCellRng(cellRng, isRoot).isSome();\r\n    };\r\n    var getCellRng = function (rng, isRoot) {\r\n      var startCell = getClosestCell(rng.startContainer, isRoot);\r\n      var endCell = getClosestCell(rng.endContainer, isRoot);\r\n      return liftN([\r\n        startCell,\r\n        endCell\r\n      ], tableCellRng).filter(isExpandedCellRng).filter(function (cellRng) {\r\n        return isWithinSameTable(isRoot, cellRng);\r\n      }).orThunk(function () {\r\n        return partialSelection(isRoot, rng);\r\n      });\r\n    };\r\n    var getTableSelectionFromCellRng = function (cellRng, isRoot) {\r\n      return getTableFromCellRng(cellRng, isRoot).map(function (table) {\r\n        return tableSelection(cellRng, table, getTableCells(table));\r\n      });\r\n    };\r\n    var getTableSelectionFromRng = function (root, rng) {\r\n      var isRoot = isRootFromElement(root);\r\n      return getCellRng(rng, isRoot).bind(function (cellRng) {\r\n        return getTableSelectionFromCellRng(cellRng, isRoot);\r\n      });\r\n    };\r\n    var getCellIndex = function (cells, cell) {\r\n      return findIndex(cells, function (x) {\r\n        return eq(x, cell);\r\n      });\r\n    };\r\n    var getSelectedCells = function (tableSelection) {\r\n      return liftN([\r\n        getCellIndex(tableSelection.cells(), tableSelection.rng().start()),\r\n        getCellIndex(tableSelection.cells(), tableSelection.rng().end())\r\n      ], function (startIndex, endIndex) {\r\n        return tableSelection.cells().slice(startIndex, endIndex + 1);\r\n      });\r\n    };\r\n    var getAction = function (tableSelection) {\r\n      return getSelectedCells(tableSelection).map(function (selected) {\r\n        var cells = tableSelection.cells();\r\n        return selected.length === cells.length ? deleteAction.removeTable(tableSelection.table()) : deleteAction.emptyCells(selected);\r\n      });\r\n    };\r\n    var getActionFromCells = function (cells) {\r\n      return deleteAction.emptyCells(cells);\r\n    };\r\n    var getActionFromRange = function (root, rng) {\r\n      return getTableSelectionFromRng(root, rng).bind(getAction);\r\n    };\r\n    var TableDeleteAction = {\r\n      getActionFromRange: getActionFromRange,\r\n      getActionFromCells: getActionFromCells\r\n    };\r\n\r\n    var getRanges = function (selection) {\r\n      var ranges = [];\r\n      if (selection) {\r\n        for (var i = 0; i < selection.rangeCount; i++) {\r\n          ranges.push(selection.getRangeAt(i));\r\n        }\r\n      }\r\n      return ranges;\r\n    };\r\n    var getSelectedNodes = function (ranges) {\r\n      return bind(ranges, function (range$$1) {\r\n        var node = getSelectedNode(range$$1);\r\n        return node ? [Element$$1.fromDom(node)] : [];\r\n      });\r\n    };\r\n    var hasMultipleRanges = function (selection) {\r\n      return getRanges(selection).length > 1;\r\n    };\r\n    var MultiRange = {\r\n      getRanges: getRanges,\r\n      getSelectedNodes: getSelectedNodes,\r\n      hasMultipleRanges: hasMultipleRanges\r\n    };\r\n\r\n    var getCellsFromRanges = function (ranges) {\r\n      return filter(MultiRange.getSelectedNodes(ranges), isTableCell);\r\n    };\r\n    var getCellsFromElement = function (elm) {\r\n      var selectedCells = descendants$1(elm, 'td[data-mce-selected],th[data-mce-selected]');\r\n      return selectedCells;\r\n    };\r\n    var getCellsFromElementOrRanges = function (ranges, element) {\r\n      var selectedCells = getCellsFromElement(element);\r\n      var rangeCells = getCellsFromRanges(ranges);\r\n      return selectedCells.length > 0 ? selectedCells : rangeCells;\r\n    };\r\n    var getCellsFromEditor = function (editor) {\r\n      return getCellsFromElementOrRanges(MultiRange.getRanges(editor.selection.getSel()), Element$$1.fromDom(editor.getBody()));\r\n    };\r\n    var TableCellSelection = {\r\n      getCellsFromRanges: getCellsFromRanges,\r\n      getCellsFromElement: getCellsFromElement,\r\n      getCellsFromElementOrRanges: getCellsFromElementOrRanges,\r\n      getCellsFromEditor: getCellsFromEditor\r\n    };\r\n\r\n    var emptyCells = function (editor, cells) {\r\n      each(cells, PaddingBr.fillWithPaddingBr);\r\n      editor.selection.setCursorLocation(cells[0].dom(), 0);\r\n      return true;\r\n    };\r\n    var deleteTableElement = function (editor, table) {\r\n      DeleteElement.deleteElement(editor, false, table);\r\n      return true;\r\n    };\r\n    var deleteCellRange = function (editor, rootElm, rng) {\r\n      return TableDeleteAction.getActionFromRange(rootElm, rng).map(function (action) {\r\n        return action.fold(curry(deleteTableElement, editor), curry(emptyCells, editor));\r\n      });\r\n    };\r\n    var deleteCaptionRange = function (editor, caption) {\r\n      return emptyElement(editor, caption);\r\n    };\r\n    var deleteTableRange = function (editor, rootElm, rng, startElm) {\r\n      return getParentCaption(rootElm, startElm).fold(function () {\r\n        return deleteCellRange(editor, rootElm, rng);\r\n      }, function (caption) {\r\n        return deleteCaptionRange(editor, caption);\r\n      }).getOr(false);\r\n    };\r\n    var deleteRange$1 = function (editor, startElm) {\r\n      var rootNode = Element$$1.fromDom(editor.getBody());\r\n      var rng = editor.selection.getRng();\r\n      var selectedCells = TableCellSelection.getCellsFromEditor(editor);\r\n      return selectedCells.length !== 0 ? emptyCells(editor, selectedCells) : deleteTableRange(editor, rootNode, rng, startElm);\r\n    };\r\n    var getParentCell = function (rootElm, elm) {\r\n      return find(Parents.parentsAndSelf(elm, rootElm), isTableCell);\r\n    };\r\n    var getParentCaption = function (rootElm, elm) {\r\n      return find(Parents.parentsAndSelf(elm, rootElm), function (elm) {\r\n        return name(elm) === 'caption';\r\n      });\r\n    };\r\n    var deleteBetweenCells = function (editor, rootElm, forward, fromCell, from) {\r\n      return CaretFinder.navigate(forward, editor.getBody(), from).bind(function (to) {\r\n        return getParentCell(rootElm, Element$$1.fromDom(to.getNode())).map(function (toCell) {\r\n          return eq(toCell, fromCell) === false;\r\n        });\r\n      });\r\n    };\r\n    var emptyElement = function (editor, elm) {\r\n      PaddingBr.fillWithPaddingBr(elm);\r\n      editor.selection.setCursorLocation(elm.dom(), 0);\r\n      return Option.some(true);\r\n    };\r\n    var isDeleteOfLastCharPos = function (fromCaption, forward, from, to) {\r\n      return CaretFinder.firstPositionIn(fromCaption.dom()).bind(function (first) {\r\n        return CaretFinder.lastPositionIn(fromCaption.dom()).map(function (last$$1) {\r\n          return forward ? from.isEqual(first) && to.isEqual(last$$1) : from.isEqual(last$$1) && to.isEqual(first);\r\n        });\r\n      }).getOr(true);\r\n    };\r\n    var emptyCaretCaption = function (editor, elm) {\r\n      return emptyElement(editor, elm);\r\n    };\r\n    var validateCaretCaption = function (rootElm, fromCaption, to) {\r\n      return getParentCaption(rootElm, Element$$1.fromDom(to.getNode())).map(function (toCaption) {\r\n        return eq(toCaption, fromCaption) === false;\r\n      });\r\n    };\r\n    var deleteCaretInsideCaption = function (editor, rootElm, forward, fromCaption, from) {\r\n      return CaretFinder.navigate(forward, editor.getBody(), from).bind(function (to) {\r\n        return isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to);\r\n      }).or(Option.some(true));\r\n    };\r\n    var deleteCaretCells = function (editor, forward, rootElm, startElm) {\r\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n      return getParentCell(rootElm, startElm).bind(function (fromCell) {\r\n        return Empty.isEmpty(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from);\r\n      });\r\n    };\r\n    var deleteCaretCaption = function (editor, forward, rootElm, fromCaption) {\r\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n      return Empty.isEmpty(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\r\n    };\r\n    var deleteCaret = function (editor, forward, startElm) {\r\n      var rootElm = Element$$1.fromDom(editor.getBody());\r\n      return getParentCaption(rootElm, startElm).fold(function () {\r\n        return deleteCaretCells(editor, forward, rootElm, startElm);\r\n      }, function (fromCaption) {\r\n        return deleteCaretCaption(editor, forward, rootElm, fromCaption);\r\n      }).getOr(false);\r\n    };\r\n    var backspaceDelete$4 = function (editor, forward) {\r\n      var startElm = Element$$1.fromDom(editor.selection.getStart(true));\r\n      var cells = TableCellSelection.getCellsFromEditor(editor);\r\n      return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret(editor, forward, startElm) : deleteRange$1(editor, startElm);\r\n    };\r\n    var TableDelete = { backspaceDelete: backspaceDelete$4 };\r\n\r\n    var isEq$2 = FormatUtils.isEq;\r\n    var matchesUnInheritedFormatSelector = function (ed, node, name) {\r\n      var formatList = ed.formatter.get(name);\r\n      if (formatList) {\r\n        for (var i = 0; i < formatList.length; i++) {\r\n          if (formatList[i].inherit === false && ed.dom.is(node, formatList[i].selector)) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    var matchParents = function (editor, node, name, vars) {\r\n      var root = editor.dom.getRoot();\r\n      if (node === root) {\r\n        return false;\r\n      }\r\n      node = editor.dom.getParent(node, function (node) {\r\n        if (matchesUnInheritedFormatSelector(editor, node, name)) {\r\n          return true;\r\n        }\r\n        return node.parentNode === root || !!matchNode(editor, node, name, vars, true);\r\n      });\r\n      return matchNode(editor, node, name, vars);\r\n    };\r\n    var matchName = function (dom, node, format) {\r\n      if (isEq$2(node, format.inline)) {\r\n        return true;\r\n      }\r\n      if (isEq$2(node, format.block)) {\r\n        return true;\r\n      }\r\n      if (format.selector) {\r\n        return node.nodeType === 1 && dom.is(node, format.selector);\r\n      }\r\n    };\r\n    var matchItems = function (dom, node, format, itemName, similar, vars) {\r\n      var key, value;\r\n      var items = format[itemName];\r\n      var i;\r\n      if (format.onmatch) {\r\n        return format.onmatch(node, format, itemName);\r\n      }\r\n      if (items) {\r\n        if (typeof items.length === 'undefined') {\r\n          for (key in items) {\r\n            if (items.hasOwnProperty(key)) {\r\n              if (itemName === 'attributes') {\r\n                value = dom.getAttrib(node, key);\r\n              } else {\r\n                value = FormatUtils.getStyle(dom, node, key);\r\n              }\r\n              if (similar && !value && !format.exact) {\r\n                return;\r\n              }\r\n              if ((!similar || format.exact) && !isEq$2(value, FormatUtils.normalizeStyleValue(dom, FormatUtils.replaceVars(items[key], vars), key))) {\r\n                return;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (i = 0; i < items.length; i++) {\r\n            if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : FormatUtils.getStyle(dom, node, items[i])) {\r\n              return format;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return format;\r\n    };\r\n    var matchNode = function (ed, node, name, vars, similar) {\r\n      var formatList = ed.formatter.get(name);\r\n      var format, i, x, classes;\r\n      var dom = ed.dom;\r\n      if (formatList && node) {\r\n        for (i = 0; i < formatList.length; i++) {\r\n          format = formatList[i];\r\n          if (matchName(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\r\n            if (classes = format.classes) {\r\n              for (x = 0; x < classes.length; x++) {\r\n                if (!ed.dom.hasClass(node, classes[x])) {\r\n                  return;\r\n                }\r\n              }\r\n            }\r\n            return format;\r\n          }\r\n        }\r\n      }\r\n    };\r\n    var match = function (editor, name, vars, node) {\r\n      var startNode;\r\n      if (node) {\r\n        return matchParents(editor, node, name, vars);\r\n      }\r\n      node = editor.selection.getNode();\r\n      if (matchParents(editor, node, name, vars)) {\r\n        return true;\r\n      }\r\n      startNode = editor.selection.getStart();\r\n      if (startNode !== node) {\r\n        if (matchParents(editor, startNode, name, vars)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    var matchAll = function (editor, names, vars) {\r\n      var startElement;\r\n      var matchedFormatNames = [];\r\n      var checkedMap = {};\r\n      startElement = editor.selection.getStart();\r\n      editor.dom.getParent(startElement, function (node) {\r\n        var i, name;\r\n        for (i = 0; i < names.length; i++) {\r\n          name = names[i];\r\n          if (!checkedMap[name] && matchNode(editor, node, name, vars)) {\r\n            checkedMap[name] = true;\r\n            matchedFormatNames.push(name);\r\n          }\r\n        }\r\n      }, editor.dom.getRoot());\r\n      return matchedFormatNames;\r\n    };\r\n    var canApply = function (editor, name) {\r\n      var formatList = editor.formatter.get(name);\r\n      var startNode, parents, i, x, selector;\r\n      var dom = editor.dom;\r\n      if (formatList) {\r\n        startNode = editor.selection.getStart();\r\n        parents = FormatUtils.getParents(dom, startNode);\r\n        for (x = formatList.length - 1; x >= 0; x--) {\r\n          selector = formatList[x].selector;\r\n          if (!selector || formatList[x].defaultBlock) {\r\n            return true;\r\n          }\r\n          for (i = parents.length - 1; i >= 0; i--) {\r\n            if (dom.is(parents[i], selector)) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    var MatchFormat = {\r\n      matchNode: matchNode,\r\n      matchName: matchName,\r\n      match: match,\r\n      matchAll: matchAll,\r\n      canApply: canApply,\r\n      matchesUnInheritedFormatSelector: matchesUnInheritedFormatSelector\r\n    };\r\n\r\n    var splitText = function (node, offset) {\r\n      return node.splitText(offset);\r\n    };\r\n    var split$1 = function (rng) {\r\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\r\n      if (startContainer === endContainer && NodeType.isText(startContainer)) {\r\n        if (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\r\n          endContainer = splitText(startContainer, startOffset);\r\n          startContainer = endContainer.previousSibling;\r\n          if (endOffset > startOffset) {\r\n            endOffset = endOffset - startOffset;\r\n            startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\r\n            endOffset = endContainer.nodeValue.length;\r\n            startOffset = 0;\r\n          } else {\r\n            endOffset = 0;\r\n          }\r\n        }\r\n      } else {\r\n        if (NodeType.isText(startContainer) && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\r\n          startContainer = splitText(startContainer, startOffset);\r\n          startOffset = 0;\r\n        }\r\n        if (NodeType.isText(endContainer) && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\r\n          endContainer = splitText(endContainer, endOffset).previousSibling;\r\n          endOffset = endContainer.nodeValue.length;\r\n        }\r\n      }\r\n      return {\r\n        startContainer: startContainer,\r\n        startOffset: startOffset,\r\n        endContainer: endContainer,\r\n        endOffset: endOffset\r\n      };\r\n    };\r\n    var SplitRange = { split: split$1 };\r\n\r\n    var ZWSP$1 = Zwsp.ZWSP, CARET_ID$1 = '_mce_caret';\r\n    var importNode = function (ownerDocument, node) {\r\n      return ownerDocument.importNode(node, true);\r\n    };\r\n    var getEmptyCaretContainers = function (node) {\r\n      var nodes = [];\r\n      while (node) {\r\n        if (node.nodeType === 3 && node.nodeValue !== ZWSP$1 || node.childNodes.length > 1) {\r\n          return [];\r\n        }\r\n        if (node.nodeType === 1) {\r\n          nodes.push(node);\r\n        }\r\n        node = node.firstChild;\r\n      }\r\n      return nodes;\r\n    };\r\n    var isCaretContainerEmpty = function (node) {\r\n      return getEmptyCaretContainers(node).length > 0;\r\n    };\r\n    var findFirstTextNode = function (node) {\r\n      var walker;\r\n      if (node) {\r\n        walker = new TreeWalker(node, node);\r\n        for (node = walker.current(); node; node = walker.next()) {\r\n          if (node.nodeType === 3) {\r\n            return node;\r\n          }\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n    var createCaretContainer = function (fill) {\r\n      var caretContainer = Element$$1.fromTag('span');\r\n      setAll(caretContainer, {\r\n        'id': CARET_ID$1,\r\n        'data-mce-bogus': '1',\r\n        'data-mce-type': 'format-caret'\r\n      });\r\n      if (fill) {\r\n        append(caretContainer, Element$$1.fromText(ZWSP$1));\r\n      }\r\n      return caretContainer;\r\n    };\r\n    var trimZwspFromCaretContainer = function (caretContainerNode) {\r\n      var textNode = findFirstTextNode(caretContainerNode);\r\n      if (textNode && textNode.nodeValue.charAt(0) === ZWSP$1) {\r\n        textNode.deleteData(0, 1);\r\n      }\r\n      return textNode;\r\n    };\r\n    var removeCaretContainerNode = function (editor, node, moveCaret) {\r\n      if (moveCaret === void 0) {\r\n        moveCaret = true;\r\n      }\r\n      var dom = editor.dom, selection = editor.selection;\r\n      if (isCaretContainerEmpty(node)) {\r\n        DeleteElement.deleteElement(editor, false, Element$$1.fromDom(node), moveCaret);\r\n      } else {\r\n        var rng = selection.getRng();\r\n        var block = dom.getParent(node, dom.isBlock);\r\n        var textNode = trimZwspFromCaretContainer(node);\r\n        if (rng.startContainer === textNode && rng.startOffset > 0) {\r\n          rng.setStart(textNode, rng.startOffset - 1);\r\n        }\r\n        if (rng.endContainer === textNode && rng.endOffset > 0) {\r\n          rng.setEnd(textNode, rng.endOffset - 1);\r\n        }\r\n        dom.remove(node, true);\r\n        if (block && dom.isEmpty(block)) {\r\n          PaddingBr.fillWithPaddingBr(Element$$1.fromDom(block));\r\n        }\r\n        selection.setRng(rng);\r\n      }\r\n    };\r\n    var removeCaretContainer = function (editor, node, moveCaret) {\r\n      if (moveCaret === void 0) {\r\n        moveCaret = true;\r\n      }\r\n      var dom = editor.dom, selection = editor.selection;\r\n      if (!node) {\r\n        node = getParentCaretContainer(editor.getBody(), selection.getStart());\r\n        if (!node) {\r\n          while (node = dom.get(CARET_ID$1)) {\r\n            removeCaretContainerNode(editor, node, false);\r\n          }\r\n        }\r\n      } else {\r\n        removeCaretContainerNode(editor, node, moveCaret);\r\n      }\r\n    };\r\n    var insertCaretContainerNode = function (editor, caretContainer, formatNode) {\r\n      var dom = editor.dom, block = dom.getParent(formatNode, curry(FormatUtils.isTextBlock, editor));\r\n      if (block && dom.isEmpty(block)) {\r\n        formatNode.parentNode.replaceChild(caretContainer, formatNode);\r\n      } else {\r\n        PaddingBr.removeTrailingBr(Element$$1.fromDom(formatNode));\r\n        if (dom.isEmpty(formatNode)) {\r\n          formatNode.parentNode.replaceChild(caretContainer, formatNode);\r\n        } else {\r\n          dom.insertAfter(caretContainer, formatNode);\r\n        }\r\n      }\r\n    };\r\n    var appendNode = function (parentNode, node) {\r\n      parentNode.appendChild(node);\r\n      return node;\r\n    };\r\n    var insertFormatNodesIntoCaretContainer = function (formatNodes, caretContainer) {\r\n      var innerMostFormatNode = foldr(formatNodes, function (parentNode, formatNode) {\r\n        return appendNode(parentNode, formatNode.cloneNode(false));\r\n      }, caretContainer);\r\n      return appendNode(innerMostFormatNode, innerMostFormatNode.ownerDocument.createTextNode(ZWSP$1));\r\n    };\r\n    var applyCaretFormat = function (editor, name$$1, vars) {\r\n      var rng, caretContainer, textNode, offset, bookmark, container, text;\r\n      var selection = editor.selection;\r\n      rng = selection.getRng(true);\r\n      offset = rng.startOffset;\r\n      container = rng.startContainer;\r\n      text = container.nodeValue;\r\n      caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\r\n      if (caretContainer) {\r\n        textNode = findFirstTextNode(caretContainer);\r\n      }\r\n      var wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\r\n      if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\r\n        bookmark = selection.getBookmark();\r\n        rng.collapse(true);\r\n        rng = ExpandRange.expandRng(editor, rng, editor.formatter.get(name$$1));\r\n        rng = SplitRange.split(rng);\r\n        editor.formatter.apply(name$$1, vars, rng);\r\n        selection.moveToBookmark(bookmark);\r\n      } else {\r\n        if (!caretContainer || textNode.nodeValue !== ZWSP$1) {\r\n          caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom());\r\n          textNode = caretContainer.firstChild;\r\n          rng.insertNode(caretContainer);\r\n          offset = 1;\r\n          editor.formatter.apply(name$$1, vars, caretContainer);\r\n        } else {\r\n          editor.formatter.apply(name$$1, vars, caretContainer);\r\n        }\r\n        selection.setCursorLocation(textNode, offset);\r\n      }\r\n    };\r\n    var removeCaretFormat = function (editor, name$$1, vars, similar) {\r\n      var dom = editor.dom, selection = editor.selection;\r\n      var container, offset, bookmark;\r\n      var hasContentAfter, node, formatNode;\r\n      var parents = [], rng = selection.getRng();\r\n      var caretContainer;\r\n      container = rng.startContainer;\r\n      offset = rng.startOffset;\r\n      node = container;\r\n      if (container.nodeType === 3) {\r\n        if (offset !== container.nodeValue.length) {\r\n          hasContentAfter = true;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      while (node) {\r\n        if (MatchFormat.matchNode(editor, node, name$$1, vars, similar)) {\r\n          formatNode = node;\r\n          break;\r\n        }\r\n        if (node.nextSibling) {\r\n          hasContentAfter = true;\r\n        }\r\n        parents.push(node);\r\n        node = node.parentNode;\r\n      }\r\n      if (!formatNode) {\r\n        return;\r\n      }\r\n      if (hasContentAfter) {\r\n        bookmark = selection.getBookmark();\r\n        rng.collapse(true);\r\n        var expandedRng = ExpandRange.expandRng(editor, rng, editor.formatter.get(name$$1), true);\r\n        expandedRng = SplitRange.split(expandedRng);\r\n        editor.formatter.remove(name$$1, vars, expandedRng);\r\n        selection.moveToBookmark(bookmark);\r\n      } else {\r\n        caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\r\n        var newCaretContainer = createCaretContainer(false).dom();\r\n        var caretNode = insertFormatNodesIntoCaretContainer(parents, newCaretContainer);\r\n        if (caretContainer) {\r\n          insertCaretContainerNode(editor, newCaretContainer, caretContainer);\r\n        } else {\r\n          insertCaretContainerNode(editor, newCaretContainer, formatNode);\r\n        }\r\n        removeCaretContainerNode(editor, caretContainer, false);\r\n        selection.setCursorLocation(caretNode, 1);\r\n        if (dom.isEmpty(formatNode)) {\r\n          dom.remove(formatNode);\r\n        }\r\n      }\r\n    };\r\n    var disableCaretContainer = function (editor, keyCode) {\r\n      var selection = editor.selection, body = editor.getBody();\r\n      removeCaretContainer(editor, null, false);\r\n      if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP$1) {\r\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\r\n      }\r\n      if (keyCode === 37 || keyCode === 39) {\r\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\r\n      }\r\n    };\r\n    var setup$2 = function (editor) {\r\n      editor.on('mouseup keydown', function (e) {\r\n        disableCaretContainer(editor, e.keyCode);\r\n      });\r\n    };\r\n    var replaceWithCaretFormat = function (targetNode, formatNodes) {\r\n      var caretContainer = createCaretContainer(false);\r\n      var innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom());\r\n      before(Element$$1.fromDom(targetNode), caretContainer);\r\n      remove$2(Element$$1.fromDom(targetNode));\r\n      return CaretPosition$1(innerMost, 0);\r\n    };\r\n    var isFormatElement = function (editor, element) {\r\n      var inlineElements = editor.schema.getTextInlineElements();\r\n      return inlineElements.hasOwnProperty(name(element)) && !isCaretNode(element.dom()) && !NodeType.isBogus(element.dom());\r\n    };\r\n    var isEmptyCaretFormatElement = function (element) {\r\n      return isCaretNode(element.dom()) && isCaretContainerEmpty(element.dom());\r\n    };\r\n\r\n    var getParentInlines = function (rootElm, startElm) {\r\n      var parents$$1 = Parents.parentsAndSelf(startElm, rootElm);\r\n      return findIndex(parents$$1, isBlock).fold(constant(parents$$1), function (index) {\r\n        return parents$$1.slice(0, index);\r\n      });\r\n    };\r\n    var hasOnlyOneChild$1 = function (elm) {\r\n      return children(elm).length === 1;\r\n    };\r\n    var deleteLastPosition = function (forward, editor, target, parentInlines) {\r\n      var isFormatElement$$1 = curry(isFormatElement, editor);\r\n      var formatNodes = map(filter(parentInlines, isFormatElement$$1), function (elm) {\r\n        return elm.dom();\r\n      });\r\n      if (formatNodes.length === 0) {\r\n        DeleteElement.deleteElement(editor, forward, target);\r\n      } else {\r\n        var pos = replaceWithCaretFormat(target.dom(), formatNodes);\r\n        editor.selection.setRng(pos.toRange());\r\n      }\r\n    };\r\n    var deleteCaret$1 = function (editor, forward) {\r\n      var rootElm = Element$$1.fromDom(editor.getBody());\r\n      var startElm = Element$$1.fromDom(editor.selection.getStart());\r\n      var parentInlines = filter(getParentInlines(rootElm, startElm), hasOnlyOneChild$1);\r\n      return last(parentInlines).map(function (target) {\r\n        var fromPos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n        if (DeleteUtils.willDeleteLastPositionInElement(forward, fromPos, target.dom()) && !isEmptyCaretFormatElement(target)) {\r\n          deleteLastPosition(forward, editor, target, parentInlines);\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      }).getOr(false);\r\n    };\r\n    var backspaceDelete$5 = function (editor, forward) {\r\n      return editor.selection.isCollapsed() ? deleteCaret$1(editor, forward) : false;\r\n    };\r\n    var InlineFormatDelete = { backspaceDelete: backspaceDelete$5 };\r\n\r\n    var isContentEditableTrue$3 = NodeType.isContentEditableTrue;\r\n    var isContentEditableFalse$6 = NodeType.isContentEditableFalse;\r\n    var showCaret = function (direction, editor, node, before, scrollIntoView) {\r\n      return editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView);\r\n    };\r\n    var getNodeRange = function (node) {\r\n      var rng = node.ownerDocument.createRange();\r\n      rng.selectNode(node);\r\n      return rng;\r\n    };\r\n    var selectNode = function (editor, node) {\r\n      var e = editor.fire('BeforeObjectSelected', { target: node });\r\n      if (e.isDefaultPrevented()) {\r\n        return null;\r\n      }\r\n      return getNodeRange(node);\r\n    };\r\n    var renderCaretAtRange = function (editor, range, scrollIntoView) {\r\n      var normalizedRange = normalizeRange(1, editor.getBody(), range);\r\n      var caretPosition = CaretPosition$1.fromRangeStart(normalizedRange);\r\n      var caretPositionNode = caretPosition.getNode();\r\n      if (isContentEditableFalse$6(caretPositionNode)) {\r\n        return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\r\n      }\r\n      var caretPositionBeforeNode = caretPosition.getNode(true);\r\n      if (isContentEditableFalse$6(caretPositionBeforeNode)) {\r\n        return showCaret(1, editor, caretPositionBeforeNode, false, false);\r\n      }\r\n      var ceRoot = editor.dom.getParent(caretPosition.getNode(), function (node) {\r\n        return isContentEditableFalse$6(node) || isContentEditableTrue$3(node);\r\n      });\r\n      if (isContentEditableFalse$6(ceRoot)) {\r\n        return showCaret(1, editor, ceRoot, false, scrollIntoView);\r\n      }\r\n      return null;\r\n    };\r\n    var renderRangeCaret = function (editor, range, scrollIntoView) {\r\n      if (!range || !range.collapsed) {\r\n        return range;\r\n      }\r\n      var caretRange = renderCaretAtRange(editor, range, scrollIntoView);\r\n      if (caretRange) {\r\n        return caretRange;\r\n      }\r\n      return range;\r\n    };\r\n\r\n    var isAfterContentEditableFalse$1 = isAfterContentEditableFalse;\r\n    var isBeforeContentEditableFalse$1 = isBeforeContentEditableFalse;\r\n    var trimEmptyTextNode$1 = function (dom, node) {\r\n      if (NodeType.isText(node) && node.data.length === 0) {\r\n        dom.remove(node);\r\n      }\r\n    };\r\n    var deleteContentAndShowCaret = function (editor, range, node, direction, forward, peekCaretPosition) {\r\n      var caretRange = showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true);\r\n      if (range.collapsed) {\r\n        var deleteRange = range.cloneRange();\r\n        if (forward) {\r\n          deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\r\n        } else {\r\n          deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\r\n        }\r\n        deleteRange.deleteContents();\r\n      } else {\r\n        range.deleteContents();\r\n      }\r\n      editor.selection.setRng(caretRange);\r\n      trimEmptyTextNode$1(editor.dom, node);\r\n      return true;\r\n    };\r\n    var deleteCefBoundaryText = function (editor, forward) {\r\n      var range = editor.selection.getRng();\r\n      if (!NodeType.isText(range.commonAncestorContainer)) {\r\n        return false;\r\n      }\r\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\r\n      var caretWalker = CaretWalker(editor.getBody());\r\n      var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\r\n      var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\r\n      var getNextPosFn = forward ? getNextVisualCaretPosition : getPrevVisualCaretPosition;\r\n      var isBeforeContentEditableFalseFn = forward ? isBeforeContentEditableFalse$1 : isAfterContentEditableFalse$1;\r\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\r\n      var nextCaretPosition = InlineUtils.normalizePosition(forward, getNextPosFn(caretPosition));\r\n      if (!nextCaretPosition) {\r\n        return false;\r\n      } else if (isBeforeContentEditableFalseFn(nextCaretPosition)) {\r\n        return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, nextCaretPosition);\r\n      }\r\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\r\n      if (peekCaretPosition && isBeforeContentEditableFalseFn(peekCaretPosition)) {\r\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\r\n          return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition);\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    var backspaceDelete$6 = function (editor, forward) {\r\n      return deleteCefBoundaryText(editor, forward);\r\n    };\r\n    var CefBoundaryDelete = { backspaceDelete: backspaceDelete$6 };\r\n\r\n    var nativeCommand = function (editor, command) {\r\n      editor.getDoc().execCommand(command, false, null);\r\n    };\r\n    var deleteCommand = function (editor) {\r\n      if (CefDelete.backspaceDelete(editor, false)) {\r\n        return;\r\n      } else if (CefBoundaryDelete.backspaceDelete(editor, false)) {\r\n        return;\r\n      } else if (InlineBoundaryDelete.backspaceDelete(editor, false)) {\r\n        return;\r\n      } else if (BlockBoundaryDelete.backspaceDelete(editor, false)) {\r\n        return;\r\n      } else if (TableDelete.backspaceDelete(editor)) {\r\n        return;\r\n      } else if (BlockRangeDelete.backspaceDelete(editor, false)) {\r\n        return;\r\n      } else if (InlineFormatDelete.backspaceDelete(editor, false)) {\r\n        return;\r\n      } else {\r\n        nativeCommand(editor, 'Delete');\r\n        DeleteUtils.paddEmptyBody(editor);\r\n      }\r\n    };\r\n    var forwardDeleteCommand = function (editor) {\r\n      if (CefDelete.backspaceDelete(editor, true)) {\r\n        return;\r\n      } else if (CefBoundaryDelete.backspaceDelete(editor, true)) {\r\n        return;\r\n      } else if (InlineBoundaryDelete.backspaceDelete(editor, true)) {\r\n        return;\r\n      } else if (BlockBoundaryDelete.backspaceDelete(editor, true)) {\r\n        return;\r\n      } else if (TableDelete.backspaceDelete(editor)) {\r\n        return;\r\n      } else if (BlockRangeDelete.backspaceDelete(editor, true)) {\r\n        return;\r\n      } else if (InlineFormatDelete.backspaceDelete(editor, true)) {\r\n        return;\r\n      } else {\r\n        nativeCommand(editor, 'ForwardDelete');\r\n      }\r\n    };\r\n    var DeleteCommands = {\r\n      deleteCommand: deleteCommand,\r\n      forwardDeleteCommand: forwardDeleteCommand\r\n    };\r\n\r\n    var getBodySetting = function (editor, name, defaultValue) {\r\n      var value = editor.getParam(name, defaultValue);\r\n      if (value.indexOf('=') !== -1) {\r\n        var bodyObj = editor.getParam(name, '', 'hash');\r\n        return bodyObj.hasOwnProperty(editor.id) ? bodyObj[editor.id] : defaultValue;\r\n      } else {\r\n        return value;\r\n      }\r\n    };\r\n    var getIframeAttrs = function (editor) {\r\n      return editor.getParam('iframe_attrs', {});\r\n    };\r\n    var getDocType = function (editor) {\r\n      return editor.getParam('doctype', '<!DOCTYPE html>');\r\n    };\r\n    var getDocumentBaseUrl = function (editor) {\r\n      return editor.getParam('document_base_url', '');\r\n    };\r\n    var getBodyId = function (editor) {\r\n      return getBodySetting(editor, 'body_id', 'tinymce');\r\n    };\r\n    var getBodyClass = function (editor) {\r\n      return getBodySetting(editor, 'body_class', '');\r\n    };\r\n    var getContentSecurityPolicy = function (editor) {\r\n      return editor.getParam('content_security_policy', '');\r\n    };\r\n    var shouldPutBrInPre = function (editor) {\r\n      return editor.getParam('br_in_pre', true);\r\n    };\r\n    var getForcedRootBlock = function (editor) {\r\n      if (editor.getParam('force_p_newlines', false)) {\r\n        return 'p';\r\n      }\r\n      var block = editor.getParam('forced_root_block', 'p');\r\n      return block === false ? '' : block;\r\n    };\r\n    var getForcedRootBlockAttrs = function (editor) {\r\n      return editor.getParam('forced_root_block_attrs', {});\r\n    };\r\n    var getBrNewLineSelector = function (editor) {\r\n      return editor.getParam('br_newline_selector', '.mce-toc h2,figcaption,caption');\r\n    };\r\n    var getNoNewLineSelector = function (editor) {\r\n      return editor.getParam('no_newline_selector', '');\r\n    };\r\n    var shouldKeepStyles = function (editor) {\r\n      return editor.getParam('keep_styles', true);\r\n    };\r\n    var shouldEndContainerOnEmptyBlock = function (editor) {\r\n      return editor.getParam('end_container_on_empty_block', false);\r\n    };\r\n    var getFontStyleValues = function (editor) {\r\n      return Tools.explode(editor.getParam('font_size_style_values', ''));\r\n    };\r\n    var getFontSizeClasses = function (editor) {\r\n      return Tools.explode(editor.getParam('font_size_classes', ''));\r\n    };\r\n    var getImagesDataImgFilter = function (editor) {\r\n      return editor.getParam('images_dataimg_filter', constant(true), 'function');\r\n    };\r\n    var isAutomaticUploadsEnabled = function (editor) {\r\n      return editor.getParam('automatic_uploads', true, 'boolean');\r\n    };\r\n    var shouldReuseFileName = function (editor) {\r\n      return editor.getParam('images_reuse_filename', false, 'boolean');\r\n    };\r\n    var shouldReplaceBlobUris = function (editor) {\r\n      return editor.getParam('images_replace_blob_uris', true, 'boolean');\r\n    };\r\n    var getImageUploadUrl = function (editor) {\r\n      return editor.getParam('images_upload_url', '', 'string');\r\n    };\r\n    var getImageUploadBasePath = function (editor) {\r\n      return editor.getParam('images_upload_base_path', '', 'string');\r\n    };\r\n    var getImagesUploadCredentials = function (editor) {\r\n      return editor.getParam('images_upload_credentials', false, 'boolean');\r\n    };\r\n    var getImagesUploadHandler = function (editor) {\r\n      return editor.getParam('images_upload_handler', null, 'function');\r\n    };\r\n    var shouldUseContentCssCors = function (editor) {\r\n      return editor.getParam('content_css_cors', false, 'boolean');\r\n    };\r\n    var Settings = {\r\n      getIframeAttrs: getIframeAttrs,\r\n      getDocType: getDocType,\r\n      getDocumentBaseUrl: getDocumentBaseUrl,\r\n      getBodyId: getBodyId,\r\n      getBodyClass: getBodyClass,\r\n      getContentSecurityPolicy: getContentSecurityPolicy,\r\n      shouldPutBrInPre: shouldPutBrInPre,\r\n      getForcedRootBlock: getForcedRootBlock,\r\n      getForcedRootBlockAttrs: getForcedRootBlockAttrs,\r\n      getBrNewLineSelector: getBrNewLineSelector,\r\n      getNoNewLineSelector: getNoNewLineSelector,\r\n      shouldKeepStyles: shouldKeepStyles,\r\n      shouldEndContainerOnEmptyBlock: shouldEndContainerOnEmptyBlock,\r\n      getFontStyleValues: getFontStyleValues,\r\n      getFontSizeClasses: getFontSizeClasses,\r\n      getImagesDataImgFilter: getImagesDataImgFilter,\r\n      isAutomaticUploadsEnabled: isAutomaticUploadsEnabled,\r\n      shouldReuseFileName: shouldReuseFileName,\r\n      shouldReplaceBlobUris: shouldReplaceBlobUris,\r\n      getImageUploadUrl: getImageUploadUrl,\r\n      getImageUploadBasePath: getImageUploadBasePath,\r\n      getImagesUploadCredentials: getImagesUploadCredentials,\r\n      getImagesUploadHandler: getImagesUploadHandler,\r\n      shouldUseContentCssCors: shouldUseContentCssCors\r\n    };\r\n\r\n    var getSpecifiedFontProp = function (propName, rootElm, elm) {\r\n      var getProperty = function (elm) {\r\n        return getRaw(elm, propName);\r\n      };\r\n      var isRoot = function (elm) {\r\n        return eq(Element$$1.fromDom(rootElm), elm);\r\n      };\r\n      return closest(Element$$1.fromDom(elm), function (elm) {\r\n        return getProperty(elm).isSome();\r\n      }, isRoot).bind(getProperty);\r\n    };\r\n    var round$1 = function (number, precision) {\r\n      var factor = Math.pow(10, precision);\r\n      return Math.round(number * factor) / factor;\r\n    };\r\n    var toPt = function (fontSize, precision) {\r\n      if (/[0-9.]+px$/.test(fontSize)) {\r\n        return round$1(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\r\n      }\r\n      return fontSize;\r\n    };\r\n    var normalizeFontFamily = function (fontFamily) {\r\n      return fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\r\n    };\r\n    var getComputedFontProp = function (propName, elm) {\r\n      return Option.from(DOMUtils$1.DOM.getStyle(elm, propName, true));\r\n    };\r\n    var getFontProp = function (propName) {\r\n      return function (rootElm, elm) {\r\n        return Option.from(elm).map(Element$$1.fromDom).filter(isElement).bind(function (element) {\r\n          return getSpecifiedFontProp(propName, rootElm, element.dom()).or(getComputedFontProp(propName, element.dom()));\r\n        }).getOr('');\r\n      };\r\n    };\r\n    var FontInfo = {\r\n      getFontSize: getFontProp('font-size'),\r\n      getFontFamily: compose(normalizeFontFamily, getFontProp('font-family')),\r\n      toPt: toPt\r\n    };\r\n\r\n    var findFirstCaretElement = function (editor) {\r\n      return CaretFinder.firstPositionIn(editor.getBody()).map(function (caret) {\r\n        var container = caret.container();\r\n        return NodeType.isText(container) ? container.parentNode : container;\r\n      });\r\n    };\r\n    var isRangeAtStartOfNode = function (rng, root) {\r\n      return rng.startContainer === root && rng.startOffset === 0;\r\n    };\r\n    var getCaretElement = function (editor) {\r\n      return Option.from(editor.selection.getRng()).bind(function (rng) {\r\n        var root = editor.getBody();\r\n        return isRangeAtStartOfNode(rng, root) ? Option.none() : Option.from(editor.selection.getStart(true));\r\n      });\r\n    };\r\n    var fromFontSizeNumber = function (editor, value) {\r\n      if (/^[0-9\\.]+$/.test(value)) {\r\n        var fontSizeNumber = parseInt(value, 10);\r\n        if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\r\n          var fontSizes = Settings.getFontStyleValues(editor);\r\n          var fontClasses = Settings.getFontSizeClasses(editor);\r\n          if (fontClasses) {\r\n            return fontClasses[fontSizeNumber - 1] || value;\r\n          } else {\r\n            return fontSizes[fontSizeNumber - 1] || value;\r\n          }\r\n        } else {\r\n          return value;\r\n        }\r\n      } else {\r\n        return value;\r\n      }\r\n    };\r\n    var fontNameAction = function (editor, value) {\r\n      editor.formatter.toggle('fontname', { value: fromFontSizeNumber(editor, value) });\r\n      editor.nodeChanged();\r\n    };\r\n    var fontNameQuery = function (editor) {\r\n      return getCaretElement(editor).fold(function () {\r\n        return findFirstCaretElement(editor).map(function (caretElement) {\r\n          return FontInfo.getFontFamily(editor.getBody(), caretElement);\r\n        }).getOr('');\r\n      }, function (caretElement) {\r\n        return FontInfo.getFontFamily(editor.getBody(), caretElement);\r\n      });\r\n    };\r\n    var fontSizeAction = function (editor, value) {\r\n      editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\r\n      editor.nodeChanged();\r\n    };\r\n    var fontSizeQuery = function (editor) {\r\n      return getCaretElement(editor).fold(function () {\r\n        return findFirstCaretElement(editor).map(function (caretElement) {\r\n          return FontInfo.getFontSize(editor.getBody(), caretElement);\r\n        }).getOr('');\r\n      }, function (caretElement) {\r\n        return FontInfo.getFontSize(editor.getBody(), caretElement);\r\n      });\r\n    };\r\n\r\n    var isEq$3 = function (rng1, rng2) {\r\n      return rng1 && rng2 && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\r\n    };\r\n    var RangeCompare = { isEq: isEq$3 };\r\n\r\n    var findParent = function (node, rootNode, predicate) {\r\n      while (node && node !== rootNode) {\r\n        if (predicate(node)) {\r\n          return node;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n    var hasParent = function (node, rootNode, predicate) {\r\n      return findParent(node, rootNode, predicate) !== null;\r\n    };\r\n    var hasParentWithName = function (node, rootNode, name) {\r\n      return hasParent(node, rootNode, function (node) {\r\n        return node.nodeName === name;\r\n      });\r\n    };\r\n    var isTable$2 = function (node) {\r\n      return node && node.nodeName === 'TABLE';\r\n    };\r\n    var isTableCell$3 = function (node) {\r\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\r\n    };\r\n    var isCeFalseCaretContainer = function (node, rootNode) {\r\n      return isCaretContainer(node) && hasParent(node, rootNode, isCaretNode) === false;\r\n    };\r\n    var hasBrBeforeAfter = function (dom, node, left) {\r\n      var walker = new TreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || dom.getRoot());\r\n      while (node = walker[left ? 'prev' : 'next']()) {\r\n        if (NodeType.isBr(node)) {\r\n          return true;\r\n        }\r\n      }\r\n    };\r\n    var isPrevNode = function (node, name) {\r\n      return node.previousSibling && node.previousSibling.nodeName === name;\r\n    };\r\n    var hasContentEditableFalseParent = function (body, node) {\r\n      while (node && node !== body) {\r\n        if (NodeType.isContentEditableFalse(node)) {\r\n          return true;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return false;\r\n    };\r\n    var findTextNodeRelative = function (dom, isAfterNode, collapsed, left, startNode) {\r\n      var walker, lastInlineElement, parentBlockContainer;\r\n      var body = dom.getRoot();\r\n      var node;\r\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\r\n      parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\r\n      if (left && NodeType.isBr(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\r\n        return Option.some(CaretPosition(startNode.parentNode, dom.nodeIndex(startNode)));\r\n      }\r\n      walker = new TreeWalker(startNode, parentBlockContainer);\r\n      while (node = walker[left ? 'prev' : 'next']()) {\r\n        if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\r\n          return Option.none();\r\n        }\r\n        if (NodeType.isText(node) && node.nodeValue.length > 0) {\r\n          if (hasParentWithName(node, body, 'A') === false) {\r\n            return Option.some(CaretPosition(node, left ? node.nodeValue.length : 0));\r\n          }\r\n          return Option.none();\r\n        }\r\n        if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\r\n          return Option.none();\r\n        }\r\n        lastInlineElement = node;\r\n      }\r\n      if (collapsed && lastInlineElement) {\r\n        return Option.some(CaretPosition(lastInlineElement, 0));\r\n      }\r\n      return Option.none();\r\n    };\r\n    var normalizeEndPoint = function (dom, collapsed, start, rng) {\r\n      var container, offset, walker;\r\n      var body = dom.getRoot();\r\n      var node, nonEmptyElementsMap;\r\n      var directionLeft, isAfterNode, normalized = false;\r\n      container = rng[(start ? 'start' : 'end') + 'Container'];\r\n      offset = rng[(start ? 'start' : 'end') + 'Offset'];\r\n      isAfterNode = NodeType.isElement(container) && offset === container.childNodes.length;\r\n      nonEmptyElementsMap = dom.schema.getNonEmptyElements();\r\n      directionLeft = start;\r\n      if (isCaretContainer(container)) {\r\n        return Option.none();\r\n      }\r\n      if (NodeType.isElement(container) && offset > container.childNodes.length - 1) {\r\n        directionLeft = false;\r\n      }\r\n      if (NodeType.isDocument(container)) {\r\n        container = body;\r\n        offset = 0;\r\n      }\r\n      if (container === body) {\r\n        if (directionLeft) {\r\n          node = container.childNodes[offset > 0 ? offset - 1 : 0];\r\n          if (node) {\r\n            if (isCaretContainer(node)) {\r\n              return Option.none();\r\n            }\r\n            if (nonEmptyElementsMap[node.nodeName] || isTable$2(node)) {\r\n              return Option.none();\r\n            }\r\n          }\r\n        }\r\n        if (container.hasChildNodes()) {\r\n          offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\r\n          container = container.childNodes[offset];\r\n          offset = NodeType.isText(container) && isAfterNode ? container.data.length : 0;\r\n          if (!collapsed && container === body.lastChild && isTable$2(container)) {\r\n            return Option.none();\r\n          }\r\n          if (hasContentEditableFalseParent(body, container) || isCaretContainer(container)) {\r\n            return Option.none();\r\n          }\r\n          if (container.hasChildNodes() && isTable$2(container) === false) {\r\n            node = container;\r\n            walker = new TreeWalker(container, body);\r\n            do {\r\n              if (NodeType.isContentEditableFalse(node) || isCaretContainer(node)) {\r\n                normalized = false;\r\n                break;\r\n              }\r\n              if (NodeType.isText(node) && node.nodeValue.length > 0) {\r\n                offset = directionLeft ? 0 : node.nodeValue.length;\r\n                container = node;\r\n                normalized = true;\r\n                break;\r\n              }\r\n              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell$3(node)) {\r\n                offset = dom.nodeIndex(node);\r\n                container = node.parentNode;\r\n                if (!directionLeft) {\r\n                  offset++;\r\n                }\r\n                normalized = true;\r\n                break;\r\n              }\r\n            } while (node = directionLeft ? walker.next() : walker.prev());\r\n          }\r\n        }\r\n      }\r\n      if (collapsed) {\r\n        if (NodeType.isText(container) && offset === 0) {\r\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(function (pos) {\r\n            container = pos.container();\r\n            offset = pos.offset();\r\n            normalized = true;\r\n          });\r\n        }\r\n        if (NodeType.isElement(container)) {\r\n          node = container.childNodes[offset];\r\n          if (!node) {\r\n            node = container.childNodes[offset - 1];\r\n          }\r\n          if (node && NodeType.isBr(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\r\n            findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(function (pos) {\r\n              container = pos.container();\r\n              offset = pos.offset();\r\n              normalized = true;\r\n            });\r\n          }\r\n        }\r\n      }\r\n      if (directionLeft && !collapsed && NodeType.isText(container) && offset === container.nodeValue.length) {\r\n        findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(function (pos) {\r\n          container = pos.container();\r\n          offset = pos.offset();\r\n          normalized = true;\r\n        });\r\n      }\r\n      return normalized ? Option.some(CaretPosition(container, offset)) : Option.none();\r\n    };\r\n    var normalize$2 = function (dom, rng) {\r\n      var collapsed = rng.collapsed, normRng = rng.cloneRange();\r\n      var startPos = CaretPosition.fromRangeStart(rng);\r\n      normalizeEndPoint(dom, collapsed, true, normRng).each(function (pos) {\r\n        if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\r\n          normRng.setStart(pos.container(), pos.offset());\r\n        }\r\n      });\r\n      if (!collapsed) {\r\n        normalizeEndPoint(dom, collapsed, false, normRng).each(function (pos) {\r\n          normRng.setEnd(pos.container(), pos.offset());\r\n        });\r\n      }\r\n      if (collapsed) {\r\n        normRng.collapse(true);\r\n      }\r\n      return RangeCompare.isEq(rng, normRng) ? Option.none() : Option.some(normRng);\r\n    };\r\n    var NormalizeRange = { normalize: normalize$2 };\r\n\r\n    var hasRightSideContent = function (schema, container, parentBlock) {\r\n      var walker = new TreeWalker(container, parentBlock);\r\n      var node;\r\n      var nonEmptyElementsMap = schema.getNonEmptyElements();\r\n      while (node = walker.next()) {\r\n        if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\r\n          return true;\r\n        }\r\n      }\r\n    };\r\n    var scrollToBr = function (dom, selection, brElm) {\r\n      var marker = dom.create('span', {}, '&nbsp;');\r\n      brElm.parentNode.insertBefore(marker, brElm);\r\n      selection.scrollIntoView(marker);\r\n      dom.remove(marker);\r\n    };\r\n    var moveSelectionToBr = function (dom, selection, brElm, extraBr) {\r\n      var rng = dom.createRng();\r\n      if (!extraBr) {\r\n        rng.setStartAfter(brElm);\r\n        rng.setEndAfter(brElm);\r\n      } else {\r\n        rng.setStartBefore(brElm);\r\n        rng.setEndBefore(brElm);\r\n      }\r\n      selection.setRng(rng);\r\n    };\r\n    var insertBrAtCaret = function (editor, evt) {\r\n      var selection = editor.selection;\r\n      var dom = editor.dom;\r\n      var rng = selection.getRng();\r\n      var brElm;\r\n      var extraBr;\r\n      NormalizeRange.normalize(dom, rng).each(function (normRng) {\r\n        rng.setStart(normRng.startContainer, normRng.startOffset);\r\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\r\n      });\r\n      var offset = rng.startOffset;\r\n      var container = rng.startContainer;\r\n      if (container.nodeType === 1 && container.hasChildNodes()) {\r\n        var isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\r\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\r\n        if (isAfterLastNodeInContainer && container.nodeType === 3) {\r\n          offset = container.nodeValue.length;\r\n        } else {\r\n          offset = 0;\r\n        }\r\n      }\r\n      var parentBlock = dom.getParent(container, dom.isBlock);\r\n      var containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\r\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\r\n      var isControlKey = evt && evt.ctrlKey;\r\n      if (containerBlockName === 'LI' && !isControlKey) {\r\n        parentBlock = containerBlock;\r\n      }\r\n      if (container && container.nodeType === 3 && offset >= container.nodeValue.length) {\r\n        if (!hasRightSideContent(editor.schema, container, parentBlock)) {\r\n          brElm = dom.create('br');\r\n          rng.insertNode(brElm);\r\n          rng.setStartAfter(brElm);\r\n          rng.setEndAfter(brElm);\r\n          extraBr = true;\r\n        }\r\n      }\r\n      brElm = dom.create('br');\r\n      rangeInsertNode(dom, rng, brElm);\r\n      scrollToBr(dom, selection, brElm);\r\n      moveSelectionToBr(dom, selection, brElm, extraBr);\r\n      editor.undoManager.add();\r\n    };\r\n    var insertBrBefore = function (editor, inline) {\r\n      var br = Element$$1.fromTag('br');\r\n      before(Element$$1.fromDom(inline), br);\r\n      editor.undoManager.add();\r\n    };\r\n    var insertBrAfter = function (editor, inline) {\r\n      if (!hasBrAfter(editor.getBody(), inline)) {\r\n        after(Element$$1.fromDom(inline), Element$$1.fromTag('br'));\r\n      }\r\n      var br = Element$$1.fromTag('br');\r\n      after(Element$$1.fromDom(inline), br);\r\n      scrollToBr(editor.dom, editor.selection, br.dom());\r\n      moveSelectionToBr(editor.dom, editor.selection, br.dom(), false);\r\n      editor.undoManager.add();\r\n    };\r\n    var isBeforeBr$1 = function (pos) {\r\n      return NodeType.isBr(pos.getNode());\r\n    };\r\n    var hasBrAfter = function (rootNode, startNode) {\r\n      if (isBeforeBr$1(CaretPosition$1.after(startNode))) {\r\n        return true;\r\n      } else {\r\n        return CaretFinder.nextPosition(rootNode, CaretPosition$1.after(startNode)).map(function (pos) {\r\n          return NodeType.isBr(pos.getNode());\r\n        }).getOr(false);\r\n      }\r\n    };\r\n    var isAnchorLink = function (elm) {\r\n      return elm && elm.nodeName === 'A' && 'href' in elm;\r\n    };\r\n    var isInsideAnchor = function (location) {\r\n      return location.fold(constant(false), isAnchorLink, isAnchorLink, constant(false));\r\n    };\r\n    var readInlineAnchorLocation = function (editor) {\r\n      var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\r\n      var position = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n      return BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), position).filter(isInsideAnchor);\r\n    };\r\n    var insertBrOutsideAnchor = function (editor, location) {\r\n      location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\r\n    };\r\n    var insert = function (editor, evt) {\r\n      var anchorLocation = readInlineAnchorLocation(editor);\r\n      if (anchorLocation.isSome()) {\r\n        anchorLocation.each(curry(insertBrOutsideAnchor, editor));\r\n      } else {\r\n        insertBrAtCaret(editor, evt);\r\n      }\r\n    };\r\n    var InsertBr = { insert: insert };\r\n\r\n    var adt = Adt.generate([\r\n      { before: ['element'] },\r\n      {\r\n        on: [\r\n          'element',\r\n          'offset'\r\n        ]\r\n      },\r\n      { after: ['element'] }\r\n    ]);\r\n\r\n    var type$1 = Adt.generate([\r\n      { domRange: ['rng'] },\r\n      {\r\n        relative: [\r\n          'startSitu',\r\n          'finishSitu'\r\n        ]\r\n      },\r\n      {\r\n        exact: [\r\n          'start',\r\n          'soffset',\r\n          'finish',\r\n          'foffset'\r\n        ]\r\n      }\r\n    ]);\r\n    var range$1 = Immutable('start', 'soffset', 'finish', 'foffset');\r\n    var domRange = type$1.domRange;\r\n    var relative = type$1.relative;\r\n    var exact = type$1.exact;\r\n\r\n    var browser$3 = PlatformDetection$1.detect().browser;\r\n    var clamp = function (offset, element) {\r\n      var max = isText(element) ? get$6(element).length : children(element).length + 1;\r\n      if (offset > max) {\r\n        return max;\r\n      } else if (offset < 0) {\r\n        return 0;\r\n      }\r\n      return offset;\r\n    };\r\n    var normalizeRng = function (rng) {\r\n      return range$1(rng.start(), clamp(rng.soffset(), rng.start()), rng.finish(), clamp(rng.foffset(), rng.finish()));\r\n    };\r\n    var isOrContains = function (root, elm) {\r\n      return contains$3(root, elm) || eq(root, elm);\r\n    };\r\n    var isRngInRoot = function (root) {\r\n      return function (rng) {\r\n        return isOrContains(root, rng.start()) && isOrContains(root, rng.finish());\r\n      };\r\n    };\r\n    var shouldStore = function (editor) {\r\n      return editor.inline === true || browser$3.isIE();\r\n    };\r\n    var nativeRangeToSelectionRange = function (r) {\r\n      return range$1(Element$$1.fromDom(r.startContainer), r.startOffset, Element$$1.fromDom(r.endContainer), r.endOffset);\r\n    };\r\n    var readRange = function (win) {\r\n      var selection = win.getSelection();\r\n      var rng = !selection || selection.rangeCount === 0 ? Option.none() : Option.from(selection.getRangeAt(0));\r\n      return rng.map(nativeRangeToSelectionRange);\r\n    };\r\n    var getBookmark$2 = function (root) {\r\n      var win = defaultView(root);\r\n      return readRange(win.dom()).filter(isRngInRoot(root));\r\n    };\r\n    var validate = function (root, bookmark) {\r\n      return Option.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\r\n    };\r\n    var bookmarkToNativeRng = function (bookmark) {\r\n      var rng = document.createRange();\r\n      try {\r\n        rng.setStart(bookmark.start().dom(), bookmark.soffset());\r\n        rng.setEnd(bookmark.finish().dom(), bookmark.foffset());\r\n        return Option.some(rng);\r\n      } catch (_) {\r\n        return Option.none();\r\n      }\r\n    };\r\n    var store = function (editor) {\r\n      var newBookmark = shouldStore(editor) ? getBookmark$2(Element$$1.fromDom(editor.getBody())) : Option.none();\r\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\r\n    };\r\n    var storeNative = function (editor, rng) {\r\n      var root = Element$$1.fromDom(editor.getBody());\r\n      var range = shouldStore(editor) ? Option.from(rng) : Option.none();\r\n      var newBookmark = range.map(nativeRangeToSelectionRange).filter(isRngInRoot(root));\r\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\r\n    };\r\n    var getRng = function (editor) {\r\n      var bookmark = editor.bookmark ? editor.bookmark : Option.none();\r\n      return bookmark.bind(curry(validate, Element$$1.fromDom(editor.getBody()))).bind(bookmarkToNativeRng);\r\n    };\r\n    var restore = function (editor) {\r\n      getRng(editor).each(function (rng) {\r\n        editor.selection.setRng(rng);\r\n      });\r\n    };\r\n    var SelectionBookmark = {\r\n      store: store,\r\n      storeNative: storeNative,\r\n      readRange: readRange,\r\n      restore: restore,\r\n      getRng: getRng,\r\n      getBookmark: getBookmark$2,\r\n      validate: validate\r\n    };\r\n\r\n    var indentElement = function (dom, command, useMargin, value, unit, element) {\r\n      if (dom.getContentEditable(element) === 'false') {\r\n        return;\r\n      }\r\n      var indentStyleName = useMargin ? 'margin' : 'padding';\r\n      indentStyleName = element.nodeName === 'TABLE' ? 'margin' : indentStyleName;\r\n      indentStyleName += dom.getStyle(element, 'direction', true) === 'rtl' ? 'Right' : 'Left';\r\n      if (command === 'outdent') {\r\n        var styleValue = Math.max(0, parseInt(element.style[indentStyleName] || 0, 10) - value);\r\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\r\n      } else {\r\n        var styleValue = parseInt(element.style[indentStyleName] || 0, 10) + value + unit;\r\n        dom.setStyle(element, indentStyleName, styleValue);\r\n      }\r\n    };\r\n    var isListComponent = function (el) {\r\n      return isList(el) || isListItem(el);\r\n    };\r\n    var parentIsListComponent = function (el) {\r\n      return parent(el).map(isListComponent).getOr(false);\r\n    };\r\n    var getBlocksToIndent = function (editor) {\r\n      return filter(map(editor.selection.getSelectedBlocks(), Element$$1.fromDom), function (el) {\r\n        return !isListComponent(el) && !parentIsListComponent(el);\r\n      });\r\n    };\r\n    var handle = function (editor, command) {\r\n      var settings = editor.settings, dom = editor.dom, selection = editor.selection, formatter = editor.formatter;\r\n      var indentUnit = /[a-z%]+$/i.exec(settings.indentation)[0];\r\n      var indentValue = parseInt(settings.indentation, 10);\r\n      var useMargin = editor.getParam('indent_use_margin', false);\r\n      if (!editor.queryCommandState('InsertUnorderedList') && !editor.queryCommandState('InsertOrderedList')) {\r\n        if (!settings.forced_root_block && !dom.getParent(selection.getNode(), dom.isBlock)) {\r\n          formatter.apply('div');\r\n        }\r\n      }\r\n      each(getBlocksToIndent(editor), function (block) {\r\n        indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom());\r\n      });\r\n    };\r\n\r\n    var each$a = Tools.each, extend$2 = Tools.extend;\r\n    var map$3 = Tools.map, inArray$2 = Tools.inArray;\r\n    function EditorCommands (editor) {\r\n      var dom, selection, formatter;\r\n      var commands = {\r\n        state: {},\r\n        exec: {},\r\n        value: {}\r\n      };\r\n      var settings = editor.settings, bookmark;\r\n      editor.on('PreInit', function () {\r\n        dom = editor.dom;\r\n        selection = editor.selection;\r\n        settings = editor.settings;\r\n        formatter = editor.formatter;\r\n      });\r\n      var execCommand = function (command, ui, value, args) {\r\n        var func, customCommand, state = false;\r\n        if (editor.removed) {\r\n          return;\r\n        }\r\n        if (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {\r\n          editor.focus();\r\n        } else {\r\n          SelectionBookmark.restore(editor);\r\n        }\r\n        args = editor.fire('BeforeExecCommand', {\r\n          command: command,\r\n          ui: ui,\r\n          value: value\r\n        });\r\n        if (args.isDefaultPrevented()) {\r\n          return false;\r\n        }\r\n        customCommand = command.toLowerCase();\r\n        if (func = commands.exec[customCommand]) {\r\n          func(customCommand, ui, value);\r\n          editor.fire('ExecCommand', {\r\n            command: command,\r\n            ui: ui,\r\n            value: value\r\n          });\r\n          return true;\r\n        }\r\n        each$a(editor.plugins, function (p) {\r\n          if (p.execCommand && p.execCommand(command, ui, value)) {\r\n            editor.fire('ExecCommand', {\r\n              command: command,\r\n              ui: ui,\r\n              value: value\r\n            });\r\n            state = true;\r\n            return false;\r\n          }\r\n        });\r\n        if (state) {\r\n          return state;\r\n        }\r\n        if (editor.theme && editor.theme.execCommand && editor.theme.execCommand(command, ui, value)) {\r\n          editor.fire('ExecCommand', {\r\n            command: command,\r\n            ui: ui,\r\n            value: value\r\n          });\r\n          return true;\r\n        }\r\n        try {\r\n          state = editor.getDoc().execCommand(command, ui, value);\r\n        } catch (ex) {\r\n        }\r\n        if (state) {\r\n          editor.fire('ExecCommand', {\r\n            command: command,\r\n            ui: ui,\r\n            value: value\r\n          });\r\n          return true;\r\n        }\r\n        return false;\r\n      };\r\n      var queryCommandState = function (command) {\r\n        var func;\r\n        if (editor.quirks.isHidden() || editor.removed) {\r\n          return;\r\n        }\r\n        command = command.toLowerCase();\r\n        if (func = commands.state[command]) {\r\n          return func(command);\r\n        }\r\n        try {\r\n          return editor.getDoc().queryCommandState(command);\r\n        } catch (ex) {\r\n        }\r\n        return false;\r\n      };\r\n      var queryCommandValue = function (command) {\r\n        var func;\r\n        if (editor.quirks.isHidden() || editor.removed) {\r\n          return;\r\n        }\r\n        command = command.toLowerCase();\r\n        if (func = commands.value[command]) {\r\n          return func(command);\r\n        }\r\n        try {\r\n          return editor.getDoc().queryCommandValue(command);\r\n        } catch (ex) {\r\n        }\r\n      };\r\n      var addCommands = function (commandList, type) {\r\n        type = type || 'exec';\r\n        each$a(commandList, function (callback, command) {\r\n          each$a(command.toLowerCase().split(','), function (command) {\r\n            commands[type][command] = callback;\r\n          });\r\n        });\r\n      };\r\n      var addCommand = function (command, callback, scope) {\r\n        command = command.toLowerCase();\r\n        commands.exec[command] = function (command, ui, value, args) {\r\n          return callback.call(scope || editor, ui, value, args);\r\n        };\r\n      };\r\n      var queryCommandSupported = function (command) {\r\n        command = command.toLowerCase();\r\n        if (commands.exec[command]) {\r\n          return true;\r\n        }\r\n        try {\r\n          return editor.getDoc().queryCommandSupported(command);\r\n        } catch (ex) {\r\n        }\r\n        return false;\r\n      };\r\n      var addQueryStateHandler = function (command, callback, scope) {\r\n        command = command.toLowerCase();\r\n        commands.state[command] = function () {\r\n          return callback.call(scope || editor);\r\n        };\r\n      };\r\n      var addQueryValueHandler = function (command, callback, scope) {\r\n        command = command.toLowerCase();\r\n        commands.value[command] = function () {\r\n          return callback.call(scope || editor);\r\n        };\r\n      };\r\n      var hasCustomCommand = function (command) {\r\n        command = command.toLowerCase();\r\n        return !!commands.exec[command];\r\n      };\r\n      extend$2(this, {\r\n        execCommand: execCommand,\r\n        queryCommandState: queryCommandState,\r\n        queryCommandValue: queryCommandValue,\r\n        queryCommandSupported: queryCommandSupported,\r\n        addCommands: addCommands,\r\n        addCommand: addCommand,\r\n        addQueryStateHandler: addQueryStateHandler,\r\n        addQueryValueHandler: addQueryValueHandler,\r\n        hasCustomCommand: hasCustomCommand\r\n      });\r\n      var execNativeCommand = function (command, ui, value) {\r\n        if (ui === undefined) {\r\n          ui = false;\r\n        }\r\n        if (value === undefined) {\r\n          value = null;\r\n        }\r\n        return editor.getDoc().execCommand(command, ui, value);\r\n      };\r\n      var isFormatMatch = function (name) {\r\n        return formatter.match(name);\r\n      };\r\n      var toggleFormat = function (name, value) {\r\n        formatter.toggle(name, value ? { value: value } : undefined);\r\n        editor.nodeChanged();\r\n      };\r\n      var storeSelection = function (type) {\r\n        bookmark = selection.getBookmark(type);\r\n      };\r\n      var restoreSelection = function () {\r\n        selection.moveToBookmark(bookmark);\r\n      };\r\n      addCommands({\r\n        'mceResetDesignMode,mceBeginUndoLevel': function () {\r\n        },\r\n        'mceEndUndoLevel,mceAddUndoLevel': function () {\r\n          editor.undoManager.add();\r\n        },\r\n        'Cut,Copy,Paste': function (command) {\r\n          var doc = editor.getDoc();\r\n          var failed;\r\n          try {\r\n            execNativeCommand(command);\r\n          } catch (ex) {\r\n            failed = true;\r\n          }\r\n          if (command === 'paste' && !doc.queryCommandEnabled(command)) {\r\n            failed = true;\r\n          }\r\n          if (failed || !doc.queryCommandSupported(command)) {\r\n            var msg = editor.translate('Your browser doesn\\'t support direct access to the clipboard. ' + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\r\n            if (Env.mac) {\r\n              msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\r\n            }\r\n            editor.notificationManager.open({\r\n              text: msg,\r\n              type: 'error'\r\n            });\r\n          }\r\n        },\r\n        'unlink': function () {\r\n          if (selection.isCollapsed()) {\r\n            var elm = editor.dom.getParent(editor.selection.getStart(), 'a');\r\n            if (elm) {\r\n              editor.dom.remove(elm, true);\r\n            }\r\n            return;\r\n          }\r\n          formatter.remove('link');\r\n        },\r\n        'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function (command) {\r\n          var align = command.substring(7);\r\n          if (align === 'full') {\r\n            align = 'justify';\r\n          }\r\n          each$a('left,center,right,justify'.split(','), function (name) {\r\n            if (align !== name) {\r\n              formatter.remove('align' + name);\r\n            }\r\n          });\r\n          if (align !== 'none') {\r\n            toggleFormat('align' + align);\r\n          }\r\n        },\r\n        'InsertUnorderedList,InsertOrderedList': function (command) {\r\n          var listElm, listParent;\r\n          execNativeCommand(command);\r\n          listElm = dom.getParent(selection.getNode(), 'ol,ul');\r\n          if (listElm) {\r\n            listParent = listElm.parentNode;\r\n            if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\r\n              storeSelection();\r\n              dom.split(listParent, listElm);\r\n              restoreSelection();\r\n            }\r\n          }\r\n        },\r\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\r\n          toggleFormat(command);\r\n        },\r\n        'ForeColor,HiliteColor': function (command, ui, value) {\r\n          toggleFormat(command, value);\r\n        },\r\n        'FontName': function (command, ui, value) {\r\n          fontNameAction(editor, value);\r\n        },\r\n        'FontSize': function (command, ui, value) {\r\n          fontSizeAction(editor, value);\r\n        },\r\n        'RemoveFormat': function (command) {\r\n          formatter.remove(command);\r\n        },\r\n        'mceBlockQuote': function () {\r\n          toggleFormat('blockquote');\r\n        },\r\n        'FormatBlock': function (command, ui, value) {\r\n          return toggleFormat(value || 'p');\r\n        },\r\n        'mceCleanup': function () {\r\n          var bookmark = selection.getBookmark();\r\n          editor.setContent(editor.getContent());\r\n          selection.moveToBookmark(bookmark);\r\n        },\r\n        'mceRemoveNode': function (command, ui, value) {\r\n          var node = value || selection.getNode();\r\n          if (node !== editor.getBody()) {\r\n            storeSelection();\r\n            editor.dom.remove(node, true);\r\n            restoreSelection();\r\n          }\r\n        },\r\n        'mceSelectNodeDepth': function (command, ui, value) {\r\n          var counter = 0;\r\n          dom.getParent(selection.getNode(), function (node) {\r\n            if (node.nodeType === 1 && counter++ === value) {\r\n              selection.select(node);\r\n              return false;\r\n            }\r\n          }, editor.getBody());\r\n        },\r\n        'mceSelectNode': function (command, ui, value) {\r\n          selection.select(value);\r\n        },\r\n        'mceInsertContent': function (command, ui, value) {\r\n          InsertContent.insertAtCaret(editor, value);\r\n        },\r\n        'mceInsertRawHTML': function (command, ui, value) {\r\n          selection.setContent('tiny_mce_marker');\r\n          var content = editor.getContent();\r\n          editor.setContent(content.replace(/tiny_mce_marker/g, function () {\r\n            return value;\r\n          }));\r\n        },\r\n        'mceToggleFormat': function (command, ui, value) {\r\n          toggleFormat(value);\r\n        },\r\n        'mceSetContent': function (command, ui, value) {\r\n          editor.setContent(value);\r\n        },\r\n        'Indent,Outdent': function (command) {\r\n          handle(editor, command);\r\n        },\r\n        'mceRepaint': function () {\r\n        },\r\n        'InsertHorizontalRule': function () {\r\n          editor.execCommand('mceInsertContent', false, '<hr />');\r\n        },\r\n        'mceToggleVisualAid': function () {\r\n          editor.hasVisual = !editor.hasVisual;\r\n          editor.addVisual();\r\n        },\r\n        'mceReplaceContent': function (command, ui, value) {\r\n          editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, selection.getContent({ format: 'text' })));\r\n        },\r\n        'mceInsertLink': function (command, ui, value) {\r\n          var anchor;\r\n          if (typeof value === 'string') {\r\n            value = { href: value };\r\n          }\r\n          anchor = dom.getParent(selection.getNode(), 'a');\r\n          value.href = value.href.replace(' ', '%20');\r\n          if (!anchor || !value.href) {\r\n            formatter.remove('link');\r\n          }\r\n          if (value.href) {\r\n            formatter.apply('link', value, anchor);\r\n          }\r\n        },\r\n        'selectAll': function () {\r\n          var editingHost = dom.getParent(selection.getStart(), NodeType.isContentEditableTrue);\r\n          if (editingHost) {\r\n            var rng = dom.createRng();\r\n            rng.selectNodeContents(editingHost);\r\n            selection.setRng(rng);\r\n          }\r\n        },\r\n        'delete': function () {\r\n          DeleteCommands.deleteCommand(editor);\r\n        },\r\n        'forwardDelete': function () {\r\n          DeleteCommands.forwardDeleteCommand(editor);\r\n        },\r\n        'mceNewDocument': function () {\r\n          editor.setContent('');\r\n        },\r\n        'InsertLineBreak': function (command, ui, value) {\r\n          InsertBr.insert(editor, value);\r\n          return true;\r\n        }\r\n      });\r\n      var alignStates = function (name) {\r\n        return function () {\r\n          var nodes = selection.isCollapsed() ? [dom.getParent(selection.getNode(), dom.isBlock)] : selection.getSelectedBlocks();\r\n          var matches = map$3(nodes, function (node) {\r\n            return !!formatter.matchNode(node, name);\r\n          });\r\n          return inArray$2(matches, true) !== -1;\r\n        };\r\n      };\r\n      addCommands({\r\n        'JustifyLeft': alignStates('alignleft'),\r\n        'JustifyCenter': alignStates('aligncenter'),\r\n        'JustifyRight': alignStates('alignright'),\r\n        'JustifyFull': alignStates('alignjustify'),\r\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\r\n          return isFormatMatch(command);\r\n        },\r\n        'mceBlockQuote': function () {\r\n          return isFormatMatch('blockquote');\r\n        },\r\n        'Outdent': function () {\r\n          var node;\r\n          if (settings.inline_styles) {\r\n            if ((node = dom.getParent(selection.getStart(), dom.isBlock)) && parseInt(node.style.paddingLeft, 10) > 0) {\r\n              return true;\r\n            }\r\n            if ((node = dom.getParent(selection.getEnd(), dom.isBlock)) && parseInt(node.style.paddingLeft, 10) > 0) {\r\n              return true;\r\n            }\r\n          }\r\n          return queryCommandState('InsertUnorderedList') || queryCommandState('InsertOrderedList') || !settings.inline_styles && !!dom.getParent(selection.getNode(), 'BLOCKQUOTE');\r\n        },\r\n        'InsertUnorderedList,InsertOrderedList': function (command) {\r\n          var list = dom.getParent(selection.getNode(), 'ul,ol');\r\n          return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\r\n        }\r\n      }, 'state');\r\n      addCommands({\r\n        Undo: function () {\r\n          editor.undoManager.undo();\r\n        },\r\n        Redo: function () {\r\n          editor.undoManager.redo();\r\n        }\r\n      });\r\n      addQueryValueHandler('FontName', function () {\r\n        return fontNameQuery(editor);\r\n      }, this);\r\n      addQueryValueHandler('FontSize', function () {\r\n        return fontSizeQuery(editor);\r\n      }, this);\r\n    }\r\n\r\n    var nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend', ' ');\r\n    var Dispatcher = function (settings) {\r\n      var self = this;\r\n      var scope, bindings = {}, toggleEvent;\r\n      var returnFalse = function () {\r\n        return false;\r\n      };\r\n      var returnTrue = function () {\r\n        return true;\r\n      };\r\n      settings = settings || {};\r\n      scope = settings.scope || self;\r\n      toggleEvent = settings.toggleEvent || returnFalse;\r\n      var fire = function (name, args) {\r\n        var handlers, i, l, callback;\r\n        name = name.toLowerCase();\r\n        args = args || {};\r\n        args.type = name;\r\n        if (!args.target) {\r\n          args.target = scope;\r\n        }\r\n        if (!args.preventDefault) {\r\n          args.preventDefault = function () {\r\n            args.isDefaultPrevented = returnTrue;\r\n          };\r\n          args.stopPropagation = function () {\r\n            args.isPropagationStopped = returnTrue;\r\n          };\r\n          args.stopImmediatePropagation = function () {\r\n            args.isImmediatePropagationStopped = returnTrue;\r\n          };\r\n          args.isDefaultPrevented = returnFalse;\r\n          args.isPropagationStopped = returnFalse;\r\n          args.isImmediatePropagationStopped = returnFalse;\r\n        }\r\n        if (settings.beforeFire) {\r\n          settings.beforeFire(args);\r\n        }\r\n        handlers = bindings[name];\r\n        if (handlers) {\r\n          for (i = 0, l = handlers.length; i < l; i++) {\r\n            callback = handlers[i];\r\n            if (callback.once) {\r\n              off(name, callback.func);\r\n            }\r\n            if (args.isImmediatePropagationStopped()) {\r\n              args.stopPropagation();\r\n              return args;\r\n            }\r\n            if (callback.func.call(scope, args) === false) {\r\n              args.preventDefault();\r\n              return args;\r\n            }\r\n          }\r\n        }\r\n        return args;\r\n      };\r\n      var on = function (name, callback, prepend, extra) {\r\n        var handlers, names, i;\r\n        if (callback === false) {\r\n          callback = returnFalse;\r\n        }\r\n        if (callback) {\r\n          callback = { func: callback };\r\n          if (extra) {\r\n            Tools.extend(callback, extra);\r\n          }\r\n          names = name.toLowerCase().split(' ');\r\n          i = names.length;\r\n          while (i--) {\r\n            name = names[i];\r\n            handlers = bindings[name];\r\n            if (!handlers) {\r\n              handlers = bindings[name] = [];\r\n              toggleEvent(name, true);\r\n            }\r\n            if (prepend) {\r\n              handlers.unshift(callback);\r\n            } else {\r\n              handlers.push(callback);\r\n            }\r\n          }\r\n        }\r\n        return self;\r\n      };\r\n      var off = function (name, callback) {\r\n        var i, handlers, bindingName, names, hi;\r\n        if (name) {\r\n          names = name.toLowerCase().split(' ');\r\n          i = names.length;\r\n          while (i--) {\r\n            name = names[i];\r\n            handlers = bindings[name];\r\n            if (!name) {\r\n              for (bindingName in bindings) {\r\n                toggleEvent(bindingName, false);\r\n                delete bindings[bindingName];\r\n              }\r\n              return self;\r\n            }\r\n            if (handlers) {\r\n              if (!callback) {\r\n                handlers.length = 0;\r\n              } else {\r\n                hi = handlers.length;\r\n                while (hi--) {\r\n                  if (handlers[hi].func === callback) {\r\n                    handlers = handlers.slice(0, hi).concat(handlers.slice(hi + 1));\r\n                    bindings[name] = handlers;\r\n                  }\r\n                }\r\n              }\r\n              if (!handlers.length) {\r\n                toggleEvent(name, false);\r\n                delete bindings[name];\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          for (name in bindings) {\r\n            toggleEvent(name, false);\r\n          }\r\n          bindings = {};\r\n        }\r\n        return self;\r\n      };\r\n      var once = function (name, callback, prepend) {\r\n        return on(name, callback, prepend, { once: true });\r\n      };\r\n      var has = function (name) {\r\n        name = name.toLowerCase();\r\n        return !(!bindings[name] || bindings[name].length === 0);\r\n      };\r\n      self.fire = fire;\r\n      self.on = on;\r\n      self.off = off;\r\n      self.once = once;\r\n      self.has = has;\r\n    };\r\n    Dispatcher.isNative = function (name) {\r\n      return !!nativeEvents[name.toLowerCase()];\r\n    };\r\n\r\n    var getEventDispatcher = function (obj) {\r\n      if (!obj._eventDispatcher) {\r\n        obj._eventDispatcher = new Dispatcher({\r\n          scope: obj,\r\n          toggleEvent: function (name, state) {\r\n            if (Dispatcher.isNative(name) && obj.toggleNativeEvent) {\r\n              obj.toggleNativeEvent(name, state);\r\n            }\r\n          }\r\n        });\r\n      }\r\n      return obj._eventDispatcher;\r\n    };\r\n    var Observable = {\r\n      fire: function (name, args, bubble) {\r\n        var self = this;\r\n        if (self.removed && name !== 'remove') {\r\n          return args;\r\n        }\r\n        args = getEventDispatcher(self).fire(name, args, bubble);\r\n        if (bubble !== false && self.parent) {\r\n          var parent = self.parent();\r\n          while (parent && !args.isPropagationStopped()) {\r\n            parent.fire(name, args, false);\r\n            parent = parent.parent();\r\n          }\r\n        }\r\n        return args;\r\n      },\r\n      on: function (name, callback, prepend) {\r\n        return getEventDispatcher(this).on(name, callback, prepend);\r\n      },\r\n      off: function (name, callback) {\r\n        return getEventDispatcher(this).off(name, callback);\r\n      },\r\n      once: function (name, callback) {\r\n        return getEventDispatcher(this).once(name, callback);\r\n      },\r\n      hasEventListeners: function (name) {\r\n        return getEventDispatcher(this).has(name);\r\n      }\r\n    };\r\n\r\n    var firePreProcess = function (editor, args) {\r\n      return editor.fire('PreProcess', args);\r\n    };\r\n    var firePostProcess = function (editor, args) {\r\n      return editor.fire('PostProcess', args);\r\n    };\r\n    var fireRemove = function (editor) {\r\n      return editor.fire('remove');\r\n    };\r\n    var fireSwitchMode = function (editor, mode) {\r\n      return editor.fire('SwitchMode', { mode: mode });\r\n    };\r\n    var fireObjectResizeStart = function (editor, target, width, height) {\r\n      editor.fire('ObjectResizeStart', {\r\n        target: target,\r\n        width: width,\r\n        height: height\r\n      });\r\n    };\r\n    var fireObjectResized = function (editor, target, width, height) {\r\n      editor.fire('ObjectResized', {\r\n        target: target,\r\n        width: width,\r\n        height: height\r\n      });\r\n    };\r\n    var Events = {\r\n      firePreProcess: firePreProcess,\r\n      firePostProcess: firePostProcess,\r\n      fireRemove: fireRemove,\r\n      fireSwitchMode: fireSwitchMode,\r\n      fireObjectResizeStart: fireObjectResizeStart,\r\n      fireObjectResized: fireObjectResized\r\n    };\r\n\r\n    var setEditorCommandState = function (editor, cmd, state) {\r\n      try {\r\n        editor.getDoc().execCommand(cmd, false, state);\r\n      } catch (ex) {\r\n      }\r\n    };\r\n    var toggleClass = function (elm, cls, state) {\r\n      if (has$2(elm, cls) && state === false) {\r\n        remove$5(elm, cls);\r\n      } else if (state) {\r\n        add$2(elm, cls);\r\n      }\r\n    };\r\n    var toggleReadOnly = function (editor, state) {\r\n      toggleClass(Element$$1.fromDom(editor.getBody()), 'mce-content-readonly', state);\r\n      if (state) {\r\n        editor.selection.controlSelection.hideResizeRect();\r\n        editor.readonly = true;\r\n        editor.getBody().contentEditable = 'false';\r\n      } else {\r\n        editor.readonly = false;\r\n        editor.getBody().contentEditable = 'true';\r\n        setEditorCommandState(editor, 'StyleWithCSS', false);\r\n        setEditorCommandState(editor, 'enableInlineTableEditing', false);\r\n        setEditorCommandState(editor, 'enableObjectResizing', false);\r\n        editor.focus();\r\n        editor.nodeChanged();\r\n      }\r\n    };\r\n    var setMode = function (editor, mode) {\r\n      if (mode === getMode(editor)) {\r\n        return;\r\n      }\r\n      if (editor.initialized) {\r\n        toggleReadOnly(editor, mode === 'readonly');\r\n      } else {\r\n        editor.on('init', function () {\r\n          toggleReadOnly(editor, mode === 'readonly');\r\n        });\r\n      }\r\n      Events.fireSwitchMode(editor, mode);\r\n    };\r\n    var getMode = function (editor) {\r\n      return editor.readonly ? 'readonly' : 'design';\r\n    };\r\n    var isReadOnly = function (editor) {\r\n      return editor.readonly === true;\r\n    };\r\n\r\n    var DOM$1 = DOMUtils$1.DOM;\r\n    var customEventRootDelegates;\r\n    var getEventTarget = function (editor, eventName) {\r\n      if (eventName === 'selectionchange') {\r\n        return editor.getDoc();\r\n      }\r\n      if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\r\n        return editor.getDoc().documentElement;\r\n      }\r\n      if (editor.settings.event_root) {\r\n        if (!editor.eventRoot) {\r\n          editor.eventRoot = DOM$1.select(editor.settings.event_root)[0];\r\n        }\r\n        return editor.eventRoot;\r\n      }\r\n      return editor.getBody();\r\n    };\r\n    var isListening = function (editor) {\r\n      return !editor.hidden && !editor.readonly;\r\n    };\r\n    var fireEvent = function (editor, eventName, e) {\r\n      if (isListening(editor)) {\r\n        editor.fire(eventName, e);\r\n      } else if (isReadOnly(editor)) {\r\n        e.preventDefault();\r\n      }\r\n    };\r\n    var bindEventDelegate = function (editor, eventName) {\r\n      var eventRootElm, delegate;\r\n      if (!editor.delegates) {\r\n        editor.delegates = {};\r\n      }\r\n      if (editor.delegates[eventName] || editor.removed) {\r\n        return;\r\n      }\r\n      eventRootElm = getEventTarget(editor, eventName);\r\n      if (editor.settings.event_root) {\r\n        if (!customEventRootDelegates) {\r\n          customEventRootDelegates = {};\r\n          editor.editorManager.on('removeEditor', function () {\r\n            var name;\r\n            if (!editor.editorManager.activeEditor) {\r\n              if (customEventRootDelegates) {\r\n                for (name in customEventRootDelegates) {\r\n                  editor.dom.unbind(getEventTarget(editor, name));\r\n                }\r\n                customEventRootDelegates = null;\r\n              }\r\n            }\r\n          });\r\n        }\r\n        if (customEventRootDelegates[eventName]) {\r\n          return;\r\n        }\r\n        delegate = function (e) {\r\n          var target = e.target;\r\n          var editors = editor.editorManager.get();\r\n          var i = editors.length;\r\n          while (i--) {\r\n            var body = editors[i].getBody();\r\n            if (body === target || DOM$1.isChildOf(target, body)) {\r\n              fireEvent(editors[i], eventName, e);\r\n            }\r\n          }\r\n        };\r\n        customEventRootDelegates[eventName] = delegate;\r\n        DOM$1.bind(eventRootElm, eventName, delegate);\r\n      } else {\r\n        delegate = function (e) {\r\n          fireEvent(editor, eventName, e);\r\n        };\r\n        DOM$1.bind(eventRootElm, eventName, delegate);\r\n        editor.delegates[eventName] = delegate;\r\n      }\r\n    };\r\n    var EditorObservable = {\r\n      bindPendingEventDelegates: function () {\r\n        var self = this;\r\n        Tools.each(self._pendingNativeEvents, function (name) {\r\n          bindEventDelegate(self, name);\r\n        });\r\n      },\r\n      toggleNativeEvent: function (name, state) {\r\n        var self = this;\r\n        if (name === 'focus' || name === 'blur') {\r\n          return;\r\n        }\r\n        if (state) {\r\n          if (self.initialized) {\r\n            bindEventDelegate(self, name);\r\n          } else {\r\n            if (!self._pendingNativeEvents) {\r\n              self._pendingNativeEvents = [name];\r\n            } else {\r\n              self._pendingNativeEvents.push(name);\r\n            }\r\n          }\r\n        } else if (self.initialized) {\r\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\r\n          delete self.delegates[name];\r\n        }\r\n      },\r\n      unbindAllNativeEvents: function () {\r\n        var self = this;\r\n        var body = self.getBody();\r\n        var dom = self.dom;\r\n        var name;\r\n        if (self.delegates) {\r\n          for (name in self.delegates) {\r\n            self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\r\n          }\r\n          delete self.delegates;\r\n        }\r\n        if (!self.inline && body && dom) {\r\n          body.onload = null;\r\n          dom.unbind(self.getWin());\r\n          dom.unbind(self.getDoc());\r\n        }\r\n        if (dom) {\r\n          dom.unbind(body);\r\n          dom.unbind(self.getContainer());\r\n        }\r\n      }\r\n    };\r\n    EditorObservable = Tools.extend({}, Observable, EditorObservable);\r\n    var EditorObservable$1 = EditorObservable;\r\n\r\n    var each$b = Tools.each, explode$2 = Tools.explode;\r\n    var keyCodeLookup = {\r\n      f1: 112,\r\n      f2: 113,\r\n      f3: 114,\r\n      f4: 115,\r\n      f5: 116,\r\n      f6: 117,\r\n      f7: 118,\r\n      f8: 119,\r\n      f9: 120,\r\n      f10: 121,\r\n      f11: 122,\r\n      f12: 123\r\n    };\r\n    var modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\r\n    function Shortcuts (editor) {\r\n      var self = this;\r\n      var shortcuts = {};\r\n      var pendingPatterns = [];\r\n      var parseShortcut = function (pattern) {\r\n        var id, key;\r\n        var shortcut = {};\r\n        each$b(explode$2(pattern, '+'), function (value) {\r\n          if (value in modifierNames) {\r\n            shortcut[value] = true;\r\n          } else {\r\n            if (/^[0-9]{2,}$/.test(value)) {\r\n              shortcut.keyCode = parseInt(value, 10);\r\n            } else {\r\n              shortcut.charCode = value.charCodeAt(0);\r\n              shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\r\n            }\r\n          }\r\n        });\r\n        id = [shortcut.keyCode];\r\n        for (key in modifierNames) {\r\n          if (shortcut[key]) {\r\n            id.push(key);\r\n          } else {\r\n            shortcut[key] = false;\r\n          }\r\n        }\r\n        shortcut.id = id.join(',');\r\n        if (shortcut.access) {\r\n          shortcut.alt = true;\r\n          if (Env.mac) {\r\n            shortcut.ctrl = true;\r\n          } else {\r\n            shortcut.shift = true;\r\n          }\r\n        }\r\n        if (shortcut.meta) {\r\n          if (Env.mac) {\r\n            shortcut.meta = true;\r\n          } else {\r\n            shortcut.ctrl = true;\r\n            shortcut.meta = false;\r\n          }\r\n        }\r\n        return shortcut;\r\n      };\r\n      var createShortcut = function (pattern, desc, cmdFunc, scope) {\r\n        var shortcuts;\r\n        shortcuts = Tools.map(explode$2(pattern, '>'), parseShortcut);\r\n        shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\r\n          func: cmdFunc,\r\n          scope: scope || editor\r\n        });\r\n        return Tools.extend(shortcuts[0], {\r\n          desc: editor.translate(desc),\r\n          subpatterns: shortcuts.slice(1)\r\n        });\r\n      };\r\n      var hasModifier = function (e) {\r\n        return e.altKey || e.ctrlKey || e.metaKey;\r\n      };\r\n      var isFunctionKey = function (e) {\r\n        return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\r\n      };\r\n      var matchShortcut = function (e, shortcut) {\r\n        if (!shortcut) {\r\n          return false;\r\n        }\r\n        if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\r\n          return false;\r\n        }\r\n        if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\r\n          return false;\r\n        }\r\n        if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\r\n          e.preventDefault();\r\n          return true;\r\n        }\r\n        return false;\r\n      };\r\n      var executeShortcutAction = function (shortcut) {\r\n        return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\r\n      };\r\n      editor.on('keyup keypress keydown', function (e) {\r\n        if ((hasModifier(e) || isFunctionKey(e)) && !e.isDefaultPrevented()) {\r\n          each$b(shortcuts, function (shortcut) {\r\n            if (matchShortcut(e, shortcut)) {\r\n              pendingPatterns = shortcut.subpatterns.slice(0);\r\n              if (e.type === 'keydown') {\r\n                executeShortcutAction(shortcut);\r\n              }\r\n              return true;\r\n            }\r\n          });\r\n          if (matchShortcut(e, pendingPatterns[0])) {\r\n            if (pendingPatterns.length === 1) {\r\n              if (e.type === 'keydown') {\r\n                executeShortcutAction(pendingPatterns[0]);\r\n              }\r\n            }\r\n            pendingPatterns.shift();\r\n          }\r\n        }\r\n      });\r\n      self.add = function (pattern, desc, cmdFunc, scope) {\r\n        var cmd;\r\n        cmd = cmdFunc;\r\n        if (typeof cmdFunc === 'string') {\r\n          cmdFunc = function () {\r\n            editor.execCommand(cmd, false, null);\r\n          };\r\n        } else if (Tools.isArray(cmd)) {\r\n          cmdFunc = function () {\r\n            editor.execCommand(cmd[0], cmd[1], cmd[2]);\r\n          };\r\n        }\r\n        each$b(explode$2(Tools.trim(pattern.toLowerCase())), function (pattern) {\r\n          var shortcut = createShortcut(pattern, desc, cmdFunc, scope);\r\n          shortcuts[shortcut.id] = shortcut;\r\n        });\r\n        return true;\r\n      };\r\n      self.remove = function (pattern) {\r\n        var shortcut = createShortcut(pattern);\r\n        if (shortcuts[shortcut.id]) {\r\n          delete shortcuts[shortcut.id];\r\n          return true;\r\n        }\r\n        return false;\r\n      };\r\n    }\r\n\r\n    var hasFocus = function (element) {\r\n      var doc = owner(element).dom();\r\n      return element.dom() === doc.activeElement;\r\n    };\r\n    var active = function (_DOC) {\r\n      var doc = _DOC !== undefined ? _DOC.dom() : document;\r\n      return Option.from(doc.activeElement).map(Element$$1.fromDom);\r\n    };\r\n    var search = function (element) {\r\n      return active(owner(element)).filter(function (e) {\r\n        return element.dom().contains(e.dom());\r\n      });\r\n    };\r\n\r\n    var getContentEditableHost = function (editor, node) {\r\n      return editor.dom.getParent(node, function (node) {\r\n        return editor.dom.getContentEditable(node) === 'true';\r\n      });\r\n    };\r\n    var getCollapsedNode = function (rng) {\r\n      return rng.collapsed ? Option.from(getNode(rng.startContainer, rng.startOffset)).map(Element$$1.fromDom) : Option.none();\r\n    };\r\n    var getFocusInElement = function (root, rng) {\r\n      return getCollapsedNode(rng).bind(function (node) {\r\n        if (isTableSection(node)) {\r\n          return Option.some(node);\r\n        } else if (contains$3(root, node) === false) {\r\n          return Option.some(root);\r\n        } else {\r\n          return Option.none();\r\n        }\r\n      });\r\n    };\r\n    var normalizeSelection = function (editor, rng) {\r\n      getFocusInElement(Element$$1.fromDom(editor.getBody()), rng).bind(function (elm) {\r\n        return CaretFinder.firstPositionIn(elm.dom());\r\n      }).fold(function () {\r\n        editor.selection.normalize();\r\n        return;\r\n      }, function (caretPos) {\r\n        return editor.selection.setRng(caretPos.toRange());\r\n      });\r\n    };\r\n    var focusBody = function (body) {\r\n      if (body.setActive) {\r\n        try {\r\n          body.setActive();\r\n        } catch (ex) {\r\n          body.focus();\r\n        }\r\n      } else {\r\n        body.focus();\r\n      }\r\n    };\r\n    var hasElementFocus = function (elm) {\r\n      return hasFocus(elm) || search(elm).isSome();\r\n    };\r\n    var hasIframeFocus = function (editor) {\r\n      return editor.iframeElement && hasFocus(Element$$1.fromDom(editor.iframeElement));\r\n    };\r\n    var hasInlineFocus = function (editor) {\r\n      var rawBody = editor.getBody();\r\n      return rawBody && hasElementFocus(Element$$1.fromDom(rawBody));\r\n    };\r\n    var hasFocus$1 = function (editor) {\r\n      return editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\r\n    };\r\n    var focusEditor = function (editor) {\r\n      var selection = editor.selection, contentEditable = editor.settings.content_editable;\r\n      var body = editor.getBody();\r\n      var rng = selection.getRng();\r\n      editor.quirks.refreshContentEditable();\r\n      var contentEditableHost = getContentEditableHost(editor, selection.getNode());\r\n      if (editor.$.contains(body, contentEditableHost)) {\r\n        focusBody(contentEditableHost);\r\n        normalizeSelection(editor, rng);\r\n        activateEditor(editor);\r\n        return;\r\n      }\r\n      if (editor.bookmark !== undefined && hasFocus$1(editor) === false) {\r\n        SelectionBookmark.getRng(editor).each(function (bookmarkRng) {\r\n          editor.selection.setRng(bookmarkRng);\r\n          rng = bookmarkRng;\r\n        });\r\n      }\r\n      if (!contentEditable) {\r\n        if (!Env.opera) {\r\n          focusBody(body);\r\n        }\r\n        editor.getWin().focus();\r\n      }\r\n      if (Env.gecko || contentEditable) {\r\n        focusBody(body);\r\n        normalizeSelection(editor, rng);\r\n      }\r\n      activateEditor(editor);\r\n    };\r\n    var activateEditor = function (editor) {\r\n      return editor.editorManager.setActive(editor);\r\n    };\r\n    var focus$1 = function (editor, skipFocus) {\r\n      if (editor.removed) {\r\n        return;\r\n      }\r\n      skipFocus ? activateEditor(editor) : focusEditor(editor);\r\n    };\r\n    var EditorFocus = {\r\n      focus: focus$1,\r\n      hasFocus: hasFocus$1\r\n    };\r\n\r\n    var getProp = function (propName, elm) {\r\n      var rawElm = elm.dom();\r\n      return rawElm[propName];\r\n    };\r\n    var getComputedSizeProp = function (propName, elm) {\r\n      return parseInt(get$2(elm, propName), 10);\r\n    };\r\n    var getClientWidth = curry(getProp, 'clientWidth');\r\n    var getClientHeight = curry(getProp, 'clientHeight');\r\n    var getMarginTop = curry(getComputedSizeProp, 'margin-top');\r\n    var getMarginLeft = curry(getComputedSizeProp, 'margin-left');\r\n    var getBoundingClientRect$1 = function (elm) {\r\n      return elm.dom().getBoundingClientRect();\r\n    };\r\n    var isInsideElementContentArea = function (bodyElm, clientX, clientY) {\r\n      var clientWidth = getClientWidth(bodyElm);\r\n      var clientHeight = getClientHeight(bodyElm);\r\n      return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\r\n    };\r\n    var transpose = function (inline, elm, clientX, clientY) {\r\n      var clientRect = getBoundingClientRect$1(elm);\r\n      var deltaX = inline ? clientRect.left + elm.dom().clientLeft + getMarginLeft(elm) : 0;\r\n      var deltaY = inline ? clientRect.top + elm.dom().clientTop + getMarginTop(elm) : 0;\r\n      var x = clientX - deltaX;\r\n      var y = clientY - deltaY;\r\n      return {\r\n        x: x,\r\n        y: y\r\n      };\r\n    };\r\n    var isXYInContentArea = function (editor, clientX, clientY) {\r\n      var bodyElm = Element$$1.fromDom(editor.getBody());\r\n      var targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\r\n      var transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\r\n      return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\r\n    };\r\n    var fromDomSafe = function (node) {\r\n      return Option.from(node).map(Element$$1.fromDom);\r\n    };\r\n    var isEditorAttachedToDom = function (editor) {\r\n      var rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\r\n      return fromDomSafe(rawContainer).map(function (container) {\r\n        return contains$3(owner(container), container);\r\n      }).getOr(false);\r\n    };\r\n    var EditorView = {\r\n      isXYInContentArea: isXYInContentArea,\r\n      isEditorAttachedToDom: isEditorAttachedToDom\r\n    };\r\n\r\n    function NotificationManagerImpl () {\r\n      var unimplemented = function () {\r\n        throw new Error('Theme did not provide a NotificationManager implementation.');\r\n      };\r\n      return {\r\n        open: unimplemented,\r\n        close: unimplemented,\r\n        reposition: unimplemented,\r\n        getArgs: unimplemented\r\n      };\r\n    }\r\n\r\n    function NotificationManager (editor) {\r\n      var notifications = [];\r\n      var getImplementation = function () {\r\n        var theme = editor.theme;\r\n        return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\r\n      };\r\n      var getTopNotification = function () {\r\n        return Option.from(notifications[0]);\r\n      };\r\n      var isEqual = function (a, b) {\r\n        return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\r\n      };\r\n      var reposition = function () {\r\n        if (notifications.length > 0) {\r\n          getImplementation().reposition(notifications);\r\n        }\r\n      };\r\n      var addNotification = function (notification) {\r\n        notifications.push(notification);\r\n      };\r\n      var closeNotification = function (notification) {\r\n        findIndex(notifications, function (otherNotification) {\r\n          return otherNotification === notification;\r\n        }).each(function (index) {\r\n          notifications.splice(index, 1);\r\n        });\r\n      };\r\n      var open = function (args) {\r\n        if (editor.removed || !EditorView.isEditorAttachedToDom(editor)) {\r\n          return;\r\n        }\r\n        return find(notifications, function (notification) {\r\n          return isEqual(getImplementation().getArgs(notification), args);\r\n        }).getOrThunk(function () {\r\n          editor.editorManager.setActive(editor);\r\n          var notification = getImplementation().open(args, function () {\r\n            closeNotification(notification);\r\n            reposition();\r\n          });\r\n          addNotification(notification);\r\n          reposition();\r\n          return notification;\r\n        });\r\n      };\r\n      var close = function () {\r\n        getTopNotification().each(function (notification) {\r\n          getImplementation().close(notification);\r\n          closeNotification(notification);\r\n          reposition();\r\n        });\r\n      };\r\n      var getNotifications = function () {\r\n        return notifications;\r\n      };\r\n      var registerEvents = function (editor) {\r\n        editor.on('SkinLoaded', function () {\r\n          var serviceMessage = editor.settings.service_message;\r\n          if (serviceMessage) {\r\n            open({\r\n              text: serviceMessage,\r\n              type: 'warning',\r\n              timeout: 0,\r\n              icon: ''\r\n            });\r\n          }\r\n        });\r\n        editor.on('ResizeEditor ResizeWindow', function () {\r\n          Delay.requestAnimationFrame(reposition);\r\n        });\r\n        editor.on('remove', function () {\r\n          each(notifications.slice(), function (notification) {\r\n            getImplementation().close(notification);\r\n          });\r\n        });\r\n      };\r\n      registerEvents(editor);\r\n      return {\r\n        open: open,\r\n        close: close,\r\n        getNotifications: getNotifications\r\n      };\r\n    }\r\n\r\n    function WindowManagerImpl () {\r\n      var unimplemented = function () {\r\n        throw new Error('Theme did not provide a WindowManager implementation.');\r\n      };\r\n      return {\r\n        open: unimplemented,\r\n        alert: unimplemented,\r\n        confirm: unimplemented,\r\n        close: unimplemented,\r\n        getParams: unimplemented,\r\n        setParams: unimplemented\r\n      };\r\n    }\r\n\r\n    function WindowManager (editor) {\r\n      var windows = [];\r\n      var getImplementation = function () {\r\n        var theme = editor.theme;\r\n        return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\r\n      };\r\n      var funcBind = function (scope, f) {\r\n        return function () {\r\n          return f ? f.apply(scope, arguments) : undefined;\r\n        };\r\n      };\r\n      var fireOpenEvent = function (win) {\r\n        editor.fire('OpenWindow', { win: win });\r\n      };\r\n      var fireCloseEvent = function (win) {\r\n        editor.fire('CloseWindow', { win: win });\r\n      };\r\n      var addWindow = function (win) {\r\n        windows.push(win);\r\n        fireOpenEvent(win);\r\n      };\r\n      var closeWindow = function (win) {\r\n        findIndex(windows, function (otherWindow) {\r\n          return otherWindow === win;\r\n        }).each(function (index) {\r\n          windows.splice(index, 1);\r\n          fireCloseEvent(win);\r\n          if (windows.length === 0) {\r\n            editor.focus();\r\n          }\r\n        });\r\n      };\r\n      var getTopWindow = function () {\r\n        return Option.from(windows[windows.length - 1]);\r\n      };\r\n      var open = function (args, params) {\r\n        editor.editorManager.setActive(editor);\r\n        SelectionBookmark.store(editor);\r\n        var win = getImplementation().open(args, params, closeWindow);\r\n        addWindow(win);\r\n        return win;\r\n      };\r\n      var alert = function (message, callback, scope) {\r\n        var win = getImplementation().alert(message, funcBind(scope ? scope : this, callback), closeWindow);\r\n        addWindow(win);\r\n      };\r\n      var confirm = function (message, callback, scope) {\r\n        var win = getImplementation().confirm(message, funcBind(scope ? scope : this, callback), closeWindow);\r\n        addWindow(win);\r\n      };\r\n      var close = function () {\r\n        getTopWindow().each(function (win) {\r\n          getImplementation().close(win);\r\n          closeWindow(win);\r\n        });\r\n      };\r\n      var getParams = function () {\r\n        return getTopWindow().map(getImplementation().getParams).getOr(null);\r\n      };\r\n      var setParams = function (params) {\r\n        getTopWindow().each(function (win) {\r\n          getImplementation().setParams(win, params);\r\n        });\r\n      };\r\n      var getWindows = function () {\r\n        return windows;\r\n      };\r\n      editor.on('remove', function () {\r\n        each(windows.slice(0), function (win) {\r\n          getImplementation().close(win);\r\n        });\r\n      });\r\n      return {\r\n        windows: windows,\r\n        open: open,\r\n        alert: alert,\r\n        confirm: confirm,\r\n        close: close,\r\n        getParams: getParams,\r\n        setParams: setParams,\r\n        getWindows: getWindows\r\n      };\r\n    }\r\n\r\n    var data = {};\r\n    var code = 'en';\r\n    var I18n = {\r\n      setCode: function (newCode) {\r\n        if (newCode) {\r\n          code = newCode;\r\n          this.rtl = this.data[newCode] ? this.data[newCode]._dir === 'rtl' : false;\r\n        }\r\n      },\r\n      getCode: function () {\r\n        return code;\r\n      },\r\n      rtl: false,\r\n      add: function (code, items) {\r\n        var langData = data[code];\r\n        if (!langData) {\r\n          data[code] = langData = {};\r\n        }\r\n        for (var name in items) {\r\n          langData[name] = items[name];\r\n        }\r\n        this.setCode(code);\r\n      },\r\n      translate: function (text) {\r\n        var langData = data[code] || {};\r\n        var toString = function (obj) {\r\n          if (Tools.is(obj, 'function')) {\r\n            return Object.prototype.toString.call(obj);\r\n          }\r\n          return !isEmpty(obj) ? '' + obj : '';\r\n        };\r\n        var isEmpty = function (text) {\r\n          return text === '' || text === null || Tools.is(text, 'undefined');\r\n        };\r\n        var getLangData = function (text) {\r\n          text = toString(text);\r\n          return Tools.hasOwn(langData, text) ? toString(langData[text]) : text;\r\n        };\r\n        if (isEmpty(text)) {\r\n          return '';\r\n        }\r\n        if (Tools.is(text, 'object') && Tools.hasOwn(text, 'raw')) {\r\n          return toString(text.raw);\r\n        }\r\n        if (Tools.is(text, 'array')) {\r\n          var values_1 = text.slice(1);\r\n          text = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, function ($1, $2) {\r\n            return Tools.hasOwn(values_1, $2) ? toString(values_1[$2]) : $1;\r\n          });\r\n        }\r\n        return getLangData(text).replace(/{context:\\w+}$/, '');\r\n      },\r\n      data: data\r\n    };\r\n\r\n    var PluginManager = AddOnManager.PluginManager;\r\n    var resolvePluginName = function (targetUrl, suffix) {\r\n      for (var name$$1 in PluginManager.urls) {\r\n        var matchUrl = PluginManager.urls[name$$1] + '/plugin' + suffix + '.js';\r\n        if (matchUrl === targetUrl) {\r\n          return name$$1;\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n    var pluginUrlToMessage = function (editor, url) {\r\n      var plugin = resolvePluginName(url, editor.suffix);\r\n      return plugin ? I18n.translate([\r\n        'Failed to load plugin: {0} from url {1}',\r\n        plugin,\r\n        url\r\n      ]) : I18n.translate([\r\n        'Failed to load plugin url: {0}',\r\n        url\r\n      ]);\r\n    };\r\n    var displayNotification = function (editor, message) {\r\n      editor.notificationManager.open({\r\n        type: 'error',\r\n        text: message\r\n      });\r\n    };\r\n    var displayError = function (editor, message) {\r\n      if (editor._skinLoaded) {\r\n        displayNotification(editor, message);\r\n      } else {\r\n        editor.on('SkinLoaded', function () {\r\n          displayNotification(editor, message);\r\n        });\r\n      }\r\n    };\r\n    var uploadError = function (editor, message) {\r\n      displayError(editor, I18n.translate([\r\n        'Failed to upload image: {0}',\r\n        message\r\n      ]));\r\n    };\r\n    var pluginLoadError = function (editor, url) {\r\n      displayError(editor, pluginUrlToMessage(editor, url));\r\n    };\r\n    var pluginInitError = function (editor, name$$1, err) {\r\n      var message = I18n.translate([\r\n        'Failed to initialize plugin: {0}',\r\n        name$$1\r\n      ]);\r\n      initError(message, err);\r\n      displayError(editor, message);\r\n    };\r\n    var initError = function (message) {\r\n      var x = [];\r\n      for (var _i = 1; _i < arguments.length; _i++) {\r\n        x[_i - 1] = arguments[_i];\r\n      }\r\n      var console$$1 = window.console;\r\n      if (console$$1) {\r\n        if (console$$1.error) {\r\n          console$$1.error.apply(console$$1, arguments);\r\n        } else {\r\n          console$$1.log.apply(console$$1, arguments);\r\n        }\r\n      }\r\n    };\r\n    var ErrorReporter = {\r\n      pluginLoadError: pluginLoadError,\r\n      pluginInitError: pluginInitError,\r\n      uploadError: uploadError,\r\n      displayError: displayError,\r\n      initError: initError\r\n    };\r\n\r\n    var PluginManager$1 = AddOnManager.PluginManager;\r\n\r\n    var ThemeManager = AddOnManager.ThemeManager;\r\n\r\n    function XMLHttpRequest () {\r\n      var f = Global$1.getOrDie('XMLHttpRequest');\r\n      return new f();\r\n    }\r\n\r\n    function Uploader (uploadStatus, settings) {\r\n      var pendingPromises = {};\r\n      var pathJoin = function (path1, path2) {\r\n        if (path1) {\r\n          return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\r\n        }\r\n        return path2;\r\n      };\r\n      var defaultHandler = function (blobInfo, success, failure, progress) {\r\n        var xhr, formData;\r\n        xhr = XMLHttpRequest();\r\n        xhr.open('POST', settings.url);\r\n        xhr.withCredentials = settings.credentials;\r\n        xhr.upload.onprogress = function (e) {\r\n          progress(e.loaded / e.total * 100);\r\n        };\r\n        xhr.onerror = function () {\r\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\r\n        };\r\n        xhr.onload = function () {\r\n          var json;\r\n          if (xhr.status < 200 || xhr.status >= 300) {\r\n            failure('HTTP Error: ' + xhr.status);\r\n            return;\r\n          }\r\n          json = JSON.parse(xhr.responseText);\r\n          if (!json || typeof json.location !== 'string') {\r\n            failure('Invalid JSON: ' + xhr.responseText);\r\n            return;\r\n          }\r\n          success(pathJoin(settings.basePath, json.location));\r\n        };\r\n        formData = new FormData();\r\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\r\n        xhr.send(formData);\r\n      };\r\n      var noUpload = function () {\r\n        return new promiseObj(function (resolve) {\r\n          resolve([]);\r\n        });\r\n      };\r\n      var handlerSuccess = function (blobInfo, url) {\r\n        return {\r\n          url: url,\r\n          blobInfo: blobInfo,\r\n          status: true\r\n        };\r\n      };\r\n      var handlerFailure = function (blobInfo, error) {\r\n        return {\r\n          url: '',\r\n          blobInfo: blobInfo,\r\n          status: false,\r\n          error: error\r\n        };\r\n      };\r\n      var resolvePending = function (blobUri, result) {\r\n        Tools.each(pendingPromises[blobUri], function (resolve) {\r\n          resolve(result);\r\n        });\r\n        delete pendingPromises[blobUri];\r\n      };\r\n      var uploadBlobInfo = function (blobInfo, handler, openNotification) {\r\n        uploadStatus.markPending(blobInfo.blobUri());\r\n        return new promiseObj(function (resolve) {\r\n          var notification, progress;\r\n          var noop = function () {\r\n          };\r\n          try {\r\n            var closeNotification_1 = function () {\r\n              if (notification) {\r\n                notification.close();\r\n                progress = noop;\r\n              }\r\n            };\r\n            var success = function (url) {\r\n              closeNotification_1();\r\n              uploadStatus.markUploaded(blobInfo.blobUri(), url);\r\n              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\r\n              resolve(handlerSuccess(blobInfo, url));\r\n            };\r\n            var failure = function (error) {\r\n              closeNotification_1();\r\n              uploadStatus.removeFailed(blobInfo.blobUri());\r\n              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error));\r\n              resolve(handlerFailure(blobInfo, error));\r\n            };\r\n            progress = function (percent) {\r\n              if (percent < 0 || percent > 100) {\r\n                return;\r\n              }\r\n              if (!notification) {\r\n                notification = openNotification();\r\n              }\r\n              notification.progressBar.value(percent);\r\n            };\r\n            handler(blobInfo, success, failure, progress);\r\n          } catch (ex) {\r\n            resolve(handlerFailure(blobInfo, ex.message));\r\n          }\r\n        });\r\n      };\r\n      var isDefaultHandler = function (handler) {\r\n        return handler === defaultHandler;\r\n      };\r\n      var pendingUploadBlobInfo = function (blobInfo) {\r\n        var blobUri = blobInfo.blobUri();\r\n        return new promiseObj(function (resolve) {\r\n          pendingPromises[blobUri] = pendingPromises[blobUri] || [];\r\n          pendingPromises[blobUri].push(resolve);\r\n        });\r\n      };\r\n      var uploadBlobs = function (blobInfos, openNotification) {\r\n        blobInfos = Tools.grep(blobInfos, function (blobInfo) {\r\n          return !uploadStatus.isUploaded(blobInfo.blobUri());\r\n        });\r\n        return promiseObj.all(Tools.map(blobInfos, function (blobInfo) {\r\n          return uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);\r\n        }));\r\n      };\r\n      var upload = function (blobInfos, openNotification) {\r\n        return !settings.url && isDefaultHandler(settings.handler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\r\n      };\r\n      if (isFunction(settings.handler) === false) {\r\n        settings.handler = defaultHandler;\r\n      }\r\n      return { upload: upload };\r\n    }\r\n\r\n    function FileReader () {\r\n      var f = Global$1.getOrDie('FileReader');\r\n      return new f();\r\n    }\r\n\r\n    function Uint8Array (arr) {\r\n      var f = Global$1.getOrDie('Uint8Array');\r\n      return new f(arr);\r\n    }\r\n\r\n    var requestAnimationFrame$1 = function (callback) {\r\n      var f = Global$1.getOrDie('requestAnimationFrame');\r\n      f(callback);\r\n    };\r\n    var atob = function (base64) {\r\n      var f = Global$1.getOrDie('atob');\r\n      return f(base64);\r\n    };\r\n    var Window = {\r\n      atob: atob,\r\n      requestAnimationFrame: requestAnimationFrame$1\r\n    };\r\n\r\n    var blobUriToBlob = function (url) {\r\n      return new promiseObj(function (resolve, reject) {\r\n        var rejectWithError = function () {\r\n          reject('Cannot convert ' + url + ' to Blob. Resource might not exist or is inaccessible.');\r\n        };\r\n        try {\r\n          var xhr = XMLHttpRequest();\r\n          xhr.open('GET', url, true);\r\n          xhr.responseType = 'blob';\r\n          xhr.onload = function () {\r\n            if (this.status === 200) {\r\n              resolve(this.response);\r\n            } else {\r\n              rejectWithError();\r\n            }\r\n          };\r\n          xhr.onerror = rejectWithError;\r\n          xhr.send();\r\n        } catch (ex) {\r\n          rejectWithError();\r\n        }\r\n      });\r\n    };\r\n    var parseDataUri = function (uri) {\r\n      var type, matches;\r\n      var uriParts = decodeURIComponent(uri).split(',');\r\n      matches = /data:([^;]+)/.exec(uriParts[0]);\r\n      if (matches) {\r\n        type = matches[1];\r\n      }\r\n      return {\r\n        type: type,\r\n        data: uriParts[1]\r\n      };\r\n    };\r\n    var dataUriToBlob = function (uri) {\r\n      return new promiseObj(function (resolve) {\r\n        var str, arr, i;\r\n        var uriParts = parseDataUri(uri);\r\n        try {\r\n          str = Window.atob(uriParts.data);\r\n        } catch (e) {\r\n          resolve(new Blob([]));\r\n          return;\r\n        }\r\n        arr = Uint8Array(str.length);\r\n        for (i = 0; i < arr.length; i++) {\r\n          arr[i] = str.charCodeAt(i);\r\n        }\r\n        resolve(new Blob([arr], { type: uriParts.type }));\r\n      });\r\n    };\r\n    var uriToBlob = function (url) {\r\n      if (url.indexOf('blob:') === 0) {\r\n        return blobUriToBlob(url);\r\n      }\r\n      if (url.indexOf('data:') === 0) {\r\n        return dataUriToBlob(url);\r\n      }\r\n      return null;\r\n    };\r\n    var blobToDataUri = function (blob) {\r\n      return new promiseObj(function (resolve) {\r\n        var reader = FileReader();\r\n        reader.onloadend = function () {\r\n          resolve(reader.result);\r\n        };\r\n        reader.readAsDataURL(blob);\r\n      });\r\n    };\r\n    var Conversions = {\r\n      uriToBlob: uriToBlob,\r\n      blobToDataUri: blobToDataUri,\r\n      parseDataUri: parseDataUri\r\n    };\r\n\r\n    var count = 0;\r\n    var uniqueId = function (prefix) {\r\n      return (prefix || 'blobid') + count++;\r\n    };\r\n    var imageToBlobInfo = function (blobCache, img, resolve, reject) {\r\n      var base64, blobInfo;\r\n      if (img.src.indexOf('blob:') === 0) {\r\n        blobInfo = blobCache.getByUri(img.src);\r\n        if (blobInfo) {\r\n          resolve({\r\n            image: img,\r\n            blobInfo: blobInfo\r\n          });\r\n        } else {\r\n          Conversions.uriToBlob(img.src).then(function (blob) {\r\n            Conversions.blobToDataUri(blob).then(function (dataUri) {\r\n              base64 = Conversions.parseDataUri(dataUri).data;\r\n              blobInfo = blobCache.create(uniqueId(), blob, base64);\r\n              blobCache.add(blobInfo);\r\n              resolve({\r\n                image: img,\r\n                blobInfo: blobInfo\r\n              });\r\n            });\r\n          }, function (err) {\r\n            reject(err);\r\n          });\r\n        }\r\n        return;\r\n      }\r\n      base64 = Conversions.parseDataUri(img.src).data;\r\n      blobInfo = blobCache.findFirst(function (cachedBlobInfo) {\r\n        return cachedBlobInfo.base64() === base64;\r\n      });\r\n      if (blobInfo) {\r\n        resolve({\r\n          image: img,\r\n          blobInfo: blobInfo\r\n        });\r\n      } else {\r\n        Conversions.uriToBlob(img.src).then(function (blob) {\r\n          blobInfo = blobCache.create(uniqueId(), blob, base64);\r\n          blobCache.add(blobInfo);\r\n          resolve({\r\n            image: img,\r\n            blobInfo: blobInfo\r\n          });\r\n        }, function (err) {\r\n          reject(err);\r\n        });\r\n      }\r\n    };\r\n    var getAllImages = function (elm) {\r\n      return elm ? from$1(elm.getElementsByTagName('img')) : [];\r\n    };\r\n    function ImageScanner (uploadStatus, blobCache) {\r\n      var cachedPromises = {};\r\n      var findAll = function (elm, predicate) {\r\n        var images;\r\n        if (!predicate) {\r\n          predicate = constant(true);\r\n        }\r\n        images = filter(getAllImages(elm), function (img) {\r\n          var src = img.src;\r\n          if (!Env.fileApi) {\r\n            return false;\r\n          }\r\n          if (img.hasAttribute('data-mce-bogus')) {\r\n            return false;\r\n          }\r\n          if (img.hasAttribute('data-mce-placeholder')) {\r\n            return false;\r\n          }\r\n          if (!src || src === Env.transparentSrc) {\r\n            return false;\r\n          }\r\n          if (src.indexOf('blob:') === 0) {\r\n            return !uploadStatus.isUploaded(src) && predicate(img);\r\n          }\r\n          if (src.indexOf('data:') === 0) {\r\n            return predicate(img);\r\n          }\r\n          return false;\r\n        });\r\n        var promises = map(images, function (img) {\r\n          if (cachedPromises[img.src]) {\r\n            return new promiseObj(function (resolve) {\r\n              cachedPromises[img.src].then(function (imageInfo) {\r\n                if (typeof imageInfo === 'string') {\r\n                  return imageInfo;\r\n                }\r\n                resolve({\r\n                  image: img,\r\n                  blobInfo: imageInfo.blobInfo\r\n                });\r\n              });\r\n            });\r\n          }\r\n          var newPromise = new promiseObj(function (resolve, reject) {\r\n            imageToBlobInfo(blobCache, img, resolve, reject);\r\n          }).then(function (result) {\r\n            delete cachedPromises[result.image.src];\r\n            return result;\r\n          }).catch(function (error) {\r\n            delete cachedPromises[img.src];\r\n            return error;\r\n          });\r\n          cachedPromises[img.src] = newPromise;\r\n          return newPromise;\r\n        });\r\n        return promiseObj.all(promises);\r\n      };\r\n      return { findAll: findAll };\r\n    }\r\n\r\n    var count$1 = 0;\r\n    var seed = function () {\r\n      var rnd = function () {\r\n        return Math.round(Math.random() * 4294967295).toString(36);\r\n      };\r\n      var now = new Date().getTime();\r\n      return 's' + now.toString(36) + rnd() + rnd() + rnd();\r\n    };\r\n    var uuid = function (prefix) {\r\n      return prefix + count$1++ + seed();\r\n    };\r\n    var Uuid = { uuid: uuid };\r\n\r\n    function BlobCache () {\r\n      var cache = [];\r\n      var mimeToExt = function (mime) {\r\n        var mimes = {\r\n          'image/jpeg': 'jpg',\r\n          'image/jpg': 'jpg',\r\n          'image/gif': 'gif',\r\n          'image/png': 'png'\r\n        };\r\n        return mimes[mime.toLowerCase()] || 'dat';\r\n      };\r\n      var create = function (o, blob, base64, filename) {\r\n        if (isString(o)) {\r\n          var id = o;\r\n          return toBlobInfo({\r\n            id: id,\r\n            name: filename,\r\n            blob: blob,\r\n            base64: base64\r\n          });\r\n        } else if (isObject(o)) {\r\n          return toBlobInfo(o);\r\n        } else {\r\n          throw new Error('Unknown input type');\r\n        }\r\n      };\r\n      var toBlobInfo = function (o) {\r\n        var id, name;\r\n        if (!o.blob || !o.base64) {\r\n          throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\r\n        }\r\n        id = o.id || Uuid.uuid('blobid');\r\n        name = o.name || id;\r\n        return {\r\n          id: constant(id),\r\n          name: constant(name),\r\n          filename: constant(name + '.' + mimeToExt(o.blob.type)),\r\n          blob: constant(o.blob),\r\n          base64: constant(o.base64),\r\n          blobUri: constant(o.blobUri || URL.createObjectURL(o.blob)),\r\n          uri: constant(o.uri)\r\n        };\r\n      };\r\n      var add = function (blobInfo) {\r\n        if (!get(blobInfo.id())) {\r\n          cache.push(blobInfo);\r\n        }\r\n      };\r\n      var get = function (id) {\r\n        return findFirst(function (cachedBlobInfo) {\r\n          return cachedBlobInfo.id() === id;\r\n        });\r\n      };\r\n      var findFirst = function (predicate) {\r\n        return filter(cache, predicate)[0];\r\n      };\r\n      var getByUri = function (blobUri) {\r\n        return findFirst(function (blobInfo) {\r\n          return blobInfo.blobUri() === blobUri;\r\n        });\r\n      };\r\n      var removeByUri = function (blobUri) {\r\n        cache = filter(cache, function (blobInfo) {\r\n          if (blobInfo.blobUri() === blobUri) {\r\n            URL.revokeObjectURL(blobInfo.blobUri());\r\n            return false;\r\n          }\r\n          return true;\r\n        });\r\n      };\r\n      var destroy = function () {\r\n        each(cache, function (cachedBlobInfo) {\r\n          URL.revokeObjectURL(cachedBlobInfo.blobUri());\r\n        });\r\n        cache = [];\r\n      };\r\n      return {\r\n        create: create,\r\n        add: add,\r\n        get: get,\r\n        getByUri: getByUri,\r\n        findFirst: findFirst,\r\n        removeByUri: removeByUri,\r\n        destroy: destroy\r\n      };\r\n    }\r\n\r\n    function UploadStatus () {\r\n      var PENDING = 1, UPLOADED = 2;\r\n      var blobUriStatuses = {};\r\n      var createStatus = function (status, resultUri) {\r\n        return {\r\n          status: status,\r\n          resultUri: resultUri\r\n        };\r\n      };\r\n      var hasBlobUri = function (blobUri) {\r\n        return blobUri in blobUriStatuses;\r\n      };\r\n      var getResultUri = function (blobUri) {\r\n        var result = blobUriStatuses[blobUri];\r\n        return result ? result.resultUri : null;\r\n      };\r\n      var isPending = function (blobUri) {\r\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\r\n      };\r\n      var isUploaded = function (blobUri) {\r\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\r\n      };\r\n      var markPending = function (blobUri) {\r\n        blobUriStatuses[blobUri] = createStatus(PENDING, null);\r\n      };\r\n      var markUploaded = function (blobUri, resultUri) {\r\n        blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\r\n      };\r\n      var removeFailed = function (blobUri) {\r\n        delete blobUriStatuses[blobUri];\r\n      };\r\n      var destroy = function () {\r\n        blobUriStatuses = {};\r\n      };\r\n      return {\r\n        hasBlobUri: hasBlobUri,\r\n        getResultUri: getResultUri,\r\n        isPending: isPending,\r\n        isUploaded: isUploaded,\r\n        markPending: markPending,\r\n        markUploaded: markUploaded,\r\n        removeFailed: removeFailed,\r\n        destroy: destroy\r\n      };\r\n    }\r\n\r\n    function EditorUpload (editor) {\r\n      var blobCache = BlobCache();\r\n      var uploader, imageScanner;\r\n      var uploadStatus = UploadStatus();\r\n      var urlFilters = [];\r\n      var aliveGuard = function (callback) {\r\n        return function (result) {\r\n          if (editor.selection) {\r\n            return callback(result);\r\n          }\r\n          return [];\r\n        };\r\n      };\r\n      var cacheInvalidator = function () {\r\n        return '?' + new Date().getTime();\r\n      };\r\n      var replaceString = function (content, search, replace) {\r\n        var index = 0;\r\n        do {\r\n          index = content.indexOf(search, index);\r\n          if (index !== -1) {\r\n            content = content.substring(0, index) + replace + content.substr(index + search.length);\r\n            index += replace.length - search.length + 1;\r\n          }\r\n        } while (index !== -1);\r\n        return content;\r\n      };\r\n      var replaceImageUrl = function (content, targetUrl, replacementUrl) {\r\n        content = replaceString(content, 'src=\"' + targetUrl + '\"', 'src=\"' + replacementUrl + '\"');\r\n        content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\r\n        return content;\r\n      };\r\n      var replaceUrlInUndoStack = function (targetUrl, replacementUrl) {\r\n        each(editor.undoManager.data, function (level) {\r\n          if (level.type === 'fragmented') {\r\n            level.fragments = map(level.fragments, function (fragment) {\r\n              return replaceImageUrl(fragment, targetUrl, replacementUrl);\r\n            });\r\n          } else {\r\n            level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\r\n          }\r\n        });\r\n      };\r\n      var openNotification = function () {\r\n        return editor.notificationManager.open({\r\n          text: editor.translate('Image uploading...'),\r\n          type: 'info',\r\n          timeout: -1,\r\n          progressBar: true\r\n        });\r\n      };\r\n      var replaceImageUri = function (image, resultUri) {\r\n        blobCache.removeByUri(image.src);\r\n        replaceUrlInUndoStack(image.src, resultUri);\r\n        editor.$(image).attr({\r\n          'src': Settings.shouldReuseFileName(editor) ? resultUri + cacheInvalidator() : resultUri,\r\n          'data-mce-src': editor.convertURL(resultUri, 'src')\r\n        });\r\n      };\r\n      var uploadImages = function (callback) {\r\n        if (!uploader) {\r\n          uploader = Uploader(uploadStatus, {\r\n            url: Settings.getImageUploadUrl(editor),\r\n            basePath: Settings.getImageUploadBasePath(editor),\r\n            credentials: Settings.getImagesUploadCredentials(editor),\r\n            handler: Settings.getImagesUploadHandler(editor)\r\n          });\r\n        }\r\n        return scanForImages().then(aliveGuard(function (imageInfos) {\r\n          var blobInfos;\r\n          blobInfos = map(imageInfos, function (imageInfo) {\r\n            return imageInfo.blobInfo;\r\n          });\r\n          return uploader.upload(blobInfos, openNotification).then(aliveGuard(function (result) {\r\n            var filteredResult = map(result, function (uploadInfo, index) {\r\n              var image = imageInfos[index].image;\r\n              if (uploadInfo.status && Settings.shouldReplaceBlobUris(editor)) {\r\n                replaceImageUri(image, uploadInfo.url);\r\n              } else if (uploadInfo.error) {\r\n                ErrorReporter.uploadError(editor, uploadInfo.error);\r\n              }\r\n              return {\r\n                element: image,\r\n                status: uploadInfo.status\r\n              };\r\n            });\r\n            if (callback) {\r\n              callback(filteredResult);\r\n            }\r\n            return filteredResult;\r\n          }));\r\n        }));\r\n      };\r\n      var uploadImagesAuto = function (callback) {\r\n        if (Settings.isAutomaticUploadsEnabled(editor)) {\r\n          return uploadImages(callback);\r\n        }\r\n      };\r\n      var isValidDataUriImage = function (imgElm) {\r\n        if (forall(urlFilters, function (filter$$1) {\r\n            return filter$$1(imgElm);\r\n          }) === false) {\r\n          return false;\r\n        }\r\n        if (imgElm.getAttribute('src').indexOf('data:') === 0) {\r\n          var dataImgFilter = Settings.getImagesDataImgFilter(editor);\r\n          return dataImgFilter(imgElm);\r\n        }\r\n        return true;\r\n      };\r\n      var addFilter = function (filter$$1) {\r\n        urlFilters.push(filter$$1);\r\n      };\r\n      var scanForImages = function () {\r\n        if (!imageScanner) {\r\n          imageScanner = ImageScanner(uploadStatus, blobCache);\r\n        }\r\n        return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(function (result) {\r\n          result = filter(result, function (resultItem) {\r\n            if (typeof resultItem === 'string') {\r\n              ErrorReporter.displayError(editor, resultItem);\r\n              return false;\r\n            }\r\n            return true;\r\n          });\r\n          each(result, function (resultItem) {\r\n            replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\r\n            resultItem.image.src = resultItem.blobInfo.blobUri();\r\n            resultItem.image.removeAttribute('data-mce-src');\r\n          });\r\n          return result;\r\n        }));\r\n      };\r\n      var destroy = function () {\r\n        blobCache.destroy();\r\n        uploadStatus.destroy();\r\n        imageScanner = uploader = null;\r\n      };\r\n      var replaceBlobUris = function (content) {\r\n        return content.replace(/src=\"(blob:[^\"]+)\"/g, function (match, blobUri) {\r\n          var resultUri = uploadStatus.getResultUri(blobUri);\r\n          if (resultUri) {\r\n            return 'src=\"' + resultUri + '\"';\r\n          }\r\n          var blobInfo = blobCache.getByUri(blobUri);\r\n          if (!blobInfo) {\r\n            blobInfo = foldl(editor.editorManager.get(), function (result, editor) {\r\n              return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\r\n            }, null);\r\n          }\r\n          if (blobInfo) {\r\n            var blob = blobInfo.blob();\r\n            return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\r\n          }\r\n          return match;\r\n        });\r\n      };\r\n      editor.on('setContent', function () {\r\n        if (Settings.isAutomaticUploadsEnabled(editor)) {\r\n          uploadImagesAuto();\r\n        } else {\r\n          scanForImages();\r\n        }\r\n      });\r\n      editor.on('RawSaveContent', function (e) {\r\n        e.content = replaceBlobUris(e.content);\r\n      });\r\n      editor.on('getContent', function (e) {\r\n        if (e.source_view || e.format === 'raw') {\r\n          return;\r\n        }\r\n        e.content = replaceBlobUris(e.content);\r\n      });\r\n      editor.on('PostRender', function () {\r\n        editor.parser.addNodeFilter('img', function (images) {\r\n          each(images, function (img) {\r\n            var src = img.attr('src');\r\n            if (blobCache.getByUri(src)) {\r\n              return;\r\n            }\r\n            var resultUri = uploadStatus.getResultUri(src);\r\n            if (resultUri) {\r\n              img.attr('src', resultUri);\r\n            }\r\n          });\r\n        });\r\n      });\r\n      return {\r\n        blobCache: blobCache,\r\n        addFilter: addFilter,\r\n        uploadImages: uploadImages,\r\n        uploadImagesAuto: uploadImagesAuto,\r\n        scanForImages: scanForImages,\r\n        destroy: destroy\r\n      };\r\n    }\r\n\r\n    var isBlockElement = function (blockElements, node) {\r\n      return blockElements.hasOwnProperty(node.nodeName);\r\n    };\r\n    var isValidTarget = function (blockElements, node) {\r\n      if (NodeType.isText(node)) {\r\n        return true;\r\n      } else if (NodeType.isElement(node)) {\r\n        return !isBlockElement(blockElements, node) && !Bookmarks.isBookmarkNode(node);\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n    var hasBlockParent = function (blockElements, root, node) {\r\n      return exists(Parents.parents(Element$$1.fromDom(node), Element$$1.fromDom(root)), function (elm) {\r\n        return isBlockElement(blockElements, elm.dom());\r\n      });\r\n    };\r\n    var shouldRemoveTextNode = function (blockElements, node) {\r\n      if (NodeType.isText(node)) {\r\n        if (node.nodeValue.length === 0) {\r\n          return true;\r\n        } else if (/^\\s+$/.test(node.nodeValue) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    var addRootBlocks = function (editor) {\r\n      var settings = editor.settings, dom = editor.dom, selection = editor.selection;\r\n      var schema = editor.schema, blockElements = schema.getBlockElements();\r\n      var node = selection.getStart();\r\n      var rootNode = editor.getBody();\r\n      var rng;\r\n      var startContainer, startOffset, endContainer, endOffset, rootBlockNode;\r\n      var tempNode, wrapped, restoreSelection;\r\n      var rootNodeName, forcedRootBlock;\r\n      forcedRootBlock = settings.forced_root_block;\r\n      if (!node || !NodeType.isElement(node) || !forcedRootBlock) {\r\n        return;\r\n      }\r\n      rootNodeName = rootNode.nodeName.toLowerCase();\r\n      if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, node)) {\r\n        return;\r\n      }\r\n      rng = selection.getRng();\r\n      startContainer = rng.startContainer;\r\n      startOffset = rng.startOffset;\r\n      endContainer = rng.endContainer;\r\n      endOffset = rng.endOffset;\r\n      restoreSelection = EditorFocus.hasFocus(editor);\r\n      node = rootNode.firstChild;\r\n      while (node) {\r\n        if (isValidTarget(blockElements, node)) {\r\n          if (shouldRemoveTextNode(blockElements, node)) {\r\n            tempNode = node;\r\n            node = node.nextSibling;\r\n            dom.remove(tempNode);\r\n            continue;\r\n          }\r\n          if (!rootBlockNode) {\r\n            rootBlockNode = dom.create(forcedRootBlock, editor.settings.forced_root_block_attrs);\r\n            node.parentNode.insertBefore(rootBlockNode, node);\r\n            wrapped = true;\r\n          }\r\n          tempNode = node;\r\n          node = node.nextSibling;\r\n          rootBlockNode.appendChild(tempNode);\r\n        } else {\r\n          rootBlockNode = null;\r\n          node = node.nextSibling;\r\n        }\r\n      }\r\n      if (wrapped && restoreSelection) {\r\n        rng.setStart(startContainer, startOffset);\r\n        rng.setEnd(endContainer, endOffset);\r\n        selection.setRng(rng);\r\n        editor.nodeChanged();\r\n      }\r\n    };\r\n    var setup$3 = function (editor) {\r\n      if (editor.settings.forced_root_block) {\r\n        editor.on('NodeChange', curry(addRootBlocks, editor));\r\n      }\r\n    };\r\n    var ForceBlocks = { setup: setup$3 };\r\n\r\n    var getStartNode = function (rng) {\r\n      var sc = rng.startContainer, so = rng.startOffset;\r\n      if (NodeType.isText(sc)) {\r\n        return so === 0 ? Option.some(Element$$1.fromDom(sc)) : Option.none();\r\n      } else {\r\n        return Option.from(sc.childNodes[so]).map(Element$$1.fromDom);\r\n      }\r\n    };\r\n    var getEndNode = function (rng) {\r\n      var ec = rng.endContainer, eo = rng.endOffset;\r\n      if (NodeType.isText(ec)) {\r\n        return eo === ec.data.length ? Option.some(Element$$1.fromDom(ec)) : Option.none();\r\n      } else {\r\n        return Option.from(ec.childNodes[eo - 1]).map(Element$$1.fromDom);\r\n      }\r\n    };\r\n    var getFirstChildren = function (node) {\r\n      return firstChild(node).fold(constant([node]), function (child$$1) {\r\n        return [node].concat(getFirstChildren(child$$1));\r\n      });\r\n    };\r\n    var getLastChildren$1 = function (node) {\r\n      return lastChild(node).fold(constant([node]), function (child$$1) {\r\n        if (name(child$$1) === 'br') {\r\n          return prevSibling(child$$1).map(function (sibling) {\r\n            return [node].concat(getLastChildren$1(sibling));\r\n          }).getOr([]);\r\n        } else {\r\n          return [node].concat(getLastChildren$1(child$$1));\r\n        }\r\n      });\r\n    };\r\n    var hasAllContentsSelected = function (elm, rng) {\r\n      return liftN([\r\n        getStartNode(rng),\r\n        getEndNode(rng)\r\n      ], function (startNode, endNode) {\r\n        var start = find(getFirstChildren(elm), curry(eq, startNode));\r\n        var end = find(getLastChildren$1(elm), curry(eq, endNode));\r\n        return start.isSome() && end.isSome();\r\n      }).getOr(false);\r\n    };\r\n    var moveEndPoint$1 = function (dom, rng, node, start) {\r\n      var root = node, walker = new TreeWalker(node, root);\r\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\r\n      do {\r\n        if (node.nodeType === 3 && Tools.trim(node.nodeValue).length !== 0) {\r\n          if (start) {\r\n            rng.setStart(node, 0);\r\n          } else {\r\n            rng.setEnd(node, node.nodeValue.length);\r\n          }\r\n          return;\r\n        }\r\n        if (nonEmptyElementsMap[node.nodeName] && !/^(TD|TH)$/.test(node.nodeName)) {\r\n          if (start) {\r\n            rng.setStartBefore(node);\r\n          } else {\r\n            if (node.nodeName === 'BR') {\r\n              rng.setEndBefore(node);\r\n            } else {\r\n              rng.setEndAfter(node);\r\n            }\r\n          }\r\n          return;\r\n        }\r\n        if (Env.ie && Env.ie < 11 && dom.isBlock(node) && dom.isEmpty(node)) {\r\n          if (start) {\r\n            rng.setStart(node, 0);\r\n          } else {\r\n            rng.setEnd(node, 0);\r\n          }\r\n          return;\r\n        }\r\n      } while (node = start ? walker.next() : walker.prev());\r\n      if (root.nodeName === 'BODY') {\r\n        if (start) {\r\n          rng.setStart(root, 0);\r\n        } else {\r\n          rng.setEnd(root, root.childNodes.length);\r\n        }\r\n      }\r\n    };\r\n    var hasAnyRanges = function (editor) {\r\n      var sel = editor.selection.getSel();\r\n      return sel && sel.rangeCount > 0;\r\n    };\r\n\r\n    function NodeChange (editor) {\r\n      var lastRng, lastPath = [];\r\n      var isSameElementPath = function (startElm) {\r\n        var i, currentPath;\r\n        currentPath = editor.$(startElm).parentsUntil(editor.getBody()).add(startElm);\r\n        if (currentPath.length === lastPath.length) {\r\n          for (i = currentPath.length; i >= 0; i--) {\r\n            if (currentPath[i] !== lastPath[i]) {\r\n              break;\r\n            }\r\n          }\r\n          if (i === -1) {\r\n            lastPath = currentPath;\r\n            return true;\r\n          }\r\n        }\r\n        lastPath = currentPath;\r\n        return false;\r\n      };\r\n      if (!('onselectionchange' in editor.getDoc())) {\r\n        editor.on('NodeChange Click MouseUp KeyUp Focus', function (e) {\r\n          var nativeRng, fakeRng;\r\n          nativeRng = editor.selection.getRng();\r\n          fakeRng = {\r\n            startContainer: nativeRng.startContainer,\r\n            startOffset: nativeRng.startOffset,\r\n            endContainer: nativeRng.endContainer,\r\n            endOffset: nativeRng.endOffset\r\n          };\r\n          if (e.type === 'nodechange' || !RangeCompare.isEq(fakeRng, lastRng)) {\r\n            editor.fire('SelectionChange');\r\n          }\r\n          lastRng = fakeRng;\r\n        });\r\n      }\r\n      editor.on('contextmenu', function () {\r\n        editor.fire('SelectionChange');\r\n      });\r\n      editor.on('SelectionChange', function () {\r\n        var startElm = editor.selection.getStart(true);\r\n        if (!startElm || !Env.range && editor.selection.isCollapsed()) {\r\n          return;\r\n        }\r\n        if (hasAnyRanges(editor) && !isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\r\n          editor.nodeChanged({ selectionChange: true });\r\n        }\r\n      });\r\n      editor.on('MouseUp', function (e) {\r\n        if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\r\n          if (editor.selection.getNode().nodeName === 'IMG') {\r\n            Delay.setEditorTimeout(editor, function () {\r\n              editor.nodeChanged();\r\n            });\r\n          } else {\r\n            editor.nodeChanged();\r\n          }\r\n        }\r\n      });\r\n      this.nodeChanged = function (args) {\r\n        var selection = editor.selection;\r\n        var node, parents, root;\r\n        if (editor.initialized && selection && !editor.settings.disable_nodechange && !editor.readonly) {\r\n          root = editor.getBody();\r\n          node = selection.getStart(true) || root;\r\n          if (node.ownerDocument !== editor.getDoc() || !editor.dom.isChildOf(node, root)) {\r\n            node = root;\r\n          }\r\n          parents = [];\r\n          editor.dom.getParent(node, function (node) {\r\n            if (node === root) {\r\n              return true;\r\n            }\r\n            parents.push(node);\r\n          });\r\n          args = args || {};\r\n          args.element = node;\r\n          args.parents = parents;\r\n          editor.fire('NodeChange', args);\r\n        }\r\n      };\r\n    }\r\n\r\n    var getAbsolutePosition = function (elm) {\r\n      var doc, docElem, win, clientRect;\r\n      clientRect = elm.getBoundingClientRect();\r\n      doc = elm.ownerDocument;\r\n      docElem = doc.documentElement;\r\n      win = doc.defaultView;\r\n      return {\r\n        top: clientRect.top + win.pageYOffset - docElem.clientTop,\r\n        left: clientRect.left + win.pageXOffset - docElem.clientLeft\r\n      };\r\n    };\r\n    var getBodyPosition = function (editor) {\r\n      return editor.inline ? getAbsolutePosition(editor.getBody()) : {\r\n        left: 0,\r\n        top: 0\r\n      };\r\n    };\r\n    var getScrollPosition = function (editor) {\r\n      var body = editor.getBody();\r\n      return editor.inline ? {\r\n        left: body.scrollLeft,\r\n        top: body.scrollTop\r\n      } : {\r\n        left: 0,\r\n        top: 0\r\n      };\r\n    };\r\n    var getBodyScroll = function (editor) {\r\n      var body = editor.getBody(), docElm = editor.getDoc().documentElement;\r\n      var inlineScroll = {\r\n        left: body.scrollLeft,\r\n        top: body.scrollTop\r\n      };\r\n      var iframeScroll = {\r\n        left: body.scrollLeft || docElm.scrollLeft,\r\n        top: body.scrollTop || docElm.scrollTop\r\n      };\r\n      return editor.inline ? inlineScroll : iframeScroll;\r\n    };\r\n    var getMousePosition = function (editor, event) {\r\n      if (event.target.ownerDocument !== editor.getDoc()) {\r\n        var iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\r\n        var scrollPosition = getBodyScroll(editor);\r\n        return {\r\n          left: event.pageX - iframePosition.left + scrollPosition.left,\r\n          top: event.pageY - iframePosition.top + scrollPosition.top\r\n        };\r\n      }\r\n      return {\r\n        left: event.pageX,\r\n        top: event.pageY\r\n      };\r\n    };\r\n    var calculatePosition = function (bodyPosition, scrollPosition, mousePosition) {\r\n      return {\r\n        pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\r\n        pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\r\n      };\r\n    };\r\n    var calc = function (editor, event) {\r\n      return calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\r\n    };\r\n    var MousePosition = { calc: calc };\r\n\r\n    var isContentEditableFalse$7 = NodeType.isContentEditableFalse, isContentEditableTrue$4 = NodeType.isContentEditableTrue;\r\n    var isDraggable = function (rootElm, elm) {\r\n      return isContentEditableFalse$7(elm) && elm !== rootElm;\r\n    };\r\n    var isValidDropTarget = function (editor, targetElement, dragElement) {\r\n      if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\r\n        return false;\r\n      }\r\n      if (isContentEditableFalse$7(targetElement)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    };\r\n    var cloneElement = function (elm) {\r\n      var cloneElm = elm.cloneNode(true);\r\n      cloneElm.removeAttribute('data-mce-selected');\r\n      return cloneElm;\r\n    };\r\n    var createGhost = function (editor, elm, width, height) {\r\n      var clonedElm = elm.cloneNode(true);\r\n      editor.dom.setStyles(clonedElm, {\r\n        width: width,\r\n        height: height\r\n      });\r\n      editor.dom.setAttrib(clonedElm, 'data-mce-selected', null);\r\n      var ghostElm = editor.dom.create('div', {\r\n        'class': 'mce-drag-container',\r\n        'data-mce-bogus': 'all',\r\n        'unselectable': 'on',\r\n        'contenteditable': 'false'\r\n      });\r\n      editor.dom.setStyles(ghostElm, {\r\n        position: 'absolute',\r\n        opacity: 0.5,\r\n        overflow: 'hidden',\r\n        border: 0,\r\n        padding: 0,\r\n        margin: 0,\r\n        width: width,\r\n        height: height\r\n      });\r\n      editor.dom.setStyles(clonedElm, {\r\n        margin: 0,\r\n        boxSizing: 'border-box'\r\n      });\r\n      ghostElm.appendChild(clonedElm);\r\n      return ghostElm;\r\n    };\r\n    var appendGhostToBody = function (ghostElm, bodyElm) {\r\n      if (ghostElm.parentNode !== bodyElm) {\r\n        bodyElm.appendChild(ghostElm);\r\n      }\r\n    };\r\n    var moveGhost = function (ghostElm, position, width, height, maxX, maxY) {\r\n      var overflowX = 0, overflowY = 0;\r\n      ghostElm.style.left = position.pageX + 'px';\r\n      ghostElm.style.top = position.pageY + 'px';\r\n      if (position.pageX + width > maxX) {\r\n        overflowX = position.pageX + width - maxX;\r\n      }\r\n      if (position.pageY + height > maxY) {\r\n        overflowY = position.pageY + height - maxY;\r\n      }\r\n      ghostElm.style.width = width - overflowX + 'px';\r\n      ghostElm.style.height = height - overflowY + 'px';\r\n    };\r\n    var removeElement = function (elm) {\r\n      if (elm && elm.parentNode) {\r\n        elm.parentNode.removeChild(elm);\r\n      }\r\n    };\r\n    var isLeftMouseButtonPressed = function (e) {\r\n      return e.button === 0;\r\n    };\r\n    var hasDraggableElement = function (state) {\r\n      return state.element;\r\n    };\r\n    var applyRelPos = function (state, position) {\r\n      return {\r\n        pageX: position.pageX - state.relX,\r\n        pageY: position.pageY + 5\r\n      };\r\n    };\r\n    var start$1 = function (state, editor) {\r\n      return function (e) {\r\n        if (isLeftMouseButtonPressed(e)) {\r\n          var ceElm = find(editor.dom.getParents(e.target), Predicate.or(isContentEditableFalse$7, isContentEditableTrue$4)).getOr(null);\r\n          if (isDraggable(editor.getBody(), ceElm)) {\r\n            var elmPos = editor.dom.getPos(ceElm);\r\n            var bodyElm = editor.getBody();\r\n            var docElm = editor.getDoc().documentElement;\r\n            state.element = ceElm;\r\n            state.screenX = e.screenX;\r\n            state.screenY = e.screenY;\r\n            state.maxX = (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2;\r\n            state.maxY = (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2;\r\n            state.relX = e.pageX - elmPos.x;\r\n            state.relY = e.pageY - elmPos.y;\r\n            state.width = ceElm.offsetWidth;\r\n            state.height = ceElm.offsetHeight;\r\n            state.ghost = createGhost(editor, ceElm, state.width, state.height);\r\n          }\r\n        }\r\n      };\r\n    };\r\n    var move$1 = function (state, editor) {\r\n      var throttledPlaceCaretAt = Delay.throttle(function (clientX, clientY) {\r\n        editor._selectionOverrides.hideFakeCaret();\r\n        editor.selection.placeCaretAt(clientX, clientY);\r\n      }, 0);\r\n      return function (e) {\r\n        var movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\r\n        if (hasDraggableElement(state) && !state.dragging && movement > 10) {\r\n          var args = editor.fire('dragstart', { target: state.element });\r\n          if (args.isDefaultPrevented()) {\r\n            return;\r\n          }\r\n          state.dragging = true;\r\n          editor.focus();\r\n        }\r\n        if (state.dragging) {\r\n          var targetPos = applyRelPos(state, MousePosition.calc(editor, e));\r\n          appendGhostToBody(state.ghost, editor.getBody());\r\n          moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\r\n          throttledPlaceCaretAt(e.clientX, e.clientY);\r\n        }\r\n      };\r\n    };\r\n    var getRawTarget = function (selection) {\r\n      var rng = selection.getSel().getRangeAt(0);\r\n      var startContainer = rng.startContainer;\r\n      return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\r\n    };\r\n    var drop = function (state, editor) {\r\n      return function (e) {\r\n        if (state.dragging) {\r\n          if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\r\n            var targetClone_1 = cloneElement(state.element);\r\n            var args = editor.fire('drop', {\r\n              targetClone: targetClone_1,\r\n              clientX: e.clientX,\r\n              clientY: e.clientY\r\n            });\r\n            if (!args.isDefaultPrevented()) {\r\n              targetClone_1 = args.targetClone;\r\n              editor.undoManager.transact(function () {\r\n                removeElement(state.element);\r\n                editor.insertContent(editor.dom.getOuterHTML(targetClone_1));\r\n                editor._selectionOverrides.hideFakeCaret();\r\n              });\r\n            }\r\n          }\r\n        }\r\n        removeDragState(state);\r\n      };\r\n    };\r\n    var stop$$1 = function (state, editor) {\r\n      return function () {\r\n        if (state.dragging) {\r\n          editor.fire('dragend');\r\n        }\r\n        removeDragState(state);\r\n      };\r\n    };\r\n    var removeDragState = function (state) {\r\n      state.dragging = false;\r\n      state.element = null;\r\n      removeElement(state.ghost);\r\n    };\r\n    var bindFakeDragEvents = function (editor) {\r\n      var state = {};\r\n      var pageDom, dragStartHandler, dragHandler, dropHandler, dragEndHandler, rootDocument;\r\n      pageDom = DOMUtils$1.DOM;\r\n      rootDocument = document;\r\n      dragStartHandler = start$1(state, editor);\r\n      dragHandler = move$1(state, editor);\r\n      dropHandler = drop(state, editor);\r\n      dragEndHandler = stop$$1(state, editor);\r\n      editor.on('mousedown', dragStartHandler);\r\n      editor.on('mousemove', dragHandler);\r\n      editor.on('mouseup', dropHandler);\r\n      pageDom.bind(rootDocument, 'mousemove', dragHandler);\r\n      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\r\n      editor.on('remove', function () {\r\n        pageDom.unbind(rootDocument, 'mousemove', dragHandler);\r\n        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\r\n      });\r\n    };\r\n    var blockIeDrop = function (editor) {\r\n      editor.on('drop', function (e) {\r\n        var realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;\r\n        if (isContentEditableFalse$7(realTarget) || isContentEditableFalse$7(editor.dom.getContentEditableParent(realTarget))) {\r\n          e.preventDefault();\r\n        }\r\n      });\r\n    };\r\n    var init = function (editor) {\r\n      bindFakeDragEvents(editor);\r\n      blockIeDrop(editor);\r\n    };\r\n    var DragDropOverrides = { init: init };\r\n\r\n    var getNodeClientRects = function (node) {\r\n      var toArrayWithNode = function (clientRects) {\r\n        return map(clientRects, function (clientRect) {\r\n          clientRect = clone$2(clientRect);\r\n          clientRect.node = node;\r\n          return clientRect;\r\n        });\r\n      };\r\n      if (NodeType.isElement(node)) {\r\n        return toArrayWithNode(node.getClientRects());\r\n      }\r\n      if (NodeType.isText(node)) {\r\n        var rng = node.ownerDocument.createRange();\r\n        rng.setStart(node, 0);\r\n        rng.setEnd(node, node.data.length);\r\n        return toArrayWithNode(rng.getClientRects());\r\n      }\r\n    };\r\n    var getClientRects = function (node) {\r\n      return foldl(node, function (result, node) {\r\n        return result.concat(getNodeClientRects(node));\r\n      }, []);\r\n    };\r\n\r\n    var VDirection;\r\n    (function (VDirection) {\r\n      VDirection[VDirection['Up'] = -1] = 'Up';\r\n      VDirection[VDirection['Down'] = 1] = 'Down';\r\n    }(VDirection || (VDirection = {})));\r\n    var findUntil = function (direction, root, predicateFn, node) {\r\n      while (node = findNode(node, direction, isEditableCaretCandidate, root)) {\r\n        if (predicateFn(node)) {\r\n          return;\r\n        }\r\n      }\r\n    };\r\n    var walkUntil = function (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) {\r\n      var line = 0, node;\r\n      var result = [];\r\n      var targetClientRect;\r\n      var add = function (node) {\r\n        var i, clientRect, clientRects;\r\n        clientRects = getClientRects([node]);\r\n        if (direction === -1) {\r\n          clientRects = clientRects.reverse();\r\n        }\r\n        for (i = 0; i < clientRects.length; i++) {\r\n          clientRect = clientRects[i];\r\n          if (isBeflowFn(clientRect, targetClientRect)) {\r\n            continue;\r\n          }\r\n          if (result.length > 0 && isAboveFn(clientRect, ArrUtils.last(result))) {\r\n            line++;\r\n          }\r\n          clientRect.line = line;\r\n          if (predicateFn(clientRect)) {\r\n            return true;\r\n          }\r\n          result.push(clientRect);\r\n        }\r\n      };\r\n      targetClientRect = ArrUtils.last(caretPosition.getClientRects());\r\n      if (!targetClientRect) {\r\n        return result;\r\n      }\r\n      node = caretPosition.getNode();\r\n      add(node);\r\n      findUntil(direction, root, add, node);\r\n      return result;\r\n    };\r\n    var aboveLineNumber = function (lineNumber, clientRect) {\r\n      return clientRect.line > lineNumber;\r\n    };\r\n    var isLineNumber = function (lineNumber, clientRect) {\r\n      return clientRect.line === lineNumber;\r\n    };\r\n    var upUntil = curry(walkUntil, VDirection.Up, isAbove, isBelow);\r\n    var downUntil = curry(walkUntil, VDirection.Down, isBelow, isAbove);\r\n    var positionsUntil = function (direction, root, predicateFn, node) {\r\n      var caretWalker = CaretWalker(root);\r\n      var walkFn, isBelowFn, isAboveFn, caretPosition;\r\n      var result = [];\r\n      var line = 0, clientRect, targetClientRect;\r\n      var getClientRect = function (caretPosition) {\r\n        if (direction === 1) {\r\n          return ArrUtils.last(caretPosition.getClientRects());\r\n        }\r\n        return ArrUtils.last(caretPosition.getClientRects());\r\n      };\r\n      if (direction === 1) {\r\n        walkFn = caretWalker.next;\r\n        isBelowFn = isBelow;\r\n        isAboveFn = isAbove;\r\n        caretPosition = CaretPosition$1.after(node);\r\n      } else {\r\n        walkFn = caretWalker.prev;\r\n        isBelowFn = isAbove;\r\n        isAboveFn = isBelow;\r\n        caretPosition = CaretPosition$1.before(node);\r\n      }\r\n      targetClientRect = getClientRect(caretPosition);\r\n      do {\r\n        if (!caretPosition.isVisible()) {\r\n          continue;\r\n        }\r\n        clientRect = getClientRect(caretPosition);\r\n        if (isAboveFn(clientRect, targetClientRect)) {\r\n          continue;\r\n        }\r\n        if (result.length > 0 && isBelowFn(clientRect, ArrUtils.last(result))) {\r\n          line++;\r\n        }\r\n        clientRect = clone$2(clientRect);\r\n        clientRect.position = caretPosition;\r\n        clientRect.line = line;\r\n        if (predicateFn(clientRect)) {\r\n          return result;\r\n        }\r\n        result.push(clientRect);\r\n      } while (caretPosition = walkFn(caretPosition));\r\n      return result;\r\n    };\r\n    var isAboveLine = function (lineNumber) {\r\n      return function (clientRect) {\r\n        return aboveLineNumber(lineNumber, clientRect);\r\n      };\r\n    };\r\n    var isLine = function (lineNumber) {\r\n      return function (clientRect) {\r\n        return isLineNumber(lineNumber, clientRect);\r\n      };\r\n    };\r\n\r\n    var isContentEditableFalse$8 = NodeType.isContentEditableFalse;\r\n    var findNode$1 = findNode;\r\n    var distanceToRectLeft = function (clientRect, clientX) {\r\n      return Math.abs(clientRect.left - clientX);\r\n    };\r\n    var distanceToRectRight = function (clientRect, clientX) {\r\n      return Math.abs(clientRect.right - clientX);\r\n    };\r\n    var isInside = function (clientX, clientRect) {\r\n      return clientX >= clientRect.left && clientX <= clientRect.right;\r\n    };\r\n    var findClosestClientRect = function (clientRects, clientX) {\r\n      return ArrUtils.reduce(clientRects, function (oldClientRect, clientRect) {\r\n        var oldDistance, newDistance;\r\n        oldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));\r\n        newDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));\r\n        if (isInside(clientX, clientRect)) {\r\n          return clientRect;\r\n        }\r\n        if (isInside(clientX, oldClientRect)) {\r\n          return oldClientRect;\r\n        }\r\n        if (newDistance === oldDistance && isContentEditableFalse$8(clientRect.node)) {\r\n          return clientRect;\r\n        }\r\n        if (newDistance < oldDistance) {\r\n          return clientRect;\r\n        }\r\n        return oldClientRect;\r\n      });\r\n    };\r\n    var walkUntil$1 = function (direction, root, predicateFn, node) {\r\n      while (node = findNode$1(node, direction, isEditableCaretCandidate, root)) {\r\n        if (predicateFn(node)) {\r\n          return;\r\n        }\r\n      }\r\n    };\r\n    var findLineNodeRects = function (root, targetNodeRect) {\r\n      var clientRects = [];\r\n      var collect = function (checkPosFn, node) {\r\n        var lineRects;\r\n        lineRects = filter(getClientRects([node]), function (clientRect) {\r\n          return !checkPosFn(clientRect, targetNodeRect);\r\n        });\r\n        clientRects = clientRects.concat(lineRects);\r\n        return lineRects.length === 0;\r\n      };\r\n      clientRects.push(targetNodeRect);\r\n      walkUntil$1(VDirection.Up, root, curry(collect, isAbove), targetNodeRect.node);\r\n      walkUntil$1(VDirection.Down, root, curry(collect, isBelow), targetNodeRect.node);\r\n      return clientRects;\r\n    };\r\n    var getFakeCaretTargets = function (root) {\r\n      return filter(from$1(root.getElementsByTagName('*')), isFakeCaretTarget);\r\n    };\r\n    var caretInfo = function (clientRect, clientX) {\r\n      return {\r\n        node: clientRect.node,\r\n        before: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)\r\n      };\r\n    };\r\n    var closestCaret = function (root, clientX, clientY) {\r\n      var closestNodeRect;\r\n      var contentEditableFalseNodeRects = getClientRects(getFakeCaretTargets(root));\r\n      var targetNodeRects = filter(contentEditableFalseNodeRects, function (rect) {\r\n        return clientY >= rect.top && clientY <= rect.bottom;\r\n      });\r\n      closestNodeRect = findClosestClientRect(targetNodeRects, clientX);\r\n      if (closestNodeRect) {\r\n        closestNodeRect = findClosestClientRect(findLineNodeRects(root, closestNodeRect), clientX);\r\n        if (closestNodeRect && isFakeCaretTarget(closestNodeRect.node)) {\r\n          return caretInfo(closestNodeRect, clientX);\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n\r\n    var isXYWithinRange = function (clientX, clientY, range$$1) {\r\n      if (range$$1.collapsed) {\r\n        return false;\r\n      }\r\n      return foldl(range$$1.getClientRects(), function (state, rect) {\r\n        return state || containsXY(rect, clientX, clientY);\r\n      }, false);\r\n    };\r\n    var RangePoint = { isXYWithinRange: isXYWithinRange };\r\n\r\n    var setup$4 = function (editor) {\r\n      var renderFocusCaret = first$1(function () {\r\n        if (!editor.removed) {\r\n          var rng = editor.selection.getRng();\r\n          if (rng.collapsed) {\r\n            var caretRange = renderRangeCaret(editor, editor.selection.getRng(), false);\r\n            editor.selection.setRng(caretRange);\r\n          }\r\n        }\r\n      }, 0);\r\n      editor.on('focus', function () {\r\n        renderFocusCaret.throttle();\r\n      });\r\n      editor.on('blur', function () {\r\n        renderFocusCaret.cancel();\r\n      });\r\n    };\r\n    var CefFocus = { setup: setup$4 };\r\n\r\n    var VK = {\r\n      BACKSPACE: 8,\r\n      DELETE: 46,\r\n      DOWN: 40,\r\n      ENTER: 13,\r\n      LEFT: 37,\r\n      RIGHT: 39,\r\n      SPACEBAR: 32,\r\n      TAB: 9,\r\n      UP: 38,\r\n      modifierPressed: function (e) {\r\n        return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e);\r\n      },\r\n      metaKeyPressed: function (e) {\r\n        return Env.mac ? e.metaKey : e.ctrlKey && !e.altKey;\r\n      }\r\n    };\r\n\r\n    var isContentEditableTrue$5 = NodeType.isContentEditableTrue;\r\n    var isContentEditableFalse$9 = NodeType.isContentEditableFalse;\r\n    var isAfterContentEditableFalse$2 = isAfterContentEditableFalse;\r\n    var isBeforeContentEditableFalse$2 = isBeforeContentEditableFalse;\r\n    var getContentEditableRoot$1 = function (editor, node) {\r\n      var root = editor.getBody();\r\n      while (node && node !== root) {\r\n        if (isContentEditableTrue$5(node) || isContentEditableFalse$9(node)) {\r\n          return node;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n    var SelectionOverrides = function (editor) {\r\n      var isBlock = function (node) {\r\n        return editor.dom.isBlock(node);\r\n      };\r\n      var rootNode = editor.getBody();\r\n      var fakeCaret = FakeCaret(editor.getBody(), isBlock, function () {\r\n        return EditorFocus.hasFocus(editor);\r\n      });\r\n      var realSelectionId = 'sel-' + editor.dom.uniqueId();\r\n      var selectedContentEditableNode;\r\n      var isFakeSelectionElement = function (elm) {\r\n        return editor.dom.hasClass(elm, 'mce-offscreen-selection');\r\n      };\r\n      var getRealSelectionElement = function () {\r\n        var container = editor.dom.get(realSelectionId);\r\n        return container ? container.getElementsByTagName('*')[0] : container;\r\n      };\r\n      var setRange = function (range$$1) {\r\n        if (range$$1) {\r\n          editor.selection.setRng(range$$1);\r\n        }\r\n      };\r\n      var getRange = function () {\r\n        return editor.selection.getRng();\r\n      };\r\n      var showCaret$$1 = function (direction, node, before, scrollIntoView) {\r\n        if (scrollIntoView === void 0) {\r\n          scrollIntoView = true;\r\n        }\r\n        var e;\r\n        e = editor.fire('ShowCaret', {\r\n          target: node,\r\n          direction: direction,\r\n          before: before\r\n        });\r\n        if (e.isDefaultPrevented()) {\r\n          return null;\r\n        }\r\n        if (scrollIntoView) {\r\n          editor.selection.scrollIntoView(node, direction === -1);\r\n        }\r\n        return fakeCaret.show(before, node);\r\n      };\r\n      var getNormalizedRangeEndPoint$$1 = function (direction, range$$1) {\r\n        range$$1 = normalizeRange(direction, rootNode, range$$1);\r\n        if (direction === -1) {\r\n          return CaretPosition$1.fromRangeStart(range$$1);\r\n        }\r\n        return CaretPosition$1.fromRangeEnd(range$$1);\r\n      };\r\n      var showBlockCaretContainer = function (blockCaretContainer) {\r\n        if (blockCaretContainer.hasAttribute('data-mce-caret')) {\r\n          showCaretContainerBlock(blockCaretContainer);\r\n          setRange(getRange());\r\n          editor.selection.scrollIntoView(blockCaretContainer[0]);\r\n        }\r\n      };\r\n      var registerEvents = function () {\r\n        editor.on('mouseup', function (e) {\r\n          var range$$1 = getRange();\r\n          if (range$$1.collapsed && EditorView.isXYInContentArea(editor, e.clientX, e.clientY)) {\r\n            setRange(renderCaretAtRange(editor, range$$1, false));\r\n          }\r\n        });\r\n        editor.on('click', function (e) {\r\n          var contentEditableRoot;\r\n          contentEditableRoot = getContentEditableRoot$1(editor, e.target);\r\n          if (contentEditableRoot) {\r\n            if (isContentEditableFalse$9(contentEditableRoot)) {\r\n              e.preventDefault();\r\n              editor.focus();\r\n            }\r\n            if (isContentEditableTrue$5(contentEditableRoot)) {\r\n              if (editor.dom.isChildOf(contentEditableRoot, editor.selection.getNode())) {\r\n                removeContentEditableSelection();\r\n              }\r\n            }\r\n          }\r\n        });\r\n        editor.on('blur NewBlock', function () {\r\n          removeContentEditableSelection();\r\n        });\r\n        editor.on('ResizeWindow FullscreenStateChanged', function () {\r\n          return fakeCaret.reposition();\r\n        });\r\n        var handleTouchSelect = function (editor) {\r\n          var moved = false;\r\n          editor.on('touchstart', function () {\r\n            moved = false;\r\n          });\r\n          editor.on('touchmove', function () {\r\n            moved = true;\r\n          });\r\n          editor.on('touchend', function (e) {\r\n            var contentEditableRoot = getContentEditableRoot$1(editor, e.target);\r\n            if (isContentEditableFalse$9(contentEditableRoot)) {\r\n              if (!moved) {\r\n                e.preventDefault();\r\n                setContentEditableSelection(selectNode(editor, contentEditableRoot));\r\n              }\r\n            }\r\n          });\r\n        };\r\n        var hasNormalCaretPosition = function (elm) {\r\n          var caretWalker = CaretWalker(elm);\r\n          if (!elm.firstChild) {\r\n            return false;\r\n          }\r\n          var startPos = CaretPosition$1.before(elm.firstChild);\r\n          var newPos = caretWalker.next(startPos);\r\n          return newPos && !isBeforeContentEditableFalse$2(newPos) && !isAfterContentEditableFalse$2(newPos);\r\n        };\r\n        var isInSameBlock$$1 = function (node1, node2) {\r\n          var block1 = editor.dom.getParent(node1, editor.dom.isBlock);\r\n          var block2 = editor.dom.getParent(node2, editor.dom.isBlock);\r\n          return block1 === block2;\r\n        };\r\n        var hasBetterMouseTarget = function (targetNode, caretNode) {\r\n          var targetBlock = editor.dom.getParent(targetNode, editor.dom.isBlock);\r\n          var caretBlock = editor.dom.getParent(caretNode, editor.dom.isBlock);\r\n          if (targetBlock && editor.dom.isChildOf(targetBlock, caretBlock) && isContentEditableFalse$9(getContentEditableRoot$1(editor, targetBlock)) === false) {\r\n            return true;\r\n          }\r\n          return targetBlock && !isInSameBlock$$1(targetBlock, caretBlock) && hasNormalCaretPosition(targetBlock);\r\n        };\r\n        handleTouchSelect(editor);\r\n        editor.on('mousedown', function (e) {\r\n          var contentEditableRoot;\r\n          var targetElm = e.target;\r\n          if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !editor.dom.isChildOf(targetElm, rootNode)) {\r\n            return;\r\n          }\r\n          if (EditorView.isXYInContentArea(editor, e.clientX, e.clientY) === false) {\r\n            return;\r\n          }\r\n          contentEditableRoot = getContentEditableRoot$1(editor, targetElm);\r\n          if (contentEditableRoot) {\r\n            if (isContentEditableFalse$9(contentEditableRoot)) {\r\n              e.preventDefault();\r\n              setContentEditableSelection(selectNode(editor, contentEditableRoot));\r\n            } else {\r\n              removeContentEditableSelection();\r\n              if (!(isContentEditableTrue$5(contentEditableRoot) && e.shiftKey) && !RangePoint.isXYWithinRange(e.clientX, e.clientY, editor.selection.getRng())) {\r\n                hideFakeCaret();\r\n                editor.selection.placeCaretAt(e.clientX, e.clientY);\r\n              }\r\n            }\r\n          } else if (isFakeCaretTarget(targetElm) === false) {\r\n            removeContentEditableSelection();\r\n            hideFakeCaret();\r\n            var caretInfo = closestCaret(rootNode, e.clientX, e.clientY);\r\n            if (caretInfo) {\r\n              if (!hasBetterMouseTarget(e.target, caretInfo.node)) {\r\n                e.preventDefault();\r\n                var range$$1 = showCaret$$1(1, caretInfo.node, caretInfo.before, false);\r\n                editor.getBody().focus();\r\n                setRange(range$$1);\r\n              }\r\n            }\r\n          }\r\n        });\r\n        editor.on('keypress', function (e) {\r\n          if (VK.modifierPressed(e)) {\r\n            return;\r\n          }\r\n          switch (e.keyCode) {\r\n          default:\r\n            if (isContentEditableFalse$9(editor.selection.getNode())) {\r\n              e.preventDefault();\r\n            }\r\n            break;\r\n          }\r\n        });\r\n        editor.on('getSelectionRange', function (e) {\r\n          var rng = e.range;\r\n          if (selectedContentEditableNode) {\r\n            if (!selectedContentEditableNode.parentNode) {\r\n              selectedContentEditableNode = null;\r\n              return;\r\n            }\r\n            rng = rng.cloneRange();\r\n            rng.selectNode(selectedContentEditableNode);\r\n            e.range = rng;\r\n          }\r\n        });\r\n        editor.on('setSelectionRange', function (e) {\r\n          var rng;\r\n          rng = setContentEditableSelection(e.range, e.forward);\r\n          if (rng) {\r\n            e.range = rng;\r\n          }\r\n        });\r\n        var isPasteBin = function (node) {\r\n          return node.id === 'mcepastebin';\r\n        };\r\n        editor.on('AfterSetSelectionRange', function (e) {\r\n          var rng = e.range;\r\n          if (!isRangeInCaretContainer(rng) && !isPasteBin(rng.startContainer.parentNode)) {\r\n            hideFakeCaret();\r\n          }\r\n          if (!isFakeSelectionElement(rng.startContainer.parentNode)) {\r\n            removeContentEditableSelection();\r\n          }\r\n        });\r\n        editor.on('copy', function (e) {\r\n          var clipboardData = e.clipboardData;\r\n          if (!e.isDefaultPrevented() && e.clipboardData && !Env.ie) {\r\n            var realSelectionElement = getRealSelectionElement();\r\n            if (realSelectionElement) {\r\n              e.preventDefault();\r\n              clipboardData.clearData();\r\n              clipboardData.setData('text/html', realSelectionElement.outerHTML);\r\n              clipboardData.setData('text/plain', realSelectionElement.outerText);\r\n            }\r\n          }\r\n        });\r\n        DragDropOverrides.init(editor);\r\n        CefFocus.setup(editor);\r\n      };\r\n      var addCss = function () {\r\n        var styles = editor.contentStyles, rootClass = '.mce-content-body';\r\n        styles.push(fakeCaret.getCss());\r\n        styles.push(rootClass + ' .mce-offscreen-selection {' + 'position: absolute;' + 'left: -9999999999px;' + 'max-width: 1000000px;' + '}' + rootClass + ' *[contentEditable=false] {' + 'cursor: default;' + '}' + rootClass + ' *[contentEditable=true] {' + 'cursor: text;' + '}');\r\n      };\r\n      var isWithinCaretContainer = function (node) {\r\n        return isCaretContainer(node) || startsWithCaretContainer(node) || endsWithCaretContainer(node);\r\n      };\r\n      var isRangeInCaretContainer = function (rng) {\r\n        return isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\r\n      };\r\n      var setContentEditableSelection = function (range$$1, forward) {\r\n        var node;\r\n        var $ = editor.$;\r\n        var dom = editor.dom;\r\n        var $realSelectionContainer, sel, startContainer, startOffset, endOffset, e, caretPosition, targetClone, origTargetClone;\r\n        if (!range$$1) {\r\n          return null;\r\n        }\r\n        if (range$$1.collapsed) {\r\n          if (!isRangeInCaretContainer(range$$1)) {\r\n            if (forward === false) {\r\n              caretPosition = getNormalizedRangeEndPoint$$1(-1, range$$1);\r\n              if (isFakeCaretTarget(caretPosition.getNode(true))) {\r\n                return showCaret$$1(-1, caretPosition.getNode(true), false, false);\r\n              }\r\n              if (isFakeCaretTarget(caretPosition.getNode())) {\r\n                return showCaret$$1(-1, caretPosition.getNode(), !caretPosition.isAtEnd(), false);\r\n              }\r\n            } else {\r\n              caretPosition = getNormalizedRangeEndPoint$$1(1, range$$1);\r\n              if (isFakeCaretTarget(caretPosition.getNode())) {\r\n                return showCaret$$1(1, caretPosition.getNode(), !caretPosition.isAtEnd(), false);\r\n              }\r\n              if (isFakeCaretTarget(caretPosition.getNode(true))) {\r\n                return showCaret$$1(1, caretPosition.getNode(true), false, false);\r\n              }\r\n            }\r\n          }\r\n          return null;\r\n        }\r\n        startContainer = range$$1.startContainer;\r\n        startOffset = range$$1.startOffset;\r\n        endOffset = range$$1.endOffset;\r\n        if (startContainer.nodeType === 3 && startOffset === 0 && isContentEditableFalse$9(startContainer.parentNode)) {\r\n          startContainer = startContainer.parentNode;\r\n          startOffset = dom.nodeIndex(startContainer);\r\n          startContainer = startContainer.parentNode;\r\n        }\r\n        if (startContainer.nodeType !== 1) {\r\n          return null;\r\n        }\r\n        if (endOffset === startOffset + 1) {\r\n          node = startContainer.childNodes[startOffset];\r\n        }\r\n        if (!isContentEditableFalse$9(node)) {\r\n          return null;\r\n        }\r\n        targetClone = origTargetClone = node.cloneNode(true);\r\n        e = editor.fire('ObjectSelected', {\r\n          target: node,\r\n          targetClone: targetClone\r\n        });\r\n        if (e.isDefaultPrevented()) {\r\n          return null;\r\n        }\r\n        $realSelectionContainer = descendant$1(Element$$1.fromDom(editor.getBody()), '#' + realSelectionId).fold(function () {\r\n          return $([]);\r\n        }, function (elm) {\r\n          return $([elm.dom()]);\r\n        });\r\n        targetClone = e.targetClone;\r\n        if ($realSelectionContainer.length === 0) {\r\n          $realSelectionContainer = $('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr('id', realSelectionId);\r\n          $realSelectionContainer.appendTo(editor.getBody());\r\n        }\r\n        range$$1 = editor.dom.createRng();\r\n        if (targetClone === origTargetClone && Env.ie) {\r\n          $realSelectionContainer.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xA0</p>').append(targetClone);\r\n          range$$1.setStartAfter($realSelectionContainer[0].firstChild.firstChild);\r\n          range$$1.setEndAfter(targetClone);\r\n        } else {\r\n          $realSelectionContainer.empty().append('\\xA0').append(targetClone).append('\\xA0');\r\n          range$$1.setStart($realSelectionContainer[0].firstChild, 1);\r\n          range$$1.setEnd($realSelectionContainer[0].lastChild, 0);\r\n        }\r\n        $realSelectionContainer.css({ top: dom.getPos(node, editor.getBody()).y });\r\n        $realSelectionContainer[0].focus();\r\n        sel = editor.selection.getSel();\r\n        sel.removeAllRanges();\r\n        sel.addRange(range$$1);\r\n        each(descendants$1(Element$$1.fromDom(editor.getBody()), '*[data-mce-selected]'), function (elm) {\r\n          remove(elm, 'data-mce-selected');\r\n        });\r\n        node.setAttribute('data-mce-selected', '1');\r\n        selectedContentEditableNode = node;\r\n        hideFakeCaret();\r\n        return range$$1;\r\n      };\r\n      var removeContentEditableSelection = function () {\r\n        if (selectedContentEditableNode) {\r\n          selectedContentEditableNode.removeAttribute('data-mce-selected');\r\n          descendant$1(Element$$1.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$2);\r\n          selectedContentEditableNode = null;\r\n        }\r\n        descendant$1(Element$$1.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$2);\r\n        selectedContentEditableNode = null;\r\n      };\r\n      var destroy = function () {\r\n        fakeCaret.destroy();\r\n        selectedContentEditableNode = null;\r\n      };\r\n      var hideFakeCaret = function () {\r\n        fakeCaret.hide();\r\n      };\r\n      if (Env.ceFalse) {\r\n        registerEvents();\r\n        addCss();\r\n      }\r\n      return {\r\n        showCaret: showCaret$$1,\r\n        showBlockCaretContainer: showBlockCaretContainer,\r\n        hideFakeCaret: hideFakeCaret,\r\n        destroy: destroy\r\n      };\r\n    };\r\n\r\n    var isValidPrefixAttrName = function (name) {\r\n      return name.indexOf('data-') === 0 || name.indexOf('aria-') === 0;\r\n    };\r\n    var trimComments = function (text) {\r\n      return text.replace(/<!--|-->/g, '');\r\n    };\r\n    var isInvalidUri = function (settings, uri) {\r\n      if (settings.allow_html_data_urls) {\r\n        return false;\r\n      } else if (/^data:image\\//i.test(uri)) {\r\n        return settings.allow_svg_data_urls === false && /^data:image\\/svg\\+xml/i.test(uri);\r\n      } else {\r\n        return /^data:/i.test(uri);\r\n      }\r\n    };\r\n    var findEndTagIndex = function (schema, html, startIndex) {\r\n      var count = 1, index, matches, tokenRegExp, shortEndedElements;\r\n      shortEndedElements = schema.getShortEndedElements();\r\n      tokenRegExp = /<([!?\\/])?([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\/|\\s+)>/g;\r\n      tokenRegExp.lastIndex = index = startIndex;\r\n      while (matches = tokenRegExp.exec(html)) {\r\n        index = tokenRegExp.lastIndex;\r\n        if (matches[1] === '/') {\r\n          count--;\r\n        } else if (!matches[1]) {\r\n          if (matches[2] in shortEndedElements) {\r\n            continue;\r\n          }\r\n          count++;\r\n        }\r\n        if (count === 0) {\r\n          break;\r\n        }\r\n      }\r\n      return index;\r\n    };\r\n    var checkBogusAttribute = function (regExp, attrString) {\r\n      var matches = regExp.exec(attrString);\r\n      if (matches) {\r\n        var name = matches[1];\r\n        var value = matches[2];\r\n        return typeof name === 'string' && name.toLowerCase() === 'data-mce-bogus' ? value : null;\r\n      } else {\r\n        return null;\r\n      }\r\n    };\r\n    function SaxParser(settings, schema) {\r\n      if (schema === void 0) {\r\n        schema = Schema();\r\n      }\r\n      var noop = function () {\r\n      };\r\n      settings = settings || {};\r\n      if (settings.fix_self_closing !== false) {\r\n        settings.fix_self_closing = true;\r\n      }\r\n      var comment = settings.comment ? settings.comment : noop;\r\n      var cdata = settings.cdata ? settings.cdata : noop;\r\n      var text = settings.text ? settings.text : noop;\r\n      var start = settings.start ? settings.start : noop;\r\n      var end = settings.end ? settings.end : noop;\r\n      var pi = settings.pi ? settings.pi : noop;\r\n      var doctype = settings.doctype ? settings.doctype : noop;\r\n      var parse = function (html) {\r\n        var matches, index = 0, value, endRegExp;\r\n        var stack = [];\r\n        var attrList, i, textData, name;\r\n        var isInternalElement, removeInternalElements, shortEndedElements, fillAttrsMap, isShortEnded;\r\n        var validate, elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;\r\n        var attributesRequired, attributesDefault, attributesForced, processHtml;\r\n        var anyAttributesRequired, selfClosing, tokenRegExp, attrRegExp, specialElements, attrValue, idCount = 0;\r\n        var decode = Entities.decode;\r\n        var fixSelfClosing;\r\n        var filteredUrlAttrs = Tools.makeMap('src,href,data,background,formaction,poster,xlink:href');\r\n        var scriptUriRegExp = /((java|vb)script|mhtml):/i;\r\n        var processEndTag = function (name) {\r\n          var pos, i;\r\n          pos = stack.length;\r\n          while (pos--) {\r\n            if (stack[pos].name === name) {\r\n              break;\r\n            }\r\n          }\r\n          if (pos >= 0) {\r\n            for (i = stack.length - 1; i >= pos; i--) {\r\n              name = stack[i];\r\n              if (name.valid) {\r\n                end(name.name);\r\n              }\r\n            }\r\n            stack.length = pos;\r\n          }\r\n        };\r\n        var parseAttribute = function (match, name, value, val2, val3) {\r\n          var attrRule, i;\r\n          var trimRegExp = /[\\s\\u0000-\\u001F]+/g;\r\n          name = name.toLowerCase();\r\n          value = name in fillAttrsMap ? name : decode(value || val2 || val3 || '');\r\n          if (validate && !isInternalElement && isValidPrefixAttrName(name) === false) {\r\n            attrRule = validAttributesMap[name];\r\n            if (!attrRule && validAttributePatterns) {\r\n              i = validAttributePatterns.length;\r\n              while (i--) {\r\n                attrRule = validAttributePatterns[i];\r\n                if (attrRule.pattern.test(name)) {\r\n                  break;\r\n                }\r\n              }\r\n              if (i === -1) {\r\n                attrRule = null;\r\n              }\r\n            }\r\n            if (!attrRule) {\r\n              return;\r\n            }\r\n            if (attrRule.validValues && !(value in attrRule.validValues)) {\r\n              return;\r\n            }\r\n          }\r\n          if (filteredUrlAttrs[name] && !settings.allow_script_urls) {\r\n            var uri = value.replace(trimRegExp, '');\r\n            try {\r\n              uri = decodeURIComponent(uri);\r\n            } catch (ex) {\r\n              uri = unescape(uri);\r\n            }\r\n            if (scriptUriRegExp.test(uri)) {\r\n              return;\r\n            }\r\n            if (isInvalidUri(settings, uri)) {\r\n              return;\r\n            }\r\n          }\r\n          if (isInternalElement && (name in filteredUrlAttrs || name.indexOf('on') === 0)) {\r\n            return;\r\n          }\r\n          attrList.map[name] = value;\r\n          attrList.push({\r\n            name: name,\r\n            value: value\r\n          });\r\n        };\r\n        tokenRegExp = new RegExp('<(?:' + '(?:!--([\\\\w\\\\W]*?)-->)|' + '(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|' + '(?:!DOCTYPE([\\\\w\\\\W]*?)>)|' + '(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|' + '(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|' + '(?:([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)((?:\\\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\\\/|\\\\s+)>)' + ')', 'g');\r\n        attrRegExp = /([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g;\r\n        shortEndedElements = schema.getShortEndedElements();\r\n        selfClosing = settings.self_closing_elements || schema.getSelfClosingElements();\r\n        fillAttrsMap = schema.getBoolAttrs();\r\n        validate = settings.validate;\r\n        removeInternalElements = settings.remove_internals;\r\n        fixSelfClosing = settings.fix_self_closing;\r\n        specialElements = schema.getSpecialElements();\r\n        processHtml = html + '>';\r\n        while (matches = tokenRegExp.exec(processHtml)) {\r\n          if (index < matches.index) {\r\n            text(decode(html.substr(index, matches.index - index)));\r\n          }\r\n          if (value = matches[6]) {\r\n            value = value.toLowerCase();\r\n            if (value.charAt(0) === ':') {\r\n              value = value.substr(1);\r\n            }\r\n            processEndTag(value);\r\n          } else if (value = matches[7]) {\r\n            if (matches.index + matches[0].length > html.length) {\r\n              text(decode(html.substr(matches.index)));\r\n              index = matches.index + matches[0].length;\r\n              continue;\r\n            }\r\n            value = value.toLowerCase();\r\n            if (value.charAt(0) === ':') {\r\n              value = value.substr(1);\r\n            }\r\n            isShortEnded = value in shortEndedElements;\r\n            if (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value) {\r\n              processEndTag(value);\r\n            }\r\n            var bogusValue = checkBogusAttribute(attrRegExp, matches[8]);\r\n            if (bogusValue !== null) {\r\n              if (bogusValue === 'all') {\r\n                index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\r\n                tokenRegExp.lastIndex = index;\r\n                continue;\r\n              }\r\n              isValidElement = false;\r\n            }\r\n            if (!validate || (elementRule = schema.getElementRule(value))) {\r\n              isValidElement = true;\r\n              if (validate) {\r\n                validAttributesMap = elementRule.attributes;\r\n                validAttributePatterns = elementRule.attributePatterns;\r\n              }\r\n              if (attribsValue = matches[8]) {\r\n                isInternalElement = attribsValue.indexOf('data-mce-type') !== -1;\r\n                if (isInternalElement && removeInternalElements) {\r\n                  isValidElement = false;\r\n                }\r\n                attrList = [];\r\n                attrList.map = {};\r\n                attribsValue.replace(attrRegExp, parseAttribute);\r\n              } else {\r\n                attrList = [];\r\n                attrList.map = {};\r\n              }\r\n              if (validate && !isInternalElement) {\r\n                attributesRequired = elementRule.attributesRequired;\r\n                attributesDefault = elementRule.attributesDefault;\r\n                attributesForced = elementRule.attributesForced;\r\n                anyAttributesRequired = elementRule.removeEmptyAttrs;\r\n                if (anyAttributesRequired && !attrList.length) {\r\n                  isValidElement = false;\r\n                }\r\n                if (attributesForced) {\r\n                  i = attributesForced.length;\r\n                  while (i--) {\r\n                    attr = attributesForced[i];\r\n                    name = attr.name;\r\n                    attrValue = attr.value;\r\n                    if (attrValue === '{$uid}') {\r\n                      attrValue = 'mce_' + idCount++;\r\n                    }\r\n                    attrList.map[name] = attrValue;\r\n                    attrList.push({\r\n                      name: name,\r\n                      value: attrValue\r\n                    });\r\n                  }\r\n                }\r\n                if (attributesDefault) {\r\n                  i = attributesDefault.length;\r\n                  while (i--) {\r\n                    attr = attributesDefault[i];\r\n                    name = attr.name;\r\n                    if (!(name in attrList.map)) {\r\n                      attrValue = attr.value;\r\n                      if (attrValue === '{$uid}') {\r\n                        attrValue = 'mce_' + idCount++;\r\n                      }\r\n                      attrList.map[name] = attrValue;\r\n                      attrList.push({\r\n                        name: name,\r\n                        value: attrValue\r\n                      });\r\n                    }\r\n                  }\r\n                }\r\n                if (attributesRequired) {\r\n                  i = attributesRequired.length;\r\n                  while (i--) {\r\n                    if (attributesRequired[i] in attrList.map) {\r\n                      break;\r\n                    }\r\n                  }\r\n                  if (i === -1) {\r\n                    isValidElement = false;\r\n                  }\r\n                }\r\n                if (attr = attrList.map['data-mce-bogus']) {\r\n                  if (attr === 'all') {\r\n                    index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\r\n                    tokenRegExp.lastIndex = index;\r\n                    continue;\r\n                  }\r\n                  isValidElement = false;\r\n                }\r\n              }\r\n              if (isValidElement) {\r\n                start(value, attrList, isShortEnded);\r\n              }\r\n            } else {\r\n              isValidElement = false;\r\n            }\r\n            if (endRegExp = specialElements[value]) {\r\n              endRegExp.lastIndex = index = matches.index + matches[0].length;\r\n              if (matches = endRegExp.exec(html)) {\r\n                if (isValidElement) {\r\n                  textData = html.substr(index, matches.index - index);\r\n                }\r\n                index = matches.index + matches[0].length;\r\n              } else {\r\n                textData = html.substr(index);\r\n                index = html.length;\r\n              }\r\n              if (isValidElement) {\r\n                if (textData.length > 0) {\r\n                  text(textData, true);\r\n                }\r\n                end(value);\r\n              }\r\n              tokenRegExp.lastIndex = index;\r\n              continue;\r\n            }\r\n            if (!isShortEnded) {\r\n              if (!attribsValue || attribsValue.indexOf('/') !== attribsValue.length - 1) {\r\n                stack.push({\r\n                  name: value,\r\n                  valid: isValidElement\r\n                });\r\n              } else if (isValidElement) {\r\n                end(value);\r\n              }\r\n            }\r\n          } else if (value = matches[1]) {\r\n            if (value.charAt(0) === '>') {\r\n              value = ' ' + value;\r\n            }\r\n            if (!settings.allow_conditional_comments && value.substr(0, 3).toLowerCase() === '[if') {\r\n              value = ' ' + value;\r\n            }\r\n            comment(value);\r\n          } else if (value = matches[2]) {\r\n            cdata(trimComments(value));\r\n          } else if (value = matches[3]) {\r\n            doctype(value);\r\n          } else if (value = matches[4]) {\r\n            pi(value, matches[5]);\r\n          }\r\n          index = matches.index + matches[0].length;\r\n        }\r\n        if (index < html.length) {\r\n          text(decode(html.substr(index)));\r\n        }\r\n        for (i = stack.length - 1; i >= 0; i--) {\r\n          value = stack[i];\r\n          if (value.valid) {\r\n            end(value.name);\r\n          }\r\n        }\r\n      };\r\n      return { parse: parse };\r\n    }\r\n    (function (SaxParser) {\r\n      SaxParser.findEndTag = findEndTagIndex;\r\n    }(SaxParser || (SaxParser = {})));\r\n    var SaxParser$1 = SaxParser;\r\n\r\n    var trimHtml = function (tempAttrs, html) {\r\n      var trimContentRegExp = new RegExp(['\\\\s?(' + tempAttrs.join('|') + ')=\"[^\"]+\"'].join('|'), 'gi');\r\n      return html.replace(trimContentRegExp, '');\r\n    };\r\n    var trimInternal = function (serializer, html) {\r\n      var content = html;\r\n      var bogusAllRegExp = /<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;\r\n      var endTagIndex, index, matchLength, matches, shortEndedElements;\r\n      var schema = serializer.schema;\r\n      content = trimHtml(serializer.getTempAttrs(), content);\r\n      shortEndedElements = schema.getShortEndedElements();\r\n      while (matches = bogusAllRegExp.exec(content)) {\r\n        index = bogusAllRegExp.lastIndex;\r\n        matchLength = matches[0].length;\r\n        if (shortEndedElements[matches[1]]) {\r\n          endTagIndex = index;\r\n        } else {\r\n          endTagIndex = SaxParser$1.findEndTag(schema, content, index);\r\n        }\r\n        content = content.substring(0, index - matchLength) + content.substring(endTagIndex);\r\n        bogusAllRegExp.lastIndex = index - matchLength;\r\n      }\r\n      return Zwsp.trim(content);\r\n    };\r\n    var trimExternal = trimInternal;\r\n    var TrimHtml = {\r\n      trimExternal: trimExternal,\r\n      trimInternal: trimInternal\r\n    };\r\n\r\n    var KEEP = 0, INSERT = 1, DELETE = 2;\r\n    var diff = function (left, right) {\r\n      var size = left.length + right.length + 2;\r\n      var vDown = new Array(size);\r\n      var vUp = new Array(size);\r\n      var snake = function (start, end, diag) {\r\n        return {\r\n          start: start,\r\n          end: end,\r\n          diag: diag\r\n        };\r\n      };\r\n      var buildScript = function (start1, end1, start2, end2, script) {\r\n        var middle = getMiddleSnake(start1, end1, start2, end2);\r\n        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\r\n          var i = start1;\r\n          var j = start2;\r\n          while (i < end1 || j < end2) {\r\n            if (i < end1 && j < end2 && left[i] === right[j]) {\r\n              script.push([\r\n                KEEP,\r\n                left[i]\r\n              ]);\r\n              ++i;\r\n              ++j;\r\n            } else {\r\n              if (end1 - start1 > end2 - start2) {\r\n                script.push([\r\n                  DELETE,\r\n                  left[i]\r\n                ]);\r\n                ++i;\r\n              } else {\r\n                script.push([\r\n                  INSERT,\r\n                  right[j]\r\n                ]);\r\n                ++j;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\r\n          for (var i2 = middle.start; i2 < middle.end; ++i2) {\r\n            script.push([\r\n              KEEP,\r\n              left[i2]\r\n            ]);\r\n          }\r\n          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\r\n        }\r\n      };\r\n      var buildSnake = function (start, diag, end1, end2) {\r\n        var end = start;\r\n        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\r\n          ++end;\r\n        }\r\n        return snake(start, end, diag);\r\n      };\r\n      var getMiddleSnake = function (start1, end1, start2, end2) {\r\n        var m = end1 - start1;\r\n        var n = end2 - start2;\r\n        if (m === 0 || n === 0) {\r\n          return null;\r\n        }\r\n        var delta = m - n;\r\n        var sum = n + m;\r\n        var offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\r\n        vDown[1 + offset] = start1;\r\n        vUp[1 + offset] = end1 + 1;\r\n        var d, k, i, x, y;\r\n        for (d = 0; d <= offset; ++d) {\r\n          for (k = -d; k <= d; k += 2) {\r\n            i = k + offset;\r\n            if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\r\n              vDown[i] = vDown[i + 1];\r\n            } else {\r\n              vDown[i] = vDown[i - 1] + 1;\r\n            }\r\n            x = vDown[i];\r\n            y = x - start1 + start2 - k;\r\n            while (x < end1 && y < end2 && left[x] === right[y]) {\r\n              vDown[i] = ++x;\r\n              ++y;\r\n            }\r\n            if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\r\n              if (vUp[i - delta] <= vDown[i]) {\r\n                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\r\n              }\r\n            }\r\n          }\r\n          for (k = delta - d; k <= delta + d; k += 2) {\r\n            i = k + offset - delta;\r\n            if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\r\n              vUp[i] = vUp[i + 1] - 1;\r\n            } else {\r\n              vUp[i] = vUp[i - 1];\r\n            }\r\n            x = vUp[i] - 1;\r\n            y = x - start1 + start2 - k;\r\n            while (x >= start1 && y >= start2 && left[x] === right[y]) {\r\n              vUp[i] = x--;\r\n              y--;\r\n            }\r\n            if (delta % 2 === 0 && -d <= k && k <= d) {\r\n              if (vUp[i] <= vDown[i + delta]) {\r\n                return buildSnake(vUp[i], k + start1 - start2, end1, end2);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      var script = [];\r\n      buildScript(0, left.length, 0, right.length, script);\r\n      return script;\r\n    };\r\n    var Diff = {\r\n      KEEP: KEEP,\r\n      DELETE: DELETE,\r\n      INSERT: INSERT,\r\n      diff: diff\r\n    };\r\n\r\n    var getOuterHtml = function (elm) {\r\n      if (NodeType.isElement(elm)) {\r\n        return elm.outerHTML;\r\n      } else if (NodeType.isText(elm)) {\r\n        return Entities.encodeRaw(elm.data, false);\r\n      } else if (NodeType.isComment(elm)) {\r\n        return '<!--' + elm.data + '-->';\r\n      }\r\n      return '';\r\n    };\r\n    var createFragment$1 = function (html) {\r\n      var frag, node, container;\r\n      container = document.createElement('div');\r\n      frag = document.createDocumentFragment();\r\n      if (html) {\r\n        container.innerHTML = html;\r\n      }\r\n      while (node = container.firstChild) {\r\n        frag.appendChild(node);\r\n      }\r\n      return frag;\r\n    };\r\n    var insertAt = function (elm, html, index) {\r\n      var fragment = createFragment$1(html);\r\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\r\n        var target = elm.childNodes[index];\r\n        target.parentNode.insertBefore(fragment, target);\r\n      } else {\r\n        elm.appendChild(fragment);\r\n      }\r\n    };\r\n    var removeAt = function (elm, index) {\r\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\r\n        var target = elm.childNodes[index];\r\n        target.parentNode.removeChild(target);\r\n      }\r\n    };\r\n    var applyDiff = function (diff, elm) {\r\n      var index = 0;\r\n      each(diff, function (action) {\r\n        if (action[0] === Diff.KEEP) {\r\n          index++;\r\n        } else if (action[0] === Diff.INSERT) {\r\n          insertAt(elm, action[1], index);\r\n          index++;\r\n        } else if (action[0] === Diff.DELETE) {\r\n          removeAt(elm, index);\r\n        }\r\n      });\r\n    };\r\n    var read$3 = function (elm) {\r\n      return filter(map(from$1(elm.childNodes), getOuterHtml), function (item) {\r\n        return item.length > 0;\r\n      });\r\n    };\r\n    var write = function (fragments, elm) {\r\n      var currentFragments = map(from$1(elm.childNodes), getOuterHtml);\r\n      applyDiff(Diff.diff(currentFragments, fragments), elm);\r\n      return elm;\r\n    };\r\n    var Fragments = {\r\n      read: read$3,\r\n      write: write\r\n    };\r\n\r\n    var undoLevelDocument = Cell(Option.none());\r\n    var lazyTempDocument = function () {\r\n      return undoLevelDocument.get().getOrThunk(function () {\r\n        var doc = document.implementation.createHTMLDocument('undo');\r\n        undoLevelDocument.set(Option.some(doc));\r\n        return doc;\r\n      });\r\n    };\r\n    var hasIframes = function (html) {\r\n      return html.indexOf('</iframe>') !== -1;\r\n    };\r\n    var createFragmentedLevel = function (fragments) {\r\n      return {\r\n        type: 'fragmented',\r\n        fragments: fragments,\r\n        content: '',\r\n        bookmark: null,\r\n        beforeBookmark: null\r\n      };\r\n    };\r\n    var createCompleteLevel = function (content) {\r\n      return {\r\n        type: 'complete',\r\n        fragments: null,\r\n        content: content,\r\n        bookmark: null,\r\n        beforeBookmark: null\r\n      };\r\n    };\r\n    var createFromEditor = function (editor) {\r\n      var fragments, content, trimmedFragments;\r\n      fragments = Fragments.read(editor.getBody());\r\n      trimmedFragments = bind(fragments, function (html) {\r\n        var trimmed = TrimHtml.trimInternal(editor.serializer, html);\r\n        return trimmed.length > 0 ? [trimmed] : [];\r\n      });\r\n      content = trimmedFragments.join('');\r\n      return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\r\n    };\r\n    var applyToEditor = function (editor, level, before) {\r\n      if (level.type === 'fragmented') {\r\n        Fragments.write(level.fragments, editor.getBody());\r\n      } else {\r\n        editor.setContent(level.content, { format: 'raw' });\r\n      }\r\n      editor.selection.moveToBookmark(before ? level.beforeBookmark : level.bookmark);\r\n    };\r\n    var getLevelContent = function (level) {\r\n      return level.type === 'fragmented' ? level.fragments.join('') : level.content;\r\n    };\r\n    var getCleanLevelContent = function (level) {\r\n      var elm = Element$$1.fromTag('body', lazyTempDocument());\r\n      set$2(elm, getLevelContent(level));\r\n      each(descendants$1(elm, '*[data-mce-bogus]'), unwrap);\r\n      return get$5(elm);\r\n    };\r\n    var hasEqualContent = function (level1, level2) {\r\n      return getLevelContent(level1) === getLevelContent(level2);\r\n    };\r\n    var hasEqualCleanedContent = function (level1, level2) {\r\n      return getCleanLevelContent(level1) === getCleanLevelContent(level2);\r\n    };\r\n    var isEq$4 = function (level1, level2) {\r\n      if (!level1 || !level2) {\r\n        return false;\r\n      } else if (hasEqualContent(level1, level2)) {\r\n        return true;\r\n      } else {\r\n        return hasEqualCleanedContent(level1, level2);\r\n      }\r\n    };\r\n    var Levels = {\r\n      createFragmentedLevel: createFragmentedLevel,\r\n      createCompleteLevel: createCompleteLevel,\r\n      createFromEditor: createFromEditor,\r\n      applyToEditor: applyToEditor,\r\n      isEq: isEq$4\r\n    };\r\n\r\n    function UndoManager (editor) {\r\n      var self = this, index = 0, data = [], beforeBookmark, isFirstTypedCharacter, locks = 0;\r\n      var isUnlocked = function () {\r\n        return locks === 0;\r\n      };\r\n      var setTyping = function (typing) {\r\n        if (isUnlocked()) {\r\n          self.typing = typing;\r\n        }\r\n      };\r\n      var setDirty = function (state) {\r\n        editor.setDirty(state);\r\n      };\r\n      var addNonTypingUndoLevel = function (e) {\r\n        setTyping(false);\r\n        self.add({}, e);\r\n      };\r\n      var endTyping = function () {\r\n        if (self.typing) {\r\n          setTyping(false);\r\n          self.add();\r\n        }\r\n      };\r\n      editor.on('init', function () {\r\n        self.add();\r\n      });\r\n      editor.on('BeforeExecCommand', function (e) {\r\n        var cmd = e.command;\r\n        if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\r\n          endTyping();\r\n          self.beforeChange();\r\n        }\r\n      });\r\n      editor.on('ExecCommand', function (e) {\r\n        var cmd = e.command;\r\n        if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\r\n          addNonTypingUndoLevel(e);\r\n        }\r\n      });\r\n      editor.on('ObjectResizeStart Cut', function () {\r\n        self.beforeChange();\r\n      });\r\n      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\r\n      editor.on('DragEnd', addNonTypingUndoLevel);\r\n      editor.on('KeyUp', function (e) {\r\n        var keyCode = e.keyCode;\r\n        if (e.isDefaultPrevented()) {\r\n          return;\r\n        }\r\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\r\n          addNonTypingUndoLevel();\r\n          editor.nodeChanged();\r\n        }\r\n        if (keyCode === 46 || keyCode === 8) {\r\n          editor.nodeChanged();\r\n        }\r\n        if (isFirstTypedCharacter && self.typing && Levels.isEq(Levels.createFromEditor(editor), data[0]) === false) {\r\n          if (editor.isDirty() === false) {\r\n            setDirty(true);\r\n            editor.fire('change', {\r\n              level: data[0],\r\n              lastLevel: null\r\n            });\r\n          }\r\n          editor.fire('TypingUndo');\r\n          isFirstTypedCharacter = false;\r\n          editor.nodeChanged();\r\n        }\r\n      });\r\n      editor.on('KeyDown', function (e) {\r\n        var keyCode = e.keyCode;\r\n        if (e.isDefaultPrevented()) {\r\n          return;\r\n        }\r\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\r\n          if (self.typing) {\r\n            addNonTypingUndoLevel(e);\r\n          }\r\n          return;\r\n        }\r\n        var modKey = e.ctrlKey && !e.altKey || e.metaKey;\r\n        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !self.typing && !modKey) {\r\n          self.beforeChange();\r\n          setTyping(true);\r\n          self.add({}, e);\r\n          isFirstTypedCharacter = true;\r\n        }\r\n      });\r\n      editor.on('MouseDown', function (e) {\r\n        if (self.typing) {\r\n          addNonTypingUndoLevel(e);\r\n        }\r\n      });\r\n      var isInsertReplacementText = function (event) {\r\n        return event.inputType === 'insertReplacementText';\r\n      };\r\n      var isInsertTextDataNull = function (event) {\r\n        return event.inputType === 'insertText' && event.data === null;\r\n      };\r\n      editor.on('input', function (e) {\r\n        if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e))) {\r\n          addNonTypingUndoLevel(e);\r\n        }\r\n      });\r\n      editor.addShortcut('meta+z', '', 'Undo');\r\n      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\r\n      editor.on('AddUndo Undo Redo ClearUndos', function (e) {\r\n        if (!e.isDefaultPrevented()) {\r\n          editor.nodeChanged();\r\n        }\r\n      });\r\n      self = {\r\n        data: data,\r\n        typing: false,\r\n        beforeChange: function () {\r\n          if (isUnlocked()) {\r\n            beforeBookmark = GetBookmark.getUndoBookmark(editor.selection);\r\n          }\r\n        },\r\n        add: function (level, event) {\r\n          var i;\r\n          var settings = editor.settings;\r\n          var lastLevel, currentLevel;\r\n          currentLevel = Levels.createFromEditor(editor);\r\n          level = level || {};\r\n          level = Tools.extend(level, currentLevel);\r\n          if (isUnlocked() === false || editor.removed) {\r\n            return null;\r\n          }\r\n          lastLevel = data[index];\r\n          if (editor.fire('BeforeAddUndo', {\r\n              level: level,\r\n              lastLevel: lastLevel,\r\n              originalEvent: event\r\n            }).isDefaultPrevented()) {\r\n            return null;\r\n          }\r\n          if (lastLevel && Levels.isEq(lastLevel, level)) {\r\n            return null;\r\n          }\r\n          if (data[index]) {\r\n            data[index].beforeBookmark = beforeBookmark;\r\n          }\r\n          if (settings.custom_undo_redo_levels) {\r\n            if (data.length > settings.custom_undo_redo_levels) {\r\n              for (i = 0; i < data.length - 1; i++) {\r\n                data[i] = data[i + 1];\r\n              }\r\n              data.length--;\r\n              index = data.length;\r\n            }\r\n          }\r\n          level.bookmark = GetBookmark.getUndoBookmark(editor.selection);\r\n          if (index < data.length - 1) {\r\n            data.length = index + 1;\r\n          }\r\n          data.push(level);\r\n          index = data.length - 1;\r\n          var args = {\r\n            level: level,\r\n            lastLevel: lastLevel,\r\n            originalEvent: event\r\n          };\r\n          editor.fire('AddUndo', args);\r\n          if (index > 0) {\r\n            setDirty(true);\r\n            editor.fire('change', args);\r\n          }\r\n          return level;\r\n        },\r\n        undo: function () {\r\n          var level;\r\n          if (self.typing) {\r\n            self.add();\r\n            self.typing = false;\r\n            setTyping(false);\r\n          }\r\n          if (index > 0) {\r\n            level = data[--index];\r\n            Levels.applyToEditor(editor, level, true);\r\n            setDirty(true);\r\n            editor.fire('undo', { level: level });\r\n          }\r\n          return level;\r\n        },\r\n        redo: function () {\r\n          var level;\r\n          if (index < data.length - 1) {\r\n            level = data[++index];\r\n            Levels.applyToEditor(editor, level, false);\r\n            setDirty(true);\r\n            editor.fire('redo', { level: level });\r\n          }\r\n          return level;\r\n        },\r\n        clear: function () {\r\n          data = [];\r\n          index = 0;\r\n          self.typing = false;\r\n          self.data = data;\r\n          editor.fire('ClearUndos');\r\n        },\r\n        hasUndo: function () {\r\n          return index > 0 || self.typing && data[0] && !Levels.isEq(Levels.createFromEditor(editor), data[0]);\r\n        },\r\n        hasRedo: function () {\r\n          return index < data.length - 1 && !self.typing;\r\n        },\r\n        transact: function (callback) {\r\n          endTyping();\r\n          self.beforeChange();\r\n          self.ignore(callback);\r\n          return self.add();\r\n        },\r\n        ignore: function (callback) {\r\n          try {\r\n            locks++;\r\n            callback();\r\n          } finally {\r\n            locks--;\r\n          }\r\n        },\r\n        extra: function (callback1, callback2) {\r\n          var lastLevel, bookmark;\r\n          if (self.transact(callback1)) {\r\n            bookmark = data[index].bookmark;\r\n            lastLevel = data[index - 1];\r\n            Levels.applyToEditor(editor, lastLevel, true);\r\n            if (self.transact(callback2)) {\r\n              data[index - 1].beforeBookmark = bookmark;\r\n            }\r\n          }\r\n        }\r\n      };\r\n      return self;\r\n    }\r\n\r\n    var postProcessHooks = {}, filter$2 = ArrUtils.filter, each$c = ArrUtils.each;\r\n    var addPostProcessHook = function (name, hook) {\r\n      var hooks = postProcessHooks[name];\r\n      if (!hooks) {\r\n        postProcessHooks[name] = hooks = [];\r\n      }\r\n      postProcessHooks[name].push(hook);\r\n    };\r\n    var postProcess = function (name, editor) {\r\n      each$c(postProcessHooks[name], function (hook) {\r\n        hook(editor);\r\n      });\r\n    };\r\n    addPostProcessHook('pre', function (editor) {\r\n      var rng = editor.selection.getRng();\r\n      var isPre, blocks;\r\n      var hasPreSibling = function (pre) {\r\n        return isPre(pre.previousSibling) && ArrUtils.indexOf(blocks, pre.previousSibling) !== -1;\r\n      };\r\n      var joinPre = function (pre1, pre2) {\r\n        DomQuery(pre2).remove();\r\n        DomQuery(pre1).append('<br><br>').append(pre2.childNodes);\r\n      };\r\n      isPre = NodeType.matchNodeNames('pre');\r\n      if (!rng.collapsed) {\r\n        blocks = editor.selection.getSelectedBlocks();\r\n        each$c(filter$2(filter$2(blocks, isPre), hasPreSibling), function (pre) {\r\n          joinPre(pre.previousSibling, pre);\r\n        });\r\n      }\r\n    });\r\n    var Hooks = { postProcess: postProcess };\r\n\r\n    var MCE_ATTR_RE = /^(src|href|style)$/;\r\n    var each$d = Tools.each;\r\n    var isEq$5 = FormatUtils.isEq;\r\n    var isTableCell$4 = function (node) {\r\n      return /^(TH|TD)$/.test(node.nodeName);\r\n    };\r\n    var isChildOfInlineParent = function (dom, node, parent$$1) {\r\n      return dom.isChildOf(node, parent$$1) && node !== parent$$1 && !dom.isBlock(parent$$1);\r\n    };\r\n    var getContainer = function (ed, rng, start) {\r\n      var container, offset, lastIdx;\r\n      container = rng[start ? 'startContainer' : 'endContainer'];\r\n      offset = rng[start ? 'startOffset' : 'endOffset'];\r\n      if (NodeType.isElement(container)) {\r\n        lastIdx = container.childNodes.length - 1;\r\n        if (!start && offset) {\r\n          offset--;\r\n        }\r\n        container = container.childNodes[offset > lastIdx ? lastIdx : offset];\r\n      }\r\n      if (NodeType.isText(container) && start && offset >= container.nodeValue.length) {\r\n        container = new TreeWalker(container, ed.getBody()).next() || container;\r\n      }\r\n      if (NodeType.isText(container) && !start && offset === 0) {\r\n        container = new TreeWalker(container, ed.getBody()).prev() || container;\r\n      }\r\n      return container;\r\n    };\r\n    var wrap$2 = function (dom, node, name, attrs) {\r\n      var wrapper = dom.create(name, attrs);\r\n      node.parentNode.insertBefore(wrapper, node);\r\n      wrapper.appendChild(node);\r\n      return wrapper;\r\n    };\r\n    var wrapWithSiblings = function (dom, node, next, name, attrs) {\r\n      var start = Element$$1.fromDom(node);\r\n      var wrapper = Element$$1.fromDom(dom.create(name, attrs));\r\n      var siblings$$1 = next ? nextSiblings(start) : prevSiblings(start);\r\n      append$1(wrapper, siblings$$1);\r\n      if (next) {\r\n        before(start, wrapper);\r\n        prepend(wrapper, start);\r\n      } else {\r\n        after(start, wrapper);\r\n        append(wrapper, start);\r\n      }\r\n      return wrapper.dom();\r\n    };\r\n    var matchName$1 = function (dom, node, format) {\r\n      if (isEq$5(node, format.inline)) {\r\n        return true;\r\n      }\r\n      if (isEq$5(node, format.block)) {\r\n        return true;\r\n      }\r\n      if (format.selector) {\r\n        return NodeType.isElement(node) && dom.is(node, format.selector);\r\n      }\r\n    };\r\n    var isColorFormatAndAnchor = function (node, format) {\r\n      return format.links && node.tagName === 'A';\r\n    };\r\n    var find$4 = function (dom, node, next, inc) {\r\n      node = FormatUtils.getNonWhiteSpaceSibling(node, next, inc);\r\n      return !node || (node.nodeName === 'BR' || dom.isBlock(node));\r\n    };\r\n    var removeNode$1 = function (ed, node, format) {\r\n      var parentNode = node.parentNode;\r\n      var rootBlockElm;\r\n      var dom = ed.dom, forcedRootBlock = ed.settings.forced_root_block;\r\n      if (format.block) {\r\n        if (!forcedRootBlock) {\r\n          if (dom.isBlock(node) && !dom.isBlock(parentNode)) {\r\n            if (!find$4(dom, node, false) && !find$4(dom, node.firstChild, true, 1)) {\r\n              node.insertBefore(dom.create('br'), node.firstChild);\r\n            }\r\n            if (!find$4(dom, node, true) && !find$4(dom, node.lastChild, false, 1)) {\r\n              node.appendChild(dom.create('br'));\r\n            }\r\n          }\r\n        } else {\r\n          if (parentNode === dom.getRoot()) {\r\n            if (!format.list_block || !isEq$5(node, format.list_block)) {\r\n              each$d(Tools.grep(node.childNodes), function (node) {\r\n                if (FormatUtils.isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\r\n                  if (!rootBlockElm) {\r\n                    rootBlockElm = wrap$2(dom, node, forcedRootBlock);\r\n                    dom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);\r\n                  } else {\r\n                    rootBlockElm.appendChild(node);\r\n                  }\r\n                } else {\r\n                  rootBlockElm = 0;\r\n                }\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (format.selector && format.inline && !isEq$5(format.inline, node)) {\r\n        return;\r\n      }\r\n      dom.remove(node, 1);\r\n    };\r\n    var removeFormat = function (ed, format, vars, node, compareNode) {\r\n      var i, attrs, stylesModified;\r\n      var dom = ed.dom;\r\n      if (!matchName$1(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\r\n        return false;\r\n      }\r\n      if (format.remove !== 'all') {\r\n        each$d(format.styles, function (value, name) {\r\n          value = FormatUtils.normalizeStyleValue(dom, FormatUtils.replaceVars(value, vars), name);\r\n          if (typeof name === 'number') {\r\n            name = value;\r\n            compareNode = 0;\r\n          }\r\n          if (format.remove_similar || (!compareNode || isEq$5(FormatUtils.getStyle(dom, compareNode, name), value))) {\r\n            dom.setStyle(node, name, '');\r\n          }\r\n          stylesModified = 1;\r\n        });\r\n        if (stylesModified && dom.getAttrib(node, 'style') === '') {\r\n          node.removeAttribute('style');\r\n          node.removeAttribute('data-mce-style');\r\n        }\r\n        each$d(format.attributes, function (value, name) {\r\n          var valueOut;\r\n          value = FormatUtils.replaceVars(value, vars);\r\n          if (typeof name === 'number') {\r\n            name = value;\r\n            compareNode = 0;\r\n          }\r\n          if (!compareNode || isEq$5(dom.getAttrib(compareNode, name), value)) {\r\n            if (name === 'class') {\r\n              value = dom.getAttrib(node, name);\r\n              if (value) {\r\n                valueOut = '';\r\n                each$d(value.split(/\\s+/), function (cls) {\r\n                  if (/mce\\-\\w+/.test(cls)) {\r\n                    valueOut += (valueOut ? ' ' : '') + cls;\r\n                  }\r\n                });\r\n                if (valueOut) {\r\n                  dom.setAttrib(node, name, valueOut);\r\n                  return;\r\n                }\r\n              }\r\n            }\r\n            if (name === 'class') {\r\n              node.removeAttribute('className');\r\n            }\r\n            if (MCE_ATTR_RE.test(name)) {\r\n              node.removeAttribute('data-mce-' + name);\r\n            }\r\n            node.removeAttribute(name);\r\n          }\r\n        });\r\n        each$d(format.classes, function (value) {\r\n          value = FormatUtils.replaceVars(value, vars);\r\n          if (!compareNode || dom.hasClass(compareNode, value)) {\r\n            dom.removeClass(node, value);\r\n          }\r\n        });\r\n        attrs = dom.getAttribs(node);\r\n        for (i = 0; i < attrs.length; i++) {\r\n          var attrName = attrs[i].nodeName;\r\n          if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      if (format.remove !== 'none') {\r\n        removeNode$1(ed, node, format);\r\n        return true;\r\n      }\r\n    };\r\n    var findFormatRoot = function (editor, container, name, vars, similar) {\r\n      var formatRoot;\r\n      each$d(FormatUtils.getParents(editor.dom, container.parentNode).reverse(), function (parent$$1) {\r\n        var format;\r\n        if (!formatRoot && parent$$1.id !== '_start' && parent$$1.id !== '_end') {\r\n          format = MatchFormat.matchNode(editor, parent$$1, name, vars, similar);\r\n          if (format && format.split !== false) {\r\n            formatRoot = parent$$1;\r\n          }\r\n        }\r\n      });\r\n      return formatRoot;\r\n    };\r\n    var wrapAndSplit = function (editor, formatList, formatRoot, container, target, split, format, vars) {\r\n      var parent$$1, clone, lastClone, firstClone, i, formatRootParent;\r\n      var dom = editor.dom;\r\n      if (formatRoot) {\r\n        formatRootParent = formatRoot.parentNode;\r\n        for (parent$$1 = container.parentNode; parent$$1 && parent$$1 !== formatRootParent; parent$$1 = parent$$1.parentNode) {\r\n          clone = dom.clone(parent$$1, false);\r\n          for (i = 0; i < formatList.length; i++) {\r\n            if (removeFormat(editor, formatList[i], vars, clone, clone)) {\r\n              clone = 0;\r\n              break;\r\n            }\r\n          }\r\n          if (clone) {\r\n            if (lastClone) {\r\n              clone.appendChild(lastClone);\r\n            }\r\n            if (!firstClone) {\r\n              firstClone = clone;\r\n            }\r\n            lastClone = clone;\r\n          }\r\n        }\r\n        if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\r\n          container = dom.split(formatRoot, container);\r\n        }\r\n        if (lastClone) {\r\n          target.parentNode.insertBefore(lastClone, target);\r\n          firstClone.appendChild(target);\r\n        }\r\n      }\r\n      return container;\r\n    };\r\n    var remove$8 = function (ed, name, vars, node, similar) {\r\n      var formatList = ed.formatter.get(name), format = formatList[0];\r\n      var bookmark, rng, contentEditable = true;\r\n      var dom = ed.dom;\r\n      var selection = ed.selection;\r\n      var splitToFormatRoot = function (container) {\r\n        var formatRoot = findFormatRoot(ed, container, name, vars, similar);\r\n        return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\r\n      };\r\n      var isRemoveBookmarkNode = function (node) {\r\n        return Bookmarks.isBookmarkNode(node) && NodeType.isElement(node) && (node.id === '_start' || node.id === '_end');\r\n      };\r\n      var process = function (node) {\r\n        var children$$1, i, l, lastContentEditable, hasContentEditableState;\r\n        if (NodeType.isElement(node) && dom.getContentEditable(node)) {\r\n          lastContentEditable = contentEditable;\r\n          contentEditable = dom.getContentEditable(node) === 'true';\r\n          hasContentEditableState = true;\r\n        }\r\n        children$$1 = Tools.grep(node.childNodes);\r\n        if (contentEditable && !hasContentEditableState) {\r\n          for (i = 0, l = formatList.length; i < l; i++) {\r\n            if (removeFormat(ed, formatList[i], vars, node, node)) {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (format.deep) {\r\n          if (children$$1.length) {\r\n            for (i = 0, l = children$$1.length; i < l; i++) {\r\n              process(children$$1[i]);\r\n            }\r\n            if (hasContentEditableState) {\r\n              contentEditable = lastContentEditable;\r\n            }\r\n          }\r\n        }\r\n      };\r\n      var unwrap = function (start) {\r\n        var node = dom.get(start ? '_start' : '_end');\r\n        var out = node[start ? 'firstChild' : 'lastChild'];\r\n        if (isRemoveBookmarkNode(out)) {\r\n          out = out[start ? 'firstChild' : 'lastChild'];\r\n        }\r\n        if (NodeType.isText(out) && out.data.length === 0) {\r\n          out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\r\n        }\r\n        dom.remove(node, true);\r\n        return out;\r\n      };\r\n      var removeRngStyle = function (rng) {\r\n        var startContainer, endContainer;\r\n        var commonAncestorContainer = rng.commonAncestorContainer;\r\n        rng = ExpandRange.expandRng(ed, rng, formatList, true);\r\n        if (format.split) {\r\n          rng = SplitRange.split(rng);\r\n          startContainer = getContainer(ed, rng, true);\r\n          endContainer = getContainer(ed, rng);\r\n          if (startContainer !== endContainer) {\r\n            if (/^(TR|TH|TD)$/.test(startContainer.nodeName) && startContainer.firstChild) {\r\n              if (startContainer.nodeName === 'TR') {\r\n                startContainer = startContainer.firstChild.firstChild || startContainer;\r\n              } else {\r\n                startContainer = startContainer.firstChild || startContainer;\r\n              }\r\n            }\r\n            if (commonAncestorContainer && /^T(HEAD|BODY|FOOT|R)$/.test(commonAncestorContainer.nodeName) && isTableCell$4(endContainer) && endContainer.firstChild) {\r\n              endContainer = endContainer.firstChild || endContainer;\r\n            }\r\n            if (isChildOfInlineParent(dom, startContainer, endContainer)) {\r\n              var marker = Option.from(startContainer.firstChild).getOr(startContainer);\r\n              splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\r\n                'id': '_start',\r\n                'data-mce-type': 'bookmark'\r\n              }));\r\n              unwrap(true);\r\n              return;\r\n            }\r\n            if (isChildOfInlineParent(dom, endContainer, startContainer)) {\r\n              var marker = Option.from(endContainer.lastChild).getOr(endContainer);\r\n              splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\r\n                'id': '_end',\r\n                'data-mce-type': 'bookmark'\r\n              }));\r\n              unwrap(false);\r\n              return;\r\n            }\r\n            startContainer = wrap$2(dom, startContainer, 'span', {\r\n              'id': '_start',\r\n              'data-mce-type': 'bookmark'\r\n            });\r\n            endContainer = wrap$2(dom, endContainer, 'span', {\r\n              'id': '_end',\r\n              'data-mce-type': 'bookmark'\r\n            });\r\n            splitToFormatRoot(startContainer);\r\n            splitToFormatRoot(endContainer);\r\n            startContainer = unwrap(true);\r\n            endContainer = unwrap();\r\n          } else {\r\n            startContainer = endContainer = splitToFormatRoot(startContainer);\r\n          }\r\n          rng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\r\n          rng.startOffset = dom.nodeIndex(startContainer);\r\n          rng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\r\n          rng.endOffset = dom.nodeIndex(endContainer) + 1;\r\n        }\r\n        RangeWalk.walk(dom, rng, function (nodes) {\r\n          each$d(nodes, function (node) {\r\n            process(node);\r\n            if (NodeType.isElement(node) && ed.dom.getStyle(node, 'text-decoration') === 'underline' && node.parentNode && FormatUtils.getTextDecoration(dom, node.parentNode) === 'underline') {\r\n              removeFormat(ed, {\r\n                deep: false,\r\n                exact: true,\r\n                inline: 'span',\r\n                styles: { textDecoration: 'underline' }\r\n              }, null, node);\r\n            }\r\n          });\r\n        });\r\n      };\r\n      if (node) {\r\n        if (node.nodeType) {\r\n          rng = dom.createRng();\r\n          rng.setStartBefore(node);\r\n          rng.setEndAfter(node);\r\n          removeRngStyle(rng);\r\n        } else {\r\n          removeRngStyle(node);\r\n        }\r\n        return;\r\n      }\r\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\r\n        node = selection.getNode();\r\n        for (var i = 0, l = formatList.length; i < l; i++) {\r\n          if (formatList[i].ceFalseOverride) {\r\n            if (removeFormat(ed, formatList[i], vars, node, node)) {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        return;\r\n      }\r\n      if (!selection.isCollapsed() || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\r\n        bookmark = GetBookmark.getPersistentBookmark(ed.selection, true);\r\n        removeRngStyle(selection.getRng());\r\n        selection.moveToBookmark(bookmark);\r\n        if (format.inline && MatchFormat.match(ed, name, vars, selection.getStart())) {\r\n          FormatUtils.moveStart(dom, selection, selection.getRng());\r\n        }\r\n        ed.nodeChanged();\r\n      } else {\r\n        removeCaretFormat(ed, name, vars, similar);\r\n      }\r\n    };\r\n    var RemoveFormat = {\r\n      removeFormat: removeFormat,\r\n      remove: remove$8\r\n    };\r\n\r\n    var each$e = Tools.each;\r\n    var isElementNode = function (node) {\r\n      return node && node.nodeType === 1 && !Bookmarks.isBookmarkNode(node) && !isCaretNode(node) && !NodeType.isBogus(node);\r\n    };\r\n    var findElementSibling = function (node, siblingName) {\r\n      var sibling;\r\n      for (sibling = node; sibling; sibling = sibling[siblingName]) {\r\n        if (sibling.nodeType === 3 && sibling.nodeValue.length !== 0) {\r\n          return node;\r\n        }\r\n        if (sibling.nodeType === 1 && !Bookmarks.isBookmarkNode(sibling)) {\r\n          return sibling;\r\n        }\r\n      }\r\n      return node;\r\n    };\r\n    var mergeSiblingsNodes = function (dom, prev, next) {\r\n      var sibling, tmpSibling;\r\n      var elementUtils = new ElementUtils(dom);\r\n      if (prev && next) {\r\n        prev = findElementSibling(prev, 'previousSibling');\r\n        next = findElementSibling(next, 'nextSibling');\r\n        if (elementUtils.compare(prev, next)) {\r\n          for (sibling = prev.nextSibling; sibling && sibling !== next;) {\r\n            tmpSibling = sibling;\r\n            sibling = sibling.nextSibling;\r\n            prev.appendChild(tmpSibling);\r\n          }\r\n          dom.remove(next);\r\n          Tools.each(Tools.grep(next.childNodes), function (node) {\r\n            prev.appendChild(node);\r\n          });\r\n          return prev;\r\n        }\r\n      }\r\n      return next;\r\n    };\r\n    var processChildElements = function (node, filter, process) {\r\n      each$e(node.childNodes, function (node) {\r\n        if (isElementNode(node)) {\r\n          if (filter(node)) {\r\n            process(node);\r\n          }\r\n          if (node.hasChildNodes()) {\r\n            processChildElements(node, filter, process);\r\n          }\r\n        }\r\n      });\r\n    };\r\n    var hasStyle = function (dom, name) {\r\n      return curry(function (name, node) {\r\n        return !!(node && FormatUtils.getStyle(dom, node, name));\r\n      }, name);\r\n    };\r\n    var applyStyle = function (dom, name, value) {\r\n      return curry(function (name, value, node) {\r\n        dom.setStyle(node, name, value);\r\n        if (node.getAttribute('style') === '') {\r\n          node.removeAttribute('style');\r\n        }\r\n        unwrapEmptySpan(dom, node);\r\n      }, name, value);\r\n    };\r\n    var unwrapEmptySpan = function (dom, node) {\r\n      if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\r\n        dom.remove(node, true);\r\n      }\r\n    };\r\n    var processUnderlineAndColor = function (dom, node) {\r\n      var textDecoration;\r\n      if (node.nodeType === 1 && node.parentNode && node.parentNode.nodeType === 1) {\r\n        textDecoration = FormatUtils.getTextDecoration(dom, node.parentNode);\r\n        if (dom.getStyle(node, 'color') && textDecoration) {\r\n          dom.setStyle(node, 'text-decoration', textDecoration);\r\n        } else if (dom.getStyle(node, 'text-decoration') === textDecoration) {\r\n          dom.setStyle(node, 'text-decoration', null);\r\n        }\r\n      }\r\n    };\r\n    var mergeUnderlineAndColor = function (dom, format, vars, node) {\r\n      if (format.styles.color || format.styles.textDecoration) {\r\n        Tools.walk(node, curry(processUnderlineAndColor, dom), 'childNodes');\r\n        processUnderlineAndColor(dom, node);\r\n      }\r\n    };\r\n    var mergeBackgroundColorAndFontSize = function (dom, format, vars, node) {\r\n      if (format.styles && format.styles.backgroundColor) {\r\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'backgroundColor', FormatUtils.replaceVars(format.styles.backgroundColor, vars)));\r\n      }\r\n    };\r\n    var mergeSubSup = function (dom, format, vars, node) {\r\n      if (format.inline === 'sub' || format.inline === 'sup') {\r\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'fontSize', ''));\r\n        dom.remove(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), true);\r\n      }\r\n    };\r\n    var mergeSiblings = function (dom, format, vars, node) {\r\n      if (node && format.merge_siblings !== false) {\r\n        node = mergeSiblingsNodes(dom, FormatUtils.getNonWhiteSpaceSibling(node), node);\r\n        node = mergeSiblingsNodes(dom, node, FormatUtils.getNonWhiteSpaceSibling(node, true));\r\n      }\r\n    };\r\n    var clearChildStyles = function (dom, format, node) {\r\n      if (format.clear_child_styles) {\r\n        var selector = format.links ? '*:not(a)' : '*';\r\n        each$e(dom.select(selector, node), function (node) {\r\n          if (isElementNode(node)) {\r\n            each$e(format.styles, function (value, name) {\r\n              dom.setStyle(node, name, '');\r\n            });\r\n          }\r\n        });\r\n      }\r\n    };\r\n    var mergeWithChildren = function (editor, formatList, vars, node) {\r\n      each$e(formatList, function (format) {\r\n        each$e(editor.dom.select(format.inline, node), function (child) {\r\n          if (!isElementNode(child)) {\r\n            return;\r\n          }\r\n          RemoveFormat.removeFormat(editor, format, vars, child, format.exact ? child : null);\r\n        });\r\n        clearChildStyles(editor.dom, format, node);\r\n      });\r\n    };\r\n    var mergeWithParents = function (editor, format, name, vars, node) {\r\n      if (MatchFormat.matchNode(editor, node.parentNode, name, vars)) {\r\n        if (RemoveFormat.removeFormat(editor, format, vars, node)) {\r\n          return;\r\n        }\r\n      }\r\n      if (format.merge_with_parents) {\r\n        editor.dom.getParent(node.parentNode, function (parent) {\r\n          if (MatchFormat.matchNode(editor, parent, name, vars)) {\r\n            RemoveFormat.removeFormat(editor, format, vars, node);\r\n            return true;\r\n          }\r\n        });\r\n      }\r\n    };\r\n    var MergeFormats = {\r\n      mergeWithChildren: mergeWithChildren,\r\n      mergeUnderlineAndColor: mergeUnderlineAndColor,\r\n      mergeBackgroundColorAndFontSize: mergeBackgroundColorAndFontSize,\r\n      mergeSubSup: mergeSubSup,\r\n      mergeSiblings: mergeSiblings,\r\n      mergeWithParents: mergeWithParents\r\n    };\r\n\r\n    var each$f = Tools.each;\r\n    var isElementNode$1 = function (node) {\r\n      return node && node.nodeType === 1 && !Bookmarks.isBookmarkNode(node) && !isCaretNode(node) && !NodeType.isBogus(node);\r\n    };\r\n    var applyFormat = function (ed, name, vars, node) {\r\n      var formatList = ed.formatter.get(name);\r\n      var format = formatList[0];\r\n      var bookmark, rng;\r\n      var isCollapsed = !node && ed.selection.isCollapsed();\r\n      var dom = ed.dom, selection = ed.selection;\r\n      var setElementFormat = function (elm, fmt) {\r\n        fmt = fmt || format;\r\n        if (elm) {\r\n          if (fmt.onformat) {\r\n            fmt.onformat(elm, fmt, vars, node);\r\n          }\r\n          each$f(fmt.styles, function (value, name) {\r\n            dom.setStyle(elm, name, FormatUtils.replaceVars(value, vars));\r\n          });\r\n          if (fmt.styles) {\r\n            var styleVal = dom.getAttrib(elm, 'style');\r\n            if (styleVal) {\r\n              elm.setAttribute('data-mce-style', styleVal);\r\n            }\r\n          }\r\n          each$f(fmt.attributes, function (value, name) {\r\n            dom.setAttrib(elm, name, FormatUtils.replaceVars(value, vars));\r\n          });\r\n          each$f(fmt.classes, function (value) {\r\n            value = FormatUtils.replaceVars(value, vars);\r\n            if (!dom.hasClass(elm, value)) {\r\n              dom.addClass(elm, value);\r\n            }\r\n          });\r\n        }\r\n      };\r\n      var applyNodeStyle = function (formatList, node) {\r\n        var found = false;\r\n        if (!format.selector) {\r\n          return false;\r\n        }\r\n        each$f(formatList, function (format) {\r\n          if ('collapsed' in format && format.collapsed !== isCollapsed) {\r\n            return;\r\n          }\r\n          if (dom.is(node, format.selector) && !isCaretNode(node)) {\r\n            setElementFormat(node, format);\r\n            found = true;\r\n            return false;\r\n          }\r\n        });\r\n        return found;\r\n      };\r\n      var applyRngStyle = function (dom, rng, bookmark, nodeSpecific) {\r\n        var newWrappers = [];\r\n        var wrapName, wrapElm, contentEditable = true;\r\n        wrapName = format.inline || format.block;\r\n        wrapElm = dom.create(wrapName);\r\n        setElementFormat(wrapElm);\r\n        RangeWalk.walk(dom, rng, function (nodes) {\r\n          var currentWrapElm;\r\n          var process = function (node) {\r\n            var nodeName, parentName, hasContentEditableState, lastContentEditable;\r\n            lastContentEditable = contentEditable;\r\n            nodeName = node.nodeName.toLowerCase();\r\n            parentName = node.parentNode.nodeName.toLowerCase();\r\n            if (node.nodeType === 1 && dom.getContentEditable(node)) {\r\n              lastContentEditable = contentEditable;\r\n              contentEditable = dom.getContentEditable(node) === 'true';\r\n              hasContentEditableState = true;\r\n            }\r\n            if (FormatUtils.isEq(nodeName, 'br')) {\r\n              currentWrapElm = 0;\r\n              if (format.block) {\r\n                dom.remove(node);\r\n              }\r\n              return;\r\n            }\r\n            if (format.wrapper && MatchFormat.matchNode(ed, node, name, vars)) {\r\n              currentWrapElm = 0;\r\n              return;\r\n            }\r\n            if (contentEditable && !hasContentEditableState && format.block && !format.wrapper && FormatUtils.isTextBlock(ed, nodeName) && FormatUtils.isValid(ed, parentName, wrapName)) {\r\n              node = dom.rename(node, wrapName);\r\n              setElementFormat(node);\r\n              newWrappers.push(node);\r\n              currentWrapElm = 0;\r\n              return;\r\n            }\r\n            if (format.selector) {\r\n              var found = applyNodeStyle(formatList, node);\r\n              if (!format.inline || found) {\r\n                currentWrapElm = 0;\r\n                return;\r\n              }\r\n            }\r\n            if (contentEditable && !hasContentEditableState && FormatUtils.isValid(ed, wrapName, nodeName) && FormatUtils.isValid(ed, parentName, wrapName) && !(!nodeSpecific && node.nodeType === 3 && node.nodeValue.length === 1 && node.nodeValue.charCodeAt(0) === 65279) && !isCaretNode(node) && (!format.inline || !dom.isBlock(node))) {\r\n              if (!currentWrapElm) {\r\n                currentWrapElm = dom.clone(wrapElm, false);\r\n                node.parentNode.insertBefore(currentWrapElm, node);\r\n                newWrappers.push(currentWrapElm);\r\n              }\r\n              currentWrapElm.appendChild(node);\r\n            } else {\r\n              currentWrapElm = 0;\r\n              each$f(Tools.grep(node.childNodes), process);\r\n              if (hasContentEditableState) {\r\n                contentEditable = lastContentEditable;\r\n              }\r\n              currentWrapElm = 0;\r\n            }\r\n          };\r\n          each$f(nodes, process);\r\n        });\r\n        if (format.links === true) {\r\n          each$f(newWrappers, function (node) {\r\n            var process = function (node) {\r\n              if (node.nodeName === 'A') {\r\n                setElementFormat(node, format);\r\n              }\r\n              each$f(Tools.grep(node.childNodes), process);\r\n            };\r\n            process(node);\r\n          });\r\n        }\r\n        each$f(newWrappers, function (node) {\r\n          var childCount;\r\n          var getChildCount = function (node) {\r\n            var count = 0;\r\n            each$f(node.childNodes, function (node) {\r\n              if (!FormatUtils.isWhiteSpaceNode(node) && !Bookmarks.isBookmarkNode(node)) {\r\n                count++;\r\n              }\r\n            });\r\n            return count;\r\n          };\r\n          var getChildElementNode = function (root) {\r\n            var child = false;\r\n            each$f(root.childNodes, function (node) {\r\n              if (isElementNode$1(node)) {\r\n                child = node;\r\n                return false;\r\n              }\r\n            });\r\n            return child;\r\n          };\r\n          var mergeStyles = function (node) {\r\n            var child, clone;\r\n            child = getChildElementNode(node);\r\n            if (child && !Bookmarks.isBookmarkNode(child) && MatchFormat.matchName(dom, child, format)) {\r\n              clone = dom.clone(child, false);\r\n              setElementFormat(clone);\r\n              dom.replace(clone, node, true);\r\n              dom.remove(child, 1);\r\n            }\r\n            return clone || node;\r\n          };\r\n          childCount = getChildCount(node);\r\n          if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\r\n            dom.remove(node, 1);\r\n            return;\r\n          }\r\n          if (format.inline || format.wrapper) {\r\n            if (!format.exact && childCount === 1) {\r\n              node = mergeStyles(node);\r\n            }\r\n            MergeFormats.mergeWithChildren(ed, formatList, vars, node);\r\n            MergeFormats.mergeWithParents(ed, format, name, vars, node);\r\n            MergeFormats.mergeBackgroundColorAndFontSize(dom, format, vars, node);\r\n            MergeFormats.mergeSubSup(dom, format, vars, node);\r\n            MergeFormats.mergeSiblings(dom, format, vars, node);\r\n          }\r\n        });\r\n      };\r\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\r\n        node = selection.getNode();\r\n        for (var i = 0, l = formatList.length; i < l; i++) {\r\n          if (formatList[i].ceFalseOverride && dom.is(node, formatList[i].selector)) {\r\n            setElementFormat(node, formatList[i]);\r\n            return;\r\n          }\r\n        }\r\n        return;\r\n      }\r\n      if (format) {\r\n        if (node) {\r\n          if (node.nodeType) {\r\n            if (!applyNodeStyle(formatList, node)) {\r\n              rng = dom.createRng();\r\n              rng.setStartBefore(node);\r\n              rng.setEndAfter(node);\r\n              applyRngStyle(dom, ExpandRange.expandRng(ed, rng, formatList), null, true);\r\n            }\r\n          } else {\r\n            applyRngStyle(dom, node, null, true);\r\n          }\r\n        } else {\r\n          if (!isCollapsed || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\r\n            var curSelNode = ed.selection.getNode();\r\n            if (!ed.settings.forced_root_block && formatList[0].defaultBlock && !dom.getParent(curSelNode, dom.isBlock)) {\r\n              applyFormat(ed, formatList[0].defaultBlock);\r\n            }\r\n            ed.selection.setRng(RangeNormalizer.normalize(ed.selection.getRng()));\r\n            bookmark = GetBookmark.getPersistentBookmark(ed.selection, true);\r\n            applyRngStyle(dom, ExpandRange.expandRng(ed, selection.getRng(), formatList), bookmark);\r\n            if (format.styles) {\r\n              MergeFormats.mergeUnderlineAndColor(dom, format, vars, curSelNode);\r\n            }\r\n            selection.moveToBookmark(bookmark);\r\n            FormatUtils.moveStart(dom, selection, selection.getRng());\r\n            ed.nodeChanged();\r\n          } else {\r\n            applyCaretFormat(ed, name, vars);\r\n          }\r\n        }\r\n        Hooks.postProcess(name, ed);\r\n      }\r\n    };\r\n    var ApplyFormat = { applyFormat: applyFormat };\r\n\r\n    var each$g = Tools.each;\r\n    var setup$5 = function (formatChangeData, editor) {\r\n      var currentFormats = {};\r\n      formatChangeData.set({});\r\n      editor.on('NodeChange', function (e) {\r\n        var parents = FormatUtils.getParents(editor.dom, e.element);\r\n        var matchedFormats = {};\r\n        parents = Tools.grep(parents, function (node) {\r\n          return node.nodeType === 1 && !node.getAttribute('data-mce-bogus');\r\n        });\r\n        each$g(formatChangeData.get(), function (callbacks, format) {\r\n          each$g(parents, function (node) {\r\n            if (editor.formatter.matchNode(node, format, {}, callbacks.similar)) {\r\n              if (!currentFormats[format]) {\r\n                each$g(callbacks, function (callback) {\r\n                  callback(true, {\r\n                    node: node,\r\n                    format: format,\r\n                    parents: parents\r\n                  });\r\n                });\r\n                currentFormats[format] = callbacks;\r\n              }\r\n              matchedFormats[format] = callbacks;\r\n              return false;\r\n            }\r\n            if (MatchFormat.matchesUnInheritedFormatSelector(editor, node, format)) {\r\n              return false;\r\n            }\r\n          });\r\n        });\r\n        each$g(currentFormats, function (callbacks, format) {\r\n          if (!matchedFormats[format]) {\r\n            delete currentFormats[format];\r\n            each$g(callbacks, function (callback) {\r\n              callback(false, {\r\n                node: e.element,\r\n                format: format,\r\n                parents: parents\r\n              });\r\n            });\r\n          }\r\n        });\r\n      });\r\n    };\r\n    var addListeners = function (formatChangeData, formats, callback, similar) {\r\n      var formatChangeItems = formatChangeData.get();\r\n      each$g(formats.split(','), function (format) {\r\n        if (!formatChangeItems[format]) {\r\n          formatChangeItems[format] = [];\r\n          formatChangeItems[format].similar = similar;\r\n        }\r\n        formatChangeItems[format].push(callback);\r\n      });\r\n      formatChangeData.set(formatChangeItems);\r\n    };\r\n    var formatChanged = function (editor, formatChangeState, formats, callback, similar) {\r\n      if (formatChangeState.get() === null) {\r\n        setup$5(formatChangeState, editor);\r\n      }\r\n      addListeners(formatChangeState, formats, callback, similar);\r\n    };\r\n    var FormatChanged = { formatChanged: formatChanged };\r\n\r\n    var get$8 = function (dom) {\r\n      var formats = {\r\n        valigntop: [{\r\n            selector: 'td,th',\r\n            styles: { verticalAlign: 'top' }\r\n          }],\r\n        valignmiddle: [{\r\n            selector: 'td,th',\r\n            styles: { verticalAlign: 'middle' }\r\n          }],\r\n        valignbottom: [{\r\n            selector: 'td,th',\r\n            styles: { verticalAlign: 'bottom' }\r\n          }],\r\n        alignleft: [\r\n          {\r\n            selector: 'figure.image',\r\n            collapsed: false,\r\n            classes: 'align-left',\r\n            ceFalseOverride: true,\r\n            preview: 'font-family font-size'\r\n          },\r\n          {\r\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\r\n            styles: { textAlign: 'left' },\r\n            inherit: false,\r\n            preview: false,\r\n            defaultBlock: 'div'\r\n          },\r\n          {\r\n            selector: 'img,table',\r\n            collapsed: false,\r\n            styles: { float: 'left' },\r\n            preview: 'font-family font-size'\r\n          }\r\n        ],\r\n        aligncenter: [\r\n          {\r\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\r\n            styles: { textAlign: 'center' },\r\n            inherit: false,\r\n            preview: 'font-family font-size',\r\n            defaultBlock: 'div'\r\n          },\r\n          {\r\n            selector: 'figure.image',\r\n            collapsed: false,\r\n            classes: 'align-center',\r\n            ceFalseOverride: true,\r\n            preview: 'font-family font-size'\r\n          },\r\n          {\r\n            selector: 'img',\r\n            collapsed: false,\r\n            styles: {\r\n              display: 'block',\r\n              marginLeft: 'auto',\r\n              marginRight: 'auto'\r\n            },\r\n            preview: false\r\n          },\r\n          {\r\n            selector: 'table',\r\n            collapsed: false,\r\n            styles: {\r\n              marginLeft: 'auto',\r\n              marginRight: 'auto'\r\n            },\r\n            preview: 'font-family font-size'\r\n          }\r\n        ],\r\n        alignright: [\r\n          {\r\n            selector: 'figure.image',\r\n            collapsed: false,\r\n            classes: 'align-right',\r\n            ceFalseOverride: true,\r\n            preview: 'font-family font-size'\r\n          },\r\n          {\r\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\r\n            styles: { textAlign: 'right' },\r\n            inherit: false,\r\n            preview: 'font-family font-size',\r\n            defaultBlock: 'div'\r\n          },\r\n          {\r\n            selector: 'img,table',\r\n            collapsed: false,\r\n            styles: { float: 'right' },\r\n            preview: 'font-family font-size'\r\n          }\r\n        ],\r\n        alignjustify: [{\r\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\r\n            styles: { textAlign: 'justify' },\r\n            inherit: false,\r\n            defaultBlock: 'div',\r\n            preview: 'font-family font-size'\r\n          }],\r\n        bold: [\r\n          {\r\n            inline: 'strong',\r\n            remove: 'all'\r\n          },\r\n          {\r\n            inline: 'span',\r\n            styles: { fontWeight: 'bold' }\r\n          },\r\n          {\r\n            inline: 'b',\r\n            remove: 'all'\r\n          }\r\n        ],\r\n        italic: [\r\n          {\r\n            inline: 'em',\r\n            remove: 'all'\r\n          },\r\n          {\r\n            inline: 'span',\r\n            styles: { fontStyle: 'italic' }\r\n          },\r\n          {\r\n            inline: 'i',\r\n            remove: 'all'\r\n          }\r\n        ],\r\n        underline: [\r\n          {\r\n            inline: 'span',\r\n            styles: { textDecoration: 'underline' },\r\n            exact: true\r\n          },\r\n          {\r\n            inline: 'u',\r\n            remove: 'all'\r\n          }\r\n        ],\r\n        strikethrough: [\r\n          {\r\n            inline: 'span',\r\n            styles: { textDecoration: 'line-through' },\r\n            exact: true\r\n          },\r\n          {\r\n            inline: 'strike',\r\n            remove: 'all'\r\n          }\r\n        ],\r\n        forecolor: {\r\n          inline: 'span',\r\n          styles: { color: '%value' },\r\n          links: true,\r\n          remove_similar: true,\r\n          clear_child_styles: true\r\n        },\r\n        hilitecolor: {\r\n          inline: 'span',\r\n          styles: { backgroundColor: '%value' },\r\n          links: true,\r\n          remove_similar: true,\r\n          clear_child_styles: true\r\n        },\r\n        fontname: {\r\n          inline: 'span',\r\n          toggle: false,\r\n          styles: { fontFamily: '%value' },\r\n          clear_child_styles: true\r\n        },\r\n        fontsize: {\r\n          inline: 'span',\r\n          toggle: false,\r\n          styles: { fontSize: '%value' },\r\n          clear_child_styles: true\r\n        },\r\n        fontsize_class: {\r\n          inline: 'span',\r\n          attributes: { class: '%value' }\r\n        },\r\n        blockquote: {\r\n          block: 'blockquote',\r\n          wrapper: 1,\r\n          remove: 'all'\r\n        },\r\n        subscript: { inline: 'sub' },\r\n        superscript: { inline: 'sup' },\r\n        code: { inline: 'code' },\r\n        link: {\r\n          inline: 'a',\r\n          selector: 'a',\r\n          remove: 'all',\r\n          split: true,\r\n          deep: true,\r\n          onmatch: function () {\r\n            return true;\r\n          },\r\n          onformat: function (elm, fmt, vars) {\r\n            Tools.each(vars, function (value, key) {\r\n              dom.setAttrib(elm, key, value);\r\n            });\r\n          }\r\n        },\r\n        removeformat: [\r\n          {\r\n            selector: 'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',\r\n            remove: 'all',\r\n            split: true,\r\n            expand: false,\r\n            block_expand: true,\r\n            deep: true\r\n          },\r\n          {\r\n            selector: 'span',\r\n            attributes: [\r\n              'style',\r\n              'class'\r\n            ],\r\n            remove: 'empty',\r\n            split: true,\r\n            expand: false,\r\n            deep: true\r\n          },\r\n          {\r\n            selector: '*',\r\n            attributes: [\r\n              'style',\r\n              'class'\r\n            ],\r\n            split: false,\r\n            expand: false,\r\n            deep: true\r\n          }\r\n        ]\r\n      };\r\n      Tools.each('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\\s/), function (name) {\r\n        formats[name] = {\r\n          block: name,\r\n          remove: 'all'\r\n        };\r\n      });\r\n      return formats;\r\n    };\r\n    var DefaultFormats = { get: get$8 };\r\n\r\n    function FormatRegistry (editor) {\r\n      var formats = {};\r\n      var get = function (name) {\r\n        return name ? formats[name] : formats;\r\n      };\r\n      var register = function (name, format) {\r\n        if (name) {\r\n          if (typeof name !== 'string') {\r\n            Tools.each(name, function (format, name) {\r\n              register(name, format);\r\n            });\r\n          } else {\r\n            format = format.length ? format : [format];\r\n            Tools.each(format, function (format) {\r\n              if (typeof format.deep === 'undefined') {\r\n                format.deep = !format.selector;\r\n              }\r\n              if (typeof format.split === 'undefined') {\r\n                format.split = !format.selector || format.inline;\r\n              }\r\n              if (typeof format.remove === 'undefined' && format.selector && !format.inline) {\r\n                format.remove = 'none';\r\n              }\r\n              if (format.selector && format.inline) {\r\n                format.mixed = true;\r\n                format.block_expand = true;\r\n              }\r\n              if (typeof format.classes === 'string') {\r\n                format.classes = format.classes.split(/\\s+/);\r\n              }\r\n            });\r\n            formats[name] = format;\r\n          }\r\n        }\r\n      };\r\n      var unregister = function (name) {\r\n        if (name && formats[name]) {\r\n          delete formats[name];\r\n        }\r\n        return formats;\r\n      };\r\n      register(DefaultFormats.get(editor.dom));\r\n      register(editor.settings.formats);\r\n      return {\r\n        get: get,\r\n        register: register,\r\n        unregister: unregister\r\n      };\r\n    }\r\n\r\n    var each$h = Tools.each;\r\n    var dom = DOMUtils$1.DOM;\r\n    var parsedSelectorToHtml = function (ancestry, editor) {\r\n      var elm, item, fragment;\r\n      var schema = editor && editor.schema || Schema({});\r\n      var decorate = function (elm, item) {\r\n        if (item.classes.length) {\r\n          dom.addClass(elm, item.classes.join(' '));\r\n        }\r\n        dom.setAttribs(elm, item.attrs);\r\n      };\r\n      var createElement = function (sItem) {\r\n        var elm;\r\n        item = typeof sItem === 'string' ? {\r\n          name: sItem,\r\n          classes: [],\r\n          attrs: {}\r\n        } : sItem;\r\n        elm = dom.create(item.name);\r\n        decorate(elm, item);\r\n        return elm;\r\n      };\r\n      var getRequiredParent = function (elm, candidate) {\r\n        var name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\r\n        var elmRule = schema.getElementRule(name);\r\n        var parentsRequired = elmRule && elmRule.parentsRequired;\r\n        if (parentsRequired && parentsRequired.length) {\r\n          return candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\r\n        } else {\r\n          return false;\r\n        }\r\n      };\r\n      var wrapInHtml = function (elm, ancestry, siblings) {\r\n        var parent, parentCandidate, parentRequired;\r\n        var ancestor = ancestry.length > 0 && ancestry[0];\r\n        var ancestorName = ancestor && ancestor.name;\r\n        parentRequired = getRequiredParent(elm, ancestorName);\r\n        if (parentRequired) {\r\n          if (ancestorName === parentRequired) {\r\n            parentCandidate = ancestry[0];\r\n            ancestry = ancestry.slice(1);\r\n          } else {\r\n            parentCandidate = parentRequired;\r\n          }\r\n        } else if (ancestor) {\r\n          parentCandidate = ancestry[0];\r\n          ancestry = ancestry.slice(1);\r\n        } else if (!siblings) {\r\n          return elm;\r\n        }\r\n        if (parentCandidate) {\r\n          parent = createElement(parentCandidate);\r\n          parent.appendChild(elm);\r\n        }\r\n        if (siblings) {\r\n          if (!parent) {\r\n            parent = dom.create('div');\r\n            parent.appendChild(elm);\r\n          }\r\n          Tools.each(siblings, function (sibling) {\r\n            var siblingElm = createElement(sibling);\r\n            parent.insertBefore(siblingElm, elm);\r\n          });\r\n        }\r\n        return wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\r\n      };\r\n      if (ancestry && ancestry.length) {\r\n        item = ancestry[0];\r\n        elm = createElement(item);\r\n        fragment = dom.create('div');\r\n        fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\r\n        return fragment;\r\n      } else {\r\n        return '';\r\n      }\r\n    };\r\n    var selectorToHtml = function (selector, editor) {\r\n      return parsedSelectorToHtml(parseSelector(selector), editor);\r\n    };\r\n    var parseSelectorItem = function (item) {\r\n      var tagName;\r\n      var obj = {\r\n        classes: [],\r\n        attrs: {}\r\n      };\r\n      item = obj.selector = Tools.trim(item);\r\n      if (item !== '*') {\r\n        tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, function ($0, $1, $2, $3, $4) {\r\n          switch ($1) {\r\n          case '#':\r\n            obj.attrs.id = $2;\r\n            break;\r\n          case '.':\r\n            obj.classes.push($2);\r\n            break;\r\n          case ':':\r\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\r\n              obj.attrs[$2] = $2;\r\n            }\r\n            break;\r\n          }\r\n          if ($3 === '[') {\r\n            var m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\r\n            if (m) {\r\n              obj.attrs[m[1]] = m[2];\r\n            }\r\n          }\r\n          return '';\r\n        });\r\n      }\r\n      obj.name = tagName || 'div';\r\n      return obj;\r\n    };\r\n    var parseSelector = function (selector) {\r\n      if (!selector || typeof selector !== 'string') {\r\n        return [];\r\n      }\r\n      selector = selector.split(/\\s*,\\s*/)[0];\r\n      selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\r\n      return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), function (item) {\r\n        var siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\r\n        var obj = siblings.pop();\r\n        if (siblings.length) {\r\n          obj.siblings = siblings;\r\n        }\r\n        return obj;\r\n      }).reverse();\r\n    };\r\n    var getCssText = function (editor, format) {\r\n      var name, previewFrag, previewElm, items;\r\n      var previewCss = '', parentFontSize, previewStyles;\r\n      previewStyles = editor.settings.preview_styles;\r\n      if (previewStyles === false) {\r\n        return '';\r\n      }\r\n      if (typeof previewStyles !== 'string') {\r\n        previewStyles = 'font-family font-size font-weight font-style text-decoration ' + 'text-transform color background-color border border-radius outline text-shadow';\r\n      }\r\n      var removeVars = function (val) {\r\n        return val.replace(/%(\\w+)/g, '');\r\n      };\r\n      if (typeof format === 'string') {\r\n        format = editor.formatter.get(format);\r\n        if (!format) {\r\n          return;\r\n        }\r\n        format = format[0];\r\n      }\r\n      if ('preview' in format) {\r\n        previewStyles = format.preview;\r\n        if (previewStyles === false) {\r\n          return '';\r\n        }\r\n      }\r\n      name = format.block || format.inline || 'span';\r\n      items = parseSelector(format.selector);\r\n      if (items.length) {\r\n        if (!items[0].name) {\r\n          items[0].name = name;\r\n        }\r\n        name = format.selector;\r\n        previewFrag = parsedSelectorToHtml(items, editor);\r\n      } else {\r\n        previewFrag = parsedSelectorToHtml([name], editor);\r\n      }\r\n      previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\r\n      each$h(format.styles, function (value, name) {\r\n        value = removeVars(value);\r\n        if (value) {\r\n          dom.setStyle(previewElm, name, value);\r\n        }\r\n      });\r\n      each$h(format.attributes, function (value, name) {\r\n        value = removeVars(value);\r\n        if (value) {\r\n          dom.setAttrib(previewElm, name, value);\r\n        }\r\n      });\r\n      each$h(format.classes, function (value) {\r\n        value = removeVars(value);\r\n        if (!dom.hasClass(previewElm, value)) {\r\n          dom.addClass(previewElm, value);\r\n        }\r\n      });\r\n      editor.fire('PreviewFormats');\r\n      dom.setStyles(previewFrag, {\r\n        position: 'absolute',\r\n        left: -65535\r\n      });\r\n      editor.getBody().appendChild(previewFrag);\r\n      parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\r\n      parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\r\n      each$h(previewStyles.split(' '), function (name) {\r\n        var value = dom.getStyle(previewElm, name, true);\r\n        if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\r\n          value = dom.getStyle(editor.getBody(), name, true);\r\n          if (dom.toHex(value).toLowerCase() === '#ffffff') {\r\n            return;\r\n          }\r\n        }\r\n        if (name === 'color') {\r\n          if (dom.toHex(value).toLowerCase() === '#000000') {\r\n            return;\r\n          }\r\n        }\r\n        if (name === 'font-size') {\r\n          if (/em|%$/.test(value)) {\r\n            if (parentFontSize === 0) {\r\n              return;\r\n            }\r\n            var numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\r\n            value = numValue * parentFontSize + 'px';\r\n          }\r\n        }\r\n        if (name === 'border' && value) {\r\n          previewCss += 'padding:0 2px;';\r\n        }\r\n        previewCss += name + ':' + value + ';';\r\n      });\r\n      editor.fire('AfterPreviewFormats');\r\n      dom.remove(previewFrag);\r\n      return previewCss;\r\n    };\r\n    var Preview = {\r\n      getCssText: getCssText,\r\n      parseSelector: parseSelector,\r\n      selectorToHtml: selectorToHtml\r\n    };\r\n\r\n    var toggle$3 = function (editor, formats, name, vars, node) {\r\n      var fmt = formats.get(name);\r\n      if (MatchFormat.match(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\r\n        RemoveFormat.remove(editor, name, vars, node);\r\n      } else {\r\n        ApplyFormat.applyFormat(editor, name, vars, node);\r\n      }\r\n    };\r\n    var ToggleFormat = { toggle: toggle$3 };\r\n\r\n    var setup$6 = function (editor) {\r\n      editor.addShortcut('meta+b', '', 'Bold');\r\n      editor.addShortcut('meta+i', '', 'Italic');\r\n      editor.addShortcut('meta+u', '', 'Underline');\r\n      for (var i = 1; i <= 6; i++) {\r\n        editor.addShortcut('access+' + i, '', [\r\n          'FormatBlock',\r\n          false,\r\n          'h' + i\r\n        ]);\r\n      }\r\n      editor.addShortcut('access+7', '', [\r\n        'FormatBlock',\r\n        false,\r\n        'p'\r\n      ]);\r\n      editor.addShortcut('access+8', '', [\r\n        'FormatBlock',\r\n        false,\r\n        'div'\r\n      ]);\r\n      editor.addShortcut('access+9', '', [\r\n        'FormatBlock',\r\n        false,\r\n        'address'\r\n      ]);\r\n    };\r\n    var FormatShortcuts = { setup: setup$6 };\r\n\r\n    function Formatter (editor) {\r\n      var formats = FormatRegistry(editor);\r\n      var formatChangeState = Cell(null);\r\n      FormatShortcuts.setup(editor);\r\n      setup$2(editor);\r\n      return {\r\n        get: formats.get,\r\n        register: formats.register,\r\n        unregister: formats.unregister,\r\n        apply: curry(ApplyFormat.applyFormat, editor),\r\n        remove: curry(RemoveFormat.remove, editor),\r\n        toggle: curry(ToggleFormat.toggle, editor, formats),\r\n        match: curry(MatchFormat.match, editor),\r\n        matchAll: curry(MatchFormat.matchAll, editor),\r\n        matchNode: curry(MatchFormat.matchNode, editor),\r\n        canApply: curry(MatchFormat.canApply, editor),\r\n        formatChanged: curry(FormatChanged.formatChanged, editor, formatChangeState),\r\n        getCssText: curry(Preview.getCssText, editor)\r\n      };\r\n    }\r\n\r\n    var hasOwnProperty$2 = Object.prototype.hasOwnProperty;\r\n    var shallow$1 = function (old, nu) {\r\n      return nu;\r\n    };\r\n    var baseMerge = function (merger) {\r\n      return function () {\r\n        var objects = new Array(arguments.length);\r\n        for (var i = 0; i < objects.length; i++)\r\n          objects[i] = arguments[i];\r\n        if (objects.length === 0)\r\n          throw new Error('Can\\'t merge zero objects');\r\n        var ret = {};\r\n        for (var j = 0; j < objects.length; j++) {\r\n          var curObject = objects[j];\r\n          for (var key in curObject)\r\n            if (hasOwnProperty$2.call(curObject, key)) {\r\n              ret[key] = merger(ret[key], curObject[key]);\r\n            }\r\n        }\r\n        return ret;\r\n      };\r\n    };\r\n    var merge = baseMerge(shallow$1);\r\n\r\n    var register = function (htmlParser, settings, dom) {\r\n      htmlParser.addAttributeFilter('data-mce-tabindex', function (nodes, name) {\r\n        var i = nodes.length, node;\r\n        while (i--) {\r\n          node = nodes[i];\r\n          node.attr('tabindex', node.attributes.map['data-mce-tabindex']);\r\n          node.attr(name, null);\r\n        }\r\n      });\r\n      htmlParser.addAttributeFilter('src,href,style', function (nodes, name) {\r\n        var i = nodes.length, node, value;\r\n        var internalName = 'data-mce-' + name;\r\n        var urlConverter = settings.url_converter;\r\n        var urlConverterScope = settings.url_converter_scope;\r\n        while (i--) {\r\n          node = nodes[i];\r\n          value = node.attributes.map[internalName];\r\n          if (value !== undefined) {\r\n            node.attr(name, value.length > 0 ? value : null);\r\n            node.attr(internalName, null);\r\n          } else {\r\n            value = node.attributes.map[name];\r\n            if (name === 'style') {\r\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\r\n            } else if (urlConverter) {\r\n              value = urlConverter.call(urlConverterScope, value, name, node.name);\r\n            }\r\n            node.attr(name, value.length > 0 ? value : null);\r\n          }\r\n        }\r\n      });\r\n      htmlParser.addAttributeFilter('class', function (nodes) {\r\n        var i = nodes.length, node, value;\r\n        while (i--) {\r\n          node = nodes[i];\r\n          value = node.attr('class');\r\n          if (value) {\r\n            value = node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\r\n            node.attr('class', value.length > 0 ? value : null);\r\n          }\r\n        }\r\n      });\r\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes, name, args) {\r\n        var i = nodes.length, node;\r\n        while (i--) {\r\n          node = nodes[i];\r\n          if (node.attributes.map['data-mce-type'] === 'bookmark' && !args.cleanup) {\r\n            node.remove();\r\n          }\r\n        }\r\n      });\r\n      htmlParser.addNodeFilter('noscript', function (nodes) {\r\n        var i = nodes.length, node;\r\n        while (i--) {\r\n          node = nodes[i].firstChild;\r\n          if (node) {\r\n            node.value = Entities.decode(node.value);\r\n          }\r\n        }\r\n      });\r\n      htmlParser.addNodeFilter('script,style', function (nodes, name) {\r\n        var i = nodes.length, node, value, type;\r\n        var trim = function (value) {\r\n          return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\r\n        };\r\n        while (i--) {\r\n          node = nodes[i];\r\n          value = node.firstChild ? node.firstChild.value : '';\r\n          if (name === 'script') {\r\n            type = node.attr('type');\r\n            if (type) {\r\n              node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\r\n            }\r\n            if (settings.element_format === 'xhtml' && value.length > 0) {\r\n              node.firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\r\n            }\r\n          } else {\r\n            if (settings.element_format === 'xhtml' && value.length > 0) {\r\n              node.firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\r\n            }\r\n          }\r\n        }\r\n      });\r\n      htmlParser.addNodeFilter('#comment', function (nodes) {\r\n        var i = nodes.length, node;\r\n        while (i--) {\r\n          node = nodes[i];\r\n          if (node.value.indexOf('[CDATA[') === 0) {\r\n            node.name = '#cdata';\r\n            node.type = 4;\r\n            node.value = node.value.replace(/^\\[CDATA\\[|\\]\\]$/g, '');\r\n          } else if (node.value.indexOf('mce:protected ') === 0) {\r\n            node.name = '#text';\r\n            node.type = 3;\r\n            node.raw = true;\r\n            node.value = unescape(node.value).substr(14);\r\n          }\r\n        }\r\n      });\r\n      htmlParser.addNodeFilter('xml:namespace,input', function (nodes, name) {\r\n        var i = nodes.length, node;\r\n        while (i--) {\r\n          node = nodes[i];\r\n          if (node.type === 7) {\r\n            node.remove();\r\n          } else if (node.type === 1) {\r\n            if (name === 'input' && !('type' in node.attributes.map)) {\r\n              node.attr('type', 'text');\r\n            }\r\n          }\r\n        }\r\n      });\r\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes) {\r\n        each(nodes, function (node) {\r\n          if (node.attr('data-mce-type') === 'format-caret') {\r\n            if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\r\n              node.remove();\r\n            } else {\r\n              node.unwrap();\r\n            }\r\n          }\r\n        });\r\n      });\r\n      htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,' + 'data-mce-type,data-mce-resize', function (nodes, name) {\r\n        var i = nodes.length;\r\n        while (i--) {\r\n          nodes[i].attr(name, null);\r\n        }\r\n      });\r\n    };\r\n    var trimTrailingBr = function (rootNode) {\r\n      var brNode1, brNode2;\r\n      var isBr = function (node) {\r\n        return node && node.name === 'br';\r\n      };\r\n      brNode1 = rootNode.lastChild;\r\n      if (isBr(brNode1)) {\r\n        brNode2 = brNode1.prev;\r\n        if (isBr(brNode2)) {\r\n          brNode1.remove();\r\n          brNode2.remove();\r\n        }\r\n      }\r\n    };\r\n    var DomSerializerFilters = {\r\n      register: register,\r\n      trimTrailingBr: trimTrailingBr\r\n    };\r\n\r\n    var preProcess = function (editor, node, args) {\r\n      var impl, doc, oldDoc;\r\n      var dom = editor.dom;\r\n      node = node.cloneNode(true);\r\n      impl = document.implementation;\r\n      if (impl.createHTMLDocument) {\r\n        doc = impl.createHTMLDocument('');\r\n        Tools.each(node.nodeName === 'BODY' ? node.childNodes : [node], function (node) {\r\n          doc.body.appendChild(doc.importNode(node, true));\r\n        });\r\n        if (node.nodeName !== 'BODY') {\r\n          node = doc.body.firstChild;\r\n        } else {\r\n          node = doc.body;\r\n        }\r\n        oldDoc = dom.doc;\r\n        dom.doc = doc;\r\n      }\r\n      Events.firePreProcess(editor, merge(args, { node: node }));\r\n      if (oldDoc) {\r\n        dom.doc = oldDoc;\r\n      }\r\n      return node;\r\n    };\r\n    var shouldFireEvent = function (editor, args) {\r\n      return editor && editor.hasEventListeners('PreProcess') && !args.no_events;\r\n    };\r\n    var process = function (editor, node, args) {\r\n      return shouldFireEvent(editor, args) ? preProcess(editor, node, args) : node;\r\n    };\r\n    var DomSerializerPreProcess = { process: process };\r\n\r\n    var removeAttrs = function (node, names) {\r\n      each(names, function (name) {\r\n        node.attr(name, null);\r\n      });\r\n    };\r\n    var addFontToSpansFilter = function (domParser, styles, fontSizes) {\r\n      domParser.addNodeFilter('font', function (nodes) {\r\n        each(nodes, function (node) {\r\n          var props = styles.parse(node.attr('style'));\r\n          var color = node.attr('color');\r\n          var face = node.attr('face');\r\n          var size = node.attr('size');\r\n          if (color) {\r\n            props.color = color;\r\n          }\r\n          if (face) {\r\n            props['font-family'] = face;\r\n          }\r\n          if (size) {\r\n            props['font-size'] = fontSizes[parseInt(node.attr('size'), 10) - 1];\r\n          }\r\n          node.name = 'span';\r\n          node.attr('style', styles.serialize(props));\r\n          removeAttrs(node, [\r\n            'color',\r\n            'face',\r\n            'size'\r\n          ]);\r\n        });\r\n      });\r\n    };\r\n    var addStrikeToSpanFilter = function (domParser, styles) {\r\n      domParser.addNodeFilter('strike', function (nodes) {\r\n        each(nodes, function (node) {\r\n          var props = styles.parse(node.attr('style'));\r\n          props['text-decoration'] = 'line-through';\r\n          node.name = 'span';\r\n          node.attr('style', styles.serialize(props));\r\n        });\r\n      });\r\n    };\r\n    var addFilters = function (domParser, settings) {\r\n      var styles = Styles();\r\n      if (settings.convert_fonts_to_spans) {\r\n        addFontToSpansFilter(domParser, styles, Tools.explode(settings.font_size_legacy_values));\r\n      }\r\n      addStrikeToSpanFilter(domParser, styles);\r\n    };\r\n    var register$1 = function (domParser, settings) {\r\n      if (settings.inline_styles) {\r\n        addFilters(domParser, settings);\r\n      }\r\n    };\r\n    var LegacyFilter = { register: register$1 };\r\n\r\n    var whiteSpaceRegExp$3 = /^[ \\t\\r\\n]*$/;\r\n    var typeLookup = {\r\n      '#text': 3,\r\n      '#comment': 8,\r\n      '#cdata': 4,\r\n      '#pi': 7,\r\n      '#doctype': 10,\r\n      '#document-fragment': 11\r\n    };\r\n    var walk$2 = function (node, root, prev) {\r\n      var sibling;\r\n      var parent;\r\n      var startName = prev ? 'lastChild' : 'firstChild';\r\n      var siblingName = prev ? 'prev' : 'next';\r\n      if (node[startName]) {\r\n        return node[startName];\r\n      }\r\n      if (node !== root) {\r\n        sibling = node[siblingName];\r\n        if (sibling) {\r\n          return sibling;\r\n        }\r\n        for (parent = node.parent; parent && parent !== root; parent = parent.parent) {\r\n          sibling = parent[siblingName];\r\n          if (sibling) {\r\n            return sibling;\r\n          }\r\n        }\r\n      }\r\n    };\r\n    var Node$2 = function () {\r\n      function Node(name, type) {\r\n        this.name = name;\r\n        this.type = type;\r\n        if (type === 1) {\r\n          this.attributes = [];\r\n          this.attributes.map = {};\r\n        }\r\n      }\r\n      Node.create = function (name, attrs) {\r\n        var node, attrName;\r\n        node = new Node(name, typeLookup[name] || 1);\r\n        if (attrs) {\r\n          for (attrName in attrs) {\r\n            node.attr(attrName, attrs[attrName]);\r\n          }\r\n        }\r\n        return node;\r\n      };\r\n      Node.prototype.replace = function (node) {\r\n        var self = this;\r\n        if (node.parent) {\r\n          node.remove();\r\n        }\r\n        self.insert(node, self);\r\n        self.remove();\r\n        return self;\r\n      };\r\n      Node.prototype.attr = function (name, value) {\r\n        var self = this;\r\n        var attrs, i;\r\n        if (typeof name !== 'string') {\r\n          for (i in name) {\r\n            self.attr(i, name[i]);\r\n          }\r\n          return self;\r\n        }\r\n        if (attrs = self.attributes) {\r\n          if (value !== undefined) {\r\n            if (value === null) {\r\n              if (name in attrs.map) {\r\n                delete attrs.map[name];\r\n                i = attrs.length;\r\n                while (i--) {\r\n                  if (attrs[i].name === name) {\r\n                    attrs = attrs.splice(i, 1);\r\n                    return self;\r\n                  }\r\n                }\r\n              }\r\n              return self;\r\n            }\r\n            if (name in attrs.map) {\r\n              i = attrs.length;\r\n              while (i--) {\r\n                if (attrs[i].name === name) {\r\n                  attrs[i].value = value;\r\n                  break;\r\n                }\r\n              }\r\n            } else {\r\n              attrs.push({\r\n                name: name,\r\n                value: value\r\n              });\r\n            }\r\n            attrs.map[name] = value;\r\n            return self;\r\n          }\r\n          return attrs.map[name];\r\n        }\r\n      };\r\n      Node.prototype.clone = function () {\r\n        var self = this;\r\n        var clone = new Node(self.name, self.type);\r\n        var i, l, selfAttrs, selfAttr, cloneAttrs;\r\n        if (selfAttrs = self.attributes) {\r\n          cloneAttrs = [];\r\n          cloneAttrs.map = {};\r\n          for (i = 0, l = selfAttrs.length; i < l; i++) {\r\n            selfAttr = selfAttrs[i];\r\n            if (selfAttr.name !== 'id') {\r\n              cloneAttrs[cloneAttrs.length] = {\r\n                name: selfAttr.name,\r\n                value: selfAttr.value\r\n              };\r\n              cloneAttrs.map[selfAttr.name] = selfAttr.value;\r\n            }\r\n          }\r\n          clone.attributes = cloneAttrs;\r\n        }\r\n        clone.value = self.value;\r\n        clone.shortEnded = self.shortEnded;\r\n        return clone;\r\n      };\r\n      Node.prototype.wrap = function (wrapper) {\r\n        var self = this;\r\n        self.parent.insert(wrapper, self);\r\n        wrapper.append(self);\r\n        return self;\r\n      };\r\n      Node.prototype.unwrap = function () {\r\n        var self = this;\r\n        var node, next;\r\n        for (node = self.firstChild; node;) {\r\n          next = node.next;\r\n          self.insert(node, self, true);\r\n          node = next;\r\n        }\r\n        self.remove();\r\n      };\r\n      Node.prototype.remove = function () {\r\n        var self = this, parent = self.parent, next = self.next, prev = self.prev;\r\n        if (parent) {\r\n          if (parent.firstChild === self) {\r\n            parent.firstChild = next;\r\n            if (next) {\r\n              next.prev = null;\r\n            }\r\n          } else {\r\n            prev.next = next;\r\n          }\r\n          if (parent.lastChild === self) {\r\n            parent.lastChild = prev;\r\n            if (prev) {\r\n              prev.next = null;\r\n            }\r\n          } else {\r\n            next.prev = prev;\r\n          }\r\n          self.parent = self.next = self.prev = null;\r\n        }\r\n        return self;\r\n      };\r\n      Node.prototype.append = function (node) {\r\n        var self = this;\r\n        var last;\r\n        if (node.parent) {\r\n          node.remove();\r\n        }\r\n        last = self.lastChild;\r\n        if (last) {\r\n          last.next = node;\r\n          node.prev = last;\r\n          self.lastChild = node;\r\n        } else {\r\n          self.lastChild = self.firstChild = node;\r\n        }\r\n        node.parent = self;\r\n        return node;\r\n      };\r\n      Node.prototype.insert = function (node, refNode, before) {\r\n        var parent;\r\n        if (node.parent) {\r\n          node.remove();\r\n        }\r\n        parent = refNode.parent || this;\r\n        if (before) {\r\n          if (refNode === parent.firstChild) {\r\n            parent.firstChild = node;\r\n          } else {\r\n            refNode.prev.next = node;\r\n          }\r\n          node.prev = refNode.prev;\r\n          node.next = refNode;\r\n          refNode.prev = node;\r\n        } else {\r\n          if (refNode === parent.lastChild) {\r\n            parent.lastChild = node;\r\n          } else {\r\n            refNode.next.prev = node;\r\n          }\r\n          node.next = refNode.next;\r\n          node.prev = refNode;\r\n          refNode.next = node;\r\n        }\r\n        node.parent = parent;\r\n        return node;\r\n      };\r\n      Node.prototype.getAll = function (name) {\r\n        var self = this;\r\n        var node;\r\n        var collection = [];\r\n        for (node = self.firstChild; node; node = walk$2(node, self)) {\r\n          if (node.name === name) {\r\n            collection.push(node);\r\n          }\r\n        }\r\n        return collection;\r\n      };\r\n      Node.prototype.empty = function () {\r\n        var self = this;\r\n        var nodes, i, node;\r\n        if (self.firstChild) {\r\n          nodes = [];\r\n          for (node = self.firstChild; node; node = walk$2(node, self)) {\r\n            nodes.push(node);\r\n          }\r\n          i = nodes.length;\r\n          while (i--) {\r\n            node = nodes[i];\r\n            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\r\n          }\r\n        }\r\n        self.firstChild = self.lastChild = null;\r\n        return self;\r\n      };\r\n      Node.prototype.isEmpty = function (elements, whitespace, predicate) {\r\n        var self = this;\r\n        var node = self.firstChild, i, name;\r\n        whitespace = whitespace || {};\r\n        if (node) {\r\n          do {\r\n            if (node.type === 1) {\r\n              if (node.attributes.map['data-mce-bogus']) {\r\n                continue;\r\n              }\r\n              if (elements[node.name]) {\r\n                return false;\r\n              }\r\n              i = node.attributes.length;\r\n              while (i--) {\r\n                name = node.attributes[i].name;\r\n                if (name === 'name' || name.indexOf('data-mce-bookmark') === 0) {\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n            if (node.type === 8) {\r\n              return false;\r\n            }\r\n            if (node.type === 3 && !whiteSpaceRegExp$3.test(node.value)) {\r\n              return false;\r\n            }\r\n            if (node.type === 3 && node.parent && whitespace[node.parent.name] && whiteSpaceRegExp$3.test(node.value)) {\r\n              return false;\r\n            }\r\n            if (predicate && predicate(node)) {\r\n              return false;\r\n            }\r\n          } while (node = walk$2(node, self));\r\n        }\r\n        return true;\r\n      };\r\n      Node.prototype.walk = function (prev) {\r\n        return walk$2(this, null, prev);\r\n      };\r\n      return Node;\r\n    }();\r\n\r\n    var paddEmptyNode = function (settings, args, blockElements, node) {\r\n      var brPreferred = settings.padd_empty_with_br || args.insert;\r\n      if (brPreferred && blockElements[node.name]) {\r\n        node.empty().append(new Node$2('br', 1)).shortEnded = true;\r\n      } else {\r\n        node.empty().append(new Node$2('#text', 3)).value = '\\xA0';\r\n      }\r\n    };\r\n    var isPaddedWithNbsp = function (node) {\r\n      return hasOnlyChild(node, '#text') && node.firstChild.value === '\\xA0';\r\n    };\r\n    var hasOnlyChild = function (node, name) {\r\n      return node && node.firstChild && node.firstChild === node.lastChild && node.firstChild.name === name;\r\n    };\r\n    var isPadded = function (schema, node) {\r\n      var rule = schema.getElementRule(node.name);\r\n      return rule && rule.paddEmpty;\r\n    };\r\n    var isEmpty$2 = function (schema, nonEmptyElements, whitespaceElements, node) {\r\n      return node.isEmpty(nonEmptyElements, whitespaceElements, function (node) {\r\n        return isPadded(schema, node);\r\n      });\r\n    };\r\n    var isLineBreakNode = function (node, blockElements) {\r\n      return node && (blockElements[node.name] || node.name === 'br');\r\n    };\r\n\r\n    var register$2 = function (parser, settings) {\r\n      var schema = parser.schema;\r\n      if (settings.remove_trailing_brs) {\r\n        parser.addNodeFilter('br', function (nodes, _, args) {\r\n          var i;\r\n          var l = nodes.length;\r\n          var node;\r\n          var blockElements = Tools.extend({}, schema.getBlockElements());\r\n          var nonEmptyElements = schema.getNonEmptyElements();\r\n          var parent, lastParent, prev, prevName;\r\n          var whiteSpaceElements = schema.getNonEmptyElements();\r\n          var elementRule, textNode;\r\n          blockElements.body = 1;\r\n          for (i = 0; i < l; i++) {\r\n            node = nodes[i];\r\n            parent = node.parent;\r\n            if (blockElements[node.parent.name] && node === parent.lastChild) {\r\n              prev = node.prev;\r\n              while (prev) {\r\n                prevName = prev.name;\r\n                if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\r\n                  if (prevName !== 'br') {\r\n                    break;\r\n                  }\r\n                  if (prevName === 'br') {\r\n                    node = null;\r\n                    break;\r\n                  }\r\n                }\r\n                prev = prev.prev;\r\n              }\r\n              if (node) {\r\n                node.remove();\r\n                if (isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, parent)) {\r\n                  elementRule = schema.getElementRule(parent.name);\r\n                  if (elementRule) {\r\n                    if (elementRule.removeEmpty) {\r\n                      parent.remove();\r\n                    } else if (elementRule.paddEmpty) {\r\n                      paddEmptyNode(settings, args, blockElements, parent);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              lastParent = node;\r\n              while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\r\n                lastParent = parent;\r\n                if (blockElements[parent.name]) {\r\n                  break;\r\n                }\r\n                parent = parent.parent;\r\n              }\r\n              if (lastParent === parent && settings.padd_empty_with_br !== true) {\r\n                textNode = new Node$2('#text', 3);\r\n                textNode.value = '\\xA0';\r\n                node.replace(textNode);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n      parser.addAttributeFilter('href', function (nodes) {\r\n        var i = nodes.length, node;\r\n        var appendRel = function (rel) {\r\n          var parts = rel.split(' ').filter(function (p) {\r\n            return p.length > 0;\r\n          });\r\n          return parts.concat(['noopener']).sort().join(' ');\r\n        };\r\n        var addNoOpener = function (rel) {\r\n          var newRel = rel ? Tools.trim(rel) : '';\r\n          if (!/\\b(noopener)\\b/g.test(newRel)) {\r\n            return appendRel(newRel);\r\n          } else {\r\n            return newRel;\r\n          }\r\n        };\r\n        if (!settings.allow_unsafe_link_target) {\r\n          while (i--) {\r\n            node = nodes[i];\r\n            if (node.name === 'a' && node.attr('target') === '_blank') {\r\n              node.attr('rel', addNoOpener(node.attr('rel')));\r\n            }\r\n          }\r\n        }\r\n      });\r\n      if (!settings.allow_html_in_named_anchor) {\r\n        parser.addAttributeFilter('id,name', function (nodes) {\r\n          var i = nodes.length, sibling, prevSibling, parent, node;\r\n          while (i--) {\r\n            node = nodes[i];\r\n            if (node.name === 'a' && node.firstChild && !node.attr('href')) {\r\n              parent = node.parent;\r\n              sibling = node.lastChild;\r\n              do {\r\n                prevSibling = sibling.prev;\r\n                parent.insert(sibling, node);\r\n                sibling = prevSibling;\r\n              } while (sibling);\r\n            }\r\n          }\r\n        });\r\n      }\r\n      if (settings.fix_list_elements) {\r\n        parser.addNodeFilter('ul,ol', function (nodes) {\r\n          var i = nodes.length, node, parentNode;\r\n          while (i--) {\r\n            node = nodes[i];\r\n            parentNode = node.parent;\r\n            if (parentNode.name === 'ul' || parentNode.name === 'ol') {\r\n              if (node.prev && node.prev.name === 'li') {\r\n                node.prev.append(node);\r\n              } else {\r\n                var li = new Node$2('li', 1);\r\n                li.attr('style', 'list-style-type: none');\r\n                node.wrap(li);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n      if (settings.validate && schema.getValidClasses()) {\r\n        parser.addAttributeFilter('class', function (nodes) {\r\n          var i = nodes.length, node, classList, ci, className, classValue;\r\n          var validClasses = schema.getValidClasses();\r\n          var validClassesMap, valid;\r\n          while (i--) {\r\n            node = nodes[i];\r\n            classList = node.attr('class').split(' ');\r\n            classValue = '';\r\n            for (ci = 0; ci < classList.length; ci++) {\r\n              className = classList[ci];\r\n              valid = false;\r\n              validClassesMap = validClasses['*'];\r\n              if (validClassesMap && validClassesMap[className]) {\r\n                valid = true;\r\n              }\r\n              validClassesMap = validClasses[node.name];\r\n              if (!valid && validClassesMap && validClassesMap[className]) {\r\n                valid = true;\r\n              }\r\n              if (valid) {\r\n                if (classValue) {\r\n                  classValue += ' ';\r\n                }\r\n                classValue += className;\r\n              }\r\n            }\r\n            if (!classValue.length) {\r\n              classValue = null;\r\n            }\r\n            node.attr('class', classValue);\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    var makeMap$4 = Tools.makeMap, each$i = Tools.each, explode$3 = Tools.explode, extend$3 = Tools.extend;\r\n    function DomParser (settings, schema) {\r\n      if (schema === void 0) {\r\n        schema = Schema();\r\n      }\r\n      var nodeFilters = {};\r\n      var attributeFilters = [];\r\n      var matchedNodes = {};\r\n      var matchedAttributes = {};\r\n      settings = settings || {};\r\n      settings.validate = 'validate' in settings ? settings.validate : true;\r\n      settings.root_name = settings.root_name || 'body';\r\n      var fixInvalidChildren = function (nodes) {\r\n        var ni, node, parent, parents, newParent, currentNode, tempNode, childNode, i;\r\n        var nonEmptyElements, whitespaceElements, nonSplitableElements, textBlockElements, specialElements, sibling, nextNode;\r\n        nonSplitableElements = makeMap$4('tr,td,th,tbody,thead,tfoot,table');\r\n        nonEmptyElements = schema.getNonEmptyElements();\r\n        whitespaceElements = schema.getWhiteSpaceElements();\r\n        textBlockElements = schema.getTextBlockElements();\r\n        specialElements = schema.getSpecialElements();\r\n        for (ni = 0; ni < nodes.length; ni++) {\r\n          node = nodes[ni];\r\n          if (!node.parent || node.fixed) {\r\n            continue;\r\n          }\r\n          if (textBlockElements[node.name] && node.parent.name === 'li') {\r\n            sibling = node.next;\r\n            while (sibling) {\r\n              if (textBlockElements[sibling.name]) {\r\n                sibling.name = 'li';\r\n                sibling.fixed = true;\r\n                node.parent.insert(sibling, node.parent);\r\n              } else {\r\n                break;\r\n              }\r\n              sibling = sibling.next;\r\n            }\r\n            node.unwrap(node);\r\n            continue;\r\n          }\r\n          parents = [node];\r\n          for (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) && !nonSplitableElements[parent.name]; parent = parent.parent) {\r\n            parents.push(parent);\r\n          }\r\n          if (parent && parents.length > 1) {\r\n            parents.reverse();\r\n            newParent = currentNode = filterNode(parents[0].clone());\r\n            for (i = 0; i < parents.length - 1; i++) {\r\n              if (schema.isValidChild(currentNode.name, parents[i].name)) {\r\n                tempNode = filterNode(parents[i].clone());\r\n                currentNode.append(tempNode);\r\n              } else {\r\n                tempNode = currentNode;\r\n              }\r\n              for (childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\r\n                nextNode = childNode.next;\r\n                tempNode.append(childNode);\r\n                childNode = nextNode;\r\n              }\r\n              currentNode = tempNode;\r\n            }\r\n            if (!isEmpty$2(schema, nonEmptyElements, whitespaceElements, newParent)) {\r\n              parent.insert(newParent, parents[0], true);\r\n              parent.insert(node, newParent);\r\n            } else {\r\n              parent.insert(node, parents[0], true);\r\n            }\r\n            parent = parents[0];\r\n            if (isEmpty$2(schema, nonEmptyElements, whitespaceElements, parent) || hasOnlyChild(parent, 'br')) {\r\n              parent.empty().remove();\r\n            }\r\n          } else if (node.parent) {\r\n            if (node.name === 'li') {\r\n              sibling = node.prev;\r\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\r\n                sibling.append(node);\r\n                continue;\r\n              }\r\n              sibling = node.next;\r\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\r\n                sibling.insert(node, sibling.firstChild, true);\r\n                continue;\r\n              }\r\n              node.wrap(filterNode(new Node$2('ul', 1)));\r\n              continue;\r\n            }\r\n            if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\r\n              node.wrap(filterNode(new Node$2('div', 1)));\r\n            } else {\r\n              if (specialElements[node.name]) {\r\n                node.empty().remove();\r\n              } else {\r\n                node.unwrap();\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      var filterNode = function (node) {\r\n        var i, name, list;\r\n        name = node.name;\r\n        if (name in nodeFilters) {\r\n          list = matchedNodes[name];\r\n          if (list) {\r\n            list.push(node);\r\n          } else {\r\n            matchedNodes[name] = [node];\r\n          }\r\n        }\r\n        i = attributeFilters.length;\r\n        while (i--) {\r\n          name = attributeFilters[i].name;\r\n          if (name in node.attributes.map) {\r\n            list = matchedAttributes[name];\r\n            if (list) {\r\n              list.push(node);\r\n            } else {\r\n              matchedAttributes[name] = [node];\r\n            }\r\n          }\r\n        }\r\n        return node;\r\n      };\r\n      var addNodeFilter = function (name, callback) {\r\n        each$i(explode$3(name), function (name) {\r\n          var list = nodeFilters[name];\r\n          if (!list) {\r\n            nodeFilters[name] = list = [];\r\n          }\r\n          list.push(callback);\r\n        });\r\n      };\r\n      var getNodeFilters = function () {\r\n        var out = [];\r\n        for (var name in nodeFilters) {\r\n          if (nodeFilters.hasOwnProperty(name)) {\r\n            out.push({\r\n              name: name,\r\n              callbacks: nodeFilters[name]\r\n            });\r\n          }\r\n        }\r\n        return out;\r\n      };\r\n      var addAttributeFilter = function (name, callback) {\r\n        each$i(explode$3(name), function (name) {\r\n          var i;\r\n          for (i = 0; i < attributeFilters.length; i++) {\r\n            if (attributeFilters[i].name === name) {\r\n              attributeFilters[i].callbacks.push(callback);\r\n              return;\r\n            }\r\n          }\r\n          attributeFilters.push({\r\n            name: name,\r\n            callbacks: [callback]\r\n          });\r\n        });\r\n      };\r\n      var getAttributeFilters = function () {\r\n        return [].concat(attributeFilters);\r\n      };\r\n      var parse = function (html, args) {\r\n        var parser, nodes, i, l, fi, fl, list, name;\r\n        var blockElements;\r\n        var invalidChildren = [];\r\n        var isInWhiteSpacePreservedElement;\r\n        var node;\r\n        args = args || {};\r\n        matchedNodes = {};\r\n        matchedAttributes = {};\r\n        blockElements = extend$3(makeMap$4('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\r\n        var nonEmptyElements = schema.getNonEmptyElements();\r\n        var children = schema.children;\r\n        var validate = settings.validate;\r\n        var rootBlockName = 'forced_root_block' in args ? args.forced_root_block : settings.forced_root_block;\r\n        var whiteSpaceElements = schema.getWhiteSpaceElements();\r\n        var startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\r\n        var endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\r\n        var allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\r\n        var isAllWhiteSpaceRegExp = /^[ \\t\\r\\n]+$/;\r\n        isInWhiteSpacePreservedElement = whiteSpaceElements.hasOwnProperty(args.context) || whiteSpaceElements.hasOwnProperty(settings.root_name);\r\n        var addRootBlocks = function () {\r\n          var node = rootNode.firstChild, next, rootBlockNode;\r\n          var trim = function (rootBlockNode) {\r\n            if (rootBlockNode) {\r\n              node = rootBlockNode.firstChild;\r\n              if (node && node.type === 3) {\r\n                node.value = node.value.replace(startWhiteSpaceRegExp, '');\r\n              }\r\n              node = rootBlockNode.lastChild;\r\n              if (node && node.type === 3) {\r\n                node.value = node.value.replace(endWhiteSpaceRegExp, '');\r\n              }\r\n            }\r\n          };\r\n          if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\r\n            return;\r\n          }\r\n          while (node) {\r\n            next = node.next;\r\n            if (node.type === 3 || node.type === 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr('data-mce-type')) {\r\n              if (!rootBlockNode) {\r\n                rootBlockNode = createNode(rootBlockName, 1);\r\n                rootBlockNode.attr(settings.forced_root_block_attrs);\r\n                rootNode.insert(rootBlockNode, node);\r\n                rootBlockNode.append(node);\r\n              } else {\r\n                rootBlockNode.append(node);\r\n              }\r\n            } else {\r\n              trim(rootBlockNode);\r\n              rootBlockNode = null;\r\n            }\r\n            node = next;\r\n          }\r\n          trim(rootBlockNode);\r\n        };\r\n        var createNode = function (name, type) {\r\n          var node = new Node$2(name, type);\r\n          var list;\r\n          if (name in nodeFilters) {\r\n            list = matchedNodes[name];\r\n            if (list) {\r\n              list.push(node);\r\n            } else {\r\n              matchedNodes[name] = [node];\r\n            }\r\n          }\r\n          return node;\r\n        };\r\n        var removeWhitespaceBefore = function (node) {\r\n          var textNode, textNodeNext, textVal, sibling;\r\n          var blockElements = schema.getBlockElements();\r\n          for (textNode = node.prev; textNode && textNode.type === 3;) {\r\n            textVal = textNode.value.replace(endWhiteSpaceRegExp, '');\r\n            if (textVal.length > 0) {\r\n              textNode.value = textVal;\r\n              return;\r\n            }\r\n            textNodeNext = textNode.next;\r\n            if (textNodeNext) {\r\n              if (textNodeNext.type === 3 && textNodeNext.value.length) {\r\n                textNode = textNode.prev;\r\n                continue;\r\n              }\r\n              if (!blockElements[textNodeNext.name] && textNodeNext.name !== 'script' && textNodeNext.name !== 'style') {\r\n                textNode = textNode.prev;\r\n                continue;\r\n              }\r\n            }\r\n            sibling = textNode.prev;\r\n            textNode.remove();\r\n            textNode = sibling;\r\n          }\r\n        };\r\n        var cloneAndExcludeBlocks = function (input) {\r\n          var name;\r\n          var output = {};\r\n          for (name in input) {\r\n            if (name !== 'li' && name !== 'p') {\r\n              output[name] = input[name];\r\n            }\r\n          }\r\n          return output;\r\n        };\r\n        parser = SaxParser$1({\r\n          validate: validate,\r\n          allow_script_urls: settings.allow_script_urls,\r\n          allow_conditional_comments: settings.allow_conditional_comments,\r\n          self_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),\r\n          cdata: function (text) {\r\n            node.append(createNode('#cdata', 4)).value = text;\r\n          },\r\n          text: function (text, raw) {\r\n            var textNode;\r\n            if (!isInWhiteSpacePreservedElement) {\r\n              text = text.replace(allWhiteSpaceRegExp, ' ');\r\n              if (isLineBreakNode(node.lastChild, blockElements)) {\r\n                text = text.replace(startWhiteSpaceRegExp, '');\r\n              }\r\n            }\r\n            if (text.length !== 0) {\r\n              textNode = createNode('#text', 3);\r\n              textNode.raw = !!raw;\r\n              node.append(textNode).value = text;\r\n            }\r\n          },\r\n          comment: function (text) {\r\n            node.append(createNode('#comment', 8)).value = text;\r\n          },\r\n          pi: function (name, text) {\r\n            node.append(createNode(name, 7)).value = text;\r\n            removeWhitespaceBefore(node);\r\n          },\r\n          doctype: function (text) {\r\n            var newNode;\r\n            newNode = node.append(createNode('#doctype', 10));\r\n            newNode.value = text;\r\n            removeWhitespaceBefore(node);\r\n          },\r\n          start: function (name, attrs, empty) {\r\n            var newNode, attrFiltersLen, elementRule, attrName, parent;\r\n            elementRule = validate ? schema.getElementRule(name) : {};\r\n            if (elementRule) {\r\n              newNode = createNode(elementRule.outputName || name, 1);\r\n              newNode.attributes = attrs;\r\n              newNode.shortEnded = empty;\r\n              node.append(newNode);\r\n              parent = children[node.name];\r\n              if (parent && children[newNode.name] && !parent[newNode.name]) {\r\n                invalidChildren.push(newNode);\r\n              }\r\n              attrFiltersLen = attributeFilters.length;\r\n              while (attrFiltersLen--) {\r\n                attrName = attributeFilters[attrFiltersLen].name;\r\n                if (attrName in attrs.map) {\r\n                  list = matchedAttributes[attrName];\r\n                  if (list) {\r\n                    list.push(newNode);\r\n                  } else {\r\n                    matchedAttributes[attrName] = [newNode];\r\n                  }\r\n                }\r\n              }\r\n              if (blockElements[name]) {\r\n                removeWhitespaceBefore(newNode);\r\n              }\r\n              if (!empty) {\r\n                node = newNode;\r\n              }\r\n              if (!isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\r\n                isInWhiteSpacePreservedElement = true;\r\n              }\r\n            }\r\n          },\r\n          end: function (name) {\r\n            var textNode, elementRule, text, sibling, tempNode;\r\n            elementRule = validate ? schema.getElementRule(name) : {};\r\n            if (elementRule) {\r\n              if (blockElements[name]) {\r\n                if (!isInWhiteSpacePreservedElement) {\r\n                  textNode = node.firstChild;\r\n                  if (textNode && textNode.type === 3) {\r\n                    text = textNode.value.replace(startWhiteSpaceRegExp, '');\r\n                    if (text.length > 0) {\r\n                      textNode.value = text;\r\n                      textNode = textNode.next;\r\n                    } else {\r\n                      sibling = textNode.next;\r\n                      textNode.remove();\r\n                      textNode = sibling;\r\n                      while (textNode && textNode.type === 3) {\r\n                        text = textNode.value;\r\n                        sibling = textNode.next;\r\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\r\n                          textNode.remove();\r\n                          textNode = sibling;\r\n                        }\r\n                        textNode = sibling;\r\n                      }\r\n                    }\r\n                  }\r\n                  textNode = node.lastChild;\r\n                  if (textNode && textNode.type === 3) {\r\n                    text = textNode.value.replace(endWhiteSpaceRegExp, '');\r\n                    if (text.length > 0) {\r\n                      textNode.value = text;\r\n                      textNode = textNode.prev;\r\n                    } else {\r\n                      sibling = textNode.prev;\r\n                      textNode.remove();\r\n                      textNode = sibling;\r\n                      while (textNode && textNode.type === 3) {\r\n                        text = textNode.value;\r\n                        sibling = textNode.prev;\r\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\r\n                          textNode.remove();\r\n                          textNode = sibling;\r\n                        }\r\n                        textNode = sibling;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              if (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\r\n                isInWhiteSpacePreservedElement = false;\r\n              }\r\n              if (elementRule.removeEmpty && isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node)) {\r\n                if (!node.attributes.map.name && !node.attr('id')) {\r\n                  tempNode = node.parent;\r\n                  if (blockElements[node.name]) {\r\n                    node.empty().remove();\r\n                  } else {\r\n                    node.unwrap();\r\n                  }\r\n                  node = tempNode;\r\n                  return;\r\n                }\r\n              }\r\n              if (elementRule.paddEmpty && (isPaddedWithNbsp(node) || isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node))) {\r\n                paddEmptyNode(settings, args, blockElements, node);\r\n              }\r\n              node = node.parent;\r\n            }\r\n          }\r\n        }, schema);\r\n        var rootNode = node = new Node$2(args.context || settings.root_name, 11);\r\n        parser.parse(html);\r\n        if (validate && invalidChildren.length) {\r\n          if (!args.context) {\r\n            fixInvalidChildren(invalidChildren);\r\n          } else {\r\n            args.invalid = true;\r\n          }\r\n        }\r\n        if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\r\n          addRootBlocks();\r\n        }\r\n        if (!args.invalid) {\r\n          for (name in matchedNodes) {\r\n            list = nodeFilters[name];\r\n            nodes = matchedNodes[name];\r\n            fi = nodes.length;\r\n            while (fi--) {\r\n              if (!nodes[fi].parent) {\r\n                nodes.splice(fi, 1);\r\n              }\r\n            }\r\n            for (i = 0, l = list.length; i < l; i++) {\r\n              list[i](nodes, name, args);\r\n            }\r\n          }\r\n          for (i = 0, l = attributeFilters.length; i < l; i++) {\r\n            list = attributeFilters[i];\r\n            if (list.name in matchedAttributes) {\r\n              nodes = matchedAttributes[list.name];\r\n              fi = nodes.length;\r\n              while (fi--) {\r\n                if (!nodes[fi].parent) {\r\n                  nodes.splice(fi, 1);\r\n                }\r\n              }\r\n              for (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {\r\n                list.callbacks[fi](nodes, list.name, args);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return rootNode;\r\n      };\r\n      var exports = {\r\n        schema: schema,\r\n        addAttributeFilter: addAttributeFilter,\r\n        getAttributeFilters: getAttributeFilters,\r\n        addNodeFilter: addNodeFilter,\r\n        getNodeFilters: getNodeFilters,\r\n        filterNode: filterNode,\r\n        parse: parse\r\n      };\r\n      register$2(exports, settings);\r\n      LegacyFilter.register(exports, settings);\r\n      return exports;\r\n    }\r\n\r\n    var addTempAttr = function (htmlParser, tempAttrs, name) {\r\n      if (Tools.inArray(tempAttrs, name) === -1) {\r\n        htmlParser.addAttributeFilter(name, function (nodes, name) {\r\n          var i = nodes.length;\r\n          while (i--) {\r\n            nodes[i].attr(name, null);\r\n          }\r\n        });\r\n        tempAttrs.push(name);\r\n      }\r\n    };\r\n    var postProcess$1 = function (editor, args, content) {\r\n      if (!args.no_events && editor) {\r\n        var outArgs = Events.firePostProcess(editor, merge(args, { content: content }));\r\n        return outArgs.content;\r\n      } else {\r\n        return content;\r\n      }\r\n    };\r\n    var getHtmlFromNode = function (dom, node, args) {\r\n      var html = Zwsp.trim(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\r\n      return args.selection || isWsPreserveElement(Element$$1.fromDom(node)) ? html : Tools.trim(html);\r\n    };\r\n    var parseHtml = function (htmlParser, html, args) {\r\n      var parserArgs = args.selection ? merge({ forced_root_block: false }, args) : args;\r\n      var rootNode = htmlParser.parse(html, parserArgs);\r\n      DomSerializerFilters.trimTrailingBr(rootNode);\r\n      return rootNode;\r\n    };\r\n    var serializeNode = function (settings, schema, node) {\r\n      var htmlSerializer = Serializer(settings, schema);\r\n      return htmlSerializer.serialize(node);\r\n    };\r\n    var toHtml = function (editor, settings, schema, rootNode, args) {\r\n      var content = serializeNode(settings, schema, rootNode);\r\n      return postProcess$1(editor, args, content);\r\n    };\r\n    function DomSerializer (settings, editor) {\r\n      var dom, schema, htmlParser;\r\n      var tempAttrs = ['data-mce-selected'];\r\n      dom = editor && editor.dom ? editor.dom : DOMUtils$1.DOM;\r\n      schema = editor && editor.schema ? editor.schema : Schema(settings);\r\n      settings.entity_encoding = settings.entity_encoding || 'named';\r\n      settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\r\n      htmlParser = DomParser(settings, schema);\r\n      DomSerializerFilters.register(htmlParser, settings, dom);\r\n      var serialize = function (node, parserArgs) {\r\n        var args = merge({ format: 'html' }, parserArgs ? parserArgs : {});\r\n        var targetNode = DomSerializerPreProcess.process(editor, node, args);\r\n        var html = getHtmlFromNode(dom, targetNode, args);\r\n        var rootNode = parseHtml(htmlParser, html, args);\r\n        return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\r\n      };\r\n      return {\r\n        schema: schema,\r\n        addNodeFilter: htmlParser.addNodeFilter,\r\n        addAttributeFilter: htmlParser.addAttributeFilter,\r\n        serialize: serialize,\r\n        addRules: function (rules) {\r\n          schema.addValidElements(rules);\r\n        },\r\n        setRules: function (rules) {\r\n          schema.setValidElements(rules);\r\n        },\r\n        addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\r\n        getTempAttrs: function () {\r\n          return tempAttrs;\r\n        }\r\n      };\r\n    }\r\n\r\n    function Serializer$1 (settings, editor) {\r\n      var domSerializer = DomSerializer(settings, editor);\r\n      return {\r\n        schema: domSerializer.schema,\r\n        addNodeFilter: domSerializer.addNodeFilter,\r\n        addAttributeFilter: domSerializer.addAttributeFilter,\r\n        serialize: domSerializer.serialize,\r\n        addRules: domSerializer.addRules,\r\n        setRules: domSerializer.setRules,\r\n        addTempAttr: domSerializer.addTempAttr,\r\n        getTempAttrs: domSerializer.getTempAttrs\r\n      };\r\n    }\r\n\r\n    function BookmarkManager(selection) {\r\n      return {\r\n        getBookmark: curry(Bookmarks.getBookmark, selection),\r\n        moveToBookmark: curry(Bookmarks.moveToBookmark, selection)\r\n      };\r\n    }\r\n    (function (BookmarkManager) {\r\n      BookmarkManager.isBookmarkNode = Bookmarks.isBookmarkNode;\r\n    }(BookmarkManager || (BookmarkManager = {})));\r\n    var BookmarkManager$1 = BookmarkManager;\r\n\r\n    var isContentEditableFalse$a = NodeType.isContentEditableFalse;\r\n    var isContentEditableTrue$6 = NodeType.isContentEditableTrue;\r\n    var getContentEditableRoot$2 = function (root, node) {\r\n      while (node && node !== root) {\r\n        if (isContentEditableTrue$6(node) || isContentEditableFalse$a(node)) {\r\n          return node;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n    var ControlSelection = function (selection, editor) {\r\n      var dom = editor.dom, each = Tools.each;\r\n      var selectedElm, selectedElmGhost, resizeHelper, resizeHandles, selectedHandle;\r\n      var startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\r\n      var width, height;\r\n      var editableDoc = editor.getDoc(), rootDocument = document;\r\n      var abs = Math.abs, round = Math.round, rootElement = editor.getBody();\r\n      var startScrollWidth, startScrollHeight;\r\n      resizeHandles = {\r\n        nw: [\r\n          0,\r\n          0,\r\n          -1,\r\n          -1\r\n        ],\r\n        ne: [\r\n          1,\r\n          0,\r\n          1,\r\n          -1\r\n        ],\r\n        se: [\r\n          1,\r\n          1,\r\n          1,\r\n          1\r\n        ],\r\n        sw: [\r\n          0,\r\n          1,\r\n          -1,\r\n          1\r\n        ]\r\n      };\r\n      var rootClass = '.mce-content-body';\r\n      editor.contentStyles.push(rootClass + ' div.mce-resizehandle {' + 'position: absolute;' + 'border: 1px solid black;' + 'box-sizing: content-box;' + 'background: #FFF;' + 'width: 7px;' + 'height: 7px;' + 'z-index: 10000' + '}' + rootClass + ' .mce-resizehandle:hover {' + 'background: #000' + '}' + rootClass + ' img[data-mce-selected],' + rootClass + ' hr[data-mce-selected] {' + 'outline: 1px solid black;' + 'resize: none' + '}' + rootClass + ' .mce-clonedresizable {' + 'position: absolute;' + (Env.gecko ? '' : 'outline: 1px dashed black;') + 'opacity: .5;' + 'filter: alpha(opacity=50);' + 'z-index: 10000' + '}' + rootClass + ' .mce-resize-helper {' + 'background: #555;' + 'background: rgba(0,0,0,0.75);' + 'border-radius: 3px;' + 'border: 1px;' + 'color: white;' + 'display: none;' + 'font-family: sans-serif;' + 'font-size: 12px;' + 'white-space: nowrap;' + 'line-height: 14px;' + 'margin: 5px 10px;' + 'padding: 5px;' + 'position: absolute;' + 'z-index: 10001' + '}');\r\n      var isImage = function (elm) {\r\n        return elm && (elm.nodeName === 'IMG' || editor.dom.is(elm, 'figure.image'));\r\n      };\r\n      var isEventOnImageOutsideRange = function (evt, range) {\r\n        return isImage(evt.target) && !RangePoint.isXYWithinRange(evt.clientX, evt.clientY, range);\r\n      };\r\n      var contextMenuSelectImage = function (evt) {\r\n        var target = evt.target;\r\n        if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\r\n          evt.preventDefault();\r\n          editor.selection.select(target);\r\n        }\r\n      };\r\n      var getResizeTarget = function (elm) {\r\n        return editor.dom.is(elm, 'figure.image') ? elm.querySelector('img') : elm;\r\n      };\r\n      var isResizable = function (elm) {\r\n        var selector = editor.settings.object_resizing;\r\n        if (selector === false || Env.iOS) {\r\n          return false;\r\n        }\r\n        if (typeof selector !== 'string') {\r\n          selector = 'table,img,figure.image,div';\r\n        }\r\n        if (elm.getAttribute('data-mce-resize') === 'false') {\r\n          return false;\r\n        }\r\n        if (elm === editor.getBody()) {\r\n          return false;\r\n        }\r\n        return is$1(Element$$1.fromDom(elm), selector);\r\n      };\r\n      var resizeGhostElement = function (e) {\r\n        var deltaX, deltaY, proportional;\r\n        var resizeHelperX, resizeHelperY;\r\n        deltaX = e.screenX - startX;\r\n        deltaY = e.screenY - startY;\r\n        width = deltaX * selectedHandle[2] + startW;\r\n        height = deltaY * selectedHandle[3] + startH;\r\n        width = width < 5 ? 5 : width;\r\n        height = height < 5 ? 5 : height;\r\n        if (isImage(selectedElm) && editor.settings.resize_img_proportional !== false) {\r\n          proportional = !VK.modifierPressed(e);\r\n        } else {\r\n          proportional = VK.modifierPressed(e) || isImage(selectedElm) && selectedHandle[2] * selectedHandle[3] !== 0;\r\n        }\r\n        if (proportional) {\r\n          if (abs(deltaX) > abs(deltaY)) {\r\n            height = round(width * ratio);\r\n            width = round(height / ratio);\r\n          } else {\r\n            width = round(height / ratio);\r\n            height = round(width * ratio);\r\n          }\r\n        }\r\n        dom.setStyles(getResizeTarget(selectedElmGhost), {\r\n          width: width,\r\n          height: height\r\n        });\r\n        resizeHelperX = selectedHandle.startPos.x + deltaX;\r\n        resizeHelperY = selectedHandle.startPos.y + deltaY;\r\n        resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\r\n        resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\r\n        dom.setStyles(resizeHelper, {\r\n          left: resizeHelperX,\r\n          top: resizeHelperY,\r\n          display: 'block'\r\n        });\r\n        resizeHelper.innerHTML = width + ' &times; ' + height;\r\n        if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\r\n          dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\r\n        }\r\n        if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\r\n          dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\r\n        }\r\n        deltaX = rootElement.scrollWidth - startScrollWidth;\r\n        deltaY = rootElement.scrollHeight - startScrollHeight;\r\n        if (deltaX + deltaY !== 0) {\r\n          dom.setStyles(resizeHelper, {\r\n            left: resizeHelperX - deltaX,\r\n            top: resizeHelperY - deltaY\r\n          });\r\n        }\r\n        if (!resizeStarted) {\r\n          Events.fireObjectResizeStart(editor, selectedElm, startW, startH);\r\n          resizeStarted = true;\r\n        }\r\n      };\r\n      var endGhostResize = function () {\r\n        resizeStarted = false;\r\n        var setSizeProp = function (name$$1, value) {\r\n          if (value) {\r\n            if (selectedElm.style[name$$1] || !editor.schema.isValid(selectedElm.nodeName.toLowerCase(), name$$1)) {\r\n              dom.setStyle(getResizeTarget(selectedElm), name$$1, value);\r\n            } else {\r\n              dom.setAttrib(getResizeTarget(selectedElm), name$$1, value);\r\n            }\r\n          }\r\n        };\r\n        setSizeProp('width', width);\r\n        setSizeProp('height', height);\r\n        dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\r\n        dom.unbind(editableDoc, 'mouseup', endGhostResize);\r\n        if (rootDocument !== editableDoc) {\r\n          dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\r\n          dom.unbind(rootDocument, 'mouseup', endGhostResize);\r\n        }\r\n        dom.remove(selectedElmGhost);\r\n        dom.remove(resizeHelper);\r\n        showResizeRect(selectedElm);\r\n        Events.fireObjectResized(editor, selectedElm, width, height);\r\n        dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\r\n        editor.nodeChanged();\r\n      };\r\n      var showResizeRect = function (targetElm) {\r\n        var position, targetWidth, targetHeight, e, rect;\r\n        hideResizeRect();\r\n        unbindResizeHandleEvents();\r\n        position = dom.getPos(targetElm, rootElement);\r\n        selectedElmX = position.x;\r\n        selectedElmY = position.y;\r\n        rect = targetElm.getBoundingClientRect();\r\n        targetWidth = rect.width || rect.right - rect.left;\r\n        targetHeight = rect.height || rect.bottom - rect.top;\r\n        if (selectedElm !== targetElm) {\r\n          selectedElm = targetElm;\r\n          width = height = 0;\r\n        }\r\n        e = editor.fire('ObjectSelected', { target: targetElm });\r\n        if (isResizable(targetElm) && !e.isDefaultPrevented()) {\r\n          each(resizeHandles, function (handle, name$$1) {\r\n            var handleElm;\r\n            var startDrag = function (e) {\r\n              startX = e.screenX;\r\n              startY = e.screenY;\r\n              startW = getResizeTarget(selectedElm).clientWidth;\r\n              startH = getResizeTarget(selectedElm).clientHeight;\r\n              ratio = startH / startW;\r\n              selectedHandle = handle;\r\n              handle.startPos = {\r\n                x: targetWidth * handle[0] + selectedElmX,\r\n                y: targetHeight * handle[1] + selectedElmY\r\n              };\r\n              startScrollWidth = rootElement.scrollWidth;\r\n              startScrollHeight = rootElement.scrollHeight;\r\n              selectedElmGhost = selectedElm.cloneNode(true);\r\n              dom.addClass(selectedElmGhost, 'mce-clonedresizable');\r\n              dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\r\n              selectedElmGhost.contentEditable = false;\r\n              selectedElmGhost.unSelectabe = true;\r\n              dom.setStyles(selectedElmGhost, {\r\n                left: selectedElmX,\r\n                top: selectedElmY,\r\n                margin: 0\r\n              });\r\n              selectedElmGhost.removeAttribute('data-mce-selected');\r\n              rootElement.appendChild(selectedElmGhost);\r\n              dom.bind(editableDoc, 'mousemove', resizeGhostElement);\r\n              dom.bind(editableDoc, 'mouseup', endGhostResize);\r\n              if (rootDocument !== editableDoc) {\r\n                dom.bind(rootDocument, 'mousemove', resizeGhostElement);\r\n                dom.bind(rootDocument, 'mouseup', endGhostResize);\r\n              }\r\n              resizeHelper = dom.add(rootElement, 'div', {\r\n                'class': 'mce-resize-helper',\r\n                'data-mce-bogus': 'all'\r\n              }, startW + ' &times; ' + startH);\r\n            };\r\n            handleElm = dom.get('mceResizeHandle' + name$$1);\r\n            if (handleElm) {\r\n              dom.remove(handleElm);\r\n            }\r\n            handleElm = dom.add(rootElement, 'div', {\r\n              'id': 'mceResizeHandle' + name$$1,\r\n              'data-mce-bogus': 'all',\r\n              'class': 'mce-resizehandle',\r\n              'unselectable': true,\r\n              'style': 'cursor:' + name$$1 + '-resize; margin:0; padding:0'\r\n            });\r\n            if (Env.ie === 11) {\r\n              handleElm.contentEditable = false;\r\n            }\r\n            dom.bind(handleElm, 'mousedown', function (e) {\r\n              e.stopImmediatePropagation();\r\n              e.preventDefault();\r\n              startDrag(e);\r\n            });\r\n            handle.elm = handleElm;\r\n            dom.setStyles(handleElm, {\r\n              left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\r\n              top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\r\n            });\r\n          });\r\n        } else {\r\n          hideResizeRect();\r\n        }\r\n        selectedElm.setAttribute('data-mce-selected', '1');\r\n      };\r\n      var hideResizeRect = function () {\r\n        var name$$1, handleElm;\r\n        unbindResizeHandleEvents();\r\n        if (selectedElm) {\r\n          selectedElm.removeAttribute('data-mce-selected');\r\n        }\r\n        for (name$$1 in resizeHandles) {\r\n          handleElm = dom.get('mceResizeHandle' + name$$1);\r\n          if (handleElm) {\r\n            dom.unbind(handleElm);\r\n            dom.remove(handleElm);\r\n          }\r\n        }\r\n      };\r\n      var updateResizeRect = function (e) {\r\n        var startElm, controlElm;\r\n        var isChildOrEqual = function (node, parent$$1) {\r\n          if (node) {\r\n            do {\r\n              if (node === parent$$1) {\r\n                return true;\r\n              }\r\n            } while (node = node.parentNode);\r\n          }\r\n        };\r\n        if (resizeStarted || editor.removed) {\r\n          return;\r\n        }\r\n        each(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function (img) {\r\n          img.removeAttribute('data-mce-selected');\r\n        });\r\n        controlElm = e.type === 'mousedown' ? e.target : selection.getNode();\r\n        controlElm = dom.$(controlElm).closest('table,img,figure.image,hr')[0];\r\n        if (isChildOrEqual(controlElm, rootElement)) {\r\n          disableGeckoResize();\r\n          startElm = selection.getStart(true);\r\n          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\r\n            showResizeRect(controlElm);\r\n            return;\r\n          }\r\n        }\r\n        hideResizeRect();\r\n      };\r\n      var isWithinContentEditableFalse = function (elm) {\r\n        return isContentEditableFalse$a(getContentEditableRoot$2(editor.getBody(), elm));\r\n      };\r\n      var unbindResizeHandleEvents = function () {\r\n        for (var name$$1 in resizeHandles) {\r\n          var handle = resizeHandles[name$$1];\r\n          if (handle.elm) {\r\n            dom.unbind(handle.elm);\r\n            delete handle.elm;\r\n          }\r\n        }\r\n      };\r\n      var disableGeckoResize = function () {\r\n        try {\r\n          editor.getDoc().execCommand('enableObjectResizing', false, false);\r\n        } catch (ex) {\r\n        }\r\n      };\r\n      editor.on('init', function () {\r\n        disableGeckoResize();\r\n        if (Env.ie && Env.ie >= 11) {\r\n          editor.on('mousedown click', function (e) {\r\n            var target = e.target, nodeName = target.nodeName;\r\n            if (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {\r\n              if (e.button !== 2) {\r\n                editor.selection.select(target, nodeName === 'TABLE');\r\n              }\r\n              if (e.type === 'mousedown') {\r\n                editor.nodeChanged();\r\n              }\r\n            }\r\n          });\r\n          editor.dom.bind(rootElement, 'mscontrolselect', function (e) {\r\n            var delayedSelect = function (node) {\r\n              Delay.setEditorTimeout(editor, function () {\r\n                editor.selection.select(node);\r\n              });\r\n            };\r\n            if (isWithinContentEditableFalse(e.target)) {\r\n              e.preventDefault();\r\n              delayedSelect(e.target);\r\n              return;\r\n            }\r\n            if (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {\r\n              e.preventDefault();\r\n              if (e.target.tagName === 'IMG') {\r\n                delayedSelect(e.target);\r\n              }\r\n            }\r\n          });\r\n        }\r\n        var throttledUpdateResizeRect = Delay.throttle(function (e) {\r\n          if (!editor.composing) {\r\n            updateResizeRect(e);\r\n          }\r\n        });\r\n        editor.on('nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged', throttledUpdateResizeRect);\r\n        editor.on('keyup compositionend', function (e) {\r\n          if (selectedElm && selectedElm.nodeName === 'TABLE') {\r\n            throttledUpdateResizeRect(e);\r\n          }\r\n        });\r\n        editor.on('hide blur', hideResizeRect);\r\n        editor.on('contextmenu', contextMenuSelectImage);\r\n      });\r\n      editor.on('remove', unbindResizeHandleEvents);\r\n      var destroy = function () {\r\n        selectedElm = selectedElmGhost = null;\r\n      };\r\n      return {\r\n        isResizable: isResizable,\r\n        showResizeRect: showResizeRect,\r\n        hideResizeRect: hideResizeRect,\r\n        updateResizeRect: updateResizeRect,\r\n        destroy: destroy\r\n      };\r\n    };\r\n\r\n    var getPos$1 = function (elm) {\r\n      var x = 0, y = 0;\r\n      var offsetParent = elm;\r\n      while (offsetParent && offsetParent.nodeType) {\r\n        x += offsetParent.offsetLeft || 0;\r\n        y += offsetParent.offsetTop || 0;\r\n        offsetParent = offsetParent.offsetParent;\r\n      }\r\n      return {\r\n        x: x,\r\n        y: y\r\n      };\r\n    };\r\n    var fireScrollIntoViewEvent = function (editor, elm, alignToTop) {\r\n      var scrollEvent = {\r\n        elm: elm,\r\n        alignToTop: alignToTop\r\n      };\r\n      editor.fire('scrollIntoView', scrollEvent);\r\n      return scrollEvent.isDefaultPrevented();\r\n    };\r\n    var scrollElementIntoView = function (editor, elm, alignToTop) {\r\n      var y, viewPort;\r\n      var dom = editor.dom;\r\n      var root = dom.getRoot();\r\n      var viewPortY, viewPortH, offsetY = 0;\r\n      if (fireScrollIntoViewEvent(editor, elm, alignToTop)) {\r\n        return;\r\n      }\r\n      if (!NodeType.isElement(elm)) {\r\n        return;\r\n      }\r\n      if (alignToTop === false) {\r\n        offsetY = elm.offsetHeight;\r\n      }\r\n      if (root.nodeName !== 'BODY') {\r\n        var scrollContainer = editor.selection.getScrollContainer();\r\n        if (scrollContainer) {\r\n          y = getPos$1(elm).y - getPos$1(scrollContainer).y + offsetY;\r\n          viewPortH = scrollContainer.clientHeight;\r\n          viewPortY = scrollContainer.scrollTop;\r\n          if (y < viewPortY || y + 25 > viewPortY + viewPortH) {\r\n            scrollContainer.scrollTop = y < viewPortY ? y : y - viewPortH + 25;\r\n          }\r\n          return;\r\n        }\r\n      }\r\n      viewPort = dom.getViewPort(editor.getWin());\r\n      y = dom.getPos(elm).y + offsetY;\r\n      viewPortY = viewPort.y;\r\n      viewPortH = viewPort.h;\r\n      if (y < viewPort.y || y + 25 > viewPortY + viewPortH) {\r\n        editor.getWin().scrollTo(0, y < viewPortY ? y : y - viewPortH + 25);\r\n      }\r\n    };\r\n    var getViewPortRect = function (editor) {\r\n      if (editor.inline) {\r\n        return editor.getBody().getBoundingClientRect();\r\n      } else {\r\n        var win = editor.getWin();\r\n        return {\r\n          left: 0,\r\n          right: win.innerWidth,\r\n          top: 0,\r\n          bottom: win.innerHeight,\r\n          width: win.innerWidth,\r\n          height: win.innerHeight\r\n        };\r\n      }\r\n    };\r\n    var scrollBy = function (editor, dx, dy) {\r\n      if (editor.inline) {\r\n        editor.getBody().scrollLeft += dx;\r\n        editor.getBody().scrollTop += dy;\r\n      } else {\r\n        editor.getWin().scrollBy(dx, dy);\r\n      }\r\n    };\r\n    var scrollRangeIntoView = function (editor, rng) {\r\n      head(CaretPosition.fromRangeStart(rng).getClientRects()).each(function (rngRect) {\r\n        var bodyRect = getViewPortRect(editor);\r\n        var overflow = getOverflow(bodyRect, rngRect);\r\n        var margin = 4;\r\n        var dx = overflow.x > 0 ? overflow.x + margin : overflow.x - margin;\r\n        var dy = overflow.y > 0 ? overflow.y + margin : overflow.y - margin;\r\n        scrollBy(editor, overflow.x !== 0 ? dx : 0, overflow.y !== 0 ? dy : 0);\r\n      });\r\n    };\r\n    var ScrollIntoView = {\r\n      scrollElementIntoView: scrollElementIntoView,\r\n      scrollRangeIntoView: scrollRangeIntoView\r\n    };\r\n\r\n    var hasCeProperty = function (node) {\r\n      return NodeType.isContentEditableTrue(node) || NodeType.isContentEditableFalse(node);\r\n    };\r\n    var findParent$1 = function (node, rootNode, predicate) {\r\n      while (node && node !== rootNode) {\r\n        if (predicate(node)) {\r\n          return node;\r\n        }\r\n        node = node.parentNode;\r\n      }\r\n      return null;\r\n    };\r\n    var findClosestIeRange = function (clientX, clientY, doc) {\r\n      var element, rng, rects;\r\n      element = doc.elementFromPoint(clientX, clientY);\r\n      rng = doc.body.createTextRange();\r\n      if (!element || element.tagName === 'HTML') {\r\n        element = doc.body;\r\n      }\r\n      rng.moveToElementText(element);\r\n      rects = Tools.toArray(rng.getClientRects());\r\n      rects = rects.sort(function (a, b) {\r\n        a = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));\r\n        b = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));\r\n        return a - b;\r\n      });\r\n      if (rects.length > 0) {\r\n        clientY = (rects[0].bottom + rects[0].top) / 2;\r\n        try {\r\n          rng.moveToPoint(clientX, clientY);\r\n          rng.collapse(true);\r\n          return rng;\r\n        } catch (ex) {\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n    var moveOutOfContentEditableFalse = function (rng, rootNode) {\r\n      var parentElement = rng && rng.parentElement ? rng.parentElement() : null;\r\n      return NodeType.isContentEditableFalse(findParent$1(parentElement, rootNode, hasCeProperty)) ? null : rng;\r\n    };\r\n    var fromPoint$1 = function (clientX, clientY, doc) {\r\n      var rng, point;\r\n      var pointDoc = doc;\r\n      if (pointDoc.caretPositionFromPoint) {\r\n        point = pointDoc.caretPositionFromPoint(clientX, clientY);\r\n        if (point) {\r\n          rng = doc.createRange();\r\n          rng.setStart(point.offsetNode, point.offset);\r\n          rng.collapse(true);\r\n        }\r\n      } else if (doc.caretRangeFromPoint) {\r\n        rng = doc.caretRangeFromPoint(clientX, clientY);\r\n      } else if (pointDoc.body.createTextRange) {\r\n        rng = pointDoc.body.createTextRange();\r\n        try {\r\n          rng.moveToPoint(clientX, clientY);\r\n          rng.collapse(true);\r\n        } catch (ex) {\r\n          rng = findClosestIeRange(clientX, clientY, doc);\r\n        }\r\n        return moveOutOfContentEditableFalse(rng, doc.body);\r\n      }\r\n      return rng;\r\n    };\r\n    var CaretRangeFromPoint = { fromPoint: fromPoint$1 };\r\n\r\n    var processRanges = function (editor, ranges) {\r\n      return map(ranges, function (range$$1) {\r\n        var evt = editor.fire('GetSelectionRange', { range: range$$1 });\r\n        return evt.range !== range$$1 ? evt.range : range$$1;\r\n      });\r\n    };\r\n    var EventProcessRanges = { processRanges: processRanges };\r\n\r\n    var fromElements = function (elements, scope) {\r\n      var doc = scope || document;\r\n      var fragment = doc.createDocumentFragment();\r\n      each(elements, function (element) {\r\n        fragment.appendChild(element.dom());\r\n      });\r\n      return Element$$1.fromDom(fragment);\r\n    };\r\n\r\n    var tableModel = Immutable('element', 'width', 'rows');\r\n    var tableRow = Immutable('element', 'cells');\r\n    var cellPosition = Immutable('x', 'y');\r\n    var getSpan = function (td, key) {\r\n      var value = parseInt(get$1(td, key), 10);\r\n      return isNaN(value) ? 1 : value;\r\n    };\r\n    var fillout = function (table, x, y, tr, td) {\r\n      var rowspan = getSpan(td, 'rowspan');\r\n      var colspan = getSpan(td, 'colspan');\r\n      var rows = table.rows();\r\n      for (var y2 = y; y2 < y + rowspan; y2++) {\r\n        if (!rows[y2]) {\r\n          rows[y2] = tableRow(deep(tr), []);\r\n        }\r\n        for (var x2 = x; x2 < x + colspan; x2++) {\r\n          var cells = rows[y2].cells();\r\n          cells[x2] = y2 === y && x2 === x ? td : shallow(td);\r\n        }\r\n      }\r\n    };\r\n    var cellExists = function (table, x, y) {\r\n      var rows = table.rows();\r\n      var cells = rows[y] ? rows[y].cells() : [];\r\n      return !!cells[x];\r\n    };\r\n    var skipCellsX = function (table, x, y) {\r\n      while (cellExists(table, x, y)) {\r\n        x++;\r\n      }\r\n      return x;\r\n    };\r\n    var getWidth = function (rows) {\r\n      return foldl(rows, function (acc, row) {\r\n        return row.cells().length > acc ? row.cells().length : acc;\r\n      }, 0);\r\n    };\r\n    var findElementPos = function (table, element) {\r\n      var rows = table.rows();\r\n      for (var y = 0; y < rows.length; y++) {\r\n        var cells = rows[y].cells();\r\n        for (var x = 0; x < cells.length; x++) {\r\n          if (eq(cells[x], element)) {\r\n            return Option.some(cellPosition(x, y));\r\n          }\r\n        }\r\n      }\r\n      return Option.none();\r\n    };\r\n    var extractRows = function (table, sx, sy, ex, ey) {\r\n      var newRows = [];\r\n      var rows = table.rows();\r\n      for (var y = sy; y <= ey; y++) {\r\n        var cells = rows[y].cells();\r\n        var slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\r\n        newRows.push(tableRow(rows[y].element(), slice));\r\n      }\r\n      return newRows;\r\n    };\r\n    var subTable = function (table, startPos, endPos) {\r\n      var sx = startPos.x(), sy = startPos.y();\r\n      var ex = endPos.x(), ey = endPos.y();\r\n      var newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\r\n      return tableModel(table.element(), getWidth(newRows), newRows);\r\n    };\r\n    var createDomTable = function (table, rows) {\r\n      var tableElement = shallow(table.element());\r\n      var tableBody = Element$$1.fromTag('tbody');\r\n      append$1(tableBody, rows);\r\n      append(tableElement, tableBody);\r\n      return tableElement;\r\n    };\r\n    var modelRowsToDomRows = function (table) {\r\n      return map(table.rows(), function (row) {\r\n        var cells = map(row.cells(), function (cell) {\r\n          var td = deep(cell);\r\n          remove(td, 'colspan');\r\n          remove(td, 'rowspan');\r\n          return td;\r\n        });\r\n        var tr = shallow(row.element());\r\n        append$1(tr, cells);\r\n        return tr;\r\n      });\r\n    };\r\n    var fromDom$2 = function (tableElm) {\r\n      var table = tableModel(shallow(tableElm), 0, []);\r\n      each(descendants$1(tableElm, 'tr'), function (tr, y) {\r\n        each(descendants$1(tr, 'td,th'), function (td, x) {\r\n          fillout(table, skipCellsX(table, x, y), y, tr, td);\r\n        });\r\n      });\r\n      return tableModel(table.element(), getWidth(table.rows()), table.rows());\r\n    };\r\n    var toDom = function (table) {\r\n      return createDomTable(table, modelRowsToDomRows(table));\r\n    };\r\n    var subsection = function (table, startElement, endElement) {\r\n      return findElementPos(table, startElement).bind(function (startPos) {\r\n        return findElementPos(table, endElement).map(function (endPos) {\r\n          return subTable(table, startPos, endPos);\r\n        });\r\n      });\r\n    };\r\n    var SimpleTableModel = {\r\n      fromDom: fromDom$2,\r\n      toDom: toDom,\r\n      subsection: subsection\r\n    };\r\n\r\n    var findParentListContainer = function (parents$$1) {\r\n      return find(parents$$1, function (elm) {\r\n        return name(elm) === 'ul' || name(elm) === 'ol';\r\n      });\r\n    };\r\n    var getFullySelectedListWrappers = function (parents$$1, rng) {\r\n      return find(parents$$1, function (elm) {\r\n        return name(elm) === 'li' && hasAllContentsSelected(elm, rng);\r\n      }).fold(constant([]), function (li) {\r\n        return findParentListContainer(parents$$1).map(function (listCont) {\r\n          return [\r\n            Element$$1.fromTag('li'),\r\n            Element$$1.fromTag(name(listCont))\r\n          ];\r\n        }).getOr([]);\r\n      });\r\n    };\r\n    var wrap$3 = function (innerElm, elms) {\r\n      var wrapped = foldl(elms, function (acc, elm) {\r\n        append(elm, acc);\r\n        return elm;\r\n      }, innerElm);\r\n      return elms.length > 0 ? fromElements([wrapped]) : wrapped;\r\n    };\r\n    var directListWrappers = function (commonAnchorContainer) {\r\n      if (isListItem(commonAnchorContainer)) {\r\n        return parent(commonAnchorContainer).filter(isList).fold(constant([]), function (listElm) {\r\n          return [\r\n            commonAnchorContainer,\r\n            listElm\r\n          ];\r\n        });\r\n      } else {\r\n        return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\r\n      }\r\n    };\r\n    var getWrapElements = function (rootNode, rng) {\r\n      var commonAnchorContainer = Element$$1.fromDom(rng.commonAncestorContainer);\r\n      var parents$$1 = Parents.parentsAndSelf(commonAnchorContainer, rootNode);\r\n      var wrapElements = filter(parents$$1, function (elm) {\r\n        return isInline(elm) || isHeading(elm);\r\n      });\r\n      var listWrappers = getFullySelectedListWrappers(parents$$1, rng);\r\n      var allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\r\n      return map(allWrappers, shallow);\r\n    };\r\n    var emptyFragment = function () {\r\n      return fromElements([]);\r\n    };\r\n    var getFragmentFromRange = function (rootNode, rng) {\r\n      return wrap$3(Element$$1.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\r\n    };\r\n    var getParentTable = function (rootElm, cell) {\r\n      return ancestor$1(cell, 'table', curry(eq, rootElm));\r\n    };\r\n    var getTableFragment = function (rootNode, selectedTableCells) {\r\n      return getParentTable(rootNode, selectedTableCells[0]).bind(function (tableElm) {\r\n        var firstCell = selectedTableCells[0];\r\n        var lastCell = selectedTableCells[selectedTableCells.length - 1];\r\n        var fullTableModel = SimpleTableModel.fromDom(tableElm);\r\n        return SimpleTableModel.subsection(fullTableModel, firstCell, lastCell).map(function (sectionedTableModel) {\r\n          return fromElements([SimpleTableModel.toDom(sectionedTableModel)]);\r\n        });\r\n      }).getOrThunk(emptyFragment);\r\n    };\r\n    var getSelectionFragment = function (rootNode, ranges) {\r\n      return ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\r\n    };\r\n    var read$4 = function (rootNode, ranges) {\r\n      var selectedCells = TableCellSelection.getCellsFromElementOrRanges(ranges, rootNode);\r\n      return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\r\n    };\r\n    var FragmentReader = { read: read$4 };\r\n\r\n    var getTextContent = function (editor) {\r\n      return Option.from(editor.selection.getRng()).map(function (r) {\r\n        return Zwsp.trim(r.toString());\r\n      }).getOr('');\r\n    };\r\n    var getHtmlContent = function (editor, args) {\r\n      var rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\r\n      var sel = editor.selection.getSel();\r\n      var fragment;\r\n      var ranges = EventProcessRanges.processRanges(editor, MultiRange.getRanges(sel));\r\n      if (rng.cloneContents) {\r\n        fragment = args.contextual ? FragmentReader.read(Element$$1.fromDom(editor.getBody()), ranges).dom() : rng.cloneContents();\r\n        if (fragment) {\r\n          tmpElm.appendChild(fragment);\r\n        }\r\n      } else {\r\n        tmpElm.innerHTML = rng.toString();\r\n      }\r\n      return editor.selection.serializer.serialize(tmpElm, args);\r\n    };\r\n    var getContent = function (editor, args) {\r\n      if (args === void 0) {\r\n        args = {};\r\n      }\r\n      args.get = true;\r\n      args.format = args.format || 'html';\r\n      args.selection = true;\r\n      args = editor.fire('BeforeGetContent', args);\r\n      if (args.isDefaultPrevented()) {\r\n        editor.fire('GetContent', args);\r\n        return args.content;\r\n      }\r\n      if (args.format === 'text') {\r\n        return getTextContent(editor);\r\n      } else {\r\n        args.getInner = true;\r\n        var content = getHtmlContent(editor, args);\r\n        if (args.format === 'tree') {\r\n          return content;\r\n        } else {\r\n          args.content = editor.selection.isCollapsed() ? '' : content;\r\n          editor.fire('GetContent', args);\r\n          return args.content;\r\n        }\r\n      }\r\n    };\r\n    var GetSelectionContent = { getContent: getContent };\r\n\r\n    var setContent = function (editor, content, args) {\r\n      var rng = editor.selection.getRng(), caretNode;\r\n      var doc = editor.getDoc();\r\n      var frag, temp;\r\n      args = args || { format: 'html' };\r\n      args.set = true;\r\n      args.selection = true;\r\n      args.content = content;\r\n      if (!args.no_events) {\r\n        args = editor.fire('BeforeSetContent', args);\r\n        if (args.isDefaultPrevented()) {\r\n          editor.fire('SetContent', args);\r\n          return;\r\n        }\r\n      }\r\n      content = args.content;\r\n      if (rng.insertNode) {\r\n        content += '<span id=\"__caret\">_</span>';\r\n        if (rng.startContainer === doc && rng.endContainer === doc) {\r\n          doc.body.innerHTML = content;\r\n        } else {\r\n          rng.deleteContents();\r\n          if (doc.body.childNodes.length === 0) {\r\n            doc.body.innerHTML = content;\r\n          } else {\r\n            if (rng.createContextualFragment) {\r\n              rng.insertNode(rng.createContextualFragment(content));\r\n            } else {\r\n              frag = doc.createDocumentFragment();\r\n              temp = doc.createElement('div');\r\n              frag.appendChild(temp);\r\n              temp.outerHTML = content;\r\n              rng.insertNode(frag);\r\n            }\r\n          }\r\n        }\r\n        caretNode = editor.dom.get('__caret');\r\n        rng = doc.createRange();\r\n        rng.setStartBefore(caretNode);\r\n        rng.setEndBefore(caretNode);\r\n        editor.selection.setRng(rng);\r\n        editor.dom.remove('__caret');\r\n        try {\r\n          editor.selection.setRng(rng);\r\n        } catch (ex) {\r\n        }\r\n      } else {\r\n        if (rng.item) {\r\n          doc.execCommand('Delete', false, null);\r\n          rng = editor.getRng();\r\n        }\r\n        if (/^\\s+/.test(content)) {\r\n          rng.pasteHTML('<span id=\"__mce_tmp\">_</span>' + content);\r\n          editor.dom.remove('__mce_tmp');\r\n        } else {\r\n          rng.pasteHTML(content);\r\n        }\r\n      }\r\n      if (!args.no_events) {\r\n        editor.fire('SetContent', args);\r\n      }\r\n    };\r\n    var SetSelectionContent = { setContent: setContent };\r\n\r\n    var getEndpointElement = function (root, rng, start, real, resolve) {\r\n      var container = start ? rng.startContainer : rng.endContainer;\r\n      var offset = start ? rng.startOffset : rng.endOffset;\r\n      return Option.from(container).map(Element$$1.fromDom).map(function (elm) {\r\n        return !real || !rng.collapsed ? child(elm, resolve(elm, offset)).getOr(elm) : elm;\r\n      }).bind(function (elm) {\r\n        return isElement(elm) ? Option.some(elm) : parent(elm);\r\n      }).map(function (elm) {\r\n        return elm.dom();\r\n      }).getOr(root);\r\n    };\r\n    var getStart$2 = function (root, rng, real) {\r\n      return getEndpointElement(root, rng, true, real, function (elm, offset) {\r\n        return Math.min(childNodesCount(elm), offset);\r\n      });\r\n    };\r\n    var getEnd = function (root, rng, real) {\r\n      return getEndpointElement(root, rng, false, real, function (elm, offset) {\r\n        return offset > 0 ? offset - 1 : offset;\r\n      });\r\n    };\r\n    var skipEmptyTextNodes = function (node, forwards) {\r\n      var orig = node;\r\n      while (node && NodeType.isText(node) && node.length === 0) {\r\n        node = forwards ? node.nextSibling : node.previousSibling;\r\n      }\r\n      return node || orig;\r\n    };\r\n    var getNode$1 = function (root, rng) {\r\n      var elm, startContainer, endContainer, startOffset, endOffset;\r\n      if (!rng) {\r\n        return root;\r\n      }\r\n      startContainer = rng.startContainer;\r\n      endContainer = rng.endContainer;\r\n      startOffset = rng.startOffset;\r\n      endOffset = rng.endOffset;\r\n      elm = rng.commonAncestorContainer;\r\n      if (!rng.collapsed) {\r\n        if (startContainer === endContainer) {\r\n          if (endOffset - startOffset < 2) {\r\n            if (startContainer.hasChildNodes()) {\r\n              elm = startContainer.childNodes[startOffset];\r\n            }\r\n          }\r\n        }\r\n        if (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\r\n          if (startContainer.length === startOffset) {\r\n            startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\r\n          } else {\r\n            startContainer = startContainer.parentNode;\r\n          }\r\n          if (endOffset === 0) {\r\n            endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\r\n          } else {\r\n            endContainer = endContainer.parentNode;\r\n          }\r\n          if (startContainer && startContainer === endContainer) {\r\n            return startContainer;\r\n          }\r\n        }\r\n      }\r\n      if (elm && elm.nodeType === 3) {\r\n        return elm.parentNode;\r\n      }\r\n      return elm;\r\n    };\r\n    var getSelectedBlocks = function (dom, rng, startElm, endElm) {\r\n      var node, root;\r\n      var selectedBlocks = [];\r\n      root = dom.getRoot();\r\n      startElm = dom.getParent(startElm || getStart$2(root, rng, rng.collapsed), dom.isBlock);\r\n      endElm = dom.getParent(endElm || getEnd(root, rng, rng.collapsed), dom.isBlock);\r\n      if (startElm && startElm !== root) {\r\n        selectedBlocks.push(startElm);\r\n      }\r\n      if (startElm && endElm && startElm !== endElm) {\r\n        node = startElm;\r\n        var walker = new TreeWalker(startElm, root);\r\n        while ((node = walker.next()) && node !== endElm) {\r\n          if (dom.isBlock(node)) {\r\n            selectedBlocks.push(node);\r\n          }\r\n        }\r\n      }\r\n      if (endElm && startElm !== endElm && endElm !== root) {\r\n        selectedBlocks.push(endElm);\r\n      }\r\n      return selectedBlocks;\r\n    };\r\n    var select$1 = function (dom, node, content) {\r\n      return Option.from(node).map(function (node) {\r\n        var idx = dom.nodeIndex(node);\r\n        var rng = dom.createRng();\r\n        rng.setStart(node.parentNode, idx);\r\n        rng.setEnd(node.parentNode, idx + 1);\r\n        if (content) {\r\n          moveEndPoint$1(dom, rng, node, true);\r\n          moveEndPoint$1(dom, rng, node, false);\r\n        }\r\n        return rng;\r\n      });\r\n    };\r\n\r\n    var each$j = Tools.each;\r\n    var isNativeIeSelection = function (rng) {\r\n      return !!rng.select;\r\n    };\r\n    var isAttachedToDom = function (node) {\r\n      return !!(node && node.ownerDocument) && contains$3(Element$$1.fromDom(node.ownerDocument), Element$$1.fromDom(node));\r\n    };\r\n    var isValidRange = function (rng) {\r\n      if (!rng) {\r\n        return false;\r\n      } else if (isNativeIeSelection(rng)) {\r\n        return true;\r\n      } else {\r\n        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\r\n      }\r\n    };\r\n    var Selection = function (dom, win, serializer, editor) {\r\n      var bookmarkManager, controlSelection;\r\n      var selectedRange, explicitRange, selectorChangedData;\r\n      var setCursorLocation = function (node, offset) {\r\n        var rng = dom.createRng();\r\n        if (!node) {\r\n          moveEndPoint$1(dom, rng, editor.getBody(), true);\r\n          setRng(rng);\r\n        } else {\r\n          rng.setStart(node, offset);\r\n          rng.setEnd(node, offset);\r\n          setRng(rng);\r\n          collapse(false);\r\n        }\r\n      };\r\n      var getContent = function (args) {\r\n        return GetSelectionContent.getContent(editor, args);\r\n      };\r\n      var setContent = function (content, args) {\r\n        return SetSelectionContent.setContent(editor, content, args);\r\n      };\r\n      var getStart = function (real) {\r\n        return getStart$2(editor.getBody(), getRng(), real);\r\n      };\r\n      var getEnd$$1 = function (real) {\r\n        return getEnd(editor.getBody(), getRng(), real);\r\n      };\r\n      var getBookmark = function (type, normalized) {\r\n        return bookmarkManager.getBookmark(type, normalized);\r\n      };\r\n      var moveToBookmark = function (bookmark) {\r\n        return bookmarkManager.moveToBookmark(bookmark);\r\n      };\r\n      var select = function (node, content) {\r\n        select$1(dom, node, content).each(setRng);\r\n        return node;\r\n      };\r\n      var isCollapsed = function () {\r\n        var rng = getRng(), sel = getSel();\r\n        if (!rng || rng.item) {\r\n          return false;\r\n        }\r\n        if (rng.compareEndPoints) {\r\n          return rng.compareEndPoints('StartToEnd', rng) === 0;\r\n        }\r\n        return !sel || rng.collapsed;\r\n      };\r\n      var collapse = function (toStart) {\r\n        var rng = getRng();\r\n        rng.collapse(!!toStart);\r\n        setRng(rng);\r\n      };\r\n      var getSel = function () {\r\n        return win.getSelection ? win.getSelection() : win.document.selection;\r\n      };\r\n      var getRng = function () {\r\n        var selection, rng, elm, doc;\r\n        var tryCompareBoundaryPoints = function (how, sourceRange, destinationRange) {\r\n          try {\r\n            return sourceRange.compareBoundaryPoints(how, destinationRange);\r\n          } catch (ex) {\r\n            return -1;\r\n          }\r\n        };\r\n        if (!win) {\r\n          return null;\r\n        }\r\n        doc = win.document;\r\n        if (typeof doc === 'undefined' || doc === null) {\r\n          return null;\r\n        }\r\n        if (editor.bookmark !== undefined && EditorFocus.hasFocus(editor) === false) {\r\n          var bookmark = SelectionBookmark.getRng(editor);\r\n          if (bookmark.isSome()) {\r\n            return bookmark.map(function (r) {\r\n              return EventProcessRanges.processRanges(editor, [r])[0];\r\n            }).getOr(doc.createRange());\r\n          }\r\n        }\r\n        try {\r\n          if (selection = getSel()) {\r\n            if (selection.rangeCount > 0) {\r\n              rng = selection.getRangeAt(0);\r\n            } else {\r\n              rng = selection.createRange ? selection.createRange() : doc.createRange();\r\n            }\r\n          }\r\n        } catch (ex) {\r\n        }\r\n        rng = EventProcessRanges.processRanges(editor, [rng])[0];\r\n        if (!rng) {\r\n          rng = doc.createRange ? doc.createRange() : doc.body.createTextRange();\r\n        }\r\n        if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\r\n          elm = dom.getRoot();\r\n          rng.setStart(elm, 0);\r\n          rng.setEnd(elm, 0);\r\n        }\r\n        if (selectedRange && explicitRange) {\r\n          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\r\n            rng = explicitRange;\r\n          } else {\r\n            selectedRange = null;\r\n            explicitRange = null;\r\n          }\r\n        }\r\n        return rng;\r\n      };\r\n      var setRng = function (rng, forward) {\r\n        var sel, node, evt;\r\n        if (!isValidRange(rng)) {\r\n          return;\r\n        }\r\n        var ieRange = isNativeIeSelection(rng) ? rng : null;\r\n        if (ieRange) {\r\n          explicitRange = null;\r\n          try {\r\n            ieRange.select();\r\n          } catch (ex) {\r\n          }\r\n          return;\r\n        }\r\n        sel = getSel();\r\n        evt = editor.fire('SetSelectionRange', {\r\n          range: rng,\r\n          forward: forward\r\n        });\r\n        rng = evt.range;\r\n        if (sel) {\r\n          explicitRange = rng;\r\n          try {\r\n            sel.removeAllRanges();\r\n            sel.addRange(rng);\r\n          } catch (ex) {\r\n          }\r\n          if (forward === false && sel.extend) {\r\n            sel.collapse(rng.endContainer, rng.endOffset);\r\n            sel.extend(rng.startContainer, rng.startOffset);\r\n          }\r\n          selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\r\n        }\r\n        if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent && !Env.ie) {\r\n          if (rng.endOffset - rng.startOffset < 2) {\r\n            if (rng.startContainer.hasChildNodes()) {\r\n              node = rng.startContainer.childNodes[rng.startOffset];\r\n              if (node && node.tagName === 'IMG') {\r\n                sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\r\n                if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\r\n                  sel.setBaseAndExtent(node, 0, node, 1);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        editor.fire('AfterSetSelectionRange', {\r\n          range: rng,\r\n          forward: forward\r\n        });\r\n      };\r\n      var setNode = function (elm) {\r\n        setContent(dom.getOuterHTML(elm));\r\n        return elm;\r\n      };\r\n      var getNode = function () {\r\n        return getNode$1(editor.getBody(), getRng());\r\n      };\r\n      var getSelectedBlocks$$1 = function (startElm, endElm) {\r\n        return getSelectedBlocks(dom, getRng(), startElm, endElm);\r\n      };\r\n      var isForward = function () {\r\n        var sel = getSel();\r\n        var anchorRange, focusRange;\r\n        if (!sel || !sel.anchorNode || !sel.focusNode) {\r\n          return true;\r\n        }\r\n        anchorRange = dom.createRng();\r\n        anchorRange.setStart(sel.anchorNode, sel.anchorOffset);\r\n        anchorRange.collapse(true);\r\n        focusRange = dom.createRng();\r\n        focusRange.setStart(sel.focusNode, sel.focusOffset);\r\n        focusRange.collapse(true);\r\n        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\r\n      };\r\n      var normalize = function () {\r\n        var rng = getRng();\r\n        var sel = getSel();\r\n        if (!MultiRange.hasMultipleRanges(sel) && hasAnyRanges(editor)) {\r\n          var normRng = NormalizeRange.normalize(dom, rng);\r\n          normRng.each(function (normRng) {\r\n            setRng(normRng, isForward());\r\n          });\r\n          return normRng.getOr(rng);\r\n        }\r\n        return rng;\r\n      };\r\n      var selectorChanged = function (selector, callback) {\r\n        var currentSelectors;\r\n        if (!selectorChangedData) {\r\n          selectorChangedData = {};\r\n          currentSelectors = {};\r\n          editor.on('NodeChange', function (e) {\r\n            var node = e.element, parents = dom.getParents(node, null, dom.getRoot()), matchedSelectors = {};\r\n            each$j(selectorChangedData, function (callbacks, selector) {\r\n              each$j(parents, function (node) {\r\n                if (dom.is(node, selector)) {\r\n                  if (!currentSelectors[selector]) {\r\n                    each$j(callbacks, function (callback) {\r\n                      callback(true, {\r\n                        node: node,\r\n                        selector: selector,\r\n                        parents: parents\r\n                      });\r\n                    });\r\n                    currentSelectors[selector] = callbacks;\r\n                  }\r\n                  matchedSelectors[selector] = callbacks;\r\n                  return false;\r\n                }\r\n              });\r\n            });\r\n            each$j(currentSelectors, function (callbacks, selector) {\r\n              if (!matchedSelectors[selector]) {\r\n                delete currentSelectors[selector];\r\n                each$j(callbacks, function (callback) {\r\n                  callback(false, {\r\n                    node: node,\r\n                    selector: selector,\r\n                    parents: parents\r\n                  });\r\n                });\r\n              }\r\n            });\r\n          });\r\n        }\r\n        if (!selectorChangedData[selector]) {\r\n          selectorChangedData[selector] = [];\r\n        }\r\n        selectorChangedData[selector].push(callback);\r\n        return exports;\r\n      };\r\n      var getScrollContainer = function () {\r\n        var scrollContainer;\r\n        var node = dom.getRoot();\r\n        while (node && node.nodeName !== 'BODY') {\r\n          if (node.scrollHeight > node.clientHeight) {\r\n            scrollContainer = node;\r\n            break;\r\n          }\r\n          node = node.parentNode;\r\n        }\r\n        return scrollContainer;\r\n      };\r\n      var scrollIntoView = function (elm, alignToTop) {\r\n        return ScrollIntoView.scrollElementIntoView(editor, elm, alignToTop);\r\n      };\r\n      var placeCaretAt = function (clientX, clientY) {\r\n        return setRng(CaretRangeFromPoint.fromPoint(clientX, clientY, editor.getDoc()));\r\n      };\r\n      var getBoundingClientRect = function () {\r\n        var rng = getRng();\r\n        return rng.collapsed ? CaretPosition$1.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\r\n      };\r\n      var destroy = function () {\r\n        win = selectedRange = explicitRange = null;\r\n        controlSelection.destroy();\r\n      };\r\n      var exports = {\r\n        bookmarkManager: null,\r\n        controlSelection: null,\r\n        dom: dom,\r\n        win: win,\r\n        serializer: serializer,\r\n        editor: editor,\r\n        collapse: collapse,\r\n        setCursorLocation: setCursorLocation,\r\n        getContent: getContent,\r\n        setContent: setContent,\r\n        getBookmark: getBookmark,\r\n        moveToBookmark: moveToBookmark,\r\n        select: select,\r\n        isCollapsed: isCollapsed,\r\n        isForward: isForward,\r\n        setNode: setNode,\r\n        getNode: getNode,\r\n        getSel: getSel,\r\n        setRng: setRng,\r\n        getRng: getRng,\r\n        getStart: getStart,\r\n        getEnd: getEnd$$1,\r\n        getSelectedBlocks: getSelectedBlocks$$1,\r\n        normalize: normalize,\r\n        selectorChanged: selectorChanged,\r\n        getScrollContainer: getScrollContainer,\r\n        scrollIntoView: scrollIntoView,\r\n        placeCaretAt: placeCaretAt,\r\n        getBoundingClientRect: getBoundingClientRect,\r\n        destroy: destroy\r\n      };\r\n      bookmarkManager = BookmarkManager$1(exports);\r\n      controlSelection = ControlSelection(exports, editor);\r\n      exports.bookmarkManager = bookmarkManager;\r\n      exports.controlSelection = controlSelection;\r\n      return exports;\r\n    };\r\n\r\n    var isContentEditableFalse$b = NodeType.isContentEditableFalse;\r\n    var getSelectedNode$1 = getSelectedNode;\r\n    var isAfterContentEditableFalse$3 = isAfterContentEditableFalse;\r\n    var isBeforeContentEditableFalse$3 = isBeforeContentEditableFalse;\r\n    var moveToCeFalseHorizontally = function (direction, editor, getNextPosFn, range$$1) {\r\n      var forwards = direction === HDirection.Forwards;\r\n      var isBeforeContentEditableFalseFn = forwards ? isBeforeContentEditableFalse$3 : isAfterContentEditableFalse$3;\r\n      if (!range$$1.collapsed) {\r\n        var node = getSelectedNode$1(range$$1);\r\n        if (isContentEditableFalse$b(node)) {\r\n          return showCaret(direction, editor, node, direction === HDirection.Backwards, true);\r\n        }\r\n      }\r\n      var rangeIsInContainerBlock = isRangeInCaretContainerBlock(range$$1);\r\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range$$1);\r\n      if (isBeforeContentEditableFalseFn(caretPosition)) {\r\n        return selectNode(editor, caretPosition.getNode(!forwards));\r\n      }\r\n      var nextCaretPosition = InlineUtils.normalizePosition(forwards, getNextPosFn(caretPosition));\r\n      if (!nextCaretPosition) {\r\n        if (rangeIsInContainerBlock) {\r\n          return range$$1;\r\n        }\r\n        return null;\r\n      }\r\n      if (isBeforeContentEditableFalseFn(nextCaretPosition)) {\r\n        return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, true);\r\n      }\r\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\r\n      if (peekCaretPosition && isBeforeContentEditableFalseFn(peekCaretPosition)) {\r\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\r\n          return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, true);\r\n        }\r\n      }\r\n      if (rangeIsInContainerBlock) {\r\n        return renderRangeCaret(editor, nextCaretPosition.toRange(), true);\r\n      }\r\n      return null;\r\n    };\r\n    var moveToCeFalseVertically = function (direction, editor, walkerFn, range$$1) {\r\n      var caretPosition, linePositions, nextLinePositions;\r\n      var closestNextLineRect, caretClientRect, clientX;\r\n      var dist1, dist2, contentEditableFalseNode;\r\n      contentEditableFalseNode = getSelectedNode$1(range$$1);\r\n      caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range$$1);\r\n      linePositions = walkerFn(editor.getBody(), isAboveLine(1), caretPosition);\r\n      nextLinePositions = filter(linePositions, isLine(1));\r\n      caretClientRect = ArrUtils.last(caretPosition.getClientRects());\r\n      if (isBeforeContentEditableFalse$3(caretPosition) || isBeforeTable(caretPosition)) {\r\n        contentEditableFalseNode = caretPosition.getNode();\r\n      }\r\n      if (isAfterContentEditableFalse$3(caretPosition) || isAfterTable(caretPosition)) {\r\n        contentEditableFalseNode = caretPosition.getNode(true);\r\n      }\r\n      if (!caretClientRect) {\r\n        return null;\r\n      }\r\n      clientX = caretClientRect.left;\r\n      closestNextLineRect = findClosestClientRect(nextLinePositions, clientX);\r\n      if (closestNextLineRect) {\r\n        if (isContentEditableFalse$b(closestNextLineRect.node)) {\r\n          dist1 = Math.abs(clientX - closestNextLineRect.left);\r\n          dist2 = Math.abs(clientX - closestNextLineRect.right);\r\n          return showCaret(direction, editor, closestNextLineRect.node, dist1 < dist2, true);\r\n        }\r\n      }\r\n      if (contentEditableFalseNode) {\r\n        var caretPositions = positionsUntil(direction, editor.getBody(), isAboveLine(1), contentEditableFalseNode);\r\n        closestNextLineRect = findClosestClientRect(filter(caretPositions, isLine(1)), clientX);\r\n        if (closestNextLineRect) {\r\n          return renderRangeCaret(editor, closestNextLineRect.position.toRange(), true);\r\n        }\r\n        closestNextLineRect = ArrUtils.last(filter(caretPositions, isLine(0)));\r\n        if (closestNextLineRect) {\r\n          return renderRangeCaret(editor, closestNextLineRect.position.toRange(), true);\r\n        }\r\n      }\r\n    };\r\n    var createTextBlock = function (editor) {\r\n      var textBlock = editor.dom.create(editor.settings.forced_root_block);\r\n      if (!Env.ie || Env.ie >= 11) {\r\n        textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\r\n      }\r\n      return textBlock;\r\n    };\r\n    var exitPreBlock = function (editor, direction, range$$1) {\r\n      var pre, caretPos, newBlock;\r\n      var caretWalker = CaretWalker(editor.getBody());\r\n      var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\r\n      var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\r\n      if (range$$1.collapsed && editor.settings.forced_root_block) {\r\n        pre = editor.dom.getParent(range$$1.startContainer, 'PRE');\r\n        if (!pre) {\r\n          return;\r\n        }\r\n        if (direction === 1) {\r\n          caretPos = getNextVisualCaretPosition(CaretPosition$1.fromRangeStart(range$$1));\r\n        } else {\r\n          caretPos = getPrevVisualCaretPosition(CaretPosition$1.fromRangeStart(range$$1));\r\n        }\r\n        if (!caretPos) {\r\n          newBlock = createTextBlock(editor);\r\n          if (direction === 1) {\r\n            editor.$(pre).after(newBlock);\r\n          } else {\r\n            editor.$(pre).before(newBlock);\r\n          }\r\n          editor.selection.select(newBlock, true);\r\n          editor.selection.collapse();\r\n        }\r\n      }\r\n    };\r\n    var getHorizontalRange = function (editor, forward) {\r\n      var caretWalker = CaretWalker(editor.getBody());\r\n      var getNextVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.next);\r\n      var getPrevVisualCaretPosition = curry(getVisualCaretPosition, caretWalker.prev);\r\n      var newRange;\r\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\r\n      var getNextPosFn = forward ? getNextVisualCaretPosition : getPrevVisualCaretPosition;\r\n      var range$$1 = editor.selection.getRng();\r\n      newRange = moveToCeFalseHorizontally(direction, editor, getNextPosFn, range$$1);\r\n      if (newRange) {\r\n        return newRange;\r\n      }\r\n      newRange = exitPreBlock(editor, direction, range$$1);\r\n      if (newRange) {\r\n        return newRange;\r\n      }\r\n      return null;\r\n    };\r\n    var getVerticalRange = function (editor, down) {\r\n      var newRange;\r\n      var direction = down ? 1 : -1;\r\n      var walkerFn = down ? downUntil : upUntil;\r\n      var range$$1 = editor.selection.getRng();\r\n      newRange = moveToCeFalseVertically(direction, editor, walkerFn, range$$1);\r\n      if (newRange) {\r\n        return newRange;\r\n      }\r\n      newRange = exitPreBlock(editor, direction, range$$1);\r\n      if (newRange) {\r\n        return newRange;\r\n      }\r\n      return null;\r\n    };\r\n    var moveH = function (editor, forward) {\r\n      return function () {\r\n        var newRng = getHorizontalRange(editor, forward);\r\n        if (newRng) {\r\n          editor.selection.setRng(newRng);\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      };\r\n    };\r\n    var moveV = function (editor, down) {\r\n      return function () {\r\n        var newRng = getVerticalRange(editor, down);\r\n        if (newRng) {\r\n          editor.selection.setRng(newRng);\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      };\r\n    };\r\n\r\n    var BreakType;\r\n    (function (BreakType) {\r\n      BreakType[BreakType['Br'] = 0] = 'Br';\r\n      BreakType[BreakType['Block'] = 1] = 'Block';\r\n      BreakType[BreakType['Wrap'] = 2] = 'Wrap';\r\n      BreakType[BreakType['Eol'] = 3] = 'Eol';\r\n    }(BreakType || (BreakType = {})));\r\n    var flip = function (direction, positions) {\r\n      return direction === HDirection.Backwards ? positions.reverse() : positions;\r\n    };\r\n    var walk$3 = function (direction, caretWalker, pos) {\r\n      return direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\r\n    };\r\n    var getBreakType = function (scope, direction, currentPos, nextPos) {\r\n      if (NodeType.isBr(nextPos.getNode(direction === HDirection.Forwards))) {\r\n        return BreakType.Br;\r\n      } else if (isInSameBlock(currentPos, nextPos) === false) {\r\n        return BreakType.Block;\r\n      } else {\r\n        return BreakType.Wrap;\r\n      }\r\n    };\r\n    var getPositionsUntil = function (predicate, direction, scope, start) {\r\n      var caretWalker = CaretWalker(scope);\r\n      var currentPos = start, nextPos;\r\n      var positions = [];\r\n      while (currentPos) {\r\n        nextPos = walk$3(direction, caretWalker, currentPos);\r\n        if (!nextPos) {\r\n          break;\r\n        }\r\n        if (NodeType.isBr(nextPos.getNode(false))) {\r\n          if (direction === HDirection.Forwards) {\r\n            return {\r\n              positions: flip(direction, positions).concat([nextPos]),\r\n              breakType: BreakType.Br,\r\n              breakAt: Option.some(nextPos)\r\n            };\r\n          } else {\r\n            return {\r\n              positions: flip(direction, positions),\r\n              breakType: BreakType.Br,\r\n              breakAt: Option.some(nextPos)\r\n            };\r\n          }\r\n        }\r\n        if (!nextPos.isVisible()) {\r\n          currentPos = nextPos;\r\n          continue;\r\n        }\r\n        if (predicate(currentPos, nextPos)) {\r\n          var breakType = getBreakType(scope, direction, currentPos, nextPos);\r\n          return {\r\n            positions: flip(direction, positions),\r\n            breakType: breakType,\r\n            breakAt: Option.some(nextPos)\r\n          };\r\n        }\r\n        positions.push(nextPos);\r\n        currentPos = nextPos;\r\n      }\r\n      return {\r\n        positions: flip(direction, positions),\r\n        breakType: BreakType.Eol,\r\n        breakAt: Option.none()\r\n      };\r\n    };\r\n    var getAdjacentLinePositions = function (direction, getPositionsUntilBreak, scope, start) {\r\n      return getPositionsUntilBreak(scope, start).breakAt.map(function (pos) {\r\n        var positions = getPositionsUntilBreak(scope, pos).positions;\r\n        return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\r\n      }).getOr([]);\r\n    };\r\n    var findClosestHorizontalPositionFromPoint = function (positions, x) {\r\n      return foldl(positions, function (acc, newPos) {\r\n        return acc.fold(function () {\r\n          return Option.some(newPos);\r\n        }, function (lastPos) {\r\n          return liftN([\r\n            head(lastPos.getClientRects()),\r\n            head(newPos.getClientRects())\r\n          ], function (lastRect, newRect) {\r\n            var lastDist = Math.abs(x - lastRect.left);\r\n            var newDist = Math.abs(x - newRect.left);\r\n            return newDist <= lastDist ? newPos : lastPos;\r\n          }).or(acc);\r\n        });\r\n      }, Option.none());\r\n    };\r\n    var findClosestHorizontalPosition = function (positions, pos) {\r\n      return head(pos.getClientRects()).bind(function (targetRect) {\r\n        return findClosestHorizontalPositionFromPoint(positions, targetRect.left);\r\n      });\r\n    };\r\n    var getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\r\n    var getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\r\n    var isAtFirstLine = function (scope, pos) {\r\n      return getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\r\n    };\r\n    var isAtLastLine = function (scope, pos) {\r\n      return getPositionsUntilNextLine(scope, pos).breakAt.isNone();\r\n    };\r\n    var getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\r\n    var getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\r\n    var getFirstLinePositions = function (scope) {\r\n      return CaretFinder.firstPositionIn(scope).map(function (pos) {\r\n        return [pos].concat(getPositionsUntilNextLine(scope, pos).positions);\r\n      }).getOr([]);\r\n    };\r\n    var getLastLinePositions = function (scope) {\r\n      return CaretFinder.lastPositionIn(scope).map(function (pos) {\r\n        return getPositionsUntilPreviousLine(scope, pos).positions.concat(pos);\r\n      }).getOr([]);\r\n    };\r\n\r\n    var deflate = function (rect, delta) {\r\n      return {\r\n        left: rect.left - delta,\r\n        top: rect.top - delta,\r\n        right: rect.right + delta * 2,\r\n        bottom: rect.bottom + delta * 2,\r\n        width: rect.width + delta,\r\n        height: rect.height + delta\r\n      };\r\n    };\r\n    var getCorners = function (getYAxisValue, tds) {\r\n      return bind(tds, function (td) {\r\n        var rect = deflate(clone$2(td.getBoundingClientRect()), -1);\r\n        return [\r\n          {\r\n            x: rect.left,\r\n            y: getYAxisValue(rect),\r\n            cell: td\r\n          },\r\n          {\r\n            x: rect.right,\r\n            y: getYAxisValue(rect),\r\n            cell: td\r\n          }\r\n        ];\r\n      });\r\n    };\r\n    var findClosestCorner = function (corners, x, y) {\r\n      return foldl(corners, function (acc, newCorner) {\r\n        return acc.fold(function () {\r\n          return Option.some(newCorner);\r\n        }, function (oldCorner) {\r\n          var oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\r\n          var newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\r\n          return Option.some(newDist < oldDist ? newCorner : oldCorner);\r\n        });\r\n      }, Option.none());\r\n    };\r\n    var getClosestCell$1 = function (getYAxisValue, isTargetCorner, table, x, y) {\r\n      var cells = descendants$1(Element$$1.fromDom(table), 'td,th,caption').map(function (e) {\r\n        return e.dom();\r\n      });\r\n      var corners = filter(getCorners(getYAxisValue, cells), function (corner) {\r\n        return isTargetCorner(corner, y);\r\n      });\r\n      return findClosestCorner(corners, x, y).map(function (corner) {\r\n        return corner.cell;\r\n      });\r\n    };\r\n    var getBottomValue = function (rect) {\r\n      return rect.bottom;\r\n    };\r\n    var getTopValue = function (rect) {\r\n      return rect.top;\r\n    };\r\n    var isAbove$1 = function (corner, y) {\r\n      return corner.y < y;\r\n    };\r\n    var isBelow$1 = function (corner, y) {\r\n      return corner.y > y;\r\n    };\r\n    var getClosestCellAbove = curry(getClosestCell$1, getBottomValue, isAbove$1);\r\n    var getClosestCellBelow = curry(getClosestCell$1, getTopValue, isBelow$1);\r\n    var findClosestPositionInAboveCell = function (table, pos) {\r\n      return head(pos.getClientRects()).bind(function (rect) {\r\n        return getClosestCellAbove(table, rect.left, rect.top);\r\n      }).bind(function (cell) {\r\n        return findClosestHorizontalPosition(getLastLinePositions(cell), pos);\r\n      });\r\n    };\r\n    var findClosestPositionInBelowCell = function (table, pos) {\r\n      return last(pos.getClientRects()).bind(function (rect) {\r\n        return getClosestCellBelow(table, rect.left, rect.top);\r\n      }).bind(function (cell) {\r\n        return findClosestHorizontalPosition(getFirstLinePositions(cell), pos);\r\n      });\r\n    };\r\n\r\n    var moveToRange = function (editor, rng) {\r\n      editor.selection.setRng(rng);\r\n      ScrollIntoView.scrollRangeIntoView(editor, rng);\r\n    };\r\n    var hasNextBreak = function (getPositionsUntil, scope, lineInfo) {\r\n      return lineInfo.breakAt.map(function (breakPos) {\r\n        return getPositionsUntil(scope, breakPos).breakAt.isSome();\r\n      }).getOr(false);\r\n    };\r\n    var startsWithWrapBreak = function (lineInfo) {\r\n      return lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\r\n    };\r\n    var startsWithBrBreak = function (lineInfo) {\r\n      return lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\r\n    };\r\n    var isAtTableCellLine = function (getPositionsUntil, scope, pos) {\r\n      var lineInfo = getPositionsUntil(scope, pos);\r\n      if (startsWithWrapBreak(lineInfo) || !NodeType.isBr(pos.getNode()) && startsWithBrBreak(lineInfo)) {\r\n        return !hasNextBreak(getPositionsUntil, scope, lineInfo);\r\n      } else {\r\n        return lineInfo.breakAt.isNone();\r\n      }\r\n    };\r\n    var isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\r\n    var isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\r\n    var isCaretAtStartOrEndOfTable = function (forward, rng, table) {\r\n      var caretPos = CaretPosition$1.fromRangeStart(rng);\r\n      return CaretFinder.positionIn(!forward, table).map(function (pos) {\r\n        return pos.isEqual(caretPos);\r\n      }).getOr(false);\r\n    };\r\n    var navigateHorizontally = function (editor, forward, table, td) {\r\n      var rng = editor.selection.getRng();\r\n      var direction = forward ? 1 : -1;\r\n      if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\r\n        var newRng = showCaret(direction, editor, table, !forward, true);\r\n        moveToRange(editor, newRng);\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n    var getClosestAbovePosition = function (root, table, start) {\r\n      return findClosestPositionInAboveCell(table, start).orThunk(function () {\r\n        return head(start.getClientRects()).bind(function (rect) {\r\n          return findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition$1.before(table)), rect.left);\r\n        });\r\n      }).getOr(CaretPosition$1.before(table));\r\n    };\r\n    var getClosestBelowPosition = function (root, table, start) {\r\n      return findClosestPositionInBelowCell(table, start).orThunk(function () {\r\n        return head(start.getClientRects()).bind(function (rect) {\r\n          return findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition$1.after(table)), rect.left);\r\n        });\r\n      }).getOr(CaretPosition$1.after(table));\r\n    };\r\n    var getTable = function (previous, pos) {\r\n      var node = pos.getNode(previous);\r\n      return NodeType.isElement(node) && node.nodeName === 'TABLE' ? Option.some(node) : Option.none();\r\n    };\r\n    var renderBlock = function (down, editor, table, pos) {\r\n      var forcedRootBlock = Settings.getForcedRootBlock(editor);\r\n      if (forcedRootBlock) {\r\n        editor.undoManager.transact(function () {\r\n          var element = Element$$1.fromTag(forcedRootBlock);\r\n          setAll(element, Settings.getForcedRootBlockAttrs(editor));\r\n          append(element, Element$$1.fromTag('br'));\r\n          if (down) {\r\n            after(Element$$1.fromDom(table), element);\r\n          } else {\r\n            before(Element$$1.fromDom(table), element);\r\n          }\r\n          var rng = editor.dom.createRng();\r\n          rng.setStart(element.dom(), 0);\r\n          rng.setEnd(element.dom(), 0);\r\n          moveToRange(editor, rng);\r\n        });\r\n      } else {\r\n        moveToRange(editor, pos.toRange());\r\n      }\r\n    };\r\n    var moveCaret = function (editor, down, pos) {\r\n      var table = down ? getTable(true, pos) : getTable(false, pos);\r\n      var last$$1 = down === false;\r\n      table.fold(function () {\r\n        return moveToRange(editor, pos.toRange());\r\n      }, function (table) {\r\n        return CaretFinder.positionIn(last$$1, editor.getBody()).filter(function (lastPos) {\r\n          return lastPos.isEqual(pos);\r\n        }).fold(function () {\r\n          return moveToRange(editor, pos.toRange());\r\n        }, function (_) {\r\n          return renderBlock(down, editor, table, pos);\r\n        });\r\n      });\r\n    };\r\n    var navigateVertically = function (editor, down, table, td) {\r\n      var rng = editor.selection.getRng();\r\n      var pos = CaretPosition$1.fromRangeStart(rng);\r\n      var root = editor.getBody();\r\n      if (!down && isAtFirstTableCellLine(td, pos)) {\r\n        var newPos = getClosestAbovePosition(root, table, pos);\r\n        moveCaret(editor, down, newPos);\r\n        return true;\r\n      } else if (down && isAtLastTableCellLine(td, pos)) {\r\n        var newPos = getClosestBelowPosition(root, table, pos);\r\n        moveCaret(editor, down, newPos);\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n    var moveH$1 = function (editor, forward) {\r\n      return function () {\r\n        return Option.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\r\n          return Option.from(editor.dom.getParent(td, 'table')).map(function (table) {\r\n            return navigateHorizontally(editor, forward, table, td);\r\n          });\r\n        }).getOr(false);\r\n      };\r\n    };\r\n    var moveV$1 = function (editor, forward) {\r\n      return function () {\r\n        return Option.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\r\n          return Option.from(editor.dom.getParent(td, 'table')).map(function (table) {\r\n            return navigateVertically(editor, forward, table, td);\r\n          });\r\n        }).getOr(false);\r\n      };\r\n    };\r\n\r\n    var isTarget = function (node) {\r\n      return contains(['figcaption'], name(node));\r\n    };\r\n    var rangeBefore = function (target) {\r\n      var rng = document.createRange();\r\n      rng.setStartBefore(target.dom());\r\n      rng.setEndBefore(target.dom());\r\n      return rng;\r\n    };\r\n    var insertElement = function (root, elm, forward) {\r\n      if (forward) {\r\n        append(root, elm);\r\n      } else {\r\n        prepend(root, elm);\r\n      }\r\n    };\r\n    var insertBr = function (root, forward) {\r\n      var br = Element$$1.fromTag('br');\r\n      insertElement(root, br, forward);\r\n      return rangeBefore(br);\r\n    };\r\n    var insertBlock$1 = function (root, forward, blockName, attrs) {\r\n      var block = Element$$1.fromTag(blockName);\r\n      var br = Element$$1.fromTag('br');\r\n      setAll(block, attrs);\r\n      append(block, br);\r\n      insertElement(root, block, forward);\r\n      return rangeBefore(br);\r\n    };\r\n    var insertEmptyLine = function (root, rootBlockName, attrs, forward) {\r\n      if (rootBlockName === '') {\r\n        return insertBr(root, forward);\r\n      } else {\r\n        return insertBlock$1(root, forward, rootBlockName, attrs);\r\n      }\r\n    };\r\n    var getClosestTargetBlock = function (pos, root) {\r\n      var isRoot = curry(eq, root);\r\n      return closest(Element$$1.fromDom(pos.container()), isBlock, isRoot).filter(isTarget);\r\n    };\r\n    var isAtFirstOrLastLine = function (root, forward, pos) {\r\n      return forward ? isAtLastLine(root.dom(), pos) : isAtFirstLine(root.dom(), pos);\r\n    };\r\n    var moveCaretToNewEmptyLine = function (editor, forward) {\r\n      var root = Element$$1.fromDom(editor.getBody());\r\n      var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n      var rootBlock = Settings.getForcedRootBlock(editor);\r\n      var rootBlockAttrs = Settings.getForcedRootBlockAttrs(editor);\r\n      return getClosestTargetBlock(pos, root).exists(function () {\r\n        if (isAtFirstOrLastLine(root, forward, pos)) {\r\n          var rng = insertEmptyLine(root, rootBlock, rootBlockAttrs, forward);\r\n          editor.selection.setRng(rng);\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    };\r\n    var moveV$2 = function (editor, forward) {\r\n      return function () {\r\n        if (editor.selection.isCollapsed()) {\r\n          return moveCaretToNewEmptyLine(editor, forward);\r\n        } else {\r\n          return false;\r\n        }\r\n      };\r\n    };\r\n\r\n    var defaultPatterns = function (patterns) {\r\n      return map(patterns, function (pattern) {\r\n        return merge({\r\n          shiftKey: false,\r\n          altKey: false,\r\n          ctrlKey: false,\r\n          metaKey: false,\r\n          keyCode: 0,\r\n          action: noop\r\n        }, pattern);\r\n      });\r\n    };\r\n    var matchesEvent = function (pattern, evt) {\r\n      return evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\r\n    };\r\n    var match$1 = function (patterns, evt) {\r\n      return bind(defaultPatterns(patterns), function (pattern) {\r\n        return matchesEvent(pattern, evt) ? [pattern] : [];\r\n      });\r\n    };\r\n    var action = function (f) {\r\n      var x = [];\r\n      for (var _i = 1; _i < arguments.length; _i++) {\r\n        x[_i - 1] = arguments[_i];\r\n      }\r\n      var args = Array.prototype.slice.call(arguments, 1);\r\n      return function () {\r\n        return f.apply(null, args);\r\n      };\r\n    };\r\n    var execute = function (patterns, evt) {\r\n      return find(match$1(patterns, evt), function (pattern) {\r\n        return pattern.action();\r\n      });\r\n    };\r\n    var MatchKeys = {\r\n      match: match$1,\r\n      action: action,\r\n      execute: execute\r\n    };\r\n\r\n    var executeKeydownOverride = function (editor, caret, evt) {\r\n      var os = PlatformDetection$1.detect().os;\r\n      MatchKeys.execute([\r\n        {\r\n          keyCode: VK.RIGHT,\r\n          action: moveH(editor, true)\r\n        },\r\n        {\r\n          keyCode: VK.LEFT,\r\n          action: moveH(editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.UP,\r\n          action: moveV(editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.DOWN,\r\n          action: moveV(editor, true)\r\n        },\r\n        {\r\n          keyCode: VK.RIGHT,\r\n          action: moveH$1(editor, true)\r\n        },\r\n        {\r\n          keyCode: VK.LEFT,\r\n          action: moveH$1(editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.UP,\r\n          action: moveV$1(editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.DOWN,\r\n          action: moveV$1(editor, true)\r\n        },\r\n        {\r\n          keyCode: VK.RIGHT,\r\n          action: BoundarySelection.move(editor, caret, true)\r\n        },\r\n        {\r\n          keyCode: VK.LEFT,\r\n          action: BoundarySelection.move(editor, caret, false)\r\n        },\r\n        {\r\n          keyCode: VK.RIGHT,\r\n          ctrlKey: !os.isOSX(),\r\n          altKey: os.isOSX(),\r\n          action: BoundarySelection.moveNextWord(editor, caret)\r\n        },\r\n        {\r\n          keyCode: VK.LEFT,\r\n          ctrlKey: !os.isOSX(),\r\n          altKey: os.isOSX(),\r\n          action: BoundarySelection.movePrevWord(editor, caret)\r\n        },\r\n        {\r\n          keyCode: VK.UP,\r\n          action: moveV$2(editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.DOWN,\r\n          action: moveV$2(editor, true)\r\n        }\r\n      ], evt).each(function (_) {\r\n        evt.preventDefault();\r\n      });\r\n    };\r\n    var setup$7 = function (editor, caret) {\r\n      editor.on('keydown', function (evt) {\r\n        if (evt.isDefaultPrevented() === false) {\r\n          executeKeydownOverride(editor, caret, evt);\r\n        }\r\n      });\r\n    };\r\n    var ArrowKeys = { setup: setup$7 };\r\n\r\n    var executeKeydownOverride$1 = function (editor, caret, evt) {\r\n      MatchKeys.execute([\r\n        {\r\n          keyCode: VK.BACKSPACE,\r\n          action: MatchKeys.action(CefDelete.backspaceDelete, editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.DELETE,\r\n          action: MatchKeys.action(CefDelete.backspaceDelete, editor, true)\r\n        },\r\n        {\r\n          keyCode: VK.BACKSPACE,\r\n          action: MatchKeys.action(CefBoundaryDelete.backspaceDelete, editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.DELETE,\r\n          action: MatchKeys.action(CefBoundaryDelete.backspaceDelete, editor, true)\r\n        },\r\n        {\r\n          keyCode: VK.BACKSPACE,\r\n          action: MatchKeys.action(InlineBoundaryDelete.backspaceDelete, editor, caret, false)\r\n        },\r\n        {\r\n          keyCode: VK.DELETE,\r\n          action: MatchKeys.action(InlineBoundaryDelete.backspaceDelete, editor, caret, true)\r\n        },\r\n        {\r\n          keyCode: VK.BACKSPACE,\r\n          action: MatchKeys.action(TableDelete.backspaceDelete, editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.DELETE,\r\n          action: MatchKeys.action(TableDelete.backspaceDelete, editor, true)\r\n        },\r\n        {\r\n          keyCode: VK.BACKSPACE,\r\n          action: MatchKeys.action(BlockRangeDelete.backspaceDelete, editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.DELETE,\r\n          action: MatchKeys.action(BlockRangeDelete.backspaceDelete, editor, true)\r\n        },\r\n        {\r\n          keyCode: VK.BACKSPACE,\r\n          action: MatchKeys.action(BlockBoundaryDelete.backspaceDelete, editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.DELETE,\r\n          action: MatchKeys.action(BlockBoundaryDelete.backspaceDelete, editor, true)\r\n        },\r\n        {\r\n          keyCode: VK.BACKSPACE,\r\n          action: MatchKeys.action(InlineFormatDelete.backspaceDelete, editor, false)\r\n        },\r\n        {\r\n          keyCode: VK.DELETE,\r\n          action: MatchKeys.action(InlineFormatDelete.backspaceDelete, editor, true)\r\n        }\r\n      ], evt).each(function (_) {\r\n        evt.preventDefault();\r\n      });\r\n    };\r\n    var executeKeyupOverride = function (editor, evt) {\r\n      MatchKeys.execute([\r\n        {\r\n          keyCode: VK.BACKSPACE,\r\n          action: MatchKeys.action(CefDelete.paddEmptyElement, editor)\r\n        },\r\n        {\r\n          keyCode: VK.DELETE,\r\n          action: MatchKeys.action(CefDelete.paddEmptyElement, editor)\r\n        }\r\n      ], evt);\r\n    };\r\n    var setup$8 = function (editor, caret) {\r\n      editor.on('keydown', function (evt) {\r\n        if (evt.isDefaultPrevented() === false) {\r\n          executeKeydownOverride$1(editor, caret, evt);\r\n        }\r\n      });\r\n      editor.on('keyup', function (evt) {\r\n        if (evt.isDefaultPrevented() === false) {\r\n          executeKeyupOverride(editor, evt);\r\n        }\r\n      });\r\n    };\r\n    var DeleteBackspaceKeys = { setup: setup$8 };\r\n\r\n    var firstNonWhiteSpaceNodeSibling = function (node) {\r\n      while (node) {\r\n        if (node.nodeType === 1 || node.nodeType === 3 && node.data && /[\\r\\n\\s]/.test(node.data)) {\r\n          return node;\r\n        }\r\n        node = node.nextSibling;\r\n      }\r\n    };\r\n    var moveToCaretPosition = function (editor, root) {\r\n      var walker, node, rng, lastNode = root, tempElm;\r\n      var dom = editor.dom;\r\n      var moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\r\n      if (!root) {\r\n        return;\r\n      }\r\n      if (/^(LI|DT|DD)$/.test(root.nodeName)) {\r\n        var firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\r\n        if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\r\n          root.insertBefore(dom.doc.createTextNode('\\xA0'), root.firstChild);\r\n        }\r\n      }\r\n      rng = dom.createRng();\r\n      root.normalize();\r\n      if (root.hasChildNodes()) {\r\n        walker = new TreeWalker(root, root);\r\n        while (node = walker.current()) {\r\n          if (NodeType.isText(node)) {\r\n            rng.setStart(node, 0);\r\n            rng.setEnd(node, 0);\r\n            break;\r\n          }\r\n          if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\r\n            rng.setStartBefore(node);\r\n            rng.setEndBefore(node);\r\n            break;\r\n          }\r\n          lastNode = node;\r\n          node = walker.next();\r\n        }\r\n        if (!node) {\r\n          rng.setStart(lastNode, 0);\r\n          rng.setEnd(lastNode, 0);\r\n        }\r\n      } else {\r\n        if (NodeType.isBr(root)) {\r\n          if (root.nextSibling && dom.isBlock(root.nextSibling)) {\r\n            rng.setStartBefore(root);\r\n            rng.setEndBefore(root);\r\n          } else {\r\n            rng.setStartAfter(root);\r\n            rng.setEndAfter(root);\r\n          }\r\n        } else {\r\n          rng.setStart(root, 0);\r\n          rng.setEnd(root, 0);\r\n        }\r\n      }\r\n      editor.selection.setRng(rng);\r\n      dom.remove(tempElm);\r\n      editor.selection.scrollIntoView(root);\r\n    };\r\n    var getEditableRoot = function (dom, node) {\r\n      var root = dom.getRoot();\r\n      var parent, editableRoot;\r\n      parent = node;\r\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\r\n        if (dom.getContentEditable(parent) === 'true') {\r\n          editableRoot = parent;\r\n        }\r\n        parent = parent.parentNode;\r\n      }\r\n      return parent !== root ? editableRoot : root;\r\n    };\r\n    var getParentBlock$2 = function (editor) {\r\n      return Option.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\r\n    };\r\n    var getParentBlockName = function (editor) {\r\n      return getParentBlock$2(editor).fold(constant(''), function (parentBlock) {\r\n        return parentBlock.nodeName.toUpperCase();\r\n      });\r\n    };\r\n    var isListItemParentBlock = function (editor) {\r\n      return getParentBlock$2(editor).filter(function (elm) {\r\n        return isListItem(Element$$1.fromDom(elm));\r\n      }).isSome();\r\n    };\r\n    var NewLineUtils = {\r\n      moveToCaretPosition: moveToCaretPosition,\r\n      getEditableRoot: getEditableRoot,\r\n      getParentBlock: getParentBlock$2,\r\n      getParentBlockName: getParentBlockName,\r\n      isListItemParentBlock: isListItemParentBlock\r\n    };\r\n\r\n    var hasFirstChild = function (elm, name) {\r\n      return elm.firstChild && elm.firstChild.nodeName === name;\r\n    };\r\n    var hasParent$1 = function (elm, parentName) {\r\n      return elm && elm.parentNode && elm.parentNode.nodeName === parentName;\r\n    };\r\n    var isListBlock = function (elm) {\r\n      return elm && /^(OL|UL|LI)$/.test(elm.nodeName);\r\n    };\r\n    var isNestedList = function (elm) {\r\n      return isListBlock(elm) && isListBlock(elm.parentNode);\r\n    };\r\n    var getContainerBlock = function (containerBlock) {\r\n      var containerBlockParent = containerBlock.parentNode;\r\n      if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\r\n        return containerBlockParent;\r\n      }\r\n      return containerBlock;\r\n    };\r\n    var isFirstOrLastLi = function (containerBlock, parentBlock, first) {\r\n      var node = containerBlock[first ? 'firstChild' : 'lastChild'];\r\n      while (node) {\r\n        if (NodeType.isElement(node)) {\r\n          break;\r\n        }\r\n        node = node[first ? 'nextSibling' : 'previousSibling'];\r\n      }\r\n      return node === parentBlock;\r\n    };\r\n    var insert$1 = function (editor, createNewBlock, containerBlock, parentBlock, newBlockName) {\r\n      var dom = editor.dom;\r\n      var rng = editor.selection.getRng();\r\n      if (containerBlock === editor.getBody()) {\r\n        return;\r\n      }\r\n      if (isNestedList(containerBlock)) {\r\n        newBlockName = 'LI';\r\n      }\r\n      var newBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');\r\n      if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\r\n        if (hasParent$1(containerBlock, 'LI')) {\r\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\r\n        } else {\r\n          dom.replace(newBlock, containerBlock);\r\n        }\r\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\r\n        if (hasParent$1(containerBlock, 'LI')) {\r\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\r\n          newBlock.appendChild(dom.doc.createTextNode(' '));\r\n          newBlock.appendChild(containerBlock);\r\n        } else {\r\n          containerBlock.parentNode.insertBefore(newBlock, containerBlock);\r\n        }\r\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\r\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\r\n      } else {\r\n        containerBlock = getContainerBlock(containerBlock);\r\n        var tmpRng = rng.cloneRange();\r\n        tmpRng.setStartAfter(parentBlock);\r\n        tmpRng.setEndAfter(containerBlock);\r\n        var fragment = tmpRng.extractContents();\r\n        if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\r\n          newBlock = fragment.firstChild;\r\n          dom.insertAfter(fragment, containerBlock);\r\n        } else {\r\n          dom.insertAfter(fragment, containerBlock);\r\n          dom.insertAfter(newBlock, containerBlock);\r\n        }\r\n      }\r\n      dom.remove(parentBlock);\r\n      NewLineUtils.moveToCaretPosition(editor, newBlock);\r\n    };\r\n    var InsertLi = { insert: insert$1 };\r\n\r\n    var trimZwsp = function (fragment) {\r\n      each(descendants(Element$$1.fromDom(fragment), isText), function (text) {\r\n        var rawNode = text.dom();\r\n        rawNode.nodeValue = Zwsp.trim(rawNode.nodeValue);\r\n      });\r\n    };\r\n    var isEmptyAnchor = function (dom, elm) {\r\n      return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\r\n    };\r\n    var isTableCell$5 = function (node) {\r\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\r\n    };\r\n    var emptyBlock = function (elm) {\r\n      elm.innerHTML = '<br data-mce-bogus=\"1\">';\r\n    };\r\n    var containerAndSiblingName = function (container, nodeName) {\r\n      return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\r\n    };\r\n    var canSplitBlock = function (dom, node) {\r\n      return node && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\r\n    };\r\n    var trimInlineElementsOnLeftSideOfBlock = function (dom, nonEmptyElementsMap, block) {\r\n      var node = block;\r\n      var firstChilds = [];\r\n      var i;\r\n      if (!node) {\r\n        return;\r\n      }\r\n      while (node = node.firstChild) {\r\n        if (dom.isBlock(node)) {\r\n          return;\r\n        }\r\n        if (NodeType.isElement(node) && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\r\n          firstChilds.push(node);\r\n        }\r\n      }\r\n      i = firstChilds.length;\r\n      while (i--) {\r\n        node = firstChilds[i];\r\n        if (!node.hasChildNodes() || node.firstChild === node.lastChild && node.firstChild.nodeValue === '') {\r\n          dom.remove(node);\r\n        } else {\r\n          if (isEmptyAnchor(dom, node)) {\r\n            dom.remove(node);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    var normalizeZwspOffset = function (start, container, offset) {\r\n      if (NodeType.isText(container) === false) {\r\n        return offset;\r\n      } else if (start) {\r\n        return offset === 1 && container.data.charAt(offset - 1) === Zwsp.ZWSP ? 0 : offset;\r\n      } else {\r\n        return offset === container.data.length - 1 && container.data.charAt(offset) === Zwsp.ZWSP ? container.data.length : offset;\r\n      }\r\n    };\r\n    var includeZwspInRange = function (rng) {\r\n      var newRng = rng.cloneRange();\r\n      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\r\n      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\r\n      return newRng;\r\n    };\r\n    var trimLeadingLineBreaks = function (node) {\r\n      do {\r\n        if (NodeType.isText(node)) {\r\n          node.nodeValue = node.nodeValue.replace(/^[\\r\\n]+/, '');\r\n        }\r\n        node = node.firstChild;\r\n      } while (node);\r\n    };\r\n    var getEditableRoot$1 = function (dom, node) {\r\n      var root = dom.getRoot();\r\n      var parent, editableRoot;\r\n      parent = node;\r\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\r\n        if (dom.getContentEditable(parent) === 'true') {\r\n          editableRoot = parent;\r\n        }\r\n        parent = parent.parentNode;\r\n      }\r\n      return parent !== root ? editableRoot : root;\r\n    };\r\n    var setForcedBlockAttrs = function (editor, node) {\r\n      var forcedRootBlockName = Settings.getForcedRootBlock(editor);\r\n      if (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\r\n        editor.dom.setAttribs(node, Settings.getForcedRootBlockAttrs(editor));\r\n      }\r\n    };\r\n    var wrapSelfAndSiblingsInDefaultBlock = function (editor, newBlockName, rng, container, offset) {\r\n      var newBlock, parentBlock, startNode, node, next, rootBlockName;\r\n      var blockName = newBlockName || 'P';\r\n      var dom = editor.dom, editableRoot = getEditableRoot$1(dom, container);\r\n      parentBlock = dom.getParent(container, dom.isBlock);\r\n      if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\r\n        parentBlock = parentBlock || editableRoot;\r\n        if (parentBlock === editor.getBody() || isTableCell$5(parentBlock)) {\r\n          rootBlockName = parentBlock.nodeName.toLowerCase();\r\n        } else {\r\n          rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\r\n        }\r\n        if (!parentBlock.hasChildNodes()) {\r\n          newBlock = dom.create(blockName);\r\n          setForcedBlockAttrs(editor, newBlock);\r\n          parentBlock.appendChild(newBlock);\r\n          rng.setStart(newBlock, 0);\r\n          rng.setEnd(newBlock, 0);\r\n          return newBlock;\r\n        }\r\n        node = container;\r\n        while (node.parentNode !== parentBlock) {\r\n          node = node.parentNode;\r\n        }\r\n        while (node && !dom.isBlock(node)) {\r\n          startNode = node;\r\n          node = node.previousSibling;\r\n        }\r\n        if (startNode && editor.schema.isValidChild(rootBlockName, blockName.toLowerCase())) {\r\n          newBlock = dom.create(blockName);\r\n          setForcedBlockAttrs(editor, newBlock);\r\n          startNode.parentNode.insertBefore(newBlock, startNode);\r\n          node = startNode;\r\n          while (node && !dom.isBlock(node)) {\r\n            next = node.nextSibling;\r\n            newBlock.appendChild(node);\r\n            node = next;\r\n          }\r\n          rng.setStart(container, offset);\r\n          rng.setEnd(container, offset);\r\n        }\r\n      }\r\n      return container;\r\n    };\r\n    var addBrToBlockIfNeeded = function (dom, block) {\r\n      var lastChild;\r\n      block.normalize();\r\n      lastChild = block.lastChild;\r\n      if (!lastChild || /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\r\n        dom.add(block, 'br');\r\n      }\r\n    };\r\n    var insert$2 = function (editor, evt) {\r\n      var tmpRng, editableRoot, container, offset, parentBlock, shiftKey;\r\n      var newBlock, fragment, containerBlock, parentBlockName, containerBlockName, newBlockName, isAfterLastNodeInContainer;\r\n      var dom = editor.dom;\r\n      var schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\r\n      var rng = editor.selection.getRng();\r\n      var createNewBlock = function (name$$1) {\r\n        var node = container, block, clonedNode, caretNode;\r\n        var textInlineElements = schema.getTextInlineElements();\r\n        if (name$$1 || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\r\n          block = dom.create(name$$1 || newBlockName);\r\n          setForcedBlockAttrs(editor, block);\r\n        } else {\r\n          block = parentBlock.cloneNode(false);\r\n        }\r\n        caretNode = block;\r\n        if (Settings.shouldKeepStyles(editor) === false) {\r\n          dom.setAttrib(block, 'style', null);\r\n          dom.setAttrib(block, 'class', null);\r\n        } else {\r\n          do {\r\n            if (textInlineElements[node.nodeName]) {\r\n              if (isCaretNode(node)) {\r\n                continue;\r\n              }\r\n              clonedNode = node.cloneNode(false);\r\n              dom.setAttrib(clonedNode, 'id', '');\r\n              if (block.hasChildNodes()) {\r\n                clonedNode.appendChild(block.firstChild);\r\n                block.appendChild(clonedNode);\r\n              } else {\r\n                caretNode = clonedNode;\r\n                block.appendChild(clonedNode);\r\n              }\r\n            }\r\n          } while ((node = node.parentNode) && node !== editableRoot);\r\n        }\r\n        emptyBlock(caretNode);\r\n        return block;\r\n      };\r\n      var isCaretAtStartOrEndOfBlock = function (start) {\r\n        var walker, node, name$$1, normalizedOffset;\r\n        normalizedOffset = normalizeZwspOffset(start, container, offset);\r\n        if (NodeType.isText(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {\r\n          return false;\r\n        }\r\n        if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\r\n          return true;\r\n        }\r\n        if (start && NodeType.isElement(container) && container === parentBlock.firstChild) {\r\n          return true;\r\n        }\r\n        if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\r\n          return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\r\n        }\r\n        walker = new TreeWalker(container, parentBlock);\r\n        if (NodeType.isText(container)) {\r\n          if (start && normalizedOffset === 0) {\r\n            walker.prev();\r\n          } else if (!start && normalizedOffset === container.nodeValue.length) {\r\n            walker.next();\r\n          }\r\n        }\r\n        while (node = walker.current()) {\r\n          if (NodeType.isElement(node)) {\r\n            if (!node.getAttribute('data-mce-bogus')) {\r\n              name$$1 = node.nodeName.toLowerCase();\r\n              if (nonEmptyElementsMap[name$$1] && name$$1 !== 'br') {\r\n                return false;\r\n              }\r\n            }\r\n          } else if (NodeType.isText(node) && !/^[ \\t\\r\\n]*$/.test(node.nodeValue)) {\r\n            return false;\r\n          }\r\n          if (start) {\r\n            walker.prev();\r\n          } else {\r\n            walker.next();\r\n          }\r\n        }\r\n        return true;\r\n      };\r\n      var insertNewBlockAfter = function () {\r\n        if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\r\n          newBlock = createNewBlock(newBlockName);\r\n        } else {\r\n          newBlock = createNewBlock();\r\n        }\r\n        if (Settings.shouldEndContainerOnEmptyBlock(editor) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\r\n          newBlock = dom.split(containerBlock, parentBlock);\r\n        } else {\r\n          dom.insertAfter(newBlock, parentBlock);\r\n        }\r\n        NewLineUtils.moveToCaretPosition(editor, newBlock);\r\n      };\r\n      NormalizeRange.normalize(dom, rng).each(function (normRng) {\r\n        rng.setStart(normRng.startContainer, normRng.startOffset);\r\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\r\n      });\r\n      container = rng.startContainer;\r\n      offset = rng.startOffset;\r\n      newBlockName = Settings.getForcedRootBlock(editor);\r\n      shiftKey = evt.shiftKey;\r\n      if (NodeType.isElement(container) && container.hasChildNodes()) {\r\n        isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\r\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\r\n        if (isAfterLastNodeInContainer && NodeType.isText(container)) {\r\n          offset = container.nodeValue.length;\r\n        } else {\r\n          offset = 0;\r\n        }\r\n      }\r\n      editableRoot = getEditableRoot$1(dom, container);\r\n      if (!editableRoot) {\r\n        return;\r\n      }\r\n      if (newBlockName && !shiftKey || !newBlockName && shiftKey) {\r\n        container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\r\n      }\r\n      parentBlock = dom.getParent(container, dom.isBlock);\r\n      containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\r\n      parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\r\n      containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\r\n      if (containerBlockName === 'LI' && !evt.ctrlKey) {\r\n        parentBlock = containerBlock;\r\n        containerBlock = containerBlock.parentNode;\r\n        parentBlockName = containerBlockName;\r\n      }\r\n      if (/^(LI|DT|DD)$/.test(parentBlockName)) {\r\n        if (dom.isEmpty(parentBlock)) {\r\n          InsertLi.insert(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\r\n          return;\r\n        }\r\n      }\r\n      if (newBlockName && parentBlock === editor.getBody()) {\r\n        return;\r\n      }\r\n      newBlockName = newBlockName || 'P';\r\n      if (isCaretContainerBlock(parentBlock)) {\r\n        newBlock = showCaretContainerBlock(parentBlock);\r\n        if (dom.isEmpty(parentBlock)) {\r\n          emptyBlock(parentBlock);\r\n        }\r\n        NewLineUtils.moveToCaretPosition(editor, newBlock);\r\n      } else if (isCaretAtStartOrEndOfBlock()) {\r\n        insertNewBlockAfter();\r\n      } else if (isCaretAtStartOrEndOfBlock(true)) {\r\n        newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\r\n        NewLineUtils.moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\r\n      } else {\r\n        tmpRng = includeZwspInRange(rng).cloneRange();\r\n        tmpRng.setEndAfter(parentBlock);\r\n        fragment = tmpRng.extractContents();\r\n        trimZwsp(fragment);\r\n        trimLeadingLineBreaks(fragment);\r\n        newBlock = fragment.firstChild;\r\n        dom.insertAfter(fragment, parentBlock);\r\n        trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\r\n        addBrToBlockIfNeeded(dom, parentBlock);\r\n        if (dom.isEmpty(parentBlock)) {\r\n          emptyBlock(parentBlock);\r\n        }\r\n        newBlock.normalize();\r\n        if (dom.isEmpty(newBlock)) {\r\n          dom.remove(newBlock);\r\n          insertNewBlockAfter();\r\n        } else {\r\n          NewLineUtils.moveToCaretPosition(editor, newBlock);\r\n        }\r\n      }\r\n      dom.setAttrib(newBlock, 'id', '');\r\n      editor.fire('NewBlock', { newBlock: newBlock });\r\n    };\r\n    var InsertBlock = { insert: insert$2 };\r\n\r\n    var matchesSelector = function (editor, selector) {\r\n      return NewLineUtils.getParentBlock(editor).filter(function (parentBlock) {\r\n        return selector.length > 0 && is$1(Element$$1.fromDom(parentBlock), selector);\r\n      }).isSome();\r\n    };\r\n    var shouldInsertBr = function (editor) {\r\n      return matchesSelector(editor, Settings.getBrNewLineSelector(editor));\r\n    };\r\n    var shouldBlockNewLine = function (editor) {\r\n      return matchesSelector(editor, Settings.getNoNewLineSelector(editor));\r\n    };\r\n    var ContextSelectors = {\r\n      shouldInsertBr: shouldInsertBr,\r\n      shouldBlockNewLine: shouldBlockNewLine\r\n    };\r\n\r\n    var newLineAction = Adt.generate([\r\n      { br: [] },\r\n      { block: [] },\r\n      { none: [] }\r\n    ]);\r\n    var shouldBlockNewLine$1 = function (editor, shiftKey) {\r\n      return ContextSelectors.shouldBlockNewLine(editor);\r\n    };\r\n    var isBrMode = function (requiredState) {\r\n      return function (editor, shiftKey) {\r\n        var brMode = Settings.getForcedRootBlock(editor) === '';\r\n        return brMode === requiredState;\r\n      };\r\n    };\r\n    var inListBlock = function (requiredState) {\r\n      return function (editor, shiftKey) {\r\n        return NewLineUtils.isListItemParentBlock(editor) === requiredState;\r\n      };\r\n    };\r\n    var inBlock = function (blockName, requiredState) {\r\n      return function (editor, shiftKey) {\r\n        var state = NewLineUtils.getParentBlockName(editor) === blockName.toUpperCase();\r\n        return state === requiredState;\r\n      };\r\n    };\r\n    var inPreBlock = function (requiredState) {\r\n      return inBlock('pre', requiredState);\r\n    };\r\n    var inSummaryBlock = function () {\r\n      return inBlock('summary', true);\r\n    };\r\n    var shouldPutBrInPre$1 = function (requiredState) {\r\n      return function (editor, shiftKey) {\r\n        return Settings.shouldPutBrInPre(editor) === requiredState;\r\n      };\r\n    };\r\n    var inBrContext = function (editor, shiftKey) {\r\n      return ContextSelectors.shouldInsertBr(editor);\r\n    };\r\n    var hasShiftKey = function (editor, shiftKey) {\r\n      return shiftKey;\r\n    };\r\n    var canInsertIntoEditableRoot = function (editor) {\r\n      var forcedRootBlock = Settings.getForcedRootBlock(editor);\r\n      var rootEditable = NewLineUtils.getEditableRoot(editor.dom, editor.selection.getStart());\r\n      return rootEditable && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock ? forcedRootBlock : 'P');\r\n    };\r\n    var match$2 = function (predicates, action) {\r\n      return function (editor, shiftKey) {\r\n        var isMatch = foldl(predicates, function (res, p) {\r\n          return res && p(editor, shiftKey);\r\n        }, true);\r\n        return isMatch ? Option.some(action) : Option.none();\r\n      };\r\n    };\r\n    var getAction$1 = function (editor, evt) {\r\n      return LazyEvaluator.evaluateUntil([\r\n        match$2([shouldBlockNewLine$1], newLineAction.none()),\r\n        match$2([inSummaryBlock()], newLineAction.br()),\r\n        match$2([\r\n          inPreBlock(true),\r\n          shouldPutBrInPre$1(false),\r\n          hasShiftKey\r\n        ], newLineAction.br()),\r\n        match$2([\r\n          inPreBlock(true),\r\n          shouldPutBrInPre$1(false)\r\n        ], newLineAction.block()),\r\n        match$2([\r\n          inPreBlock(true),\r\n          shouldPutBrInPre$1(true),\r\n          hasShiftKey\r\n        ], newLineAction.block()),\r\n        match$2([\r\n          inPreBlock(true),\r\n          shouldPutBrInPre$1(true)\r\n        ], newLineAction.br()),\r\n        match$2([\r\n          inListBlock(true),\r\n          hasShiftKey\r\n        ], newLineAction.br()),\r\n        match$2([inListBlock(true)], newLineAction.block()),\r\n        match$2([\r\n          isBrMode(true),\r\n          hasShiftKey,\r\n          canInsertIntoEditableRoot\r\n        ], newLineAction.block()),\r\n        match$2([isBrMode(true)], newLineAction.br()),\r\n        match$2([inBrContext], newLineAction.br()),\r\n        match$2([\r\n          isBrMode(false),\r\n          hasShiftKey\r\n        ], newLineAction.br()),\r\n        match$2([canInsertIntoEditableRoot], newLineAction.block())\r\n      ], [\r\n        editor,\r\n        evt.shiftKey\r\n      ]).getOr(newLineAction.none());\r\n    };\r\n    var NewLineAction = { getAction: getAction$1 };\r\n\r\n    var insert$3 = function (editor, evt) {\r\n      NewLineAction.getAction(editor, evt).fold(function () {\r\n        InsertBr.insert(editor, evt);\r\n      }, function () {\r\n        InsertBlock.insert(editor, evt);\r\n      }, noop);\r\n    };\r\n    var InsertNewLine = { insert: insert$3 };\r\n\r\n    var endTypingLevel = function (undoManager) {\r\n      if (undoManager.typing) {\r\n        undoManager.typing = false;\r\n        undoManager.add();\r\n      }\r\n    };\r\n    var handleEnterKeyEvent = function (editor, event) {\r\n      if (event.isDefaultPrevented()) {\r\n        return;\r\n      }\r\n      event.preventDefault();\r\n      endTypingLevel(editor.undoManager);\r\n      editor.undoManager.transact(function () {\r\n        if (editor.selection.isCollapsed() === false) {\r\n          editor.execCommand('Delete');\r\n        }\r\n        InsertNewLine.insert(editor, event);\r\n      });\r\n    };\r\n    var setup$9 = function (editor) {\r\n      editor.on('keydown', function (event) {\r\n        if (event.keyCode === VK.ENTER) {\r\n          handleEnterKeyEvent(editor, event);\r\n        }\r\n      });\r\n    };\r\n    var EnterKey = { setup: setup$9 };\r\n\r\n    var insertTextAtPosition = function (text, pos) {\r\n      var container = pos.container();\r\n      var offset = pos.offset();\r\n      if (NodeType.isText(container)) {\r\n        container.insertData(offset, text);\r\n        return Option.some(CaretPosition(container, offset + text.length));\r\n      } else {\r\n        return getElementFromPosition(pos).map(function (elm) {\r\n          var textNode = Element$$1.fromText(text);\r\n          if (pos.isAtEnd()) {\r\n            after(elm, textNode);\r\n          } else {\r\n            before(elm, textNode);\r\n          }\r\n          return CaretPosition(textNode.dom(), text.length);\r\n        });\r\n      }\r\n    };\r\n    var insertNbspAtPosition = curry(insertTextAtPosition, '\\xA0');\r\n    var insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\r\n\r\n    var isAtBlockBoundary = function (forward, root, pos) {\r\n      var parentBlocks = filter(Parents.parentsAndSelf(Element$$1.fromDom(pos.container()), root), isBlock);\r\n      return head(parentBlocks).fold(function () {\r\n        return CaretFinder.navigate(forward, root.dom(), pos).forall(function (newPos) {\r\n          return isInSameBlock(newPos, pos, root.dom()) === false;\r\n        });\r\n      }, function (parent) {\r\n        return CaretFinder.navigate(forward, parent.dom(), pos).isNone();\r\n      });\r\n    };\r\n    var isAtStartOfBlock = curry(isAtBlockBoundary, false);\r\n    var isAtEndOfBlock = curry(isAtBlockBoundary, true);\r\n\r\n    var nbsp = '\\xA0';\r\n    var isInMiddleOfText = function (pos) {\r\n      return CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\r\n    };\r\n    var getClosestBlock = function (root, pos) {\r\n      var parentBlocks = filter(Parents.parentsAndSelf(Element$$1.fromDom(pos.container()), root), isBlock);\r\n      return head(parentBlocks).getOr(root);\r\n    };\r\n    var hasSpaceBefore = function (root, pos) {\r\n      if (isInMiddleOfText(pos)) {\r\n        return isAfterSpace(pos);\r\n      } else {\r\n        return isAfterSpace(pos) || CaretFinder.prevPosition(getClosestBlock(root, pos).dom(), pos).exists(isAfterSpace);\r\n      }\r\n    };\r\n    var hasSpaceAfter = function (root, pos) {\r\n      if (isInMiddleOfText(pos)) {\r\n        return isBeforeSpace(pos);\r\n      } else {\r\n        return isBeforeSpace(pos) || CaretFinder.nextPosition(getClosestBlock(root, pos).dom(), pos).exists(isBeforeSpace);\r\n      }\r\n    };\r\n    var isPreValue = function (value$$1) {\r\n      return contains([\r\n        'pre',\r\n        'pre-line',\r\n        'pre-wrap'\r\n      ], value$$1);\r\n    };\r\n    var isInPre = function (pos) {\r\n      return getElementFromPosition(pos).bind(function (elm) {\r\n        return closest(elm, isElement);\r\n      }).exists(function (elm) {\r\n        return isPreValue(get$2(elm, 'white-space'));\r\n      });\r\n    };\r\n    var isAtBeginningOfBody = function (root, pos) {\r\n      return CaretFinder.prevPosition(root.dom(), pos).isNone();\r\n    };\r\n    var isAtEndOfBody = function (root, pos) {\r\n      return CaretFinder.nextPosition(root.dom(), pos).isNone();\r\n    };\r\n    var isAtLineBoundary = function (root, pos) {\r\n      return isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos) || isAtEndOfBlock(root, pos) || isAfterBr(root, pos) || isBeforeBr(root, pos);\r\n    };\r\n    var needsToHaveNbsp = function (root, pos) {\r\n      if (isInPre(pos)) {\r\n        return false;\r\n      } else {\r\n        return isAtLineBoundary(root, pos) || hasSpaceBefore(root, pos) || hasSpaceAfter(root, pos);\r\n      }\r\n    };\r\n    var needsToBeNbspLeft = function (root, pos) {\r\n      if (isInPre(pos)) {\r\n        return false;\r\n      } else {\r\n        return isAtStartOfBlock(root, pos) || isAfterBr(root, pos) || hasSpaceBefore(root, pos);\r\n      }\r\n    };\r\n    var needsToBeNbspRight = function (root, pos) {\r\n      if (isInPre(pos)) {\r\n        return false;\r\n      } else {\r\n        return isAtEndOfBlock(root, pos) || isBeforeBr(root, pos) || hasSpaceAfter(root, pos);\r\n      }\r\n    };\r\n    var isNbspAt = function (text, offset) {\r\n      return isNbsp(text.charAt(offset));\r\n    };\r\n    var hasNbsp = function (pos) {\r\n      var container = pos.container();\r\n      return NodeType.isText(container) && contains$2(container.data, nbsp);\r\n    };\r\n    var normalizeNbspAtStart = function (root, node, text) {\r\n      var firstPos = CaretPosition(node, 0);\r\n      if (isNbspAt(text, 0) && !needsToBeNbspLeft(root, firstPos)) {\r\n        return ' ' + text.slice(1);\r\n      } else {\r\n        return text;\r\n      }\r\n    };\r\n    var normalizeNbspMiddle = function (text) {\r\n      return map(text.split(''), function (chr, i, chars) {\r\n        if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent(chars[i - 1]) && isContent(chars[i + 1])) {\r\n          return ' ';\r\n        } else {\r\n          return chr;\r\n        }\r\n      }).join('');\r\n    };\r\n    var normalizeNbspAtEnd = function (root, node, text) {\r\n      var lastPos = CaretPosition(node, text.length);\r\n      if (isNbspAt(text, text.length - 1) && !needsToBeNbspRight(root, lastPos)) {\r\n        return text.slice(0, -1) + ' ';\r\n      } else {\r\n        return text;\r\n      }\r\n    };\r\n    var normalizeNbsps = function (root, pos) {\r\n      return Option.some(pos).filter(hasNbsp).bind(function (pos) {\r\n        var container = pos.container();\r\n        var text = container.nodeValue;\r\n        var newText = normalizeNbspAtStart(root, container, normalizeNbspMiddle(normalizeNbspAtEnd(root, container, text)));\r\n        if (text !== newText) {\r\n          pos.container().nodeValue = newText;\r\n          return Option.some(pos);\r\n        } else {\r\n          return Option.none();\r\n        }\r\n      });\r\n    };\r\n    var normalizeNbspsInEditor = function (editor) {\r\n      var root = Element$$1.fromDom(editor.getBody());\r\n      if (editor.selection.isCollapsed()) {\r\n        normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng())).each(function (pos) {\r\n          editor.selection.setRng(pos.toRange());\r\n        });\r\n      }\r\n    };\r\n\r\n    var locationToCaretPosition = function (root) {\r\n      return function (location) {\r\n        return location.fold(function (element) {\r\n          return CaretFinder.prevPosition(root.dom(), CaretPosition$1.before(element));\r\n        }, function (element) {\r\n          return CaretFinder.firstPositionIn(element);\r\n        }, function (element) {\r\n          return CaretFinder.lastPositionIn(element);\r\n        }, function (element) {\r\n          return CaretFinder.nextPosition(root.dom(), CaretPosition$1.after(element));\r\n        });\r\n      };\r\n    };\r\n    var insertInlineBoundarySpaceOrNbsp = function (root, pos) {\r\n      return function (checkPos) {\r\n        return needsToHaveNbsp(root, checkPos) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\r\n      };\r\n    };\r\n    var setSelection$1 = function (editor) {\r\n      return function (pos) {\r\n        editor.selection.setRng(pos.toRange());\r\n        editor.nodeChanged();\r\n        return true;\r\n      };\r\n    };\r\n    var insertSpaceOrNbspAtSelection = function (editor) {\r\n      var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n      var root = Element$$1.fromDom(editor.getBody());\r\n      if (editor.selection.isCollapsed()) {\r\n        var isInlineTarget = curry(InlineUtils.isInlineTarget, editor);\r\n        var caretPosition = CaretPosition$1.fromRangeStart(editor.selection.getRng());\r\n        return BoundaryLocation.readLocation(isInlineTarget, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).bind(insertInlineBoundarySpaceOrNbsp(root, pos)).exists(setSelection$1(editor));\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    var executeKeydownOverride$2 = function (editor, evt) {\r\n      MatchKeys.execute([{\r\n          keyCode: VK.SPACEBAR,\r\n          action: MatchKeys.action(insertSpaceOrNbspAtSelection, editor)\r\n        }], evt).each(function (_) {\r\n        evt.preventDefault();\r\n      });\r\n    };\r\n    var setup$a = function (editor) {\r\n      editor.on('keydown', function (evt) {\r\n        if (evt.isDefaultPrevented() === false) {\r\n          executeKeydownOverride$2(editor, evt);\r\n        }\r\n      });\r\n    };\r\n    var SpaceKey = { setup: setup$a };\r\n\r\n    var findBlockCaretContainer = function (editor) {\r\n      return descendant$1(Element$$1.fromDom(editor.getBody()), '*[data-mce-caret]').fold(constant(null), function (elm) {\r\n        return elm.dom();\r\n      });\r\n    };\r\n    var removeIeControlRect = function (editor) {\r\n      editor.selection.setRng(editor.selection.getRng());\r\n    };\r\n    var showBlockCaretContainer = function (editor, blockCaretContainer) {\r\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\r\n        showCaretContainerBlock(blockCaretContainer);\r\n        removeIeControlRect(editor);\r\n        editor.selection.scrollIntoView(blockCaretContainer);\r\n      }\r\n    };\r\n    var handleBlockContainer = function (editor, e) {\r\n      var blockCaretContainer = findBlockCaretContainer(editor);\r\n      if (!blockCaretContainer) {\r\n        return;\r\n      }\r\n      if (e.type === 'compositionstart') {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        showBlockCaretContainer(editor, blockCaretContainer);\r\n        return;\r\n      }\r\n      if (hasContent(blockCaretContainer)) {\r\n        showBlockCaretContainer(editor, blockCaretContainer);\r\n        editor.undoManager.add();\r\n      }\r\n    };\r\n    var setup$b = function (editor) {\r\n      editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\r\n    };\r\n    var CaretContainerInput = { setup: setup$b };\r\n\r\n    var browser$4 = PlatformDetection$1.detect().browser;\r\n    var setupIeInput = function (editor) {\r\n      var keypressThrotter = first$1(function () {\r\n        if (!editor.composing) {\r\n          normalizeNbspsInEditor(editor);\r\n        }\r\n      }, 0);\r\n      if (browser$4.isIE()) {\r\n        editor.on('keypress', function (e) {\r\n          keypressThrotter.throttle();\r\n        });\r\n        editor.on('remove', function (e) {\r\n          keypressThrotter.cancel();\r\n        });\r\n      }\r\n    };\r\n    var setup$c = function (editor) {\r\n      setupIeInput(editor);\r\n      editor.on('input', function (e) {\r\n        if (e.isComposing === false) {\r\n          normalizeNbspsInEditor(editor);\r\n        }\r\n      });\r\n    };\r\n\r\n    var setup$d = function (editor) {\r\n      var caret = BoundarySelection.setupSelectedState(editor);\r\n      CaretContainerInput.setup(editor);\r\n      ArrowKeys.setup(editor, caret);\r\n      DeleteBackspaceKeys.setup(editor, caret);\r\n      EnterKey.setup(editor);\r\n      SpaceKey.setup(editor);\r\n      setup$c(editor);\r\n    };\r\n    var KeyboardOverrides = { setup: setup$d };\r\n\r\n    function Quirks (editor) {\r\n      var each = Tools.each;\r\n      var BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection, settings = editor.settings, parser = editor.parser;\r\n      var isGecko = Env.gecko, isIE = Env.ie, isWebKit = Env.webkit;\r\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\r\n      var mceInternalDataType = isIE ? 'Text' : 'URL';\r\n      var setEditorCommandState = function (cmd, state) {\r\n        try {\r\n          editor.getDoc().execCommand(cmd, false, state);\r\n        } catch (ex) {\r\n        }\r\n      };\r\n      var isDefaultPrevented = function (e) {\r\n        return e.isDefaultPrevented();\r\n      };\r\n      var setMceInternalContent = function (e) {\r\n        var selectionHtml, internalContent;\r\n        if (e.dataTransfer) {\r\n          if (editor.selection.isCollapsed() && e.target.tagName === 'IMG') {\r\n            selection.select(e.target);\r\n          }\r\n          selectionHtml = editor.selection.getContent();\r\n          if (selectionHtml.length > 0) {\r\n            internalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);\r\n            e.dataTransfer.setData(mceInternalDataType, internalContent);\r\n          }\r\n        }\r\n      };\r\n      var getMceInternalContent = function (e) {\r\n        var internalContent;\r\n        if (e.dataTransfer) {\r\n          internalContent = e.dataTransfer.getData(mceInternalDataType);\r\n          if (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {\r\n            internalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');\r\n            return {\r\n              id: unescape(internalContent[0]),\r\n              html: unescape(internalContent[1])\r\n            };\r\n          }\r\n        }\r\n        return null;\r\n      };\r\n      var insertClipboardContents = function (content, internal) {\r\n        if (editor.queryCommandSupported('mceInsertClipboardContent')) {\r\n          editor.execCommand('mceInsertClipboardContent', false, {\r\n            content: content,\r\n            internal: internal\r\n          });\r\n        } else {\r\n          editor.execCommand('mceInsertContent', false, content);\r\n        }\r\n      };\r\n      var emptyEditorWhenDeleting = function () {\r\n        var serializeRng = function (rng) {\r\n          var body = dom.create('body');\r\n          var contents = rng.cloneContents();\r\n          body.appendChild(contents);\r\n          return selection.serializer.serialize(body, { format: 'html' });\r\n        };\r\n        var allContentsSelected = function (rng) {\r\n          var selection = serializeRng(rng);\r\n          var allRng = dom.createRng();\r\n          allRng.selectNode(editor.getBody());\r\n          var allSelection = serializeRng(allRng);\r\n          return selection === allSelection;\r\n        };\r\n        editor.on('keydown', function (e) {\r\n          var keyCode = e.keyCode;\r\n          var isCollapsed, body;\r\n          if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\r\n            isCollapsed = editor.selection.isCollapsed();\r\n            body = editor.getBody();\r\n            if (isCollapsed && !dom.isEmpty(body)) {\r\n              return;\r\n            }\r\n            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\r\n              return;\r\n            }\r\n            e.preventDefault();\r\n            editor.setContent('');\r\n            if (body.firstChild && dom.isBlock(body.firstChild)) {\r\n              editor.selection.setCursorLocation(body.firstChild, 0);\r\n            } else {\r\n              editor.selection.setCursorLocation(body, 0);\r\n            }\r\n            editor.nodeChanged();\r\n          }\r\n        });\r\n      };\r\n      var selectAll = function () {\r\n        editor.shortcuts.add('meta+a', null, 'SelectAll');\r\n      };\r\n      var inputMethodFocus = function () {\r\n        if (!editor.settings.content_editable) {\r\n          dom.bind(editor.getDoc(), 'mousedown mouseup', function (e) {\r\n            var rng;\r\n            if (e.target === editor.getDoc().documentElement) {\r\n              rng = selection.getRng();\r\n              editor.getBody().focus();\r\n              if (e.type === 'mousedown') {\r\n                if (isCaretContainer(rng.startContainer)) {\r\n                  return;\r\n                }\r\n                selection.placeCaretAt(e.clientX, e.clientY);\r\n              } else {\r\n                selection.setRng(rng);\r\n              }\r\n            }\r\n          });\r\n        }\r\n      };\r\n      var removeHrOnBackspace = function () {\r\n        editor.on('keydown', function (e) {\r\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\r\n            if (!editor.getBody().getElementsByTagName('hr').length) {\r\n              return;\r\n            }\r\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\r\n              var node = selection.getNode();\r\n              var previousSibling = node.previousSibling;\r\n              if (node.nodeName === 'HR') {\r\n                dom.remove(node);\r\n                e.preventDefault();\r\n                return;\r\n              }\r\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\r\n                dom.remove(previousSibling);\r\n                e.preventDefault();\r\n              }\r\n            }\r\n          }\r\n        });\r\n      };\r\n      var focusBody = function () {\r\n        if (!Range.prototype.getClientRects) {\r\n          editor.on('mousedown', function (e) {\r\n            if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\r\n              var body_1 = editor.getBody();\r\n              body_1.blur();\r\n              Delay.setEditorTimeout(editor, function () {\r\n                body_1.focus();\r\n              });\r\n            }\r\n          });\r\n        }\r\n      };\r\n      var selectControlElements = function () {\r\n        editor.on('click', function (e) {\r\n          var target = e.target;\r\n          if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\r\n            e.preventDefault();\r\n            editor.selection.select(target);\r\n            editor.nodeChanged();\r\n          }\r\n          if (target.nodeName === 'A' && dom.hasClass(target, 'mce-item-anchor')) {\r\n            e.preventDefault();\r\n            selection.select(target);\r\n          }\r\n        });\r\n      };\r\n      var removeStylesWhenDeletingAcrossBlockElements = function () {\r\n        var getAttributeApplyFunction = function () {\r\n          var template = dom.getAttribs(selection.getStart().cloneNode(false));\r\n          return function () {\r\n            var target = selection.getStart();\r\n            if (target !== editor.getBody()) {\r\n              dom.setAttrib(target, 'style', null);\r\n              each(template, function (attr) {\r\n                target.setAttributeNode(attr.cloneNode(true));\r\n              });\r\n            }\r\n          };\r\n        };\r\n        var isSelectionAcrossElements = function () {\r\n          return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\r\n        };\r\n        editor.on('keypress', function (e) {\r\n          var applyAttributes;\r\n          if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\r\n            applyAttributes = getAttributeApplyFunction();\r\n            editor.getDoc().execCommand('delete', false, null);\r\n            applyAttributes();\r\n            e.preventDefault();\r\n            return false;\r\n          }\r\n        });\r\n        dom.bind(editor.getDoc(), 'cut', function (e) {\r\n          var applyAttributes;\r\n          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\r\n            applyAttributes = getAttributeApplyFunction();\r\n            Delay.setEditorTimeout(editor, function () {\r\n              applyAttributes();\r\n            });\r\n          }\r\n        });\r\n      };\r\n      var disableBackspaceIntoATable = function () {\r\n        editor.on('keydown', function (e) {\r\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\r\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\r\n              var previousSibling = selection.getNode().previousSibling;\r\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\r\n                e.preventDefault();\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n        });\r\n      };\r\n      var removeBlockQuoteOnBackSpace = function () {\r\n        editor.on('keydown', function (e) {\r\n          var rng, container, offset, root, parent$$1;\r\n          if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\r\n            return;\r\n          }\r\n          rng = selection.getRng();\r\n          container = rng.startContainer;\r\n          offset = rng.startOffset;\r\n          root = dom.getRoot();\r\n          parent$$1 = container;\r\n          if (!rng.collapsed || offset !== 0) {\r\n            return;\r\n          }\r\n          while (parent$$1 && parent$$1.parentNode && parent$$1.parentNode.firstChild === parent$$1 && parent$$1.parentNode !== root) {\r\n            parent$$1 = parent$$1.parentNode;\r\n          }\r\n          if (parent$$1.tagName === 'BLOCKQUOTE') {\r\n            editor.formatter.toggle('blockquote', null, parent$$1);\r\n            rng = dom.createRng();\r\n            rng.setStart(container, 0);\r\n            rng.setEnd(container, 0);\r\n            selection.setRng(rng);\r\n          }\r\n        });\r\n      };\r\n      var setGeckoEditingOptions = function () {\r\n        var setOpts = function () {\r\n          setEditorCommandState('StyleWithCSS', false);\r\n          setEditorCommandState('enableInlineTableEditing', false);\r\n          if (!settings.object_resizing) {\r\n            setEditorCommandState('enableObjectResizing', false);\r\n          }\r\n        };\r\n        if (!settings.readonly) {\r\n          editor.on('BeforeExecCommand MouseDown', setOpts);\r\n        }\r\n      };\r\n      var addBrAfterLastLinks = function () {\r\n        var fixLinks = function () {\r\n          each(dom.select('a'), function (node) {\r\n            var parentNode = node.parentNode;\r\n            var root = dom.getRoot();\r\n            if (parentNode.lastChild === node) {\r\n              while (parentNode && !dom.isBlock(parentNode)) {\r\n                if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\r\n                  return;\r\n                }\r\n                parentNode = parentNode.parentNode;\r\n              }\r\n              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\r\n            }\r\n          });\r\n        };\r\n        editor.on('SetContent ExecCommand', function (e) {\r\n          if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\r\n            fixLinks();\r\n          }\r\n        });\r\n      };\r\n      var setDefaultBlockType = function () {\r\n        if (settings.forced_root_block) {\r\n          editor.on('init', function () {\r\n            setEditorCommandState('DefaultParagraphSeparator', settings.forced_root_block);\r\n          });\r\n        }\r\n      };\r\n      var normalizeSelection = function () {\r\n        editor.on('keyup focusin mouseup', function (e) {\r\n          if (!VK.modifierPressed(e)) {\r\n            selection.normalize();\r\n          }\r\n        }, true);\r\n      };\r\n      var showBrokenImageIcon = function () {\r\n        editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\r\n      };\r\n      var restoreFocusOnKeyDown = function () {\r\n        if (!editor.inline) {\r\n          editor.on('keydown', function () {\r\n            if (document.activeElement === document.body) {\r\n              editor.getWin().focus();\r\n            }\r\n          });\r\n        }\r\n      };\r\n      var bodyHeight = function () {\r\n        if (!editor.inline) {\r\n          editor.contentStyles.push('body {min-height: 150px}');\r\n          editor.on('click', function (e) {\r\n            var rng;\r\n            if (e.target.nodeName === 'HTML') {\r\n              if (Env.ie > 11) {\r\n                editor.getBody().focus();\r\n                return;\r\n              }\r\n              rng = editor.selection.getRng();\r\n              editor.getBody().focus();\r\n              editor.selection.setRng(rng);\r\n              editor.selection.normalize();\r\n              editor.nodeChanged();\r\n            }\r\n          });\r\n        }\r\n      };\r\n      var blockCmdArrowNavigation = function () {\r\n        if (Env.mac) {\r\n          editor.on('keydown', function (e) {\r\n            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\r\n              e.preventDefault();\r\n              editor.selection.getSel().modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\r\n            }\r\n          });\r\n        }\r\n      };\r\n      var disableAutoUrlDetect = function () {\r\n        setEditorCommandState('AutoUrlDetect', false);\r\n      };\r\n      var tapLinksAndImages = function () {\r\n        editor.on('click', function (e) {\r\n          var elm = e.target;\r\n          do {\r\n            if (elm.tagName === 'A') {\r\n              e.preventDefault();\r\n              return;\r\n            }\r\n          } while (elm = elm.parentNode);\r\n        });\r\n        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\r\n      };\r\n      var blockFormSubmitInsideEditor = function () {\r\n        editor.on('init', function () {\r\n          editor.dom.bind(editor.getBody(), 'submit', function (e) {\r\n            e.preventDefault();\r\n          });\r\n        });\r\n      };\r\n      var removeAppleInterchangeBrs = function () {\r\n        parser.addNodeFilter('br', function (nodes) {\r\n          var i = nodes.length;\r\n          while (i--) {\r\n            if (nodes[i].attr('class') === 'Apple-interchange-newline') {\r\n              nodes[i].remove();\r\n            }\r\n          }\r\n        });\r\n      };\r\n      var ieInternalDragAndDrop = function () {\r\n        editor.on('dragstart', function (e) {\r\n          setMceInternalContent(e);\r\n        });\r\n        editor.on('drop', function (e) {\r\n          if (!isDefaultPrevented(e)) {\r\n            var internalContent = getMceInternalContent(e);\r\n            if (internalContent && internalContent.id !== editor.id) {\r\n              e.preventDefault();\r\n              var rng = CaretRangeFromPoint.fromPoint(e.x, e.y, editor.getDoc());\r\n              selection.setRng(rng);\r\n              insertClipboardContents(internalContent.html, true);\r\n            }\r\n          }\r\n        });\r\n      };\r\n      var refreshContentEditable = function () {\r\n      };\r\n      var isHidden = function () {\r\n        var sel;\r\n        if (!isGecko || editor.removed) {\r\n          return 0;\r\n        }\r\n        sel = editor.selection.getSel();\r\n        return !sel || !sel.rangeCount || sel.rangeCount === 0;\r\n      };\r\n      removeBlockQuoteOnBackSpace();\r\n      emptyEditorWhenDeleting();\r\n      if (!Env.windowsPhone) {\r\n        normalizeSelection();\r\n      }\r\n      if (isWebKit) {\r\n        inputMethodFocus();\r\n        selectControlElements();\r\n        setDefaultBlockType();\r\n        blockFormSubmitInsideEditor();\r\n        disableBackspaceIntoATable();\r\n        removeAppleInterchangeBrs();\r\n        if (Env.iOS) {\r\n          restoreFocusOnKeyDown();\r\n          bodyHeight();\r\n          tapLinksAndImages();\r\n        } else {\r\n          selectAll();\r\n        }\r\n      }\r\n      if (Env.ie >= 11) {\r\n        bodyHeight();\r\n        disableBackspaceIntoATable();\r\n      }\r\n      if (Env.ie) {\r\n        selectAll();\r\n        disableAutoUrlDetect();\r\n        ieInternalDragAndDrop();\r\n      }\r\n      if (isGecko) {\r\n        removeHrOnBackspace();\r\n        focusBody();\r\n        removeStylesWhenDeletingAcrossBlockElements();\r\n        setGeckoEditingOptions();\r\n        addBrAfterLastLinks();\r\n        showBrokenImageIcon();\r\n        blockCmdArrowNavigation();\r\n        disableBackspaceIntoATable();\r\n      }\r\n      return {\r\n        refreshContentEditable: refreshContentEditable,\r\n        isHidden: isHidden\r\n      };\r\n    }\r\n\r\n    var isTextBlockNode = function (node) {\r\n      return NodeType.isElement(node) && isTextBlock(Element$$1.fromDom(node));\r\n    };\r\n    var normalizeSelection$1 = function (editor) {\r\n      var rng = editor.selection.getRng();\r\n      var startPos = CaretPosition.fromRangeStart(rng);\r\n      var endPos = CaretPosition.fromRangeEnd(rng);\r\n      if (CaretPosition.isElementPosition(startPos)) {\r\n        var container = startPos.container();\r\n        if (isTextBlockNode(container)) {\r\n          CaretFinder.firstPositionIn(container).each(function (pos) {\r\n            return rng.setStart(pos.container(), pos.offset());\r\n          });\r\n        }\r\n      }\r\n      if (CaretPosition.isElementPosition(endPos)) {\r\n        var container = startPos.container();\r\n        if (isTextBlockNode(container)) {\r\n          CaretFinder.lastPositionIn(container).each(function (pos) {\r\n            return rng.setEnd(pos.container(), pos.offset());\r\n          });\r\n        }\r\n      }\r\n      editor.selection.setRng(RangeNormalizer.normalize(rng));\r\n    };\r\n    var setup$e = function (editor) {\r\n      editor.on('click', function (e) {\r\n        if (e.detail >= 3) {\r\n          normalizeSelection$1(editor);\r\n        }\r\n      });\r\n    };\r\n\r\n    var preventSummaryToggle = function (editor) {\r\n      editor.on('click', function (e) {\r\n        if (editor.dom.getParent(e.target, 'details')) {\r\n          e.preventDefault();\r\n        }\r\n      });\r\n    };\r\n    var filterDetails = function (editor) {\r\n      editor.parser.addNodeFilter('details', function (elms) {\r\n        each(elms, function (details) {\r\n          details.attr('data-mce-open', details.attr('open'));\r\n          details.attr('open', 'open');\r\n        });\r\n      });\r\n      editor.serializer.addNodeFilter('details', function (elms) {\r\n        each(elms, function (details) {\r\n          var open = details.attr('data-mce-open');\r\n          details.attr('open', isString(open) ? open : null);\r\n          details.attr('data-mce-open', null);\r\n        });\r\n      });\r\n    };\r\n    var setup$f = function (editor) {\r\n      preventSummaryToggle(editor);\r\n      filterDetails(editor);\r\n    };\r\n\r\n    var DOM$2 = DOMUtils$1.DOM;\r\n    var appendStyle = function (editor, text) {\r\n      var head = Element$$1.fromDom(editor.getDoc().head);\r\n      var tag = Element$$1.fromTag('style');\r\n      set(tag, 'type', 'text/css');\r\n      append(tag, Element$$1.fromText(text));\r\n      append(head, tag);\r\n    };\r\n    var createParser = function (editor) {\r\n      var parser = DomParser(editor.settings, editor.schema);\r\n      parser.addAttributeFilter('src,href,style,tabindex', function (nodes, name$$1) {\r\n        var i = nodes.length, node;\r\n        var dom = editor.dom;\r\n        var value, internalName;\r\n        while (i--) {\r\n          node = nodes[i];\r\n          value = node.attr(name$$1);\r\n          internalName = 'data-mce-' + name$$1;\r\n          if (!node.attributes.map[internalName]) {\r\n            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\r\n              continue;\r\n            }\r\n            if (name$$1 === 'style') {\r\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\r\n              if (!value.length) {\r\n                value = null;\r\n              }\r\n              node.attr(internalName, value);\r\n              node.attr(name$$1, value);\r\n            } else if (name$$1 === 'tabindex') {\r\n              node.attr(internalName, value);\r\n              node.attr(name$$1, null);\r\n            } else {\r\n              node.attr(internalName, editor.convertURL(value, name$$1, node.name));\r\n            }\r\n          }\r\n        }\r\n      });\r\n      parser.addNodeFilter('script', function (nodes) {\r\n        var i = nodes.length, node, type;\r\n        while (i--) {\r\n          node = nodes[i];\r\n          type = node.attr('type') || 'no/type';\r\n          if (type.indexOf('mce-') !== 0) {\r\n            node.attr('type', 'mce-' + type);\r\n          }\r\n        }\r\n      });\r\n      parser.addNodeFilter('#cdata', function (nodes) {\r\n        var i = nodes.length, node;\r\n        while (i--) {\r\n          node = nodes[i];\r\n          node.type = 8;\r\n          node.name = '#comment';\r\n          node.value = '[CDATA[' + node.value + ']]';\r\n        }\r\n      });\r\n      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function (nodes) {\r\n        var i = nodes.length, node;\r\n        var nonEmptyElements = editor.schema.getNonEmptyElements();\r\n        while (i--) {\r\n          node = nodes[i];\r\n          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\r\n            node.append(new Node$2('br', 1)).shortEnded = true;\r\n          }\r\n        }\r\n      });\r\n      return parser;\r\n    };\r\n    var autoFocus = function (editor) {\r\n      if (editor.settings.auto_focus) {\r\n        Delay.setEditorTimeout(editor, function () {\r\n          var focusEditor;\r\n          if (editor.settings.auto_focus === true) {\r\n            focusEditor = editor;\r\n          } else {\r\n            focusEditor = editor.editorManager.get(editor.settings.auto_focus);\r\n          }\r\n          if (!focusEditor.destroyed) {\r\n            focusEditor.focus();\r\n          }\r\n        }, 100);\r\n      }\r\n    };\r\n    var initEditor = function (editor) {\r\n      editor.bindPendingEventDelegates();\r\n      editor.initialized = true;\r\n      editor.fire('init');\r\n      editor.focus(true);\r\n      editor.nodeChanged({ initial: true });\r\n      editor.execCallback('init_instance_callback', editor);\r\n      autoFocus(editor);\r\n    };\r\n    var getStyleSheetLoader = function (editor) {\r\n      return editor.inline ? DOM$2.styleSheetLoader : editor.dom.styleSheetLoader;\r\n    };\r\n    var initContentBody = function (editor, skipWrite) {\r\n      var settings = editor.settings;\r\n      var targetElm = editor.getElement();\r\n      var doc = editor.getDoc(), body, contentCssText;\r\n      if (!settings.inline) {\r\n        editor.getElement().style.visibility = editor.orgVisibility;\r\n      }\r\n      if (!skipWrite && !settings.content_editable) {\r\n        doc.open();\r\n        doc.write(editor.iframeHTML);\r\n        doc.close();\r\n      }\r\n      if (settings.content_editable) {\r\n        editor.on('remove', function () {\r\n          var bodyEl = this.getBody();\r\n          DOM$2.removeClass(bodyEl, 'mce-content-body');\r\n          DOM$2.removeClass(bodyEl, 'mce-edit-focus');\r\n          DOM$2.setAttrib(bodyEl, 'contentEditable', null);\r\n        });\r\n        DOM$2.addClass(targetElm, 'mce-content-body');\r\n        editor.contentDocument = doc = settings.content_document || document;\r\n        editor.contentWindow = settings.content_window || window;\r\n        editor.bodyElement = targetElm;\r\n        settings.content_document = settings.content_window = null;\r\n        settings.root_name = targetElm.nodeName.toLowerCase();\r\n      }\r\n      body = editor.getBody();\r\n      body.disabled = true;\r\n      editor.readonly = settings.readonly;\r\n      if (!editor.readonly) {\r\n        if (editor.inline && DOM$2.getStyle(body, 'position', true) === 'static') {\r\n          body.style.position = 'relative';\r\n        }\r\n        body.contentEditable = editor.getParam('content_editable_state', true);\r\n      }\r\n      body.disabled = false;\r\n      editor.editorUpload = EditorUpload(editor);\r\n      editor.schema = Schema(settings);\r\n      editor.dom = DOMUtils$1(doc, {\r\n        keep_values: true,\r\n        url_converter: editor.convertURL,\r\n        url_converter_scope: editor,\r\n        hex_colors: settings.force_hex_style_colors,\r\n        class_filter: settings.class_filter,\r\n        update_styles: true,\r\n        root_element: editor.inline ? editor.getBody() : null,\r\n        collect: settings.content_editable,\r\n        schema: editor.schema,\r\n        contentCssCors: Settings.shouldUseContentCssCors(editor),\r\n        onSetAttrib: function (e) {\r\n          editor.fire('SetAttrib', e);\r\n        }\r\n      });\r\n      editor.parser = createParser(editor);\r\n      editor.serializer = Serializer$1(settings, editor);\r\n      editor.selection = Selection(editor.dom, editor.getWin(), editor.serializer, editor);\r\n      editor.annotator = Annotator(editor);\r\n      editor.formatter = Formatter(editor);\r\n      editor.undoManager = UndoManager(editor);\r\n      editor._nodeChangeDispatcher = new NodeChange(editor);\r\n      editor._selectionOverrides = SelectionOverrides(editor);\r\n      setup$f(editor);\r\n      setup$e(editor);\r\n      KeyboardOverrides.setup(editor);\r\n      ForceBlocks.setup(editor);\r\n      editor.fire('PreInit');\r\n      if (!settings.browser_spellcheck && !settings.gecko_spellcheck) {\r\n        doc.body.spellcheck = false;\r\n        DOM$2.setAttrib(body, 'spellcheck', 'false');\r\n      }\r\n      editor.quirks = Quirks(editor);\r\n      editor.fire('PostRender');\r\n      if (settings.directionality) {\r\n        body.dir = settings.directionality;\r\n      }\r\n      if (settings.nowrap) {\r\n        body.style.whiteSpace = 'nowrap';\r\n      }\r\n      if (settings.protect) {\r\n        editor.on('BeforeSetContent', function (e) {\r\n          Tools.each(settings.protect, function (pattern) {\r\n            e.content = e.content.replace(pattern, function (str) {\r\n              return '<!--mce:protected ' + escape(str) + '-->';\r\n            });\r\n          });\r\n        });\r\n      }\r\n      editor.on('SetContent', function () {\r\n        editor.addVisual(editor.getBody());\r\n      });\r\n      editor.load({\r\n        initial: true,\r\n        format: 'html'\r\n      });\r\n      editor.startContent = editor.getContent({ format: 'raw' });\r\n      editor.on('compositionstart compositionend', function (e) {\r\n        editor.composing = e.type === 'compositionstart';\r\n      });\r\n      if (editor.contentStyles.length > 0) {\r\n        contentCssText = '';\r\n        Tools.each(editor.contentStyles, function (style) {\r\n          contentCssText += style + '\\r\\n';\r\n        });\r\n        editor.dom.addStyle(contentCssText);\r\n      }\r\n      getStyleSheetLoader(editor).loadAll(editor.contentCSS, function (_) {\r\n        initEditor(editor);\r\n      }, function (urls) {\r\n        initEditor(editor);\r\n      });\r\n      if (settings.content_style) {\r\n        appendStyle(editor, settings.content_style);\r\n      }\r\n    };\r\n    var InitContentBody = { initContentBody: initContentBody };\r\n\r\n    var DOM$3 = DOMUtils$1.DOM;\r\n    var relaxDomain = function (editor, ifr) {\r\n      if (document.domain !== window.location.hostname && Env.ie && Env.ie < 12) {\r\n        var bodyUuid = Uuid.uuid('mce');\r\n        editor[bodyUuid] = function () {\r\n          InitContentBody.initContentBody(editor);\r\n        };\r\n        var domainRelaxUrl = 'javascript:(function(){' + 'document.open();document.domain=\"' + document.domain + '\";' + 'var ed = window.parent.tinymce.get(\"' + editor.id + '\");document.write(ed.iframeHTML);' + 'document.close();ed.' + bodyUuid + '(true);})()';\r\n        DOM$3.setAttrib(ifr, 'src', domainRelaxUrl);\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n    var normalizeHeight = function (height) {\r\n      var normalizedHeight = typeof height === 'number' ? height + 'px' : height;\r\n      return normalizedHeight ? normalizedHeight : '';\r\n    };\r\n    var createIframeElement = function (id, title, height, customAttrs) {\r\n      var iframe = Element$$1.fromTag('iframe');\r\n      setAll(iframe, customAttrs);\r\n      setAll(iframe, {\r\n        id: id + '_ifr',\r\n        frameBorder: '0',\r\n        allowTransparency: 'true',\r\n        title: title\r\n      });\r\n      setAll$1(iframe, {\r\n        width: '100%',\r\n        height: normalizeHeight(height),\r\n        display: 'block'\r\n      });\r\n      return iframe;\r\n    };\r\n    var getIframeHtml = function (editor) {\r\n      var bodyId, bodyClass, iframeHTML;\r\n      iframeHTML = Settings.getDocType(editor) + '<html><head>';\r\n      if (Settings.getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\r\n        iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\r\n      }\r\n      iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\r\n      bodyId = Settings.getBodyId(editor);\r\n      bodyClass = Settings.getBodyClass(editor);\r\n      if (Settings.getContentSecurityPolicy(editor)) {\r\n        iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + Settings.getContentSecurityPolicy(editor) + '\" />';\r\n      }\r\n      iframeHTML += '</head><body id=\"' + bodyId + '\" class=\"mce-content-body ' + bodyClass + '\" data-id=\"' + editor.id + '\"><br></body></html>';\r\n      return iframeHTML;\r\n    };\r\n    var createIframe = function (editor, o) {\r\n      var title = editor.editorManager.translate('Rich Text Area. Press ALT-F9 for menu. ' + 'Press ALT-F10 for toolbar. Press ALT-0 for help');\r\n      var ifr = createIframeElement(editor.id, title, o.height, Settings.getIframeAttrs(editor)).dom();\r\n      ifr.onload = function () {\r\n        ifr.onload = null;\r\n        editor.fire('load');\r\n      };\r\n      var isDomainRelaxed = relaxDomain(editor, ifr);\r\n      editor.contentAreaContainer = o.iframeContainer;\r\n      editor.iframeElement = ifr;\r\n      editor.iframeHTML = getIframeHtml(editor);\r\n      DOM$3.add(o.iframeContainer, ifr);\r\n      return isDomainRelaxed;\r\n    };\r\n    var init$1 = function (editor, boxInfo) {\r\n      var isDomainRelaxed = createIframe(editor, boxInfo);\r\n      if (boxInfo.editorContainer) {\r\n        DOM$3.get(boxInfo.editorContainer).style.display = editor.orgDisplay;\r\n        editor.hidden = DOM$3.isHidden(boxInfo.editorContainer);\r\n      }\r\n      editor.getElement().style.display = 'none';\r\n      DOM$3.setAttrib(editor.id, 'aria-hidden', 'true');\r\n      if (!isDomainRelaxed) {\r\n        InitContentBody.initContentBody(editor);\r\n      }\r\n    };\r\n    var InitIframe = { init: init$1 };\r\n\r\n    var DOM$4 = DOMUtils$1.DOM;\r\n    var initPlugin = function (editor, initializedPlugins, plugin) {\r\n      var Plugin = PluginManager$1.get(plugin);\r\n      var pluginUrl = PluginManager$1.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\r\n      plugin = Tools.trim(plugin);\r\n      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\r\n        Tools.each(PluginManager$1.dependencies(plugin), function (dep) {\r\n          initPlugin(editor, initializedPlugins, dep);\r\n        });\r\n        if (editor.plugins[plugin]) {\r\n          return;\r\n        }\r\n        try {\r\n          var pluginInstance = new Plugin(editor, pluginUrl, editor.$);\r\n          editor.plugins[plugin] = pluginInstance;\r\n          if (pluginInstance.init) {\r\n            pluginInstance.init(editor, pluginUrl);\r\n            initializedPlugins.push(plugin);\r\n          }\r\n        } catch (e) {\r\n          ErrorReporter.pluginInitError(editor, plugin, e);\r\n        }\r\n      }\r\n    };\r\n    var trimLegacyPrefix = function (name) {\r\n      return name.replace(/^\\-/, '');\r\n    };\r\n    var initPlugins = function (editor) {\r\n      var initializedPlugins = [];\r\n      Tools.each(editor.settings.plugins.split(/[ ,]/), function (name) {\r\n        initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\r\n      });\r\n    };\r\n    var initTheme = function (editor) {\r\n      var Theme;\r\n      var theme = editor.settings.theme;\r\n      if (isString(theme)) {\r\n        editor.settings.theme = trimLegacyPrefix(theme);\r\n        Theme = ThemeManager.get(theme);\r\n        editor.theme = new Theme(editor, ThemeManager.urls[theme]);\r\n        if (editor.theme.init) {\r\n          editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''), editor.$);\r\n        }\r\n      } else {\r\n        editor.theme = {};\r\n      }\r\n    };\r\n    var renderFromLoadedTheme = function (editor) {\r\n      var w, h, minHeight, re, info;\r\n      var settings = editor.settings;\r\n      var elm = editor.getElement();\r\n      w = settings.width || DOM$4.getStyle(elm, 'width') || '100%';\r\n      h = settings.height || DOM$4.getStyle(elm, 'height') || elm.offsetHeight;\r\n      minHeight = settings.min_height || 100;\r\n      re = /^[0-9\\.]+(|px)$/i;\r\n      if (re.test('' + w)) {\r\n        w = Math.max(parseInt(w, 10), 100);\r\n      }\r\n      if (re.test('' + h)) {\r\n        h = Math.max(parseInt(h, 10), minHeight);\r\n      }\r\n      info = editor.theme.renderUI({\r\n        targetNode: elm,\r\n        width: w,\r\n        height: h,\r\n        deltaWidth: settings.delta_width,\r\n        deltaHeight: settings.delta_height\r\n      });\r\n      if (!settings.content_editable) {\r\n        h = (info.iframeHeight || h) + (typeof h === 'number' ? info.deltaHeight || 0 : '');\r\n        if (h < minHeight) {\r\n          h = minHeight;\r\n        }\r\n      }\r\n      info.height = h;\r\n      return info;\r\n    };\r\n    var renderFromThemeFunc = function (editor) {\r\n      var info;\r\n      var elm = editor.getElement();\r\n      info = editor.settings.theme(editor, elm);\r\n      if (info.editorContainer.nodeType) {\r\n        info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\r\n      }\r\n      if (info.iframeContainer && info.iframeContainer.nodeType) {\r\n        info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\r\n      }\r\n      info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\r\n      return info;\r\n    };\r\n    var createThemeFalseResult = function (element) {\r\n      return {\r\n        editorContainer: element,\r\n        iframeContainer: element\r\n      };\r\n    };\r\n    var renderThemeFalseIframe = function (targetElement) {\r\n      var iframeContainer = DOM$4.create('div');\r\n      DOM$4.insertAfter(iframeContainer, targetElement);\r\n      return createThemeFalseResult(iframeContainer);\r\n    };\r\n    var renderThemeFalse = function (editor) {\r\n      var targetElement = editor.getElement();\r\n      return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\r\n    };\r\n    var renderThemeUi = function (editor) {\r\n      var settings = editor.settings, elm = editor.getElement();\r\n      editor.orgDisplay = elm.style.display;\r\n      if (isString(settings.theme)) {\r\n        return renderFromLoadedTheme(editor);\r\n      } else if (isFunction(settings.theme)) {\r\n        return renderFromThemeFunc(editor);\r\n      } else {\r\n        return renderThemeFalse(editor);\r\n      }\r\n    };\r\n    var init$2 = function (editor) {\r\n      var settings = editor.settings;\r\n      var elm = editor.getElement();\r\n      var boxInfo;\r\n      editor.rtl = settings.rtl_ui || editor.editorManager.i18n.rtl;\r\n      editor.editorManager.i18n.setCode(settings.language);\r\n      settings.aria_label = settings.aria_label || DOM$4.getAttrib(elm, 'aria-label', editor.getLang('aria.rich_text_area'));\r\n      editor.fire('ScriptsLoaded');\r\n      initTheme(editor);\r\n      initPlugins(editor);\r\n      boxInfo = renderThemeUi(editor);\r\n      editor.editorContainer = boxInfo.editorContainer ? boxInfo.editorContainer : null;\r\n      if (settings.content_css) {\r\n        Tools.each(Tools.explode(settings.content_css), function (u) {\r\n          editor.contentCSS.push(editor.documentBaseURI.toAbsolute(u));\r\n        });\r\n      }\r\n      if (settings.content_editable) {\r\n        return InitContentBody.initContentBody(editor);\r\n      } else {\r\n        return InitIframe.init(editor, boxInfo);\r\n      }\r\n    };\r\n    var Init = { init: init$2 };\r\n\r\n    var DOM$5 = DOMUtils$1.DOM;\r\n    var hasSkipLoadPrefix = function (name$$1) {\r\n      return name$$1.charAt(0) === '-';\r\n    };\r\n    var loadLanguage = function (scriptLoader, editor) {\r\n      var settings = editor.settings;\r\n      if (settings.language && settings.language !== 'en' && !settings.language_url) {\r\n        settings.language_url = editor.editorManager.baseURL + '/langs/' + settings.language + '.js';\r\n      }\r\n      if (settings.language_url && !editor.editorManager.i18n.data[settings.language]) {\r\n        scriptLoader.add(settings.language_url);\r\n      }\r\n    };\r\n    var loadTheme = function (scriptLoader, editor, suffix, callback) {\r\n      var settings = editor.settings, theme = settings.theme;\r\n      if (isString(theme)) {\r\n        if (!hasSkipLoadPrefix(theme) && !ThemeManager.urls.hasOwnProperty(theme)) {\r\n          var themeUrl = settings.theme_url;\r\n          if (themeUrl) {\r\n            ThemeManager.load(theme, editor.documentBaseURI.toAbsolute(themeUrl));\r\n          } else {\r\n            ThemeManager.load(theme, 'themes/' + theme + '/theme' + suffix + '.js');\r\n          }\r\n        }\r\n        scriptLoader.loadQueue(function () {\r\n          ThemeManager.waitFor(theme, callback);\r\n        });\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var loadPlugins = function (settings, suffix) {\r\n      if (Tools.isArray(settings.plugins)) {\r\n        settings.plugins = settings.plugins.join(' ');\r\n      }\r\n      Tools.each(settings.external_plugins, function (url, name$$1) {\r\n        PluginManager$1.load(name$$1, url);\r\n        settings.plugins += ' ' + name$$1;\r\n      });\r\n      Tools.each(settings.plugins.split(/[ ,]/), function (plugin) {\r\n        plugin = Tools.trim(plugin);\r\n        if (plugin && !PluginManager$1.urls[plugin]) {\r\n          if (hasSkipLoadPrefix(plugin)) {\r\n            plugin = plugin.substr(1, plugin.length);\r\n            var dependencies = PluginManager$1.dependencies(plugin);\r\n            Tools.each(dependencies, function (dep) {\r\n              var defaultSettings = {\r\n                prefix: 'plugins/',\r\n                resource: dep,\r\n                suffix: '/plugin' + suffix + '.js'\r\n              };\r\n              dep = PluginManager$1.createUrl(defaultSettings, dep);\r\n              PluginManager$1.load(dep.resource, dep);\r\n            });\r\n          } else {\r\n            PluginManager$1.load(plugin, {\r\n              prefix: 'plugins/',\r\n              resource: plugin,\r\n              suffix: '/plugin' + suffix + '.js'\r\n            });\r\n          }\r\n        }\r\n      });\r\n    };\r\n    var loadScripts = function (editor, suffix) {\r\n      var scriptLoader = ScriptLoader.ScriptLoader;\r\n      loadTheme(scriptLoader, editor, suffix, function () {\r\n        loadLanguage(scriptLoader, editor);\r\n        loadPlugins(editor.settings, suffix);\r\n        scriptLoader.loadQueue(function () {\r\n          if (!editor.removed) {\r\n            Init.init(editor);\r\n          }\r\n        }, editor, function (urls) {\r\n          ErrorReporter.pluginLoadError(editor, urls[0]);\r\n          if (!editor.removed) {\r\n            Init.init(editor);\r\n          }\r\n        });\r\n      });\r\n    };\r\n    var render = function (editor) {\r\n      var settings = editor.settings, id = editor.id;\r\n      var readyHandler = function () {\r\n        DOM$5.unbind(window, 'ready', readyHandler);\r\n        editor.render();\r\n      };\r\n      if (!EventUtils.Event.domLoaded) {\r\n        DOM$5.bind(window, 'ready', readyHandler);\r\n        return;\r\n      }\r\n      if (!editor.getElement()) {\r\n        return;\r\n      }\r\n      if (!Env.contentEditable) {\r\n        return;\r\n      }\r\n      if (!settings.inline) {\r\n        editor.orgVisibility = editor.getElement().style.visibility;\r\n        editor.getElement().style.visibility = 'hidden';\r\n      } else {\r\n        editor.inline = true;\r\n      }\r\n      var form = editor.getElement().form || DOM$5.getParent(id, 'form');\r\n      if (form) {\r\n        editor.formElement = form;\r\n        if (settings.hidden_input && !/TEXTAREA|INPUT/i.test(editor.getElement().nodeName)) {\r\n          DOM$5.insertAfter(DOM$5.create('input', {\r\n            type: 'hidden',\r\n            name: id\r\n          }), id);\r\n          editor.hasHiddenInput = true;\r\n        }\r\n        editor.formEventDelegate = function (e) {\r\n          editor.fire(e.type, e);\r\n        };\r\n        DOM$5.bind(form, 'submit reset', editor.formEventDelegate);\r\n        editor.on('reset', function () {\r\n          editor.setContent(editor.startContent, { format: 'raw' });\r\n        });\r\n        if (settings.submit_patch && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\r\n          form._mceOldSubmit = form.submit;\r\n          form.submit = function () {\r\n            editor.editorManager.triggerSave();\r\n            editor.setDirty(false);\r\n            return form._mceOldSubmit(form);\r\n          };\r\n        }\r\n      }\r\n      editor.windowManager = WindowManager(editor);\r\n      editor.notificationManager = NotificationManager(editor);\r\n      if (settings.encoding === 'xml') {\r\n        editor.on('GetContent', function (e) {\r\n          if (e.save) {\r\n            e.content = DOM$5.encode(e.content);\r\n          }\r\n        });\r\n      }\r\n      if (settings.add_form_submit_trigger) {\r\n        editor.on('submit', function () {\r\n          if (editor.initialized) {\r\n            editor.save();\r\n          }\r\n        });\r\n      }\r\n      if (settings.add_unload_trigger) {\r\n        editor._beforeUnload = function () {\r\n          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\r\n            editor.save({\r\n              format: 'raw',\r\n              no_events: true,\r\n              set_dirty: false\r\n            });\r\n          }\r\n        };\r\n        editor.editorManager.on('BeforeUnload', editor._beforeUnload);\r\n      }\r\n      editor.editorManager.add(editor);\r\n      loadScripts(editor, editor.suffix);\r\n    };\r\n    var Render = { render: render };\r\n\r\n    var add$4 = function (editor, name, settings) {\r\n      var sidebars = editor.sidebars ? editor.sidebars : [];\r\n      sidebars.push({\r\n        name: name,\r\n        settings: settings\r\n      });\r\n      editor.sidebars = sidebars;\r\n    };\r\n    var Sidebar = { add: add$4 };\r\n\r\n    var each$k = Tools.each, trim$4 = Tools.trim;\r\n    var queryParts = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');\r\n    var DEFAULT_PORTS = {\r\n      ftp: 21,\r\n      http: 80,\r\n      https: 443,\r\n      mailto: 25\r\n    };\r\n    var URI = function (url, settings) {\r\n      var self$$1 = this;\r\n      var baseUri, baseUrl;\r\n      url = trim$4(url);\r\n      settings = self$$1.settings = settings || {};\r\n      baseUri = settings.base_uri;\r\n      if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\r\n        self$$1.source = url;\r\n        return;\r\n      }\r\n      var isProtocolRelative = url.indexOf('//') === 0;\r\n      if (url.indexOf('/') === 0 && !isProtocolRelative) {\r\n        url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\r\n      }\r\n      if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\r\n        baseUrl = settings.base_uri ? settings.base_uri.path : new URI(document.location.href).directory;\r\n        if (settings.base_uri.protocol == '') {\r\n          url = '//mce_host' + self$$1.toAbsPath(baseUrl, url);\r\n        } else {\r\n          url = /([^#?]*)([#?]?.*)/.exec(url);\r\n          url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self$$1.toAbsPath(baseUrl, url[1]) + url[2];\r\n        }\r\n      }\r\n      url = url.replace(/@@/g, '(mce_at)');\r\n      url = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\r\n      each$k(queryParts, function (v, i) {\r\n        var part = url[i];\r\n        if (part) {\r\n          part = part.replace(/\\(mce_at\\)/g, '@@');\r\n        }\r\n        self$$1[v] = part;\r\n      });\r\n      if (baseUri) {\r\n        if (!self$$1.protocol) {\r\n          self$$1.protocol = baseUri.protocol;\r\n        }\r\n        if (!self$$1.userInfo) {\r\n          self$$1.userInfo = baseUri.userInfo;\r\n        }\r\n        if (!self$$1.port && self$$1.host === 'mce_host') {\r\n          self$$1.port = baseUri.port;\r\n        }\r\n        if (!self$$1.host || self$$1.host === 'mce_host') {\r\n          self$$1.host = baseUri.host;\r\n        }\r\n        self$$1.source = '';\r\n      }\r\n      if (isProtocolRelative) {\r\n        self$$1.protocol = '';\r\n      }\r\n    };\r\n    URI.prototype = {\r\n      setPath: function (path) {\r\n        var self$$1 = this;\r\n        path = /^(.*?)\\/?(\\w+)?$/.exec(path);\r\n        self$$1.path = path[0];\r\n        self$$1.directory = path[1];\r\n        self$$1.file = path[2];\r\n        self$$1.source = '';\r\n        self$$1.getURI();\r\n      },\r\n      toRelative: function (uri) {\r\n        var self$$1 = this;\r\n        var output;\r\n        if (uri === './') {\r\n          return uri;\r\n        }\r\n        uri = new URI(uri, { base_uri: self$$1 });\r\n        if (uri.host !== 'mce_host' && self$$1.host !== uri.host && uri.host || self$$1.port !== uri.port || self$$1.protocol !== uri.protocol && uri.protocol !== '') {\r\n          return uri.getURI();\r\n        }\r\n        var tu = self$$1.getURI(), uu = uri.getURI();\r\n        if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\r\n          return tu;\r\n        }\r\n        output = self$$1.toRelPath(self$$1.path, uri.path);\r\n        if (uri.query) {\r\n          output += '?' + uri.query;\r\n        }\r\n        if (uri.anchor) {\r\n          output += '#' + uri.anchor;\r\n        }\r\n        return output;\r\n      },\r\n      toAbsolute: function (uri, noHost) {\r\n        uri = new URI(uri, { base_uri: this });\r\n        return uri.getURI(noHost && this.isSameOrigin(uri));\r\n      },\r\n      isSameOrigin: function (uri) {\r\n        if (this.host == uri.host && this.protocol == uri.protocol) {\r\n          if (this.port == uri.port) {\r\n            return true;\r\n          }\r\n          var defaultPort = DEFAULT_PORTS[this.protocol];\r\n          if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      },\r\n      toRelPath: function (base, path) {\r\n        var items, breakPoint = 0, out = '', i, l;\r\n        base = base.substring(0, base.lastIndexOf('/'));\r\n        base = base.split('/');\r\n        items = path.split('/');\r\n        if (base.length >= items.length) {\r\n          for (i = 0, l = base.length; i < l; i++) {\r\n            if (i >= items.length || base[i] !== items[i]) {\r\n              breakPoint = i + 1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (base.length < items.length) {\r\n          for (i = 0, l = items.length; i < l; i++) {\r\n            if (i >= base.length || base[i] !== items[i]) {\r\n              breakPoint = i + 1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (breakPoint === 1) {\r\n          return path;\r\n        }\r\n        for (i = 0, l = base.length - (breakPoint - 1); i < l; i++) {\r\n          out += '../';\r\n        }\r\n        for (i = breakPoint - 1, l = items.length; i < l; i++) {\r\n          if (i !== breakPoint - 1) {\r\n            out += '/' + items[i];\r\n          } else {\r\n            out += items[i];\r\n          }\r\n        }\r\n        return out;\r\n      },\r\n      toAbsPath: function (base, path) {\r\n        var i, nb = 0, o = [], tr, outPath;\r\n        tr = /\\/$/.test(path) ? '/' : '';\r\n        base = base.split('/');\r\n        path = path.split('/');\r\n        each$k(base, function (k) {\r\n          if (k) {\r\n            o.push(k);\r\n          }\r\n        });\r\n        base = o;\r\n        for (i = path.length - 1, o = []; i >= 0; i--) {\r\n          if (path[i].length === 0 || path[i] === '.') {\r\n            continue;\r\n          }\r\n          if (path[i] === '..') {\r\n            nb++;\r\n            continue;\r\n          }\r\n          if (nb > 0) {\r\n            nb--;\r\n            continue;\r\n          }\r\n          o.push(path[i]);\r\n        }\r\n        i = base.length - nb;\r\n        if (i <= 0) {\r\n          outPath = o.reverse().join('/');\r\n        } else {\r\n          outPath = base.slice(0, i).join('/') + '/' + o.reverse().join('/');\r\n        }\r\n        if (outPath.indexOf('/') !== 0) {\r\n          outPath = '/' + outPath;\r\n        }\r\n        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\r\n          outPath += tr;\r\n        }\r\n        return outPath;\r\n      },\r\n      getURI: function (noProtoHost) {\r\n        var s;\r\n        var self$$1 = this;\r\n        if (!self$$1.source || noProtoHost) {\r\n          s = '';\r\n          if (!noProtoHost) {\r\n            if (self$$1.protocol) {\r\n              s += self$$1.protocol + '://';\r\n            } else {\r\n              s += '//';\r\n            }\r\n            if (self$$1.userInfo) {\r\n              s += self$$1.userInfo + '@';\r\n            }\r\n            if (self$$1.host) {\r\n              s += self$$1.host;\r\n            }\r\n            if (self$$1.port) {\r\n              s += ':' + self$$1.port;\r\n            }\r\n          }\r\n          if (self$$1.path) {\r\n            s += self$$1.path;\r\n          }\r\n          if (self$$1.query) {\r\n            s += '?' + self$$1.query;\r\n          }\r\n          if (self$$1.anchor) {\r\n            s += '#' + self$$1.anchor;\r\n          }\r\n          self$$1.source = s;\r\n        }\r\n        return self$$1.source;\r\n      }\r\n    };\r\n    URI.parseDataUri = function (uri) {\r\n      var type, matches;\r\n      uri = decodeURIComponent(uri).split(',');\r\n      matches = /data:([^;]+)/.exec(uri[0]);\r\n      if (matches) {\r\n        type = matches[1];\r\n      }\r\n      return {\r\n        type: type,\r\n        data: uri[1]\r\n      };\r\n    };\r\n    URI.getDocumentBaseUrl = function (loc) {\r\n      var baseUrl;\r\n      if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\r\n        baseUrl = loc.href;\r\n      } else {\r\n        baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\r\n      }\r\n      if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\r\n        baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\r\n        if (!/[\\/\\\\]$/.test(baseUrl)) {\r\n          baseUrl += '/';\r\n        }\r\n      }\r\n      return baseUrl;\r\n    };\r\n\r\n    var defaultFormat = 'html';\r\n    var trimEmptyContents = function (editor, html) {\r\n      var blockName = Settings.getForcedRootBlock(editor);\r\n      var emptyRegExp = new RegExp('^(<' + blockName + '[^>]*>(&nbsp;|&#160;|\\\\s|\\xA0|<br \\\\/>|)<\\\\/' + blockName + '>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$');\r\n      return html.replace(emptyRegExp, '');\r\n    };\r\n    var getContentFromBody = function (editor, args, body) {\r\n      var content;\r\n      args.format = args.format ? args.format : defaultFormat;\r\n      args.get = true;\r\n      args.getInner = true;\r\n      if (!args.no_events) {\r\n        editor.fire('BeforeGetContent', args);\r\n      }\r\n      if (args.format === 'raw') {\r\n        content = Tools.trim(TrimHtml.trimExternal(editor.serializer, body.innerHTML));\r\n      } else if (args.format === 'text') {\r\n        content = Zwsp.trim(body.innerText || body.textContent);\r\n      } else if (args.format === 'tree') {\r\n        return editor.serializer.serialize(body, args);\r\n      } else {\r\n        content = trimEmptyContents(editor, editor.serializer.serialize(body, args));\r\n      }\r\n      if (args.format !== 'text' && !isWsPreserveElement(Element$$1.fromDom(body))) {\r\n        args.content = Tools.trim(content);\r\n      } else {\r\n        args.content = content;\r\n      }\r\n      if (!args.no_events) {\r\n        editor.fire('GetContent', args);\r\n      }\r\n      return args.content;\r\n    };\r\n    var getContent$1 = function (editor, args) {\r\n      if (args === void 0) {\r\n        args = {};\r\n      }\r\n      return Option.from(editor.getBody()).fold(constant(args.format === 'tree' ? new Node$2('body', 11) : ''), function (body) {\r\n        return getContentFromBody(editor, args, body);\r\n      });\r\n    };\r\n\r\n    var traverse = function (node, fn) {\r\n      fn(node);\r\n      if (node.firstChild) {\r\n        traverse(node.firstChild, fn);\r\n      }\r\n      if (node.next) {\r\n        traverse(node.next, fn);\r\n      }\r\n    };\r\n    var findMatchingNodes = function (nodeFilters, attributeFilters, node) {\r\n      var nodeMatches = {};\r\n      var attrMatches = {};\r\n      var matches = [];\r\n      if (node.firstChild) {\r\n        traverse(node.firstChild, function (node) {\r\n          each(nodeFilters, function (filter$$1) {\r\n            if (filter$$1.name === node.name) {\r\n              if (nodeMatches[filter$$1.name]) {\r\n                nodeMatches[filter$$1.name].nodes.push(node);\r\n              } else {\r\n                nodeMatches[filter$$1.name] = {\r\n                  filter: filter$$1,\r\n                  nodes: [node]\r\n                };\r\n              }\r\n            }\r\n          });\r\n          each(attributeFilters, function (filter$$1) {\r\n            if (typeof node.attr(filter$$1.name) === 'string') {\r\n              if (attrMatches[filter$$1.name]) {\r\n                attrMatches[filter$$1.name].nodes.push(node);\r\n              } else {\r\n                attrMatches[filter$$1.name] = {\r\n                  filter: filter$$1,\r\n                  nodes: [node]\r\n                };\r\n              }\r\n            }\r\n          });\r\n        });\r\n      }\r\n      for (var name in nodeMatches) {\r\n        if (nodeMatches.hasOwnProperty(name)) {\r\n          matches.push(nodeMatches[name]);\r\n        }\r\n      }\r\n      for (var name in attrMatches) {\r\n        if (attrMatches.hasOwnProperty(name)) {\r\n          matches.push(attrMatches[name]);\r\n        }\r\n      }\r\n      return matches;\r\n    };\r\n    var filter$3 = function (nodeFilters, attributeFilters, node) {\r\n      var matches = findMatchingNodes(nodeFilters, attributeFilters, node);\r\n      each(matches, function (match) {\r\n        each(match.filter.callbacks, function (callback) {\r\n          callback(match.nodes, match.filter.name, {});\r\n        });\r\n      });\r\n    };\r\n\r\n    var defaultFormat$1 = 'html';\r\n    var isTreeNode = function (content) {\r\n      return content instanceof Node$2;\r\n    };\r\n    var moveSelection = function (editor) {\r\n      if (EditorFocus.hasFocus(editor)) {\r\n        CaretFinder.firstPositionIn(editor.getBody()).each(function (pos) {\r\n          var node = pos.getNode();\r\n          var caretPos = NodeType.isTable(node) ? CaretFinder.firstPositionIn(node).getOr(pos) : pos;\r\n          editor.selection.setRng(caretPos.toRange());\r\n        });\r\n      }\r\n    };\r\n    var setEditorHtml = function (editor, html) {\r\n      editor.dom.setHTML(editor.getBody(), html);\r\n      moveSelection(editor);\r\n    };\r\n    var setContentString = function (editor, body, content, args) {\r\n      var forcedRootBlockName, padd;\r\n      if (content.length === 0 || /^\\s+$/.test(content)) {\r\n        padd = '<br data-mce-bogus=\"1\">';\r\n        if (body.nodeName === 'TABLE') {\r\n          content = '<tr><td>' + padd + '</td></tr>';\r\n        } else if (/^(UL|OL)$/.test(body.nodeName)) {\r\n          content = '<li>' + padd + '</li>';\r\n        }\r\n        forcedRootBlockName = Settings.getForcedRootBlock(editor);\r\n        if (forcedRootBlockName && editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\r\n          content = padd;\r\n          content = editor.dom.createHTML(forcedRootBlockName, editor.settings.forced_root_block_attrs, content);\r\n        } else if (!content) {\r\n          content = '<br data-mce-bogus=\"1\">';\r\n        }\r\n        setEditorHtml(editor, content);\r\n        editor.fire('SetContent', args);\r\n      } else {\r\n        if (args.format !== 'raw') {\r\n          content = Serializer({ validate: editor.validate }, editor.schema).serialize(editor.parser.parse(content, {\r\n            isRootContent: true,\r\n            insert: true\r\n          }));\r\n        }\r\n        args.content = isWsPreserveElement(Element$$1.fromDom(body)) ? content : Tools.trim(content);\r\n        setEditorHtml(editor, args.content);\r\n        if (!args.no_events) {\r\n          editor.fire('SetContent', args);\r\n        }\r\n      }\r\n      return args.content;\r\n    };\r\n    var setContentTree = function (editor, body, content, args) {\r\n      filter$3(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\r\n      var html = Serializer({ validate: editor.validate }, editor.schema).serialize(content);\r\n      args.content = isWsPreserveElement(Element$$1.fromDom(body)) ? html : Tools.trim(html);\r\n      setEditorHtml(editor, args.content);\r\n      if (!args.no_events) {\r\n        editor.fire('SetContent', args);\r\n      }\r\n      return content;\r\n    };\r\n    var setContent$1 = function (editor, content, args) {\r\n      if (args === void 0) {\r\n        args = {};\r\n      }\r\n      args.format = args.format ? args.format : defaultFormat$1;\r\n      args.set = true;\r\n      args.content = isTreeNode(content) ? '' : content;\r\n      if (!isTreeNode(content) && !args.no_events) {\r\n        editor.fire('BeforeSetContent', args);\r\n        content = args.content;\r\n      }\r\n      return Option.from(editor.getBody()).fold(constant(content), function (body) {\r\n        return isTreeNode(content) ? setContentTree(editor, body, content, args) : setContentString(editor, body, content, args);\r\n      });\r\n    };\r\n\r\n    var DOM$6 = DOMUtils$1.DOM;\r\n    var restoreOriginalStyles = function (editor) {\r\n      DOM$6.setStyle(editor.id, 'display', editor.orgDisplay);\r\n    };\r\n    var safeDestroy = function (x) {\r\n      return Option.from(x).each(function (x) {\r\n        return x.destroy();\r\n      });\r\n    };\r\n    var clearDomReferences = function (editor) {\r\n      editor.contentAreaContainer = editor.formElement = editor.container = editor.editorContainer = null;\r\n      editor.bodyElement = editor.contentDocument = editor.contentWindow = null;\r\n      editor.iframeElement = editor.targetElm = null;\r\n      if (editor.selection) {\r\n        editor.selection = editor.selection.win = editor.selection.dom = editor.selection.dom.doc = null;\r\n      }\r\n    };\r\n    var restoreForm = function (editor) {\r\n      var form = editor.formElement;\r\n      if (form) {\r\n        if (form._mceOldSubmit) {\r\n          form.submit = form._mceOldSubmit;\r\n          form._mceOldSubmit = null;\r\n        }\r\n        DOM$6.unbind(form, 'submit reset', editor.formEventDelegate);\r\n      }\r\n    };\r\n    var remove$9 = function (editor) {\r\n      if (!editor.removed) {\r\n        var _selectionOverrides = editor._selectionOverrides, editorUpload = editor.editorUpload;\r\n        var body = editor.getBody();\r\n        var element = editor.getElement();\r\n        if (body) {\r\n          editor.save({ is_removing: true });\r\n        }\r\n        editor.removed = true;\r\n        editor.unbindAllNativeEvents();\r\n        if (editor.hasHiddenInput && element) {\r\n          DOM$6.remove(element.nextSibling);\r\n        }\r\n        if (!editor.inline && body) {\r\n          restoreOriginalStyles(editor);\r\n        }\r\n        Events.fireRemove(editor);\r\n        editor.editorManager.remove(editor);\r\n        DOM$6.remove(editor.getContainer());\r\n        safeDestroy(_selectionOverrides);\r\n        safeDestroy(editorUpload);\r\n        editor.destroy();\r\n      }\r\n    };\r\n    var destroy = function (editor, automatic) {\r\n      var selection = editor.selection, dom = editor.dom;\r\n      if (editor.destroyed) {\r\n        return;\r\n      }\r\n      if (!automatic && !editor.removed) {\r\n        editor.remove();\r\n        return;\r\n      }\r\n      if (!automatic) {\r\n        editor.editorManager.off('beforeunload', editor._beforeUnload);\r\n        if (editor.theme && editor.theme.destroy) {\r\n          editor.theme.destroy();\r\n        }\r\n        safeDestroy(selection);\r\n        safeDestroy(dom);\r\n      }\r\n      restoreForm(editor);\r\n      clearDomReferences(editor);\r\n      editor.destroyed = true;\r\n    };\r\n\r\n    var DOM$7 = DOMUtils$1.DOM;\r\n    var extend$4 = Tools.extend, each$l = Tools.each;\r\n    var resolve$4 = Tools.resolve;\r\n    var ie$2 = Env.ie;\r\n    var Editor = function (id, settings, editorManager) {\r\n      var self = this;\r\n      var documentBaseUrl = self.documentBaseUrl = editorManager.documentBaseURL;\r\n      var baseUri = editorManager.baseURI;\r\n      settings = getEditorSettings(self, id, documentBaseUrl, editorManager.defaultSettings, settings);\r\n      self.settings = settings;\r\n      AddOnManager.language = settings.language || 'en';\r\n      AddOnManager.languageLoad = settings.language_load;\r\n      AddOnManager.baseURL = editorManager.baseURL;\r\n      self.id = id;\r\n      self.setDirty(false);\r\n      self.plugins = {};\r\n      self.documentBaseURI = new URI(settings.document_base_url, { base_uri: baseUri });\r\n      self.baseURI = baseUri;\r\n      self.contentCSS = [];\r\n      self.contentStyles = [];\r\n      self.shortcuts = new Shortcuts(self);\r\n      self.loadedCSS = {};\r\n      self.editorCommands = new EditorCommands(self);\r\n      self.suffix = editorManager.suffix;\r\n      self.editorManager = editorManager;\r\n      self.inline = settings.inline;\r\n      self.buttons = {};\r\n      self.menuItems = {};\r\n      if (settings.cache_suffix) {\r\n        Env.cacheSuffix = settings.cache_suffix.replace(/^[\\?\\&]+/, '');\r\n      }\r\n      if (settings.override_viewport === false) {\r\n        Env.overrideViewPort = false;\r\n      }\r\n      editorManager.fire('SetupEditor', { editor: self });\r\n      self.execCallback('setup', self);\r\n      self.$ = DomQuery.overrideDefaults(function () {\r\n        return {\r\n          context: self.inline ? self.getBody() : self.getDoc(),\r\n          element: self.getBody()\r\n        };\r\n      });\r\n    };\r\n    Editor.prototype = {\r\n      render: function () {\r\n        Render.render(this);\r\n      },\r\n      focus: function (skipFocus) {\r\n        EditorFocus.focus(this, skipFocus);\r\n      },\r\n      hasFocus: function () {\r\n        return EditorFocus.hasFocus(this);\r\n      },\r\n      execCallback: function (name) {\r\n        var x = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n          x[_i - 1] = arguments[_i];\r\n        }\r\n        var self = this;\r\n        var callback = self.settings[name], scope;\r\n        if (!callback) {\r\n          return;\r\n        }\r\n        if (self.callbackLookup && (scope = self.callbackLookup[name])) {\r\n          callback = scope.func;\r\n          scope = scope.scope;\r\n        }\r\n        if (typeof callback === 'string') {\r\n          scope = callback.replace(/\\.\\w+$/, '');\r\n          scope = scope ? resolve$4(scope) : 0;\r\n          callback = resolve$4(callback);\r\n          self.callbackLookup = self.callbackLookup || {};\r\n          self.callbackLookup[name] = {\r\n            func: callback,\r\n            scope: scope\r\n          };\r\n        }\r\n        return callback.apply(scope || self, Array.prototype.slice.call(arguments, 1));\r\n      },\r\n      translate: function (text) {\r\n        if (text && Tools.is(text, 'string')) {\r\n          var lang_1 = this.settings.language || 'en', i18n_1 = this.editorManager.i18n;\r\n          text = i18n_1.data[lang_1 + '.' + text] || text.replace(/\\{\\#([^\\}]+)\\}/g, function (a, b) {\r\n            return i18n_1.data[lang_1 + '.' + b] || '{#' + b + '}';\r\n          });\r\n        }\r\n        return this.editorManager.translate(text);\r\n      },\r\n      getLang: function (name, defaultVal) {\r\n        return this.editorManager.i18n.data[(this.settings.language || 'en') + '.' + name] || (defaultVal !== undefined ? defaultVal : '{#' + name + '}');\r\n      },\r\n      getParam: function (name, defaultVal, type) {\r\n        return getParam(this, name, defaultVal, type);\r\n      },\r\n      nodeChanged: function (args) {\r\n        this._nodeChangeDispatcher.nodeChanged(args);\r\n      },\r\n      addButton: function (name, settings) {\r\n        var self = this;\r\n        if (settings.cmd) {\r\n          settings.onclick = function () {\r\n            self.execCommand(settings.cmd);\r\n          };\r\n        }\r\n        if (settings.stateSelector && typeof settings.active === 'undefined') {\r\n          settings.active = false;\r\n        }\r\n        if (!settings.text && !settings.icon) {\r\n          settings.icon = name;\r\n        }\r\n        settings.tooltip = settings.tooltip || settings.title;\r\n        self.buttons[name] = settings;\r\n      },\r\n      addSidebar: function (name, settings) {\r\n        return Sidebar.add(this, name, settings);\r\n      },\r\n      addMenuItem: function (name, settings) {\r\n        var self = this;\r\n        if (settings.cmd) {\r\n          settings.onclick = function () {\r\n            self.execCommand(settings.cmd);\r\n          };\r\n        }\r\n        self.menuItems[name] = settings;\r\n      },\r\n      addContextToolbar: function (predicate, items) {\r\n        var self = this;\r\n        var selector;\r\n        self.contextToolbars = self.contextToolbars || [];\r\n        if (typeof predicate === 'string') {\r\n          selector = predicate;\r\n          predicate = function (elm) {\r\n            return self.dom.is(elm, selector);\r\n          };\r\n        }\r\n        self.contextToolbars.push({\r\n          id: Uuid.uuid('mcet'),\r\n          predicate: predicate,\r\n          items: items\r\n        });\r\n      },\r\n      addCommand: function (name, callback, scope) {\r\n        this.editorCommands.addCommand(name, callback, scope);\r\n      },\r\n      addQueryStateHandler: function (name, callback, scope) {\r\n        this.editorCommands.addQueryStateHandler(name, callback, scope);\r\n      },\r\n      addQueryValueHandler: function (name, callback, scope) {\r\n        this.editorCommands.addQueryValueHandler(name, callback, scope);\r\n      },\r\n      addShortcut: function (pattern, desc, cmdFunc, scope) {\r\n        this.shortcuts.add(pattern, desc, cmdFunc, scope);\r\n      },\r\n      execCommand: function (cmd, ui, value, args) {\r\n        return this.editorCommands.execCommand(cmd, ui, value, args);\r\n      },\r\n      queryCommandState: function (cmd) {\r\n        return this.editorCommands.queryCommandState(cmd);\r\n      },\r\n      queryCommandValue: function (cmd) {\r\n        return this.editorCommands.queryCommandValue(cmd);\r\n      },\r\n      queryCommandSupported: function (cmd) {\r\n        return this.editorCommands.queryCommandSupported(cmd);\r\n      },\r\n      show: function () {\r\n        var self = this;\r\n        if (self.hidden) {\r\n          self.hidden = false;\r\n          if (self.inline) {\r\n            self.getBody().contentEditable = true;\r\n          } else {\r\n            DOM$7.show(self.getContainer());\r\n            DOM$7.hide(self.id);\r\n          }\r\n          self.load();\r\n          self.fire('show');\r\n        }\r\n      },\r\n      hide: function () {\r\n        var self = this, doc = self.getDoc();\r\n        if (!self.hidden) {\r\n          if (ie$2 && doc && !self.inline) {\r\n            doc.execCommand('SelectAll');\r\n          }\r\n          self.save();\r\n          if (self.inline) {\r\n            self.getBody().contentEditable = false;\r\n            if (self === self.editorManager.focusedEditor) {\r\n              self.editorManager.focusedEditor = null;\r\n            }\r\n          } else {\r\n            DOM$7.hide(self.getContainer());\r\n            DOM$7.setStyle(self.id, 'display', self.orgDisplay);\r\n          }\r\n          self.hidden = true;\r\n          self.fire('hide');\r\n        }\r\n      },\r\n      isHidden: function () {\r\n        return !!this.hidden;\r\n      },\r\n      setProgressState: function (state, time) {\r\n        this.fire('ProgressState', {\r\n          state: state,\r\n          time: time\r\n        });\r\n      },\r\n      load: function (args) {\r\n        var self = this;\r\n        var elm = self.getElement(), html;\r\n        if (self.removed) {\r\n          return '';\r\n        }\r\n        if (elm) {\r\n          args = args || {};\r\n          args.load = true;\r\n          html = self.setContent(elm.value !== undefined ? elm.value : elm.innerHTML, args);\r\n          args.element = elm;\r\n          if (!args.no_events) {\r\n            self.fire('LoadContent', args);\r\n          }\r\n          args.element = elm = null;\r\n          return html;\r\n        }\r\n      },\r\n      save: function (args) {\r\n        var self = this;\r\n        var elm = self.getElement(), html, form;\r\n        if (!elm || !self.initialized || self.removed) {\r\n          return;\r\n        }\r\n        args = args || {};\r\n        args.save = true;\r\n        args.element = elm;\r\n        html = args.content = self.getContent(args);\r\n        if (!args.no_events) {\r\n          self.fire('SaveContent', args);\r\n        }\r\n        if (args.format === 'raw') {\r\n          self.fire('RawSaveContent', args);\r\n        }\r\n        html = args.content;\r\n        if (!/TEXTAREA|INPUT/i.test(elm.nodeName)) {\r\n          if (args.is_removing || !self.inline) {\r\n            elm.innerHTML = html;\r\n          }\r\n          if (form = DOM$7.getParent(self.id, 'form')) {\r\n            each$l(form.elements, function (elm) {\r\n              if (elm.name === self.id) {\r\n                elm.value = html;\r\n                return false;\r\n              }\r\n            });\r\n          }\r\n        } else {\r\n          elm.value = html;\r\n        }\r\n        args.element = elm = null;\r\n        if (args.set_dirty !== false) {\r\n          self.setDirty(false);\r\n        }\r\n        return html;\r\n      },\r\n      setContent: function (content, args) {\r\n        return setContent$1(this, content, args);\r\n      },\r\n      getContent: function (args) {\r\n        return getContent$1(this, args);\r\n      },\r\n      insertContent: function (content, args) {\r\n        if (args) {\r\n          content = extend$4({ content: content }, args);\r\n        }\r\n        this.execCommand('mceInsertContent', false, content);\r\n      },\r\n      isDirty: function () {\r\n        return !this.isNotDirty;\r\n      },\r\n      setDirty: function (state) {\r\n        var oldState = !this.isNotDirty;\r\n        this.isNotDirty = !state;\r\n        if (state && state !== oldState) {\r\n          this.fire('dirty');\r\n        }\r\n      },\r\n      setMode: function (mode) {\r\n        setMode(this, mode);\r\n      },\r\n      getContainer: function () {\r\n        var self = this;\r\n        if (!self.container) {\r\n          self.container = DOM$7.get(self.editorContainer || self.id + '_parent');\r\n        }\r\n        return self.container;\r\n      },\r\n      getContentAreaContainer: function () {\r\n        return this.contentAreaContainer;\r\n      },\r\n      getElement: function () {\r\n        if (!this.targetElm) {\r\n          this.targetElm = DOM$7.get(this.id);\r\n        }\r\n        return this.targetElm;\r\n      },\r\n      getWin: function () {\r\n        var self = this;\r\n        var elm;\r\n        if (!self.contentWindow) {\r\n          elm = self.iframeElement;\r\n          if (elm) {\r\n            self.contentWindow = elm.contentWindow;\r\n          }\r\n        }\r\n        return self.contentWindow;\r\n      },\r\n      getDoc: function () {\r\n        var self = this;\r\n        var win;\r\n        if (!self.contentDocument) {\r\n          win = self.getWin();\r\n          if (win) {\r\n            self.contentDocument = win.document;\r\n          }\r\n        }\r\n        return self.contentDocument;\r\n      },\r\n      getBody: function () {\r\n        var doc = this.getDoc();\r\n        return this.bodyElement || (doc ? doc.body : null);\r\n      },\r\n      convertURL: function (url, name, elm) {\r\n        var self = this, settings = self.settings;\r\n        if (settings.urlconverter_callback) {\r\n          return self.execCallback('urlconverter_callback', url, elm, true, name);\r\n        }\r\n        if (!settings.convert_urls || elm && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\r\n          return url;\r\n        }\r\n        if (settings.relative_urls) {\r\n          return self.documentBaseURI.toRelative(url);\r\n        }\r\n        url = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);\r\n        return url;\r\n      },\r\n      addVisual: function (elm) {\r\n        var self = this;\r\n        var settings = self.settings;\r\n        var dom = self.dom;\r\n        var cls;\r\n        elm = elm || self.getBody();\r\n        if (self.hasVisual === undefined) {\r\n          self.hasVisual = settings.visual;\r\n        }\r\n        each$l(dom.select('table,a', elm), function (elm) {\r\n          var value;\r\n          switch (elm.nodeName) {\r\n          case 'TABLE':\r\n            cls = settings.visual_table_class || 'mce-item-table';\r\n            value = dom.getAttrib(elm, 'border');\r\n            if ((!value || value === '0') && self.hasVisual) {\r\n              dom.addClass(elm, cls);\r\n            } else {\r\n              dom.removeClass(elm, cls);\r\n            }\r\n            return;\r\n          case 'A':\r\n            if (!dom.getAttrib(elm, 'href')) {\r\n              value = dom.getAttrib(elm, 'name') || elm.id;\r\n              cls = settings.visual_anchor_class || 'mce-item-anchor';\r\n              if (value && self.hasVisual) {\r\n                dom.addClass(elm, cls);\r\n              } else {\r\n                dom.removeClass(elm, cls);\r\n              }\r\n            }\r\n            return;\r\n          }\r\n        });\r\n        self.fire('VisualAid', {\r\n          element: elm,\r\n          hasVisual: self.hasVisual\r\n        });\r\n      },\r\n      remove: function () {\r\n        remove$9(this);\r\n      },\r\n      destroy: function (automatic) {\r\n        destroy(this, automatic);\r\n      },\r\n      uploadImages: function (callback) {\r\n        return this.editorUpload.uploadImages(callback);\r\n      },\r\n      _scanForImages: function () {\r\n        return this.editorUpload.scanForImages();\r\n      }\r\n    };\r\n    extend$4(Editor.prototype, EditorObservable$1);\r\n\r\n    var isEditorUIElement = function (elm) {\r\n      return elm.className.toString().indexOf('mce-') !== -1;\r\n    };\r\n    var FocusManager = { isEditorUIElement: isEditorUIElement };\r\n\r\n    var isManualNodeChange = function (e) {\r\n      return e.type === 'nodechange' && e.selectionChange;\r\n    };\r\n    var registerPageMouseUp = function (editor, throttledStore) {\r\n      var mouseUpPage = function () {\r\n        throttledStore.throttle();\r\n      };\r\n      DOMUtils$1.DOM.bind(document, 'mouseup', mouseUpPage);\r\n      editor.on('remove', function () {\r\n        DOMUtils$1.DOM.unbind(document, 'mouseup', mouseUpPage);\r\n      });\r\n    };\r\n    var registerFocusOut = function (editor) {\r\n      editor.on('focusout', function () {\r\n        SelectionBookmark.store(editor);\r\n      });\r\n    };\r\n    var registerMouseUp = function (editor, throttledStore) {\r\n      editor.on('mouseup touchend', function (e) {\r\n        throttledStore.throttle();\r\n      });\r\n    };\r\n    var registerEditorEvents = function (editor, throttledStore) {\r\n      var browser = PlatformDetection$1.detect().browser;\r\n      if (browser.isIE()) {\r\n        registerFocusOut(editor);\r\n      } else {\r\n        registerMouseUp(editor, throttledStore);\r\n      }\r\n      editor.on('keyup nodechange', function (e) {\r\n        if (!isManualNodeChange(e)) {\r\n          SelectionBookmark.store(editor);\r\n        }\r\n      });\r\n    };\r\n    var register$3 = function (editor) {\r\n      var throttledStore = first$1(function () {\r\n        SelectionBookmark.store(editor);\r\n      }, 0);\r\n      if (editor.inline) {\r\n        registerPageMouseUp(editor, throttledStore);\r\n      }\r\n      editor.on('init', function () {\r\n        registerEditorEvents(editor, throttledStore);\r\n      });\r\n      editor.on('remove', function () {\r\n        throttledStore.cancel();\r\n      });\r\n    };\r\n    var SelectionRestore = { register: register$3 };\r\n\r\n    var documentFocusInHandler;\r\n    var DOM$8 = DOMUtils$1.DOM;\r\n    var isEditorUIElement$1 = function (elm) {\r\n      return FocusManager.isEditorUIElement(elm);\r\n    };\r\n    var isUIElement = function (editor, elm) {\r\n      var customSelector = editor ? editor.settings.custom_ui_selector : '';\r\n      var parent$$1 = DOM$8.getParent(elm, function (elm) {\r\n        return isEditorUIElement$1(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\r\n      });\r\n      return parent$$1 !== null;\r\n    };\r\n    var getActiveElement = function () {\r\n      try {\r\n        return document.activeElement;\r\n      } catch (ex) {\r\n        return document.body;\r\n      }\r\n    };\r\n    var registerEvents = function (editorManager, e) {\r\n      var editor = e.editor;\r\n      SelectionRestore.register(editor);\r\n      editor.on('focusin', function () {\r\n        var self$$1 = this;\r\n        var focusedEditor = editorManager.focusedEditor;\r\n        if (focusedEditor !== self$$1) {\r\n          if (focusedEditor) {\r\n            focusedEditor.fire('blur', { focusedEditor: self$$1 });\r\n          }\r\n          editorManager.setActive(self$$1);\r\n          editorManager.focusedEditor = self$$1;\r\n          self$$1.fire('focus', { blurredEditor: focusedEditor });\r\n          self$$1.focus(true);\r\n        }\r\n      });\r\n      editor.on('focusout', function () {\r\n        var self$$1 = this;\r\n        Delay.setEditorTimeout(self$$1, function () {\r\n          var focusedEditor = editorManager.focusedEditor;\r\n          if (!isUIElement(self$$1, getActiveElement()) && focusedEditor === self$$1) {\r\n            self$$1.fire('blur', { focusedEditor: null });\r\n            editorManager.focusedEditor = null;\r\n          }\r\n        });\r\n      });\r\n      if (!documentFocusInHandler) {\r\n        documentFocusInHandler = function (e) {\r\n          var activeEditor = editorManager.activeEditor;\r\n          var target;\r\n          target = e.target;\r\n          if (activeEditor && target.ownerDocument === document) {\r\n            if (target !== document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {\r\n              activeEditor.fire('blur', { focusedEditor: null });\r\n              editorManager.focusedEditor = null;\r\n            }\r\n          }\r\n        };\r\n        DOM$8.bind(document, 'focusin', documentFocusInHandler);\r\n      }\r\n    };\r\n    var unregisterDocumentEvents = function (editorManager, e) {\r\n      if (editorManager.focusedEditor === e.editor) {\r\n        editorManager.focusedEditor = null;\r\n      }\r\n      if (!editorManager.activeEditor) {\r\n        DOM$8.unbind(document, 'focusin', documentFocusInHandler);\r\n        documentFocusInHandler = null;\r\n      }\r\n    };\r\n    var setup$g = function (editorManager) {\r\n      editorManager.on('AddEditor', curry(registerEvents, editorManager));\r\n      editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\r\n    };\r\n    var FocusController = {\r\n      setup: setup$g,\r\n      isEditorUIElement: isEditorUIElement$1,\r\n      isUIElement: isUIElement\r\n    };\r\n\r\n    var DOM$9 = DOMUtils$1.DOM;\r\n    var explode$4 = Tools.explode, each$m = Tools.each, extend$5 = Tools.extend;\r\n    var instanceCounter = 0, beforeUnloadDelegate, EditorManager, boundGlobalEvents = false;\r\n    var legacyEditors = [];\r\n    var editors = [];\r\n    var isValidLegacyKey = function (id) {\r\n      return id !== 'length';\r\n    };\r\n    var globalEventDelegate = function (e) {\r\n      var type = e.type;\r\n      each$m(EditorManager.get(), function (editor) {\r\n        switch (type) {\r\n        case 'scroll':\r\n          editor.fire('ScrollWindow', e);\r\n          break;\r\n        case 'resize':\r\n          editor.fire('ResizeWindow', e);\r\n          break;\r\n        }\r\n      });\r\n    };\r\n    var toggleGlobalEvents = function (state) {\r\n      if (state !== boundGlobalEvents) {\r\n        if (state) {\r\n          DomQuery(window).on('resize scroll', globalEventDelegate);\r\n        } else {\r\n          DomQuery(window).off('resize scroll', globalEventDelegate);\r\n        }\r\n        boundGlobalEvents = state;\r\n      }\r\n    };\r\n    var removeEditorFromList = function (targetEditor) {\r\n      var oldEditors = editors;\r\n      delete legacyEditors[targetEditor.id];\r\n      for (var i = 0; i < legacyEditors.length; i++) {\r\n        if (legacyEditors[i] === targetEditor) {\r\n          legacyEditors.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n      editors = filter(editors, function (editor) {\r\n        return targetEditor !== editor;\r\n      });\r\n      if (EditorManager.activeEditor === targetEditor) {\r\n        EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\r\n      }\r\n      if (EditorManager.focusedEditor === targetEditor) {\r\n        EditorManager.focusedEditor = null;\r\n      }\r\n      return oldEditors.length !== editors.length;\r\n    };\r\n    var purgeDestroyedEditor = function (editor) {\r\n      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\r\n        removeEditorFromList(editor);\r\n        editor.unbindAllNativeEvents();\r\n        editor.destroy(true);\r\n        editor.removed = true;\r\n        editor = null;\r\n      }\r\n      return editor;\r\n    };\r\n    EditorManager = {\r\n      defaultSettings: {},\r\n      $: DomQuery,\r\n      majorVersion: '4',\r\n      minorVersion: '9.3',\r\n      releaseDate: '2019-01-31',\r\n      editors: legacyEditors,\r\n      i18n: I18n,\r\n      activeEditor: null,\r\n      settings: {},\r\n      setup: function () {\r\n        var self$$1 = this;\r\n        var baseURL, documentBaseURL, suffix = '', preInit, src;\r\n        documentBaseURL = URI.getDocumentBaseUrl(document.location);\r\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\r\n          documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\r\n          if (!/[\\/\\\\]$/.test(documentBaseURL)) {\r\n            documentBaseURL += '/';\r\n          }\r\n        }\r\n        preInit = window.tinymce || window.tinyMCEPreInit;\r\n        if (preInit) {\r\n          baseURL = preInit.base || preInit.baseURL;\r\n          suffix = preInit.suffix;\r\n        } else {\r\n          var scripts = document.getElementsByTagName('script');\r\n          for (var i = 0; i < scripts.length; i++) {\r\n            src = scripts[i].src;\r\n            var srcScript = src.substring(src.lastIndexOf('/'));\r\n            if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\r\n              if (srcScript.indexOf('.min') !== -1) {\r\n                suffix = '.min';\r\n              }\r\n              baseURL = src.substring(0, src.lastIndexOf('/'));\r\n              break;\r\n            }\r\n          }\r\n          if (!baseURL && document.currentScript) {\r\n            src = document.currentScript.src;\r\n            if (src.indexOf('.min') !== -1) {\r\n              suffix = '.min';\r\n            }\r\n            baseURL = src.substring(0, src.lastIndexOf('/'));\r\n          }\r\n        }\r\n        self$$1.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\r\n        self$$1.documentBaseURL = documentBaseURL;\r\n        self$$1.baseURI = new URI(self$$1.baseURL);\r\n        self$$1.suffix = suffix;\r\n        FocusController.setup(self$$1);\r\n      },\r\n      overrideDefaults: function (defaultSettings) {\r\n        var baseUrl, suffix;\r\n        baseUrl = defaultSettings.base_url;\r\n        if (baseUrl) {\r\n          this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\r\n          this.baseURI = new URI(this.baseURL);\r\n        }\r\n        suffix = defaultSettings.suffix;\r\n        if (defaultSettings.suffix) {\r\n          this.suffix = suffix;\r\n        }\r\n        this.defaultSettings = defaultSettings;\r\n        var pluginBaseUrls = defaultSettings.plugin_base_urls;\r\n        for (var name$$1 in pluginBaseUrls) {\r\n          AddOnManager.PluginManager.urls[name$$1] = pluginBaseUrls[name$$1];\r\n        }\r\n      },\r\n      init: function (settings) {\r\n        var self$$1 = this;\r\n        var result, invalidInlineTargets;\r\n        invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu', ' ');\r\n        var isInvalidInlineTarget = function (settings, elm) {\r\n          return settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\r\n        };\r\n        var createId = function (elm) {\r\n          var id = elm.id;\r\n          if (!id) {\r\n            id = elm.name;\r\n            if (id && !DOM$9.get(id)) {\r\n              id = elm.name;\r\n            } else {\r\n              id = DOM$9.uniqueId();\r\n            }\r\n            elm.setAttribute('id', id);\r\n          }\r\n          return id;\r\n        };\r\n        var execCallback = function (name$$1) {\r\n          var callback = settings[name$$1];\r\n          if (!callback) {\r\n            return;\r\n          }\r\n          return callback.apply(self$$1, Array.prototype.slice.call(arguments, 2));\r\n        };\r\n        var hasClass = function (elm, className) {\r\n          return className.constructor === RegExp ? className.test(elm.className) : DOM$9.hasClass(elm, className);\r\n        };\r\n        var findTargets = function (settings) {\r\n          var l, targets = [];\r\n          if (Env.ie && Env.ie < 11) {\r\n            ErrorReporter.initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');\r\n            return [];\r\n          }\r\n          if (settings.types) {\r\n            each$m(settings.types, function (type) {\r\n              targets = targets.concat(DOM$9.select(type.selector));\r\n            });\r\n            return targets;\r\n          } else if (settings.selector) {\r\n            return DOM$9.select(settings.selector);\r\n          } else if (settings.target) {\r\n            return [settings.target];\r\n          }\r\n          switch (settings.mode) {\r\n          case 'exact':\r\n            l = settings.elements || '';\r\n            if (l.length > 0) {\r\n              each$m(explode$4(l), function (id) {\r\n                var elm;\r\n                if (elm = DOM$9.get(id)) {\r\n                  targets.push(elm);\r\n                } else {\r\n                  each$m(document.forms, function (f) {\r\n                    each$m(f.elements, function (e) {\r\n                      if (e.name === id) {\r\n                        id = 'mce_editor_' + instanceCounter++;\r\n                        DOM$9.setAttrib(e, 'id', id);\r\n                        targets.push(e);\r\n                      }\r\n                    });\r\n                  });\r\n                }\r\n              });\r\n            }\r\n            break;\r\n          case 'textareas':\r\n          case 'specific_textareas':\r\n            each$m(DOM$9.select('textarea'), function (elm) {\r\n              if (settings.editor_deselector && hasClass(elm, settings.editor_deselector)) {\r\n                return;\r\n              }\r\n              if (!settings.editor_selector || hasClass(elm, settings.editor_selector)) {\r\n                targets.push(elm);\r\n              }\r\n            });\r\n            break;\r\n          }\r\n          return targets;\r\n        };\r\n        var provideResults = function (editors) {\r\n          result = editors;\r\n        };\r\n        var initEditors = function () {\r\n          var initCount = 0;\r\n          var editors = [];\r\n          var targets;\r\n          var createEditor = function (id, settings, targetElm) {\r\n            var editor = new Editor(id, settings, self$$1);\r\n            editors.push(editor);\r\n            editor.on('init', function () {\r\n              if (++initCount === targets.length) {\r\n                provideResults(editors);\r\n              }\r\n            });\r\n            editor.targetElm = editor.targetElm || targetElm;\r\n            editor.render();\r\n          };\r\n          DOM$9.unbind(window, 'ready', initEditors);\r\n          execCallback('onpageload');\r\n          targets = DomQuery.unique(findTargets(settings));\r\n          if (settings.types) {\r\n            each$m(settings.types, function (type) {\r\n              Tools.each(targets, function (elm) {\r\n                if (DOM$9.is(elm, type.selector)) {\r\n                  createEditor(createId(elm), extend$5({}, settings, type), elm);\r\n                  return false;\r\n                }\r\n                return true;\r\n              });\r\n            });\r\n            return;\r\n          }\r\n          Tools.each(targets, function (elm) {\r\n            purgeDestroyedEditor(self$$1.get(elm.id));\r\n          });\r\n          targets = Tools.grep(targets, function (elm) {\r\n            return !self$$1.get(elm.id);\r\n          });\r\n          if (targets.length === 0) {\r\n            provideResults([]);\r\n          } else {\r\n            each$m(targets, function (elm) {\r\n              if (isInvalidInlineTarget(settings, elm)) {\r\n                ErrorReporter.initError('Could not initialize inline editor on invalid inline target element', elm);\r\n              } else {\r\n                createEditor(createId(elm), settings, elm);\r\n              }\r\n            });\r\n          }\r\n        };\r\n        self$$1.settings = settings;\r\n        DOM$9.bind(window, 'ready', initEditors);\r\n        return new promiseObj(function (resolve) {\r\n          if (result) {\r\n            resolve(result);\r\n          } else {\r\n            provideResults = function (editors) {\r\n              resolve(editors);\r\n            };\r\n          }\r\n        });\r\n      },\r\n      get: function (id) {\r\n        if (arguments.length === 0) {\r\n          return editors.slice(0);\r\n        } else if (isString(id)) {\r\n          return find(editors, function (editor) {\r\n            return editor.id === id;\r\n          }).getOr(null);\r\n        } else if (isNumber(id)) {\r\n          return editors[id] ? editors[id] : null;\r\n        } else {\r\n          return null;\r\n        }\r\n      },\r\n      add: function (editor) {\r\n        var self$$1 = this;\r\n        var existingEditor;\r\n        existingEditor = legacyEditors[editor.id];\r\n        if (existingEditor === editor) {\r\n          return editor;\r\n        }\r\n        if (self$$1.get(editor.id) === null) {\r\n          if (isValidLegacyKey(editor.id)) {\r\n            legacyEditors[editor.id] = editor;\r\n          }\r\n          legacyEditors.push(editor);\r\n          editors.push(editor);\r\n        }\r\n        toggleGlobalEvents(true);\r\n        self$$1.activeEditor = editor;\r\n        self$$1.fire('AddEditor', { editor: editor });\r\n        if (!beforeUnloadDelegate) {\r\n          beforeUnloadDelegate = function () {\r\n            self$$1.fire('BeforeUnload');\r\n          };\r\n          DOM$9.bind(window, 'beforeunload', beforeUnloadDelegate);\r\n        }\r\n        return editor;\r\n      },\r\n      createEditor: function (id, settings) {\r\n        return this.add(new Editor(id, settings, this));\r\n      },\r\n      remove: function (selector) {\r\n        var self$$1 = this;\r\n        var i, editor;\r\n        if (!selector) {\r\n          for (i = editors.length - 1; i >= 0; i--) {\r\n            self$$1.remove(editors[i]);\r\n          }\r\n          return;\r\n        }\r\n        if (isString(selector)) {\r\n          each$m(DOM$9.select(selector), function (elm) {\r\n            editor = self$$1.get(elm.id);\r\n            if (editor) {\r\n              self$$1.remove(editor);\r\n            }\r\n          });\r\n          return;\r\n        }\r\n        editor = selector;\r\n        if (isNull(self$$1.get(editor.id))) {\r\n          return null;\r\n        }\r\n        if (removeEditorFromList(editor)) {\r\n          self$$1.fire('RemoveEditor', { editor: editor });\r\n        }\r\n        if (editors.length === 0) {\r\n          DOM$9.unbind(window, 'beforeunload', beforeUnloadDelegate);\r\n        }\r\n        editor.remove();\r\n        toggleGlobalEvents(editors.length > 0);\r\n        return editor;\r\n      },\r\n      execCommand: function (cmd, ui, value) {\r\n        var self$$1 = this, editor = self$$1.get(value);\r\n        switch (cmd) {\r\n        case 'mceAddEditor':\r\n          if (!self$$1.get(value)) {\r\n            new Editor(value, self$$1.settings, self$$1).render();\r\n          }\r\n          return true;\r\n        case 'mceRemoveEditor':\r\n          if (editor) {\r\n            editor.remove();\r\n          }\r\n          return true;\r\n        case 'mceToggleEditor':\r\n          if (!editor) {\r\n            self$$1.execCommand('mceAddEditor', 0, value);\r\n            return true;\r\n          }\r\n          if (editor.isHidden()) {\r\n            editor.show();\r\n          } else {\r\n            editor.hide();\r\n          }\r\n          return true;\r\n        }\r\n        if (self$$1.activeEditor) {\r\n          return self$$1.activeEditor.execCommand(cmd, ui, value);\r\n        }\r\n        return false;\r\n      },\r\n      triggerSave: function () {\r\n        each$m(editors, function (editor) {\r\n          editor.save();\r\n        });\r\n      },\r\n      addI18n: function (code, items) {\r\n        I18n.add(code, items);\r\n      },\r\n      translate: function (text) {\r\n        return I18n.translate(text);\r\n      },\r\n      setActive: function (editor) {\r\n        var activeEditor = this.activeEditor;\r\n        if (this.activeEditor !== editor) {\r\n          if (activeEditor) {\r\n            activeEditor.fire('deactivate', { relatedTarget: editor });\r\n          }\r\n          editor.fire('activate', { relatedTarget: activeEditor });\r\n        }\r\n        this.activeEditor = editor;\r\n      }\r\n    };\r\n    extend$5(EditorManager, Observable);\r\n    EditorManager.setup();\r\n    var EditorManager$1 = EditorManager;\r\n\r\n    function RangeUtils(dom) {\r\n      var walk = function (rng, callback) {\r\n        return RangeWalk.walk(dom, rng, callback);\r\n      };\r\n      var split = SplitRange.split;\r\n      var normalize = function (rng) {\r\n        return NormalizeRange.normalize(dom, rng).fold(constant(false), function (normalizedRng) {\r\n          rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\r\n          rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\r\n          return true;\r\n        });\r\n      };\r\n      return {\r\n        walk: walk,\r\n        split: split,\r\n        normalize: normalize\r\n      };\r\n    }\r\n    (function (RangeUtils) {\r\n      RangeUtils.compareRanges = RangeCompare.isEq;\r\n      RangeUtils.getCaretRangeFromPoint = CaretRangeFromPoint.fromPoint;\r\n      RangeUtils.getSelectedNode = getSelectedNode;\r\n      RangeUtils.getNode = getNode;\r\n    }(RangeUtils || (RangeUtils = {})));\r\n    var RangeUtils$1 = RangeUtils;\r\n\r\n    var min = Math.min, max = Math.max, round$2 = Math.round;\r\n    var relativePosition = function (rect, targetRect, rel) {\r\n      var x, y, w, h, targetW, targetH;\r\n      x = targetRect.x;\r\n      y = targetRect.y;\r\n      w = rect.w;\r\n      h = rect.h;\r\n      targetW = targetRect.w;\r\n      targetH = targetRect.h;\r\n      rel = (rel || '').split('');\r\n      if (rel[0] === 'b') {\r\n        y += targetH;\r\n      }\r\n      if (rel[1] === 'r') {\r\n        x += targetW;\r\n      }\r\n      if (rel[0] === 'c') {\r\n        y += round$2(targetH / 2);\r\n      }\r\n      if (rel[1] === 'c') {\r\n        x += round$2(targetW / 2);\r\n      }\r\n      if (rel[3] === 'b') {\r\n        y -= h;\r\n      }\r\n      if (rel[4] === 'r') {\r\n        x -= w;\r\n      }\r\n      if (rel[3] === 'c') {\r\n        y -= round$2(h / 2);\r\n      }\r\n      if (rel[4] === 'c') {\r\n        x -= round$2(w / 2);\r\n      }\r\n      return create$3(x, y, w, h);\r\n    };\r\n    var findBestRelativePosition = function (rect, targetRect, constrainRect, rels) {\r\n      var pos, i;\r\n      for (i = 0; i < rels.length; i++) {\r\n        pos = relativePosition(rect, targetRect, rels[i]);\r\n        if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\r\n          return rels[i];\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n    var inflate = function (rect, w, h) {\r\n      return create$3(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\r\n    };\r\n    var intersect = function (rect, cropRect) {\r\n      var x1, y1, x2, y2;\r\n      x1 = max(rect.x, cropRect.x);\r\n      y1 = max(rect.y, cropRect.y);\r\n      x2 = min(rect.x + rect.w, cropRect.x + cropRect.w);\r\n      y2 = min(rect.y + rect.h, cropRect.y + cropRect.h);\r\n      if (x2 - x1 < 0 || y2 - y1 < 0) {\r\n        return null;\r\n      }\r\n      return create$3(x1, y1, x2 - x1, y2 - y1);\r\n    };\r\n    var clamp$1 = function (rect, clampRect, fixedSize) {\r\n      var underflowX1, underflowY1, overflowX2, overflowY2, x1, y1, x2, y2, cx2, cy2;\r\n      x1 = rect.x;\r\n      y1 = rect.y;\r\n      x2 = rect.x + rect.w;\r\n      y2 = rect.y + rect.h;\r\n      cx2 = clampRect.x + clampRect.w;\r\n      cy2 = clampRect.y + clampRect.h;\r\n      underflowX1 = max(0, clampRect.x - x1);\r\n      underflowY1 = max(0, clampRect.y - y1);\r\n      overflowX2 = max(0, x2 - cx2);\r\n      overflowY2 = max(0, y2 - cy2);\r\n      x1 += underflowX1;\r\n      y1 += underflowY1;\r\n      if (fixedSize) {\r\n        x2 += underflowX1;\r\n        y2 += underflowY1;\r\n        x1 -= overflowX2;\r\n        y1 -= overflowY2;\r\n      }\r\n      x2 -= overflowX2;\r\n      y2 -= overflowY2;\r\n      return create$3(x1, y1, x2 - x1, y2 - y1);\r\n    };\r\n    var create$3 = function (x, y, w, h) {\r\n      return {\r\n        x: x,\r\n        y: y,\r\n        w: w,\r\n        h: h\r\n      };\r\n    };\r\n    var fromClientRect = function (clientRect) {\r\n      return create$3(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\r\n    };\r\n    var Rect = {\r\n      inflate: inflate,\r\n      relativePosition: relativePosition,\r\n      findBestRelativePosition: findBestRelativePosition,\r\n      intersect: intersect,\r\n      clamp: clamp$1,\r\n      create: create$3,\r\n      fromClientRect: fromClientRect\r\n    };\r\n\r\n    var types = {};\r\n    var Factory = {\r\n      add: function (type, typeClass) {\r\n        types[type.toLowerCase()] = typeClass;\r\n      },\r\n      has: function (type) {\r\n        return !!types[type.toLowerCase()];\r\n      },\r\n      get: function (type) {\r\n        var lctype = type.toLowerCase();\r\n        var controlType = types.hasOwnProperty(lctype) ? types[lctype] : null;\r\n        if (controlType === null) {\r\n          throw new Error('Could not find module for type: ' + type);\r\n        }\r\n        return controlType;\r\n      },\r\n      create: function (type, settings) {\r\n        var ControlType;\r\n        if (typeof type === 'string') {\r\n          settings = settings || {};\r\n          settings.type = type;\r\n        } else {\r\n          settings = type;\r\n          type = settings.type;\r\n        }\r\n        type = type.toLowerCase();\r\n        ControlType = types[type];\r\n        if (!ControlType) {\r\n          throw new Error('Could not find control by type: ' + type);\r\n        }\r\n        ControlType = new ControlType(settings);\r\n        ControlType.type = type;\r\n        return ControlType;\r\n      }\r\n    };\r\n\r\n    var each$n = Tools.each, extend$6 = Tools.extend;\r\n    var extendClass, initializing;\r\n    var Class = function () {\r\n    };\r\n    Class.extend = extendClass = function (prop) {\r\n      var self = this;\r\n      var _super = self.prototype;\r\n      var prototype, name, member;\r\n      var Class = function () {\r\n        var i, mixins, mixin;\r\n        var self = this;\r\n        if (!initializing) {\r\n          if (self.init) {\r\n            self.init.apply(self, arguments);\r\n          }\r\n          mixins = self.Mixins;\r\n          if (mixins) {\r\n            i = mixins.length;\r\n            while (i--) {\r\n              mixin = mixins[i];\r\n              if (mixin.init) {\r\n                mixin.init.apply(self, arguments);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n      var dummy = function () {\r\n        return this;\r\n      };\r\n      var createMethod = function (name, fn) {\r\n        return function () {\r\n          var self = this;\r\n          var tmp = self._super;\r\n          var ret;\r\n          self._super = _super[name];\r\n          ret = fn.apply(self, arguments);\r\n          self._super = tmp;\r\n          return ret;\r\n        };\r\n      };\r\n      initializing = true;\r\n      prototype = new self();\r\n      initializing = false;\r\n      if (prop.Mixins) {\r\n        each$n(prop.Mixins, function (mixin) {\r\n          for (var name_1 in mixin) {\r\n            if (name_1 !== 'init') {\r\n              prop[name_1] = mixin[name_1];\r\n            }\r\n          }\r\n        });\r\n        if (_super.Mixins) {\r\n          prop.Mixins = _super.Mixins.concat(prop.Mixins);\r\n        }\r\n      }\r\n      if (prop.Methods) {\r\n        each$n(prop.Methods.split(','), function (name) {\r\n          prop[name] = dummy;\r\n        });\r\n      }\r\n      if (prop.Properties) {\r\n        each$n(prop.Properties.split(','), function (name) {\r\n          var fieldName = '_' + name;\r\n          prop[name] = function (value) {\r\n            var self = this;\r\n            if (value !== undefined) {\r\n              self[fieldName] = value;\r\n              return self;\r\n            }\r\n            return self[fieldName];\r\n          };\r\n        });\r\n      }\r\n      if (prop.Statics) {\r\n        each$n(prop.Statics, function (func, name) {\r\n          Class[name] = func;\r\n        });\r\n      }\r\n      if (prop.Defaults && _super.Defaults) {\r\n        prop.Defaults = extend$6({}, _super.Defaults, prop.Defaults);\r\n      }\r\n      for (name in prop) {\r\n        member = prop[name];\r\n        if (typeof member === 'function' && _super[name]) {\r\n          prototype[name] = createMethod(name, member);\r\n        } else {\r\n          prototype[name] = member;\r\n        }\r\n      }\r\n      Class.prototype = prototype;\r\n      Class.constructor = Class;\r\n      Class.extend = extendClass;\r\n      return Class;\r\n    };\r\n\r\n    var min$1 = Math.min, max$1 = Math.max, round$3 = Math.round;\r\n    var Color = function (value) {\r\n      var self = {};\r\n      var r = 0, g = 0, b = 0;\r\n      var rgb2hsv = function (r, g, b) {\r\n        var h, s, v, d, minRGB, maxRGB;\r\n        h = 0;\r\n        s = 0;\r\n        v = 0;\r\n        r = r / 255;\r\n        g = g / 255;\r\n        b = b / 255;\r\n        minRGB = min$1(r, min$1(g, b));\r\n        maxRGB = max$1(r, max$1(g, b));\r\n        if (minRGB === maxRGB) {\r\n          v = minRGB;\r\n          return {\r\n            h: 0,\r\n            s: 0,\r\n            v: v * 100\r\n          };\r\n        }\r\n        d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\r\n        h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\r\n        h = 60 * (h - d / (maxRGB - minRGB));\r\n        s = (maxRGB - minRGB) / maxRGB;\r\n        v = maxRGB;\r\n        return {\r\n          h: round$3(h),\r\n          s: round$3(s * 100),\r\n          v: round$3(v * 100)\r\n        };\r\n      };\r\n      var hsvToRgb = function (hue, saturation, brightness) {\r\n        var side, chroma, x, match;\r\n        hue = (parseInt(hue, 10) || 0) % 360;\r\n        saturation = parseInt(saturation, 10) / 100;\r\n        brightness = parseInt(brightness, 10) / 100;\r\n        saturation = max$1(0, min$1(saturation, 1));\r\n        brightness = max$1(0, min$1(brightness, 1));\r\n        if (saturation === 0) {\r\n          r = g = b = round$3(255 * brightness);\r\n          return;\r\n        }\r\n        side = hue / 60;\r\n        chroma = brightness * saturation;\r\n        x = chroma * (1 - Math.abs(side % 2 - 1));\r\n        match = brightness - chroma;\r\n        switch (Math.floor(side)) {\r\n        case 0:\r\n          r = chroma;\r\n          g = x;\r\n          b = 0;\r\n          break;\r\n        case 1:\r\n          r = x;\r\n          g = chroma;\r\n          b = 0;\r\n          break;\r\n        case 2:\r\n          r = 0;\r\n          g = chroma;\r\n          b = x;\r\n          break;\r\n        case 3:\r\n          r = 0;\r\n          g = x;\r\n          b = chroma;\r\n          break;\r\n        case 4:\r\n          r = x;\r\n          g = 0;\r\n          b = chroma;\r\n          break;\r\n        case 5:\r\n          r = chroma;\r\n          g = 0;\r\n          b = x;\r\n          break;\r\n        default:\r\n          r = g = b = 0;\r\n        }\r\n        r = round$3(255 * (r + match));\r\n        g = round$3(255 * (g + match));\r\n        b = round$3(255 * (b + match));\r\n      };\r\n      var toHex = function () {\r\n        var hex = function (val) {\r\n          val = parseInt(val, 10).toString(16);\r\n          return val.length > 1 ? val : '0' + val;\r\n        };\r\n        return '#' + hex(r) + hex(g) + hex(b);\r\n      };\r\n      var toRgb = function () {\r\n        return {\r\n          r: r,\r\n          g: g,\r\n          b: b\r\n        };\r\n      };\r\n      var toHsv = function () {\r\n        return rgb2hsv(r, g, b);\r\n      };\r\n      var parse = function (value) {\r\n        var matches;\r\n        if (typeof value === 'object') {\r\n          if ('r' in value) {\r\n            r = value.r;\r\n            g = value.g;\r\n            b = value.b;\r\n          } else if ('v' in value) {\r\n            hsvToRgb(value.h, value.s, value.v);\r\n          }\r\n        } else {\r\n          if (matches = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(value)) {\r\n            r = parseInt(matches[1], 10);\r\n            g = parseInt(matches[2], 10);\r\n            b = parseInt(matches[3], 10);\r\n          } else if (matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value)) {\r\n            r = parseInt(matches[1], 16);\r\n            g = parseInt(matches[2], 16);\r\n            b = parseInt(matches[3], 16);\r\n          } else if (matches = /#([0-F])([0-F])([0-F])/gi.exec(value)) {\r\n            r = parseInt(matches[1] + matches[1], 16);\r\n            g = parseInt(matches[2] + matches[2], 16);\r\n            b = parseInt(matches[3] + matches[3], 16);\r\n          }\r\n        }\r\n        r = r < 0 ? 0 : r > 255 ? 255 : r;\r\n        g = g < 0 ? 0 : g > 255 ? 255 : g;\r\n        b = b < 0 ? 0 : b > 255 ? 255 : b;\r\n        return self;\r\n      };\r\n      if (value) {\r\n        parse(value);\r\n      }\r\n      self.toRgb = toRgb;\r\n      self.toHsv = toHsv;\r\n      self.toHex = toHex;\r\n      self.parse = parse;\r\n      return self;\r\n    };\r\n\r\n    var serialize = function (o, quote) {\r\n      var i, v, t, name;\r\n      quote = quote || '\"';\r\n      if (o === null) {\r\n        return 'null';\r\n      }\r\n      t = typeof o;\r\n      if (t === 'string') {\r\n        v = '\\bb\\tt\\nn\\ff\\rr\"\"\\'\\'\\\\\\\\';\r\n        return quote + o.replace(/([\\u0080-\\uFFFF\\x00-\\x1f\\\"\\'\\\\])/g, function (a, b) {\r\n          if (quote === '\"' && a === '\\'') {\r\n            return a;\r\n          }\r\n          i = v.indexOf(b);\r\n          if (i + 1) {\r\n            return '\\\\' + v.charAt(i + 1);\r\n          }\r\n          a = b.charCodeAt().toString(16);\r\n          return '\\\\u' + '0000'.substring(a.length) + a;\r\n        }) + quote;\r\n      }\r\n      if (t === 'object') {\r\n        if (o.hasOwnProperty && Object.prototype.toString.call(o) === '[object Array]') {\r\n          for (i = 0, v = '['; i < o.length; i++) {\r\n            v += (i > 0 ? ',' : '') + serialize(o[i], quote);\r\n          }\r\n          return v + ']';\r\n        }\r\n        v = '{';\r\n        for (name in o) {\r\n          if (o.hasOwnProperty(name)) {\r\n            v += typeof o[name] !== 'function' ? (v.length > 1 ? ',' + quote : quote) + name + quote + ':' + serialize(o[name], quote) : '';\r\n          }\r\n        }\r\n        return v + '}';\r\n      }\r\n      return '' + o;\r\n    };\r\n    var JSON$1 = {\r\n      serialize: serialize,\r\n      parse: function (text) {\r\n        try {\r\n          return JSON.parse(text);\r\n        } catch (ex) {\r\n        }\r\n      }\r\n    };\r\n\r\n    var JSONP = {\r\n      callbacks: {},\r\n      count: 0,\r\n      send: function (settings) {\r\n        var self = this, dom = DOMUtils$1.DOM, count = settings.count !== undefined ? settings.count : self.count;\r\n        var id = 'tinymce_jsonp_' + count;\r\n        self.callbacks[count] = function (json) {\r\n          dom.remove(id);\r\n          delete self.callbacks[count];\r\n          settings.callback(json);\r\n        };\r\n        dom.add(dom.doc.body, 'script', {\r\n          id: id,\r\n          src: settings.url,\r\n          type: 'text/javascript'\r\n        });\r\n        self.count++;\r\n      }\r\n    };\r\n\r\n    var XHR = {\r\n      send: function (settings) {\r\n        var xhr, count = 0;\r\n        var ready = function () {\r\n          if (!settings.async || xhr.readyState === 4 || count++ > 10000) {\r\n            if (settings.success && count < 10000 && xhr.status === 200) {\r\n              settings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);\r\n            } else if (settings.error) {\r\n              settings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);\r\n            }\r\n            xhr = null;\r\n          } else {\r\n            setTimeout(ready, 10);\r\n          }\r\n        };\r\n        settings.scope = settings.scope || this;\r\n        settings.success_scope = settings.success_scope || settings.scope;\r\n        settings.error_scope = settings.error_scope || settings.scope;\r\n        settings.async = settings.async === false ? false : true;\r\n        settings.data = settings.data || '';\r\n        XHR.fire('beforeInitialize', { settings: settings });\r\n        xhr = XMLHttpRequest();\r\n        if (xhr) {\r\n          if (xhr.overrideMimeType) {\r\n            xhr.overrideMimeType(settings.content_type);\r\n          }\r\n          xhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);\r\n          if (settings.crossDomain) {\r\n            xhr.withCredentials = true;\r\n          }\r\n          if (settings.content_type) {\r\n            xhr.setRequestHeader('Content-Type', settings.content_type);\r\n          }\r\n          if (settings.requestheaders) {\r\n            Tools.each(settings.requestheaders, function (header) {\r\n              xhr.setRequestHeader(header.key, header.value);\r\n            });\r\n          }\r\n          xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n          xhr = XHR.fire('beforeSend', {\r\n            xhr: xhr,\r\n            settings: settings\r\n          }).xhr;\r\n          xhr.send(settings.data);\r\n          if (!settings.async) {\r\n            return ready();\r\n          }\r\n          setTimeout(ready, 10);\r\n        }\r\n      }\r\n    };\r\n    Tools.extend(XHR, Observable);\r\n\r\n    var extend$7 = Tools.extend;\r\n    var JSONRequest = function (settings) {\r\n      this.settings = extend$7({}, settings);\r\n      this.count = 0;\r\n    };\r\n    JSONRequest.sendRPC = function (o) {\r\n      return new JSONRequest().send(o);\r\n    };\r\n    JSONRequest.prototype = {\r\n      send: function (args) {\r\n        var ecb = args.error, scb = args.success;\r\n        args = extend$7(this.settings, args);\r\n        args.success = function (c, x) {\r\n          c = JSON$1.parse(c);\r\n          if (typeof c === 'undefined') {\r\n            c = { error: 'JSON Parse error.' };\r\n          }\r\n          if (c.error) {\r\n            ecb.call(args.error_scope || args.scope, c.error, x);\r\n          } else {\r\n            scb.call(args.success_scope || args.scope, c.result);\r\n          }\r\n        };\r\n        args.error = function (ty, x) {\r\n          if (ecb) {\r\n            ecb.call(args.error_scope || args.scope, ty, x);\r\n          }\r\n        };\r\n        args.data = JSON$1.serialize({\r\n          id: args.id || 'c' + this.count++,\r\n          method: args.method,\r\n          params: args.params\r\n        });\r\n        args.content_type = 'application/json';\r\n        XHR.send(args);\r\n      }\r\n    };\r\n\r\n    var create$4 = function () {\r\n      return function () {\r\n        var data = {};\r\n        var keys = [];\r\n        var storage = {\r\n          getItem: function (key) {\r\n            var item = data[key];\r\n            return item ? item : null;\r\n          },\r\n          setItem: function (key, value) {\r\n            keys.push(key);\r\n            data[key] = String(value);\r\n          },\r\n          key: function (index) {\r\n            return keys[index];\r\n          },\r\n          removeItem: function (key) {\r\n            keys = keys.filter(function (k) {\r\n              return k === key;\r\n            });\r\n            delete data[key];\r\n          },\r\n          clear: function () {\r\n            keys = [];\r\n            data = {};\r\n          },\r\n          length: 0\r\n        };\r\n        Object.defineProperty(storage, 'length', {\r\n          get: function () {\r\n            return keys.length;\r\n          },\r\n          configurable: false,\r\n          enumerable: false\r\n        });\r\n        return storage;\r\n      }();\r\n    };\r\n\r\n    var localStorage$$1;\r\n    try {\r\n      localStorage$$1 = window.localStorage;\r\n    } catch (e) {\r\n      localStorage$$1 = create$4();\r\n    }\r\n    var LocalStorage = localStorage$$1;\r\n\r\n    var tinymce = EditorManager$1;\r\n    var publicApi = {\r\n      geom: { Rect: Rect },\r\n      util: {\r\n        Promise: promiseObj,\r\n        Delay: Delay,\r\n        Tools: Tools,\r\n        VK: VK,\r\n        URI: URI,\r\n        Class: Class,\r\n        EventDispatcher: Dispatcher,\r\n        Observable: Observable,\r\n        I18n: I18n,\r\n        XHR: XHR,\r\n        JSON: JSON$1,\r\n        JSONRequest: JSONRequest,\r\n        JSONP: JSONP,\r\n        LocalStorage: LocalStorage,\r\n        Color: Color\r\n      },\r\n      dom: {\r\n        EventUtils: EventUtils,\r\n        Sizzle: Sizzle,\r\n        DomQuery: DomQuery,\r\n        TreeWalker: TreeWalker,\r\n        DOMUtils: DOMUtils$1,\r\n        ScriptLoader: ScriptLoader,\r\n        RangeUtils: RangeUtils$1,\r\n        Serializer: Serializer$1,\r\n        ControlSelection: ControlSelection,\r\n        BookmarkManager: BookmarkManager$1,\r\n        Selection: Selection,\r\n        Event: EventUtils.Event\r\n      },\r\n      html: {\r\n        Styles: Styles,\r\n        Entities: Entities,\r\n        Node: Node$2,\r\n        Schema: Schema,\r\n        SaxParser: SaxParser$1,\r\n        DomParser: DomParser,\r\n        Writer: Writer,\r\n        Serializer: Serializer\r\n      },\r\n      ui: { Factory: Factory },\r\n      Env: Env,\r\n      AddOnManager: AddOnManager,\r\n      Annotator: Annotator,\r\n      Formatter: Formatter,\r\n      UndoManager: UndoManager,\r\n      EditorCommands: EditorCommands,\r\n      WindowManager: WindowManager,\r\n      NotificationManager: NotificationManager,\r\n      EditorObservable: EditorObservable$1,\r\n      Shortcuts: Shortcuts,\r\n      Editor: Editor,\r\n      FocusManager: FocusManager,\r\n      EditorManager: EditorManager$1,\r\n      DOM: DOMUtils$1.DOM,\r\n      ScriptLoader: ScriptLoader.ScriptLoader,\r\n      PluginManager: AddOnManager.PluginManager,\r\n      ThemeManager: AddOnManager.ThemeManager,\r\n      trim: Tools.trim,\r\n      isArray: Tools.isArray,\r\n      is: Tools.is,\r\n      toArray: Tools.toArray,\r\n      makeMap: Tools.makeMap,\r\n      each: Tools.each,\r\n      map: Tools.map,\r\n      grep: Tools.grep,\r\n      inArray: Tools.inArray,\r\n      extend: Tools.extend,\r\n      create: Tools.create,\r\n      walk: Tools.walk,\r\n      createNS: Tools.createNS,\r\n      resolve: Tools.resolve,\r\n      explode: Tools.explode,\r\n      _addCacheSuffix: Tools._addCacheSuffix,\r\n      isOpera: Env.opera,\r\n      isWebKit: Env.webkit,\r\n      isIE: Env.ie,\r\n      isGecko: Env.gecko,\r\n      isMac: Env.mac\r\n    };\r\n    tinymce = Tools.extend(tinymce, publicApi);\r\n    var Tinymce = tinymce;\r\n\r\n    var exportToModuleLoaders = function (tinymce) {\r\n      if (typeof module === 'object') {\r\n        try {\r\n          module.exports = tinymce;\r\n        } catch (_) {\r\n        }\r\n      }\r\n    };\r\n    var exportToWindowGlobal = function (tinymce) {\r\n      window.tinymce = tinymce;\r\n      window.tinyMCE = tinymce;\r\n    };\r\n    exportToWindowGlobal(Tinymce);\r\n    exportToModuleLoaders(Tinymce);\r\n\r\n}());\r\n})();\r\n","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=bc6be5b2&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=bc6be5b2&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/logo.75cbda97.png\";","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./404.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./404.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/Chrome.7800f6eb.jpg\";","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./IeUnderTen.vue?vue&type=style&index=0&id=563a16fc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./IeUnderTen.vue?vue&type=style&index=0&id=563a16fc&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/sogou.661039b1.jpg\";","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./NewsDetails.vue?vue&type=style&index=0&id=2a0bc0d1&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./NewsDetails.vue?vue&type=style&index=0&id=2a0bc0d1&lang=less&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1Q0REMTFFMDQ0QTcxMUU5OTI1Q0FFNkY1QUIxQjEwMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowMzJEMDBGNzhCNjExMUU5OUUyQUE2RTgzQzQwQ0RBNiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMzJEMDBGNjhCNjExMUU5OUUyQUE2RTgzQzQwQ0RBNiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpkZTIxZTZmYS1jMGI2LWQ1NGItYmMxOC01YjczZTdlY2NmYWUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozZDE1ZWIyZi00NTQxLTExZTktYTFjZi1lMWQ2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\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./News.vue?vue&type=style&index=0&id=51a6c19b&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./News.vue?vue&type=style&index=0&id=51a6c19b&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/logo.82b9c7a5.png\";","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=1&id=e30c17ca&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=1&id=e30c17ca&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/360.6cee1221.jpg\";"],"sourceRoot":""}