(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-338d"],{"1S3q":function(t,e,n){},HX6V:function(t,e,n){"use strict";n.r(e);var i=n("cLjf"),a=n.n(i),s=n("hDQ3"),r=n.n(s),o=n("YHGi"),l=n("K3Y6"),c={name:"addStrategy",props:["item","isAdd","majors"],data:function(){return{list:[],form:{"编号":0,"名称":"","教学专业编号":"","专业基地管理员编号":0,"是否启用":!0,"建立日期":Object(l.h)(new Date,"yyyy-MM-dd"),"备注":""},rules:{"名称":[{required:!0,message:"请输入名称！",trigger:"blur"}],"教学专业编号":[{required:!0,message:"请选择教学专业！",trigger:"blur"}]},title:""}},mounted:function(){this.isAdd||(this.form=Object(l.g)(this.item))},methods:{cancelHandler:function(){this.$emit("myEvent",!1)},confirmHandler:Object(l.a)(function(){var t=this;this.$refs.form.validate(function(e){if(!e)return t.$message.error("信息有误！"),!1;t.addEditStrategy(t.form)})},300),addEditStrategy:function(){var t=r()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myPost(o.k.POST_ADD_EDIT_HOSPITAL_STRATEGY,e);case 2:this.$message.success("提交成功！"),this.$emit("myEvent",!1);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},u=(n("d5HK"),n("ZrdR")),f=Object(u.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-box"},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"130px",size:"small"}},[n("el-form-item",{attrs:{label:"策略名称",prop:"名称"}},[n("el-input",{model:{value:t.form.名称,callback:function(e){t.$set(t.form,"名称",e)},expression:"form.名称"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"教学专业",prop:"教学专业编号"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.教学专业编号,callback:function(e){t.$set(t.form,"教学专业编号",e)},expression:"form.教学专业编号"}},t._l(t.majors,function(e){return n("el-option",{key:e.编号,attrs:{label:e.名称+" - "+e.年份,value:e.编号}},[n("span",{staticStyle:{float:"left"}},[t._v(t._s(e.名称))]),t._v(" "),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.年份))])])}))],1),t._v(" "),n("el-form-item",{attrs:{label:"是否启用",prop:"是否启用"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{staticClass:"switch",staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用"},model:{value:t.form.是否启用,callback:function(e){t.$set(t.form,"是否启用",e)},expression:"form.是否启用"}})]}}])}),t._v(" "),n("el-form-item",{attrs:{label:"备注",prop:"备注"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.form.备注,callback:function(e){t.$set(t.form,"备注",e)},expression:"form.备注"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancelHandler}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.confirmHandler}},[t._v("确 定")])],1)],1)},[],!1,null,"2a470f36",null);f.options.__file="addOrEditStrategy.vue";var d={components:{addOrEditStrategy:f.exports},data:function(){return{list:[],req:{"教学专业编号":"","Like名称":"","是否启用":""},listLoading:!0,isDialog:!1,isAdd:!1,item:{},isLoad:!1,majors:[],isSetAsk:!1,title:""}},mounted:function(){this.listLoading=!0,this.getMajors(),this.getList()},methods:{getList:function(){var t=r()(a.a.mark(function t(){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myGet(o.k.GET_HOSPITAL_STRATEGY_LIST,this.req);case 2:(e=t.sent)&&e.length>0?this.list=e:this.list=[],this.listLoading=!1,this.isLoad=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getMajors:function(){var t=r()(a.a.mark(function t(){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myGet(o.k.GET_TRAINING_MAJOR_LIST,"");case 2:(e=t.sent)&&e.length>0&&(this.majors=e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onSearch:function(){this.listLoading=!0,this.list=[],this.getList()},enableStrategy:function(){var t=r()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myPost(o.k.POST_ENABLE_HOSPITAL_STRATEGY,e);case 2:this.$message.success("启用成功！");case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),disableStrategy:function(){var t=r()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myPost(o.k.POST_DISABLE_HOSPITAL_STRATEGY,e);case 2:this.$message.success("禁用成功！");case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),switchChange:function(t){var e="启用";e=t.是否启用?"启用":"禁用",this.enableDisableStrategy(e,t)},enableDisableStrategy:function(t,e){var n=this;this.$confirm("您确定要【"+t+"】此策略吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.是否启用?n.enableStrategy([e.编号]):n.disableStrategy([e.编号])}).catch(function(){e.是否启用=!e.是否启用})},btnAddEdit:function(t,e,n){this.isAdd=e,this.title=t,this.isDialog=!0,this.item=n},closeDialog:function(t){this.isDialog=t},getMyEvent:function(t){this.onSearch(),this.isDialog=t}}},p=(n("Ko7a"),Object(u.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container page-common"},[n("h4",{staticClass:"page-title",attrs:{align:"center"}},[t._v("教学策略设置")]),t._v(" "),n("div",{staticClass:"filter-container"},[n("el-button",{staticClass:"filter-item",attrs:{type:"success"},on:{click:function(e){t.btnAddEdit("添加策略",!0,"")}}},[n("i",{staticClass:"iconfont icontianjia"}),t._v(" 添加策略\n    ")]),t._v(" "),n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入策略名称","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSearch(e):null}},model:{value:t.req.Like名称,callback:function(e){t.$set(t.req,"Like名称",e)},expression:"req.Like名称"}}),t._v(" "),n("div",{staticClass:"filter-item"},[t._v("\n      教学专业\n      "),n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.onSearch},model:{value:t.req.教学专业编号,callback:function(e){t.$set(t.req,"教学专业编号",e)},expression:"req.教学专业编号"}},[n("el-option",{attrs:{value:""}},[t._v("全部")]),t._v(" "),t._l(t.majors,function(e){return n("el-option",{key:e.编号,attrs:{label:e.名称+" - "+e.年份,value:e.编号}},[n("span",{staticStyle:{float:"left"}},[t._v(t._s(e.名称))]),t._v(" "),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.年份))])])})],2)],1),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("查询\n    ")])],1),t._v(" "),n("div",{staticClass:"content"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"tableone",attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":"",stripe:""}},[n("el-table-column",{attrs:{align:"center",label:"序号",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index+1))]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"策略名称",prop:"名称"}}),t._v(" "),n("el-table-column",{attrs:{label:"教学专业",align:"center",prop:"教学专业名称"}}),t._v(" "),n("el-table-column",{attrs:{label:"专业年份",align:"center",prop:"教学专业年份",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{label:"科室数量（个）",align:"center",prop:"教学本院科室数量",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{label:"培训总时长（周）",align:"center",prop:"培训总时长"}}),t._v(" "),n("el-table-column",{attrs:{label:"建立日期",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("dataFormat")(e.row.建立日期,"yyyy-MM-dd")))]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"状态",property:"是否启用",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{staticClass:"switch",staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用"},on:{change:function(n){t.switchChange(e.row)}},model:{value:e.row.是否启用,callback:function(n){t.$set(e.row,"是否启用",n)},expression:"scope.row.是否启用"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"success",plain:"",icon:"el-icon-edit"},on:{click:function(n){t.btnAddEdit("修改策略",!1,e.row)}}},[t._v("编辑\n          ")])]}}])})],1)],1),t._v(" "),t.isDialog?n("el-dialog",{attrs:{title:t.title,visible:t.isDialog,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(e){t.isDialog=e}}},[n("addOrEditStrategy",{ref:"child",attrs:{item:t.item,isAdd:t.isAdd,majors:t.majors},on:{myEvent:t.getMyEvent}})],1):t._e()],1)},[],!1,null,"034beab4",null));p.options.__file="index.vue";e.default=p.exports},Ko7a:function(t,e,n){"use strict";var i=n("yZJp");n.n(i).a},d5HK:function(t,e,n){"use strict";var i=n("1S3q");n.n(i).a},yZJp:function(t,e,n){}}]);