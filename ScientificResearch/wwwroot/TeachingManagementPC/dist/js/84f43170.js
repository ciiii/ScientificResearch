(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7923"],{"8Ehh":function(t,e,n){},eIUw:function(t,e,n){"use strict";n.r(e);var a=n("cLjf"),s=n.n(a),i=n("hDQ3"),r=n.n(i),o=n("YHGi"),c=n("K3Y6"),l={name:"addEditSignIn",components:{datePicker:n("od/H").a},data:function(){return{objItme:{"编号":0,"考勤日期":"","教学考勤类型编号":0,"说明":"","建立人":0,"建立时间":Object(c.h)(new Date,"yyyy-MM-dd"),"备注":""},form:{Id:"",List:[]},newItme:{},types:[],isLoad:!1,isDialog:!1}},mounted:function(){if(localStorage.getItem("userInfo")){var t=JSON.parse(localStorage.getItem("userInfo")).人员;this.form.建立人=t.编号}localStorage.getItem("item")&&(this.newItme=JSON.parse(sessionStorage.getItem("item"))),this.getType(),this.isLoad=!0},methods:{getType:function(){var t=r()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myGet(o.m.GET_SING_IN_TYPES,"");case 2:(e=t.sent)&&e.length>0?this.types=e:this.types=[];case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getStatesA:function(t){switch(t){case"未报到":return"state-warning";case"退培":return"state-error";case"已报到":return"state-success";case"轮转计划已安排":return"state-primary";case"在培":return"state-success";case"待结业":return"state-warning";case"结业":return"state-success"}},btnDel:function(){var t=this;if("未入科"!=this.obj.状态)return this.isError(this.obj.状态);this.$confirm("确认删除已选轮转吗?","提示",{type:"warning"}).then(function(){if(0==t.obj.编号)t.delItem();else{var e=[];e.push(t.obj.编号),t.delRotation(e)}})},btnAdd:function(){this.item=this.newItme.轮转信息[this.newItme.轮转信息.length-1],this.isDialog=!0},myEvent:function(t){this.newItme.轮转信息.push(t),this.isDialog=!1},confirmHandler:Object(c.a)(function(){var t=[];this.newItme.轮转信息.forEach(function(e){t.push(e)}),this.addEditRotation(t)},300),addEditRotation:function(){var t=r()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myPost(o.m.POST_ADD_OR_EDIT_ROTATION,e);case 2:this.$message.success("提交成功！"),this.$router.push({path:"/rotationList",query:{state:"轮转计划已安排"}});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),delRotation:function(){var t=r()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.myPost(o.m.POST_BATCH_DELETE_ROTATION,e);case 2:this.$message.success("提交成功！"),this.delItem();case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),delItem:function(){var t=this;this.newItme.轮转信息.splice(this.index,1),this.newItme.轮转信息.forEach(function(e,n){n>=t.index&&(e.计划入科日期=addDay(t.newItme.轮转信息[n-1].计划出科日期,1),e.计划出科日期=addDay(e.计划入科日期,e.day))})}}},u=(n("s52G"),n("ZrdR")),d=Object(u.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container page-common page-addStudent"},[n("div",{staticClass:"btn-back-box"},[n("el-button",{staticClass:"btn-back",attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.$router.go(-1)}}},[n("i",{staticClass:"iconfont iconfanhui"}),t._v(" 返回\n    ")])],1),t._v(" "),t.isLoad?n("div",{staticClass:"content"},[n("h5",{staticClass:"personal-title"},[t._v("学员考勤（"+t._s(t.newItme.学员信息.姓名)+"）")]),t._v(" "),n("h5",{staticClass:"title"},[t._v("学员信息")]),t._v(" "),n("table",{staticClass:"mailTable"},[n("tr",[n("th",[t._v("姓名")]),t._v(" "),n("td",[t._v(t._s(t.newItme.学员信息.姓名))]),t._v(" "),n("th",[t._v("工号")]),t._v(" "),n("td",[t._v(t._s(t.newItme.学员信息.工号))]),t._v(" "),n("th",[t._v("往届应届")]),t._v(" "),n("td",[t._v(t._s(t.newItme.学员信息.往届应届))]),t._v(" "),n("th",[t._v("培训年届(年限)")]),t._v(" "),n("td",[t._v(t._s(t.newItme.学员信息.学员培训年界)+"（ "+t._s(t.newItme.学员信息.学员培训年限)+" 年）")])]),t._v(" "),n("tr",[n("th",[t._v("学员类型名称")]),t._v(" "),n("td",[t._v(t._s(t.newItme.学员信息.学员类型名称))]),t._v(" "),n("th",[t._v("教学专业")]),t._v(" "),n("td",[t._v(t._s(t.newItme.学员信息.专业名称))]),t._v(" "),n("th",[t._v("教学本院策略")]),t._v(" "),n("td",[t._v(t._s(t.newItme.学员信息.教学本院策略名称))]),t._v(" "),n("th",[t._v("报到时间")]),t._v(" "),n("td",[t._v(t._s(t._f("dataFormat")(t.newItme.学员信息.报到时间,"yyyy-MM-dd")))])]),t._v(" "),n("tr",[n("th",[t._v("状态")]),t._v(" "),n("td",{class:t.getStatesA(t.newItme.学员信息.状态)},[t._v(t._s(t.newItme.学员信息.状态))]),t._v(" "),n("th",[t._v("当前轮转本院科室")]),t._v(" "),n("td",[t._v(t._s(t.newItme.学员信息.当前教学轮转本院科室名称))]),t._v(" "),n("th",[t._v("计划开始培训日期")]),t._v(" "),n("td",[t._v(t._s(t._f("dataFormat")(t.newItme.学员信息.计划开始培训日期,"yyyy-MM-dd")))]),t._v(" "),n("th",[t._v("计划结束培训日期")]),t._v(" "),n("td",[t._v(t._s(t._f("dataFormat")(t.newItme.学员信息.计划结束培训日期,"yyyy-MM-dd")))])])]),t._v(" "),n("h5",{staticClass:"title"},[t._v("学员考勤")]),t._v(" "),n("div",{staticClass:"filter-container"},[n("div",{staticClass:"filter-item"},[t._v("考勤时间：\n        "),n("datePicker",{attrs:{date:t.time,placeholder:t.placeholder,type:"daterange"},on:{myEvent:t.changeTime}})],1),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"small"},on:{click:t.onSearch}},[t._v("确定")]),t._v(" "),n("el-button",{staticClass:"filter-item",attrs:{type:"success",size:"small"},on:{click:t.onSearch}},[t._v("一键全勤")])],1),t._v(" "),n("div",{staticClass:"content"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"multipleTable",staticClass:"tableone",attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":"",stripe:""}},[n("el-table-column",{attrs:{align:"center",label:"序号",width:"90",prop:"number"}}),t._v(" "),n("el-table-column",{attrs:{label:"正常白班",prop:"正常白班"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-radio-group",{model:{value:e.row.正常白班,callback:function(n){t.$set(e.row,"正常白班",n)},expression:"scope.row.正常白班"}},[n("el-radio",{attrs:{label:"线上品牌商赞助"}}),t._v(" "),n("el-radio",{attrs:{label:"线下场地免费"}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"任务类型",prop:"任务类型名称"}}),t._v(" "),n("el-table-column",{attrs:{label:"是否医技",prop:"是否医技",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.是否医技?"是":"否")+"\n          ")]}}])})],1)],1)]):t._e(),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.$router.go(-1)}}},[t._v("返回")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.confirmHandler}},[t._v("提 交")])],1)])},[],!1,null,"06bf21c0",null);d.options.__file="todaySignIn.vue";e.default=d.exports},"od/H":function(t,e,n){"use strict";var a=n("K3Y6"),s={name:"UploadFile",props:["date","type","placeholder"],data:function(){return{time:[],pickerOptions:a.n}},mounted:function(){this.date?this.time=this.date:this.time=[]},methods:{changeTime:function(t){this.$emit("myEvent",t)}}},i=n("ZrdR"),r=Object(i.a)(s,function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-date-picker",{staticClass:"filter-item",attrs:{type:t.type,align:"right","unlink-panels":"","range-separator":"至","start-placeholder":t.placeholder.start,"end-placeholder":t.placeholder.end,"picker-options":t.pickerOptions},on:{change:t.changeTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})},[],!1,null,null,null);r.options.__file="datePicker.vue";e.a=r.exports},s52G:function(t,e,n){"use strict";var a=n("8Ehh");n.n(a).a}}]);