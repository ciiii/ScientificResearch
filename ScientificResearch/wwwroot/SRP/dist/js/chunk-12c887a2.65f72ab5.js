(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12c887a2"],{3878:function(o,t,e){},a21f:function(o,t,e){var n=e("584a"),a=n.JSON||(n.JSON={stringify:JSON.stringify});o.exports=function(o){return a.stringify.apply(a,arguments)}},ad4c:function(o,t,e){"use strict";var n=e("3878"),a=e.n(n);a.a},cf05:function(o,t,e){o.exports=e.p+"img/logo.f2242cca.png"},dd7b:function(o,t,e){"use strict";e.r(t);var n=function(){var o=this,t=o.$createElement,n=o._self._c||t;return n("section",[n("img",{staticClass:"img",attrs:{src:e("cf05"),alt:"logo"}}),n("form",{attrs:{action:"/",onsubmit:"return false"}},[n("div",{staticClass:"input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:o.DbKey,expression:"DbKey"}],attrs:{type:"text",placeholder:"医院"},domProps:{value:o.DbKey},on:{click:o.hospital,input:function(t){t.target.composing||(o.DbKey=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:o.工号,expression:"工号"}],attrs:{type:"text",placeholder:"工号"},domProps:{value:o.工号},on:{input:function(t){t.target.composing||(o.工号=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:o.密码,expression:"密码"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:o.密码},on:{input:function(t){t.target.composing||(o.密码=t.target.value)}}})]),n("div",{staticClass:"btn",on:{click:o.bind}},[n("span",[o._v("登 录")])])]),n("van-popup",{attrs:{position:"bottom",overlay:"","close-on-click-overlay":""},model:{value:o.show,callback:function(t){o.show=t},expression:"show"}},[n("van-picker",{attrs:{"show-toolbar":"",title:"医院列表",columns:o.columns},on:{cancel:o.onCancel,confirm:o.onConfirm}})],1)],1)},a=[],i=e("f499"),c=e.n(i),s=(e("3b2b"),e("a481"),{name:"login",data:function(){return{code:null,"工号":null,"密码":null,DbKey:null,columns:[],show:!1}},mounted:function(){},methods:{getUrlKey:function(o){return decodeURIComponent((new RegExp("[?|&]"+o+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},getCodeApi:function(o){var t=encodeURIComponent(window.location.href);console.log(t,"urlNowlogin");var e="snsapi_base",n="wx5e45aca8fcb270f1",a="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(n,"&redirect_uri=").concat(t,"&response_type=code&scope=").concat(e,"&state=").concat(o,"#wechat_redirect");console.log(a,"123"),window.location.replace(a)},bind:function(){this.code=this.getUrlKey("code"),this.code?this.$api.BindOpenId(this.code,this.工号,this.密码,this.DbKey).then(function(o){console.log(o.data,"res000"),o.data&&(localStorage.token=c()(o.data),console.log(localStorage.token,"localStorage.token")),window.location.replace("/#/index")}).catch(function(o){console.log(o)}):this.getCodeApi("123").then()},hospital:function(){var o=this;this.$api.getHospitalList().then(function(t){o.columns=t.data,o.show=!0}).catch(function(o){console.log(o)})},onConfirm:function(o,t){this.DbKey=o,this.show=!1},onCancel:function(){this.show=!1}}}),l=s,r=(e("ad4c"),e("2877")),u=Object(r["a"])(l,n,a,!1,null,"16430f24",null);u.options.__file="login.vue";t["default"]=u.exports},f499:function(o,t,e){o.exports=e("a21f")}}]);